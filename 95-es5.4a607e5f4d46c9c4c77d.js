function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{jD4G:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"filterArrayByString",value:function(t,e){var r=this;return""===e?t:(e=e.toLowerCase(),t.filter((function(t){return r.searchInObj(t,e)})))}},{key:"searchInObj",value:function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if("string"==typeof n){if(this.searchInString(n,e))return!0}else if(Array.isArray(n)&&this.searchInArray(n,e))return!0;if("object"==typeof n&&this.searchInObj(n,e))return!0}}},{key:"searchInArray",value:function(t,e){var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;if("string"==typeof c&&this.searchInString(c,e))return!0;if("object"==typeof c&&this.searchInObj(c,e))return!0}}catch(s){n=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"searchInString",value:function(t,e){return t.toLowerCase().includes(e)}},{key:"generateGUID",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()}},{key:"toggleInArray",value:function(t,e){-1===e.indexOf(t)?e.push(t):e.splice(e.indexOf(t),1)}},{key:"handleize",value:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}]),t}()},ul6U:function(t,e,r){"use strict";r.r(e);var n,o=r("tyNb"),i=r("STbY"),a=r("/1cH"),c=r("iadO"),s=r("bTqV"),l=r("7EHt"),p=r("kmnG"),b=r("NFeN"),h=r("Qu3c"),u=r("qFsG"),d=r("wZkO"),f=r("d3UM"),m=r("QibW"),g=r("0IaG"),v=r("/t3+"),x=r("bSwM"),w=r("M9IT"),y=r("xHqg"),k=r("A5z7"),_=r("vxfF"),S=r("cfqv"),C=r("cWTo"),M=r("LPQX"),X=r("FKr1"),W=r("MutI"),P=r("bv9b"),O=r("XhcP"),L=r("212X"),D=r("5HBU"),A=r("0Zc1"),F=r("2Vo4"),I=r("XNiG"),j=r("jD4G"),N=r("tk/3"),T=r("fXoL"),z=r("qXBG"),B=r("0JVi"),R=((n=function(){function t(e,r,n){_classCallCheck(this,t),this._httpClient=e,this.authService=r,this._fuseConfigService=n,this.profit=[],this.fullScreen=!1,this.defaultSearch={formSearch:{partner:null,owner:null,complete:"All"}},this.total={revenue:0,cost:0,correct:0,otherIn:0,otherOut:0},this.totalCompleteMonth={},this.arrCompleteMonth=[],this.totalPersonMonth={},this.arrPersonMonth=[],this.ctrlProfitMonth={month:[],person:{}},this.onProfitChanged=new F.a([]),this.onDataChanged=new F.a({}),this.onCompleteChanged=new F.a([]),this.onPersonChanged=new F.a([]),this.onSearchTextChanged=new I.a,this.onFilterChanged=new I.a}return _createClass(t,[{key:"resolve",value:function(t){var e=this;return this.authService.routerData=t,this.authService.back&&(this.authService.back=!1),(!this.currenSearch||this.currenSearch&&!this.currenSearch.formSearch)&&(this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch))),new Promise((function(t,r){Promise.all([e.getFilterShipment(e.currenSearch.formSearch),e.getData()]).then((function(){e.onSearchTextChanged.subscribe((function(t){e.searchText=t;var r=JSON.parse(JSON.stringify(e.shipment));e.searchText&&""!==e.searchText&&(r=j.a.filterArrayByString(r,e.searchText)),e.buildDataBoardOverview(r)})),t()}),r)}))}},{key:"getProfit",value:function(){var t=this,e={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(r,n){t._httpClient.get(t.authService.apiUrl+"/dnl-cms/profit",e).subscribe((function(e){t.profit=e,t.searchText?t.getFilterProfit():(t.filterProfit=JSON.parse(JSON.stringify(e)),t.onProfitChanged.next(t.filterProfit)),r(t.filterProfit)}),n)}))}},{key:"getFilterProfit",value:function(){var t=this,e=JSON.parse(JSON.stringify(this.profit));switch(this.filterBy){case"all":break;case"valid":e=e.filter((function(t){return 1==t.status}));break;case"invalid":e=e.filter((function(t){return 0==t.status}));break;default:this.filterBy&&(e=e.filter((function(e){return e.scope.includes(t.filterBy)})))}"valid"===this.filterBy&&(e=e.filter((function(t){return 1==t.status}))),"invalid"===this.filterBy&&(e=e.filter((function(t){return 0==t.status}))),this.searchText&&""!==this.searchText&&(e=j.a.filterArrayByString(e,this.searchText)),this.filterProfit=e,this.onProfitChanged.next(e)}},{key:"getFilterShipment",value:function(t){var e=this,r={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){e._httpClient.post(e.authService.apiUrl+"/dnl/shipment/filter2",t,r).subscribe((function(t){e.shipment=t;var r=JSON.parse(JSON.stringify(e.shipment));e.searchText&&""!==e.searchText&&(r=j.a.filterArrayByString(r,e.searchText)),e.buildDataBoardOverview(r),n(t)}),o)}))}},{key:"getData",value:function(){var t=this,e={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(r,n){t._httpClient.get(t.authService.apiUrl+"/dnl-new/dnl-shipment/data",e).subscribe((function(e){t.truckPoint=e[1],t.user=e[2],t.price=e[3],t.currency=e[4],t.country=e[5],t.unit=e[7],t.agent=e[8],t.partner=e[9],t.onDataChanged.next(e),r(e)}),n)}))}},{key:"buildDataBoardOverview",value:function(t){var e=this;function r(e,r){return t={name:parseInt(e)+1+"-"+r,month:parseInt(e)+1,year:r,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0}}var n=t;this.totalCompleteMonth={},this.totalCompleteMonth.none={name:"None",month:0,year:0,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0},this.arrCompleteMonth=[],this.arrCompleteMonth[0]="none",this.totalPersonMonth={},this.ctrlProfitMonth={month:[],person:{}},n.map((function(t){var n=e.checkStepShipment(t);t.step=n[0],t.arrStep=n[1],t.profit={revenue:0,cost:0,correct:0,otherIn:0,otherOut:0};var o="0",i=0;if(t.complete_date?(o=new Date(t.complete_date).getMonth().toString(),parseInt(o)<10&&(o="0"+o),i=new Date(t.complete_date).getFullYear(),e.totalCompleteMonth[i+"-"+o]||(e.totalCompleteMonth[i+"-"+o]=r(o,i),e.arrCompleteMonth.push(i+"-"+o)),e.totalCompleteMonth[i+"-"+o].count_shipment++,e.totalCompleteMonth[i+"-"+o].data.push(t),e.ctrlProfitMonth.month.includes(i+"-"+o)||e.ctrlProfitMonth.month.push(i+"-"+o),e.ctrlProfitMonth.person[i+"-"+o]||(e.ctrlProfitMonth.person[i+"-"+o]=[]),e.ctrlProfitMonth.person[i+"-"+o].includes(t.owner_name)||e.ctrlProfitMonth.person[i+"-"+o].push(t.owner_name),e.totalPersonMonth[i+"-"+o]||(e.totalPersonMonth[i+"-"+o]={}),e.totalPersonMonth[i+"-"+o][t.owner_name]||(e.totalPersonMonth[i+"-"+o][t.owner_name]=r(o,i)),e.totalPersonMonth[i+"-"+o][t.owner_name].count_shipment++):(e.totalCompleteMonth.none.count_shipment++,e.totalCompleteMonth.none.data.push(t),e.ctrlProfitMonth.month.includes("none")||e.ctrlProfitMonth.month.push("none"),e.ctrlProfitMonth.person.none||(e.ctrlProfitMonth.person.none=[]),e.ctrlProfitMonth.person.none.includes(t.owner_name)||e.ctrlProfitMonth.person.none.push(t.owner_name),e.totalPersonMonth.none||(e.totalPersonMonth.none={}),e.totalPersonMonth.none[t.owner_name]||(e.totalPersonMonth.none[t.owner_name]={name:"None",month:0,year:0,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0}),e.totalPersonMonth.none[t.owner_name].count_shipment++),t.revenue.map((function(r){t.profit.revenue+=r.total_vnd,t.complete_date?(e.totalCompleteMonth[i+"-"+o].revenue+=r.total_vnd,e.totalPersonMonth[i+"-"+o][t.owner_name].revenue+=r.total_vnd):(e.totalCompleteMonth.none.revenue+=r.total_vnd,e.totalPersonMonth.none[t.owner_name].revenue+=r.total_vnd)})),t.cost.map((function(r){t.profit.cost+=r.total_vnd,t.complete_date?(e.totalCompleteMonth[i+"-"+o].cost+=r.total_vnd,e.totalPersonMonth[i+"-"+o][t.owner_name].cost+=r.total_vnd):(e.totalCompleteMonth.none.cost+=r.total_vnd,e.totalPersonMonth.none[t.owner_name].cost+=r.total_vnd)})),t.correct.map((function(r){t.profit.correct+=r.total_vnd,e.total.correct+=r.total_vnd,t.complete_date?(e.totalCompleteMonth[i+"-"+o].correct+=r.total_vnd,e.totalPersonMonth[i+"-"+o][t.owner_name].correct+=r.total_vnd):(e.totalCompleteMonth.none.cost+=r.total_vnd,e.totalPersonMonth.none[t.owner_name].correct+=r.total_vnd)})),t.otherIn.map((function(r){t.profit.otherIn+=r.total_vnd,t.complete_date?(e.totalCompleteMonth[i+"-"+o].otherIn+=r.total_vnd,e.totalPersonMonth[i+"-"+o][t.owner_name].otherIn+=r.total_vnd):(e.totalCompleteMonth.none.otherIn+=r.total_vnd,e.totalPersonMonth.none[t.owner_name].otherIn+=r.total_vnd)})),t.otherOut.map((function(r){t.profit.otherOut+=r.total_vnd,t.complete_date?(e.totalCompleteMonth[i+"-"+o].otherOut+=r.total_vnd,e.totalPersonMonth[i+"-"+o][t.owner_name].otherOut+=r.total_vnd):(e.totalCompleteMonth.none.otherOut+=r.total_vnd,e.totalPersonMonth.none[t.owner_name].otherOut+=r.total_vnd)})),t.complete_date){var a=e.totalCompleteMonth[i+"-"+o];a.total=a.revenue-a.cost,a.total_correct=a.revenue-a.cost-a.correct;var c=e.totalPersonMonth[i+"-"+o][t.owner_name];c.total=c.revenue-c.cost,c.total_correct=c.revenue-c.cost-c.correct}else{var s=e.totalCompleteMonth.none;s.total=s.revenue-s.cost,s.total_correct=s.revenue-s.cost-s.correct;var l=e.totalPersonMonth.none[t.owner_name];l.total=l.revenue-l.cost,l.total_correct=l.revenue-l.cost-l.correct}})),this.arrCompleteMonth.sort((function(t,e){return t<e?1:e<t?-1:0})),this.ctrlProfitMonth.month.sort((function(t,e){return t<e?1:e<t?-1:0})),this.ctrlProfitMonth.month.map((function(t){e.ctrlProfitMonth.person[t].sort((function(t,e){return t>e?1:e>t?-1:0}))})),this.onCompleteChanged.next([this.totalCompleteMonth,this.arrCompleteMonth]),this.onPersonChanged.next([this.totalPersonMonth,this.ctrlProfitMonth])}},{key:"checkStepShipment",value:function(t){var e=[!1,!1,!1,!1,!1,!1],r=1;t.pick_date&&(r=2,e[0]=!0),t.deliver_date&&(e[1]=!0),t.pick_date&&t.deliver_date&&(r=3);var n={revenue:!0,otherIn:!0,cost:!0,otherOut:!0},o={revenue:!0,otherIn:!0,cost:!0,otherOut:!0},i=0;if(0==t.revenue.length)n.revenue=!1,o.revenue=!1;else for(;i<t.revenue.length&&n.revenue;)t.revenue[i].pay_date||(n.revenue=!1),t.revenue[i].bank||(o.revenue=!1),i++;if(i=0,0==t.cost.length)n.cost=!1,o.cost=!1;else for(;i<t.cost.length&&n.cost;)t.cost[i].pay_date||(n.cost=!1),t.cost[i].bank||(o.cost=!1),i++;for(i=0;i<t.otherIn.length&&n.otherIn;)t.otherIn[i].pay_date||(n.otherIn=!1),i++;for(i=0;i<t.otherOut.length&&n.otherOut;)t.otherOut[i].pay_date||(n.otherOut=!1),i++;return 3==r&&n.revenue&&n.cost&&n.otherIn&&n.otherOut&&(r=4),4==r&&o.revenue&&o.cost&&(r=5),n.revenue&&n.otherIn&&(e[2]=!0),o.revenue&&o.otherIn&&(e[3]=!0),n.cost&&n.otherOut&&(e[4]=!0),o.cost&&o.otherOut&&(e[5]=!0),[r,e]}},{key:"changeScreen",value:function(t){this.fullScreen=t,this._fuseConfigService.config=t?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}},{key:"getCurrenSearchServe",value:function(){var t=this.currenSearch?this.currenSearch.formSearch:{},e={partner:null,owner:null,date_from:null,date_to:null};if(t.partner&&(e.partner=t.partner),t.owner&&(e.owner=t.owner),t.date_from){var r=t.date_from.split("-");e.date_from=new Date(r[0],r[1]-1,r[2])}if(t.date_to){var n=t.date_to.split("-");e.date_to=new Date(n[0],n[1]-1,n[2])}return e}}]),t}()).\u0275fac=function(t){return new(t||n)(T.bc(N.a),T.bc(z.a),T.bc(B.b))},n.\u0275prov=T.Nb({token:n,factory:n.\u0275fac}),n),J=r("yrbL"),H=r("HX77"),q=r("ofXK"),V=r("B9zo"),G=r("EwFO"),$=r("pLZG"),U=r("XiUz"),E=r("znSr"),Y=r("1G5W"),Q=r("3Pt+"),K=r("Kj3r"),Z=r("/uUt");function tt(t,e){if(1&t){var r=T.Yb();T.Xb(0,"button",7),T.fc("click",(function(t){return T.Bc(r),T.jc().expand()})),T.Xb(1,"mat-icon",8),T.Lc(2,"search"),T.Wb(),T.Wb()}if(2&t){var n=T.jc();T.Db(1),T.pc("color",n.searchText&&""!==n.searchText?"accent":"")}}var et,rt=function(t){return{expanded:t}},nt=((et=function(){function t(e){_classCallCheck(this,t),this._fuseConfigService=e,this.inputValue=new T.o,this.collapsed=!0,this.searchInput=new Q.e(""),this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._fuseConfigService.config.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.fuseConfig=e})),this.searchInput.valueChanges.pipe(Object(Y.a)(this._unsubscribeAll),Object(K.a)(300),Object(Z.a)()).subscribe((function(e){t.searchText=e,t.inputValue.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"collapse",value:function(){this.collapsed=!0}},{key:"expand",value:function(){this.collapsed=!1}}]),t}()).\u0275fac=function(t){return new(t||et)(T.Rb(B.b))},et.\u0275cmp=T.Lb({type:et,selectors:[["profit-search-bar"]],inputs:{searchText:"searchText"},outputs:{inputValue:"inputValue"},decls:8,vars:5,consts:[[1,"profit-search-bar",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"profit-search-bar-content"],["for","profit-search-bar-input"],["mat-icon-button","","class","profit-search-bar-expander","aria-label","Expand Search Bar",3,"click",4,"ngIf"],["id","profit-search-bar-input","type","text","placeholder","Search","fxFlex","",1,"ml-24",3,"formControl"],["mat-icon-button","","aria-label","Collapse Search Bar",1,"profit-search-bar-collapser",3,"click"],[1,"s-24","secondary-text"],["mat-icon-button","","aria-label","Expand Search Bar",1,"profit-search-bar-expander",3,"click"],[1,"s-24","secondary-text",3,"color"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Xb(2,"label",2),T.Jc(3,tt,3,1,"button",3),T.Wb(),T.Sb(4,"input",4),T.Xb(5,"button",5),T.fc("click",(function(t){return e.collapse()})),T.Xb(6,"mat-icon",6),T.Lc(7,"close"),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.pc("ngClass",T.rc(3,rt,!e.collapsed)),T.Db(3),T.pc("ngIf",e.collapsed),T.Db(1),T.pc("formControl",e.searchInput))},directives:[q.q,E.a,U.d,U.c,q.t,Q.b,U.b,Q.p,Q.f,s.b,b.a],styles:["[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;min-width:64px;height:64px;font-size:13px}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]{height:56px}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-expander[_ngcontent-%COMP%]{cursor:pointer;padding:0 20px;margin:0;width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-expander[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-loader[_ngcontent-%COMP%]{width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-loader[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   #profit-search-bar-input[_ngcontent-%COMP%]{display:none;-webkit-box-flex:1;flex:1 0 auto;min-height:64px;font-size:16px;background-color:transparent;color:currentColor}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;background:#f5f5f5}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   #profit-search-bar-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%]{display:block}"]}),et);function ot(t,e){if(1&t){var r=T.Yb();T.Xb(0,"button",14),T.fc("click",(function(t){T.Bc(r);var e=T.jc();return t.stopPropagation(),e.changeScreen(!0)})),T.Xb(1,"mat-icon"),T.Lc(2,"flip_to_front"),T.Wb(),T.Wb()}}function it(t,e){if(1&t){var r=T.Yb();T.Xb(0,"button",14),T.fc("click",(function(t){T.Bc(r);var e=T.jc();return t.stopPropagation(),e.changeScreen(!1)})),T.Xb(1,"mat-icon"),T.Lc(2,"flip_to_back"),T.Wb(),T.Wb()}}var at,ct=function(t){return{"accent-600-fg":t}},st=((at=function(){function t(e,r,n,o,i){_classCallCheck(this,t),this.authService=e,this.profitService=r,this._fuseConfigService=n,this.router=o,this.route=i,this.url="complete",this.fullScreen=!1,this.toggleSidebar=new T.o,this.showHideBar=new T.o,this.refreshPage=new T.o,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.profitService.searchText&&(this.searchText=this.profitService.searchText),this.router.events.pipe(Object($.a)((function(t){return t instanceof o.c}))).subscribe((function(e){var r=e.url.split("/");t.url=r[5]}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(t){this.fullScreen=t,this.authService.changeScreen.next(t),this.profitService.changeScreen(t)}},{key:"searchFilter",value:function(t){this.profitService.onSearchTextChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||at)(T.Rb(z.a),T.Rb(R),T.Rb(B.b),T.Rb(o.g),T.Rb(o.a))},at.\u0275cmp=T.Lb({type:at,selectors:[["profit-header"]],inputs:{sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:33,vars:24,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-8",3,"click"],["mat-icon-button","",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm","",3,"ngClass"],["fxShow","","fxHide.gt-sm","",3,"ngClass"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(t,e){1&t&&(T.Xb(0,"mat-toolbar",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"button",4),T.fc("click",(function(t){return e.toggleSidebar.emit(e.sidebarName)})),T.Xb(5,"mat-icon"),T.Lc(6,"menu"),T.Wb(),T.Wb(),T.Xb(7,"button",5),T.fc("click",(function(t){return e.showHideBar.emit()})),T.Xb(8,"mat-icon"),T.Lc(9,"menu"),T.Wb(),T.Wb(),T.Wb(),T.Xb(10,"button",6),T.Xb(11,"span",7),T.Lc(12,"Overview"),T.Wb(),T.Xb(13,"mat-icon",8),T.Lc(14,"equalizer"),T.Wb(),T.Wb(),T.Xb(15,"button",6),T.Xb(16,"span",7),T.Lc(17,"Status"),T.Wb(),T.Xb(18,"mat-icon",8),T.Lc(19,"view_carousel"),T.Wb(),T.Wb(),T.Xb(20,"button",6),T.Xb(21,"span",7),T.Lc(22,"Person"),T.Wb(),T.Xb(23,"mat-icon",8),T.Lc(24,"equalizer"),T.Wb(),T.Wb(),T.Wb(),T.Xb(25,"div",9),T.Sb(26,"div",10),T.Xb(27,"profit-search-bar",11),T.fc("inputValue",(function(t){return e.searchFilter(t)})),T.Wb(),T.Sb(28,"div",10),T.Jc(29,ot,3,0,"button",12),T.Jc(30,it,3,0,"button",12),T.Sb(31,"div",13),T.Sb(32,"div",13),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(10),T.pc("routerLink","/apps/workflow/profit/report/complete"),T.Db(1),T.pc("ngClass",T.rc(12,ct,"complete"==e.url)),T.Db(2),T.pc("ngClass",T.rc(14,ct,"complete"==e.url)),T.Db(2),T.pc("routerLink","/apps/workflow/profit/report/status"),T.Db(1),T.pc("ngClass",T.rc(16,ct,"status"==e.url)),T.Db(2),T.pc("ngClass",T.rc(18,ct,"status"==e.url)),T.Db(2),T.pc("routerLink","/apps/workflow/profit/report/person"),T.Db(1),T.pc("ngClass",T.rc(20,ct,"person"==e.url)),T.Db(2),T.pc("ngClass",T.rc(22,ct,"person"==e.url)),T.Db(4),T.pc("searchText",e.searchText),T.Db(2),T.pc("ngIf",!e.fullScreen),T.Db(1),T.pc("ngIf",e.fullScreen))},directives:[v.a,U.b,U.e,U.d,U.c,s.b,E.b,b.a,o.h,q.q,E.a,nt,q.t],styles:["profit-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}profit-header.below{z-index:2}profit-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}profit-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}profit-header .logo .logo-icon{width:38px}profit-header .chat-panel-toggle-button,profit-header .language-button,profit-header .quick-panel-toggle-button,profit-header .user-button,profit-header fuse-search-bar{width:80px;height:64px}@media screen and (max-width:599px){profit-header .chat-panel-toggle-button,profit-header .language-button,profit-header .quick-panel-toggle-button,profit-header .user-button,profit-header fuse-search-bar{width:40px;height:56px}}profit-header .navbar-toggle-button{min-width:56px;height:56px}profit-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){profit-header .toolbar-separator{height:56px}}"],encapsulation:2}),at),lt=r("fE3o"),pt=r("JX91"),bt=r("lJxs"),ht=["formDirective"];function ut(t,e){if(1&t&&(T.Xb(0,"mat-option",22),T.Lc(1),T.Wb()),2&t){var r=e.$implicit;T.pc("value",r.id),T.Db(1),T.Nc(" ",r.short_name," ")}}function dt(t,e){if(1&t&&(T.Xb(0,"mat-option",22),T.Lc(1),T.Wb()),2&t){var r=e.$implicit;T.pc("value",r.id),T.Db(1),T.Mc(r.name)}}var ft,mt=((ft=function(){function t(e,r,n,o,i){_classCallCheck(this,t),this.profitService=e,this.formBuilder=r,this.authService=n,this.commonService=o,this.datePipe=i,this.fitlerShipment=new T.o,this.height=560,this.year=(new Date).getFullYear(),this.monthList=[],this.monthView={},this.form=this.formBuilder.group({partner:[null],owner:[null],complete:[null]}),this.searchChange=!0,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form.patchValue(this.profitService.getCurrenSearchServe()),this.authService.windowSizeChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-12})),this.authService.changeScreen.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-12:t.authService.screenHeight-64-64-12})),this.filteredPartner=this.form.controls.partner.valueChanges.pipe(Object(pt.a)(""),Object(bt.a)((function(t){return t?"string"==typeof t?t:t.partner_name:null})),Object(bt.a)((function(e){return e?t.commonService.filterData(e,"short_name",t.partner):[]})))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"clearForm",value:function(){this.searchNgForm.resetForm()}},{key:"onSearchFormSubmit",value:function(t){this.fitlerShipment.emit({partner:"string"==typeof t.partner?null:t.partner,owner:t.owner,complete:t.complete})}}]),t}()).\u0275fac=function(t){return new(t||ft)(T.Rb(R),T.Rb(Q.d),T.Rb(z.a),T.Rb(A.a),T.Rb(q.f))},ft.\u0275cmp=T.Lb({type:ft,selectors:[["profit-sidebar"]],viewQuery:function(t,e){var r;1&t&&T.Sc(ht,!0),2&t&&T.wc(r=T.gc())&&(e.searchNgForm=r.first)},inputs:{partner:"partner",user:"user"},outputs:{fitlerShipment:"fitlerShipment"},decls:35,vars:9,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2","pb-4"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","partner","matInput","","formControlName","partner",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["formControlName","owner"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","complete"],["value","All",1,"mb-12"],["value","None",1,"mb-12"],[3,"value"]],template:function(t,e){if(1&t&&(T.Xb(0,"form",0,1),T.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onSearchFormSubmit(e.form.value)})),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"button",4),T.Lc(5," Submit "),T.Wb(),T.Xb(6,"button",5),T.fc("click",(function(t){return e.clearForm()})),T.Lc(7," Clear "),T.Wb(),T.Wb(),T.Wb(),T.Xb(8,"div",6),T.Xb(9,"div",7),T.Xb(10,"div",8),T.Xb(11,"div",9),T.Xb(12,"div",10),T.Xb(13,"mat-form-field",11),T.Xb(14,"mat-label"),T.Lc(15,"Partner"),T.Wb(),T.Sb(16,"input",12),T.Xb(17,"mat-autocomplete",13,14),T.Jc(19,ut,2,2,"mat-option",15),T.kc(20,"async"),T.Wb(),T.Wb(),T.Wb(),T.Xb(21,"div",16),T.Xb(22,"mat-form-field",11),T.Xb(23,"mat-label"),T.Lc(24,"Owner"),T.Wb(),T.Xb(25,"mat-select",17),T.Jc(26,dt,2,2,"mat-option",15),T.Wb(),T.Wb(),T.Wb(),T.Xb(27,"div",18),T.Xb(28,"h2"),T.Lc(29,"Complete date"),T.Wb(),T.Xb(30,"mat-radio-group",19),T.Xb(31,"mat-radio-button",20),T.Lc(32,"All"),T.Wb(),T.Xb(33,"mat-radio-button",21),T.Lc(34,"None"),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&t){var r=T.xc(18);T.pc("formGroup",e.form),T.Db(8),T.Ic("height",e.height,"px"),T.Db(8),T.pc("matAutocomplete",r),T.Db(1),T.pc("displayWith",e.commonService.displayFn.bind(e,"short_name",e.partner)),T.Db(2),T.pc("ngForOf",T.lc(20,7,e.filteredPartner)),T.Db(7),T.pc("ngForOf",e.user)}},directives:[Q.A,Q.q,Q.h,U.d,U.c,s.b,U.b,G.a,p.c,p.f,u.b,Q.b,a.c,Q.p,Q.g,a.a,q.s,f.a,m.b,m.a,X.n],pipes:[q.b],styles:["profit-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}profit-sidebar .navbar-scroll-container{background:#fff!important}profit-sidebar .navbar-scroll-container .navbar-content{padding-top:0}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),ft);function gt(t,e){1&t&&(T.Xb(0,"div",7),T.Xb(1,"div",8),T.Xb(2,"div",9),T.Sb(3,"div",10),T.Xb(4,"div",11),T.Sb(5,"div",12),T.Wb(),T.Xb(6,"div",13),T.Sb(7,"div",12),T.Wb(),T.Wb(),T.Wb(),T.Wb())}function vt(t,e){if(1&t){var r=T.Yb();T.Xb(0,"fuse-sidebar",14),T.Xb(1,"div",15),T.Xb(2,"profit-sidebar",16),T.fc("fitlerShipment",(function(t){return T.Bc(r),T.jc().getFilterShipment(t)})),T.Wb(),T.Wb(),T.Wb()}if(2&t){var n=T.jc();T.Db(2),T.pc("partner",n.partner)("user",n.user)}}function xt(t,e){1&t&&T.Sb(0,"router-outlet")}var wt,yt=((wt=function(){function t(e,r,n){_classCallCheck(this,t),this._fuseSidebarService=e,this.profitService=r,this.authService=n,this.sidebarPanel=!0,this.requestProcessing=!1,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.profitService.onDataChanged.pipe(Object(J.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.user=e[2],t.partner=e[9]}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}},{key:"showHideBar",value:function(t){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(t){this.authService.refreshData(this.profitService)}},{key:"getFilterShipment",value:function(t){var e=this;this.requestProcessing=!0,this.profitService.getFilterShipment(t).then((function(r){e.profitService.currenSearch.formSearch=t,e.requestProcessing=!1,console.log(r)})).catch((function(t){e.requestProcessing=!1,console.error(t),alert("Submit fail")}))}}]),t}()).\u0275fac=function(t){return new(t||wt)(T.Rb(H.a),T.Rb(R),T.Rb(z.a))},wt.\u0275cmp=T.Lb({type:wt,selectors:[["profit"]],decls:7,vars:4,consts:[["class","spinner-wrapper",4,"ngIf"],[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","profit-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content","p-8"],[4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"inner"],[1,"gap"],[1,"left"],[1,"half-circle"],[1,"right"],["name","profit-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"partner","user","fitlerShipment"]],template:function(t,e){1&t&&(T.Jc(0,gt,8,0,"div",0),T.Xb(1,"div",1),T.Jc(2,vt,3,2,"fuse-sidebar",2),T.Xb(3,"div",3),T.Xb(4,"profit-header",4),T.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),T.Wb(),T.Xb(5,"div",5),T.Jc(6,xt,1,0,"router-outlet",6),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.pc("ngIf",e.requestProcessing),T.Db(2),T.pc("ngIf",e.sidebarPanel),T.Db(2),T.pc("sidebarName","profit-sidebar"),T.Db(2),T.pc("ngIf",!0))},directives:[q.t,V.a,G.a,st,lt.a,mt,o.l],styles:[""]}),wt);function kt(t,e){if(1&t&&(T.Xb(0,"span",12),T.Lc(1),T.Wb()),2&t){var r=T.jc().$implicit,n=T.jc();T.Db(1),T.Oc("",n.totalMonth[r].month,"/",n.totalMonth[r].year,"")}}function _t(t,e){1&t&&(T.Xb(0,"span",12),T.Lc(1,"None"),T.Wb())}function St(t,e){if(1&t){var r=T.Yb();T.Xb(0,"tr"),T.Xb(1,"td",8),T.fc("click",(function(t){T.Bc(r);var n=e.$implicit,o=T.jc();return t.stopPropagation(),o.filterMonth.emit(n)})),T.Jc(2,kt,2,2,"span",9),T.Jc(3,_t,2,0,"span",9),T.Wb(),T.Xb(4,"td",5),T.Lc(5),T.Wb(),T.Xb(6,"td",10),T.Lc(7),T.kc(8,"number"),T.Wb(),T.Xb(9,"td",10),T.Lc(10),T.kc(11,"number"),T.Wb(),T.Xb(12,"td",11),T.Lc(13),T.kc(14,"number"),T.Wb(),T.Xb(15,"td",10),T.Lc(16),T.kc(17,"number"),T.Wb(),T.Xb(18,"td",11),T.Lc(19),T.kc(20,"number"),T.Wb(),T.Xb(21,"td",10),T.Lc(22),T.kc(23,"number"),T.Wb(),T.Xb(24,"td",10),T.Lc(25),T.kc(26,"number"),T.Wb(),T.Wb()}if(2&t){var n=e.$implicit,o=T.jc();T.Db(2),T.pc("ngIf",o.totalMonth[n].month>0),T.Db(1),T.pc("ngIf",0==o.totalMonth[n].month),T.Db(2),T.Mc(o.totalMonth[n].count_shipment),T.Db(2),T.Mc(T.mc(8,10,o.totalMonth[n].revenue,"1.2-2")),T.Db(3),T.Mc(T.mc(11,13,o.totalMonth[n].cost,"1.2-2")),T.Db(3),T.Mc(T.mc(14,16,o.totalMonth[n].revenue-o.totalMonth[n].cost,"1.2-2")),T.Db(3),T.Mc(T.mc(17,19,o.totalMonth[n].correct,"1.2-2")),T.Db(3),T.Mc(T.mc(20,22,o.totalMonth[n].revenue-o.totalMonth[n].cost-o.totalMonth[n].correct,"1.2-2")),T.Db(3),T.Mc(T.mc(23,25,o.totalMonth[n].otherIn,"1.2-2")),T.Db(3),T.Mc(T.mc(26,28,o.totalMonth[n].otherOut,"1.2-2"))}}var Ct,Mt=((Ct=function(){function t(e,r,n){_classCallCheck(this,t),this.authService=e,this.profitService=r,this.commonService=n,this.firstLoad=!0,this.height=560,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.width<600?e.height-16:e.height-64-64-16})),this.authService.changeScreen.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){var r=e?64:0;t.height=t.authService.screenWidth<600?t.authService.screenHeight-16+r:t.authService.screenHeight-64-64-16+r})),this.profitService.onCompleteChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.totalMonth=t.profitService.totalCompleteMonth,t.arrMonth=t.profitService.arrCompleteMonth}))}},{key:"ngOnChanges",value:function(t){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||Ct)(T.Rb(z.a),T.Rb(R),T.Rb(A.a))},Ct.\u0275cmp=T.Lb({type:Ct,selectors:[["profit-complete"]],features:[T.Bb()],decls:26,vars:3,consts:[["fxLayout","column","id","profit-complete",1,"w-100-p"],["fusePerfectScrollbar",""],[1,"viewer-body"],[1,"simple","total-table"],[1,""],[1,"text-center"],["fxHide","","fxShow.gt-sm","",1,"text-right"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click"],["class","accent p-4",4,"ngIf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],[1,"text-right","mr-8"],[1,"accent","p-4"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"table",3),T.Xb(4,"thead"),T.Xb(5,"tr"),T.Xb(6,"th",4),T.Lc(7,"Time"),T.Wb(),T.Xb(8,"th",5),T.Lc(9,"Shipment"),T.Wb(),T.Xb(10,"th",6),T.Lc(11,"Revenue"),T.Wb(),T.Xb(12,"th",6),T.Lc(13,"Cost"),T.Wb(),T.Xb(14,"th",5),T.Lc(15,"Net Revenue"),T.Wb(),T.Xb(16,"th",6),T.Lc(17,"Correct"),T.Wb(),T.Xb(18,"th",5),T.Lc(19,"Net Revenue after correct"),T.Wb(),T.Xb(20,"th",6),T.Lc(21,"Other in"),T.Wb(),T.Xb(22,"th",6),T.Lc(23,"Other out"),T.Wb(),T.Wb(),T.Wb(),T.Xb(24,"tbody"),T.Jc(25,St,27,31,"tr",7),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(1),T.Ic("height",e.height,"px"),T.Db(24),T.pc("ngForOf",e.arrMonth))},directives:[U.d,G.a,E.b,q.s,q.t],pipes:[q.g],styles:["#profit-complete .viewer-body{width:100%;height:100%;overflow:auto!important}#profit-complete .viewer-body .total-table{overflow:auto}#profit-complete .viewer-body .total-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}#profit-complete .viewer-body .total-table .sticky-col{width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}"],encapsulation:2}),Ct),Xt=r("PVWW");function Wt(t,e){if(1&t&&T.Sb(0,"span",17),2&t){var r=e.$implicit,n=e.index,o=T.jc();T.pc("ngClass",o.shipment.arrStep[n]?r.color:"")("matTooltip",o.shipment.arrStep[n]?r.name:null)}}var Pt,Ot=function(t,e){return{"red-A700-fg":t,"blue-A700-fg":e}},Lt=((Pt=function(){function t(e,r){_classCallCheck(this,t),this._activatedRoute=e,this.router=r,this.labels=[{id:1,name:"Pick up",color:"primary-500"},{id:2,name:"Deliver",color:"blue-400"},{id:3,name:"Revenue received",color:"yellow-500"},{id:4,name:"Revenue with bank",color:"deep-purple-500"},{id:5,name:"Cost paid",color:"red-500"},{id:6,name:"Cost with bank",color:"green-500"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"goDetails",value:function(t){this.router.navigate(["/apps/workflow/shipment/detail/"+t+"/soa"])}},{key:"goFilterBoard",value:function(t,e){this.router.navigate(["apps/dnl/shipment-profit/boards/total-filter/"+t+"/"+e])}}]),t}()).\u0275fac=function(t){return new(t||Pt)(T.Rb(o.a),T.Rb(o.g))},Pt.\u0275cmp=T.Lb({type:Pt,selectors:[["profit-status-card"]],inputs:{shipment:"shipment",i:"i"},decls:32,vars:28,consts:[[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-name"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-badges"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"badge","due-date","mr-8"],[1,"text-truncate","w-100-p",3,"click"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"badge","check-items"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"owner","mr-8"],[1,"text-truncate","w-100-p"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"complete"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer","pt-16","pb-16"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-size-12",3,"ngClass"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-label",3,"ngClass","matTooltip"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Sb(2,"mat-icon",2),T.Wb(),T.Xb(3,"div",3),T.Jc(4,Wt,1,2,"span",4),T.Wb(),T.Xb(5,"div",5),T.Lc(6),T.Wb(),T.Xb(7,"div",6),T.Xb(8,"span",7),T.Xb(9,"span",8),T.fc("click",(function(t){return e.goDetails(e.shipment.id)})),T.Lc(10),T.Wb(),T.Wb(),T.Xb(11,"span",9),T.Xb(12,"span"),T.Lc(13),T.kc(14,"date"),T.Wb(),T.Wb(),T.Wb(),T.Xb(15,"div",6),T.Xb(16,"span",10),T.Xb(17,"span",11),T.Lc(18),T.Wb(),T.Wb(),T.Xb(19,"span",12),T.Xb(20,"span"),T.Lc(21),T.kc(22,"date"),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Xb(23,"div",13),T.Xb(24,"div",14),T.Xb(25,"span",15),T.Lc(26),T.kc(27,"number"),T.Wb(),T.Wb(),T.Xb(28,"div",16),T.Xb(29,"span",15),T.Lc(30),T.kc(31,"number"),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(4),T.pc("ngForOf",e.labels),T.Db(2),T.Mc(e.shipment.partner_short_name),T.Db(4),T.Mc(e.shipment.code),T.Db(3),T.Mc(T.mc(14,10,e.shipment.manage_date,"MM/dd/yyyy")),T.Db(5),T.Mc(e.shipment.owner_name),T.Db(3),T.Mc(T.mc(22,13,e.shipment.complete_date,"MM/dd/yyyy")),T.Db(4),T.pc("ngClass",T.sc(22,Ot,e.shipment.profit.revenue-e.shipment.profit.cost<0,e.shipment.profit.revenue-e.shipment.profit.cost>=0)),T.Db(1),T.Nc(" ",T.mc(27,16,e.shipment.profit.revenue-e.shipment.profit.cost,"1.0-0")," VND "),T.Db(3),T.pc("ngClass",T.sc(25,Ot,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct<0,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct>=0)),T.Db(1),T.Nc(" ",T.mc(31,19,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct,"1.0-0")," VND "))},directives:[b.a,U.d,q.s,U.c,U.b,q.q,E.a,h.a],pipes:[q.f,q.g],styles:['profit-status-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}profit-status-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}profit-status-card .list-card-details{padding:16px 16px 0}profit-status-card .list-card-details .list-card-labels{margin-bottom:6px}profit-status-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}profit-status-card .list-card-details .list-card-labels .label-chips{box-shadow:none;padding:0}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip{display:block}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip .chip-remove{cursor:pointer}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip.mat-standard-chip{border-radius:1px!important}profit-status-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}profit-status-card .list-card-details .list-card-badges{margin-bottom:12px}profit-status-card .list-card-details .list-card-badges .badge{padding:4px;border-radius:2px}profit-status-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}profit-status-card .list-card-details .list-card-members{margin-bottom:12px}profit-status-card .list-card-details .list-card-members .list-card-member{margin-right:8px}profit-status-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}profit-status-card .list-card-footer{border-top:1px solid;padding:0 16px}profit-status-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}profit-status-card .list-card-footer .list-card-footer-item .value{padding-left:8px}profit-status-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}profit-status-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}profit-status-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}profit-status-card.gu-hide{display:none!important}profit-status-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}profit-status-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Pt);function Dt(t,e){if(1&t&&(T.Xb(0,"div"),T.Sb(1,"profit-status-card",9),T.Wb()),2&t){var r=e.$implicit,n=e.index;T.Db(1),T.pc("shipment",r)("i",n)}}var At,Ft=((At=function t(){_classCallCheck(this,t),this.openShipmentModal=new T.o,this.filterPartner=new T.o}).\u0275fac=function(t){return new(t||At)},At.\u0275cmp=T.Lb({type:At,selectors:[["profit-status-list"]],inputs:{month:"month",data:"data"},outputs:{openShipmentModal:"openShipmentModal",filterPartner:"filterPartner"},decls:18,vars:11,consts:[["fxLayout","column",1,"list"],["fxLayout","column","fxLayoutAlign","center ",1,"list-header"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","50",1,"list-header-name"],["fxFlex","50"],["itemSize","202","fxLayout","column",1,"list-content"],[1,"list-cards"],["listScroll",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"profit-status-card",3,"shipment","i"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Lc(4),T.Wb(),T.Xb(5,"div",4),T.Lc(6),T.kc(7,"number"),T.Wb(),T.Wb(),T.Xb(8,"div",2),T.Xb(9,"div",3),T.Lc(10),T.Wb(),T.Xb(11,"div",4),T.Lc(12),T.kc(13,"number"),T.Wb(),T.Wb(),T.Wb(),T.Xb(14,"cdk-virtual-scroll-viewport",5),T.Xb(15,"div",6,7),T.Jc(17,Dt,2,2,"div",8),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(4),T.Nc(" Month\xa0:\xa0\xa0\xa0\xa0\xa0\xa0\xa0",e.data[e.month].name," "),T.Db(2),T.Nc(" Net Revenue\xa0:\xa0\xa0\xa0",T.mc(7,5,e.data[e.month].total,"1.0-0")," "),T.Db(4),T.Nc(" Shipment\xa0:\xa0\xa0\xa0\xa0",e.data[e.month].data.length," "),T.Db(2),T.Nc(" Correct\xa0:\xa0\xa0",T.mc(13,8,e.data[e.month].total_correct,"1.0-0")," "),T.Db(5),T.pc("cdkVirtualForOf",e.data[e.month].data))},directives:[U.d,U.c,U.b,_.e,_.a,_.d,Lt],pipes:[q.g],styles:[".profit-status-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}.profit-status-list .list{max-height:100%;border-radius:2px;-webkit-transition:box-shadow .15s ease;transition:box-shadow .15s ease}.profit-status-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){.profit-status-list .list .list-header{height:48px;min-height:48px}}.profit-status-list .list .list-content{position:relative;height:1010px;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.profit-status-list .list .list-content .list-cards{position:relative;min-height:32px}.profit-status-list .list .list-footer{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 0 auto;border-top:1px solid;min-height:48px}.profit-status-list .list .list-footer .add-card-button{position:relative;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:600;font-size:14px;cursor:pointer;border-radius:2px}.profit-status-list .list .list-footer .add-card-button mat-icon{margin-right:8px}.profit-status-list .list .list-footer .add-card-button .table-balance{font-size:12px!important}.profit-status-list .list .list-footer .add-card-button .table-balance td,.profit-status-list .list .list-footer .add-card-button .table-balance th{padding:4px!important}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-eur,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-eur{padding:0 8px;background:#4caf50;color:#fff}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-usd,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-usd{padding:0 8px;background:#b3e5fc}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-vnd,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-vnd{padding:0 8px;background:#ffecb3}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-other,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-other{padding:0 8px;background:#ef5350;color:#fff}.profit-status-list .list .list-footer .add-card-button .table-balance .sticky-col{width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}"],encapsulation:2}),At),It=function(){return{duration:"350ms",x:"100%"}},jt=function(t){return{value:"*",params:t}};function Nt(t,e){if(1&t&&T.Sb(0,"profit-status-list",4),2&t){var r=e.$implicit,n=T.jc();T.pc("month",r)("data",n.totalMonth)("@animate",T.rc(4,jt,T.qc(3,It)))}}var Tt,zt,Bt=function(){return{value:"50"}},Rt=((Tt=function(){function t(e,r,n){_classCallCheck(this,t),this._activatedRoute=e,this.profitService=r,this.authService=n,this.totalMonth={},this.arrMonth=[],this.height=560,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.width<600?e.height-16:e.height-64-64-16})),this.authService.changeScreen.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){var r=e?64:0;t.height=t.authService.screenWidth<600?t.authService.screenHeight-16+r:t.authService.screenHeight-64-64-16+r})),this.profitService.onCompleteChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.totalMonth=t.profitService.totalCompleteMonth,t.arrMonth=t.profitService.arrCompleteMonth}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||Tt)(T.Rb(o.a),T.Rb(R),T.Rb(z.a))},Tt.\u0275cmp=T.Lb({type:Tt,selectors:[["profit-status"]],viewQuery:function(t,e){var r;1&t&&T.Sc(G.a,!0),2&t&&T.wc(r=T.gc())&&(e.listScroll=r.first)},features:[T.Bb()],decls:5,vars:5,consts:[["id","board"],["fxFlex","",1,"board-content-wrapper"],["fxLayout","row",1,"board-content","ngx-dnd-container"],["class","profit-status-list list-wrapper",3,"month","data",4,"ngFor","ngForOf"],[1,"profit-status-list","list-wrapper",3,"month","data"]],template:function(t,e){1&t&&(T.Xb(0,"mat-sidenav-container"),T.Xb(1,"div",0),T.Xb(2,"div",1),T.Xb(3,"div",2),T.Jc(4,Nt,1,6,"profit-status-list",3),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Ic("height",e.height,"px"),T.Db(3),T.pc("@animateStagger",T.qc(4,Bt)),T.Db(1),T.pc("ngForOf",e.arrMonth))},directives:[O.a,U.b,U.d,q.s,Ft],styles:["profit-status mat-sidenav-container{width:100%}profit-status mat-sidenav-container #board{display:-webkit-box;display:flex;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;flex-direction:column!important;height:100%;background:#fff}profit-status mat-sidenav-container #board .board-content-wrapper{position:relative;height:100%}profit-status mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .list-wrapper{height:100%}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:Xt.a}}),Tt),Jt=function t(e){_classCallCheck(this,t),this.name=e.name||"",this.month=e.month||0,this.year=e.month||0,this.revenue=e.revenue||0,this.cost=e.cost||0,this.correct=e.correct||0,this.otherIn=e.otherIn||0,this.otherOut=e.otherOut||0,this.count_shipment=e.count_shipment||0,this.data=e.data||[],this.total=e.total||0,this.total_correct=e.total_correct||0},Ht=((zt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.data=new Jt(this.data)}}]),t}()).\u0275fac=function(t){return new(t||zt)},zt.\u0275cmp=T.Lb({type:zt,selectors:[["profit-item-month"]],inputs:{data:"data",month:"month",person:"person"},decls:27,vars:18,consts:[[1,"list-card-details"],[1,"list-card-name"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-badges"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"badge","due-date","mr-8"],[1,"text-truncate","w-100-p"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"badge","check-items"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"owner","mr-8"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"complete"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer","pt-16","pb-16"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-size-12"],["fxLayout","row","fxLayoutAlign","end center"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Lc(2),T.Wb(),T.Xb(3,"div",2),T.Xb(4,"span",3),T.Xb(5,"span",4),T.Lc(6),T.kc(7,"number"),T.Wb(),T.Wb(),T.Xb(8,"span",5),T.Xb(9,"span"),T.Lc(10),T.kc(11,"number"),T.Wb(),T.Wb(),T.Wb(),T.Xb(12,"div",2),T.Xb(13,"span",6),T.Xb(14,"span",4),T.Lc(15),T.Wb(),T.Wb(),T.Xb(16,"span",7),T.Sb(17,"span"),T.Wb(),T.Wb(),T.Wb(),T.Xb(18,"div",8),T.Xb(19,"div",9),T.Xb(20,"span",10),T.Lc(21),T.kc(22,"number"),T.Wb(),T.Wb(),T.Xb(23,"div",11),T.Xb(24,"span",10),T.Lc(25),T.kc(26,"number"),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(2),T.Mc(e.person),T.Db(4),T.Mc(T.mc(7,6,e.data.total,"1.0-0")),T.Db(4),T.Mc(T.mc(11,9,e.data.total_correct,"1.0-0")),T.Db(5),T.Nc("Shipment: ",e.data.count_shipment,""),T.Db(6),T.Nc(" In: ",T.mc(22,12,e.data.otherIn,"1.0-0")," "),T.Db(4),T.Nc(" Out: ",T.mc(26,15,e.data.otherOut,"1.0-0")," "))},directives:[U.d,U.c,U.b],pipes:[q.g],styles:["profit-item-month{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;cursor:pointer;background-color:#fff;border:1px solid rgba(0,0,0,.12)}profit-item-month .list-card-details{padding:16px 16px 0}profit-item-month .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}profit-item-month .list-card-details .list-card-badges{margin-bottom:12px}profit-item-month .list-card-details .list-card-badges .badge{padding:4px;border-radius:2px}profit-item-month .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}profit-item-month .list-card-details .list-card-badges .badge.check-items{font-weight:100;color:#fff;background-color:rgba(0,0,0,.4)}profit-item-month .list-card-details .list-card-badges .badge.due-date{font-weight:100;color:#fff;background-color:#4caf50}profit-item-month .list-card-details .list-card-members{margin-bottom:12px}profit-item-month .list-card-details .list-card-members .list-card-member{margin-right:8px}profit-item-month .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}profit-item-month .list-card-footer{padding:0 16px;border-top:1px solid rgba(0,0,0,.12)}profit-item-month .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}profit-item-month .list-card-footer .list-card-footer-item .value{padding-left:8px}profit-item-month .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}"],encapsulation:2,data:{animation:Xt.a}}),zt);function qt(t,e){if(1&t&&(T.Xb(0,"div"),T.Sb(1,"profit-item-month",9),T.Wb()),2&t){var r=e.$implicit,n=T.jc();T.Db(1),T.pc("person",r)("data",n.data[r])}}var Vt,Gt=((Vt=function(){function t(){_classCallCheck(this,t),this.openShipmentModal=new T.o,this.filterPartner=new T.o,this.total={total:0,length:0,total_correct:0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;if("none"==this.month)this.monthName="None";else{var e=this.month.split("-");this.monthName=(parseInt(e[1])+1).toString()+"-"+e[0],this.total={total:0,length:0,total_correct:0}}this.arrPerson.map((function(e){t.data[e]&&(t.total.total+=t.data[e].total,t.total.length+=t.data[e].count_shipment,t.total.total_correct+=t.data[e].total_correct)}))}}]),t}()).\u0275fac=function(t){return new(t||Vt)},Vt.\u0275cmp=T.Lb({type:Vt,selectors:[["profit-month-list"]],inputs:{month:"month",data:"data",arrPerson:"arrPerson"},outputs:{openShipmentModal:"openShipmentModal",filterPartner:"filterPartner"},decls:18,vars:11,consts:[["fxLayout","column",1,"list"],["fxLayout","column","fxLayoutAlign","center ",1,"list-header"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","50",1,"list-header-name"],["fxFlex","50"],["fxLayout","column",1,"list-content"],[1,"list-cards"],["listScroll",""],[4,"ngFor","ngForOf"],[1,"profit-item-month",3,"person","data"]],template:function(t,e){1&t&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Lc(4),T.Wb(),T.Xb(5,"div",4),T.Lc(6),T.kc(7,"number"),T.Wb(),T.Wb(),T.Xb(8,"div",2),T.Xb(9,"div",3),T.Lc(10),T.Wb(),T.Xb(11,"div",4),T.Lc(12),T.kc(13,"number"),T.Wb(),T.Wb(),T.Wb(),T.Xb(14,"div",5),T.Xb(15,"div",6,7),T.Jc(17,qt,2,2,"div",8),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Db(4),T.Nc(" Month\xa0:\xa0\xa0\xa0\xa0\xa0\xa0\xa0",e.monthName," "),T.Db(2),T.Nc(" Net Revenue\xa0:\xa0\xa0\xa0",T.mc(7,5,e.total.total,"1.0-0")," "),T.Db(4),T.Nc(" Shipment\xa0:\xa0\xa0\xa0\xa0",e.total.length," "),T.Db(2),T.Nc(" Correct\xa0:\xa0\xa0",T.mc(13,8,e.total.total_correct,"1.0-0")," "),T.Db(5),T.pc("ngForOf",e.arrPerson))},directives:[U.d,U.c,U.b,q.s,Ht],pipes:[q.g],styles:[".profit-month-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}.profit-month-list .list{max-height:100%;border-radius:2px;-webkit-transition:box-shadow .15s ease;transition:box-shadow .15s ease}.profit-month-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){.profit-month-list .list .list-header{height:48px;min-height:48px}}.profit-month-list .list .list-content{position:relative;height:1010px;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.profit-month-list .list .list-content .list-cards{position:relative;min-height:32px}"],encapsulation:2}),Vt),$t=function(){return{duration:"350ms",x:"100%"}},Ut=function(t){return{value:"*",params:t}};function Et(t,e){if(1&t&&T.Sb(0,"profit-month-list",4),2&t){var r=e.$implicit,n=T.jc();T.pc("month",r)("arrPerson",n.ctrlMonth.person[r])("data",n.totalMonth[r])("@animate",T.rc(5,Ut,T.qc(4,$t)))}}var Yt,Qt,Kt=function(){return{value:"50"}},Zt=((Yt=function(){function t(e,r,n){_classCallCheck(this,t),this._activatedRoute=e,this.profitService=r,this.authService=n,this.totalMonth={},this.height=560,this._unsubscribeAll=new I.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.width<600?e.height-16:e.height-64-64-16})),this.authService.changeScreen.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){var r=e?64:0;t.height=t.authService.screenWidth<600?t.authService.screenHeight-16+r:t.authService.screenHeight-64-64-16+r})),this.profitService.onPersonChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){console.log(e),t.totalMonth=t.profitService.totalPersonMonth,t.ctrlMonth=t.profitService.ctrlProfitMonth}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||Yt)(T.Rb(o.a),T.Rb(R),T.Rb(z.a))},Yt.\u0275cmp=T.Lb({type:Yt,selectors:[["profit-month"]],viewQuery:function(t,e){var r;1&t&&T.Sc(G.a,!0),2&t&&T.wc(r=T.gc())&&(e.listScroll=r.first)},features:[T.Bb()],decls:5,vars:5,consts:[["id","board"],["fxFlex","",1,"board-content-wrapper"],["fxLayout","row",1,"board-content","ngx-dnd-container"],["class","profit-month-list list-wrapper",3,"month","arrPerson","data",4,"ngFor","ngForOf"],[1,"profit-month-list","list-wrapper",3,"month","arrPerson","data"]],template:function(t,e){1&t&&(T.Xb(0,"mat-sidenav-container"),T.Xb(1,"div",0),T.Xb(2,"div",1),T.Xb(3,"div",2),T.Jc(4,Et,1,7,"profit-month-list",3),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&t&&(T.Ic("height",e.height,"px"),T.Db(3),T.pc("@animateStagger",T.qc(4,Kt)),T.Db(1),T.pc("ngForOf",e.ctrlMonth.month))},directives:[O.a,U.b,U.d,q.s,Gt],styles:["profit-month mat-sidenav-container{width:100%}profit-month mat-sidenav-container #board{display:-webkit-box;display:flex;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;flex-direction:column!important;height:100%;background:#fff}profit-month mat-sidenav-container #board .board-content-wrapper{position:relative;height:100%}profit-month mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .list-wrapper{height:100%}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:Xt.a}}),Yt),te=r("jaxi"),ee=r("1jcm"),re=r("nmyD"),ne=((Qt=function t(){_classCallCheck(this,t)}).\u0275mod=T.Pb({type:Qt}),Qt.\u0275inj=T.Ob({factory:function(t){return new(t||Qt)},imports:[[s.c,te.c,b.b,W.c,i.b,D.a,f.b,ee.b,d.c,re.a,M.a]]}),Qt);r.d(e,"ProfitModule",(function(){return ae}));var oe,ie=[{path:"report",component:yt,resolve:{data:R},children:[{path:"complete",component:Mt},{path:"status",component:Rt},{path:"person",component:Zt}]}],ae=((oe=function t(){_classCallCheck(this,t)}).\u0275mod=T.Pb({type:oe}),oe.\u0275inj=T.Ob({factory:function(t){return new(t||oe)},providers:[A.a,R],imports:[[o.k.forChild(ie),i.b,D.a,a.b,c.c,s.c,l.b,p.e,b.b,h.b,u.c,d.c,f.b,m.c,g.e,v.b,x.b,w.b,y.d,k.e,_.g,S.b,C.a.withComponents([]),X.t,W.c,P.b,O.b,L.a,ne,M.f]]}),oe)}}]);