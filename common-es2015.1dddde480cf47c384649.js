(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1Jf3":function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n=i("tyNb"),o=i("STbY"),a=i("/1cH"),c=i("iadO"),r=i("bTqV"),b=i("7EHt"),l=i("kmnG"),s=i("NFeN"),d=i("Qu3c"),m=i("qFsG"),u=i("wZkO"),p=i("d3UM"),f=i("QibW"),h=i("0IaG"),g=i("/t3+"),v=i("bSwM"),x=i("M9IT"),X=i("xHqg"),W=i("A5z7"),y=i("bv9b"),L=i("XhcP"),w=i("FKr1"),k=i("1jcm"),D=i("+0xr"),_=i("MutI"),M=i("f0Cb"),N=i("5HBU"),C=i("fXoL");let j=(()=>{class t{}return t.\u0275mod=C.Pb({type:t}),t.\u0275inj=C.Ob({factory:function(e){return new(e||t)},imports:[[n.k,o.b,N.a,a.b,c.c,r.c,b.b,l.e,s.b,d.b,m.c,u.c,p.b,f.c,h.e,g.b,v.b,x.b,X.d,W.e,y.b,L.b,k.b,D.k,_.c,M.b,w.t]]}),t})()},"7fRk":function(t,e,i){"use strict";i.d(e,"a",(function(){return F}));var n=i("fXoL"),o=i("ofXK"),a=i("znSr");function c(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"INBOUND"),n.Wb())}function r(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"FULIM"),n.Wb())}function b(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"TRIMP"),n.Wb())}function l(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"EMPTY"),n.Wb())}function s(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"TREXP"),n.Wb())}function d(t,e){1&t&&(n.Xb(0,"th",4),n.Lc(1,"FULEX"),n.Wb())}function m(t,e){if(1&t&&(n.Xb(0,"td"),n.Lc(1),n.Wb()),2&t){const t=n.jc(3).$implicit;n.Eb("rowspan",t.row),n.Db(1),n.Mc(t.name)}}function u(t,e){if(1&t&&(n.Xb(0,"td",4),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit;n.Eb("rowspan",t.row),n.Db(1),n.Mc(t.name)}}function p(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].LOAD,"INBOUND"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].LOAD.length?"":o.data[i.name+"-"+e.name+"-"+t].LOAD.length)}}function f(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].FULIM,"FULIM"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].FULIM.length?"":o.data[i.name+"-"+e.name+"-"+t].FULIM.length)}}function h(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].TRIMP,"TRIMP"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].TRIMP.length?"":o.data[i.name+"-"+e.name+"-"+t].TRIMP.length)}}function g(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].EMPTY,"EMPTY"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].EMPTY.length?"":o.data[i.name+"-"+e.name+"-"+t].EMPTY.length)}}function v(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].TREXP,"TREXP"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].TREXP.length?"":o.data[i.name+"-"+e.name+"-"+t].TREXP.length)}}function x(t,e){if(1&t){const t=n.Yb();n.Xb(0,"td",4),n.Xb(1,"span",9),n.fc("click",(function(e){n.Bc(t);const i=n.jc().$implicit,o=n.jc().$implicit,a=n.jc().$implicit,c=n.jc();return c.openList.emit([c.data[a.name+"-"+o.name+"-"+i].FULEX,"FULEX"])})),n.Lc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit,e=n.jc().$implicit,i=n.jc().$implicit,o=n.jc();n.Db(2),n.Mc(0==o.data[i.name+"-"+e.name+"-"+t].FULEX.length?"":o.data[i.name+"-"+e.name+"-"+t].FULEX.length)}}const X=function(t){return{"row-even":t}};function W(t,e){if(1&t&&(n.Vb(0),n.Xb(1,"tr",7),n.Jc(2,m,2,2,"td",8),n.Jc(3,u,2,2,"td",5),n.Xb(4,"td",4),n.Lc(5),n.Wb(),n.Jc(6,p,3,1,"td",5),n.Jc(7,f,3,1,"td",5),n.Jc(8,h,3,1,"td",5),n.Jc(9,g,3,1,"td",5),n.Jc(10,v,3,1,"td",5),n.Jc(11,x,3,1,"td",5),n.Wb(),n.Ub()),2&t){const t=e.$implicit,i=e.index,o=n.jc().index,a=n.jc().index,c=n.jc();n.Db(1),n.pc("ngClass",n.rc(10,X,a%2!=0)),n.Db(1),n.pc("ngIf",0==o&&0==i),n.Db(1),n.pc("ngIf",0==i),n.Db(2),n.Mc(t),n.Db(1),n.pc("ngIf",c.total.total.LOAD>0),n.Db(1),n.pc("ngIf",c.total.total.FULIM>0),n.Db(1),n.pc("ngIf",c.total.total.TRIMP>0),n.Db(1),n.pc("ngIf",c.total.total.EMPTY>0),n.Db(1),n.pc("ngIf",c.total.total.TREXP>0),n.Db(1),n.pc("ngIf",c.total.total.FULEX>0)}}function y(t,e){if(1&t&&(n.Vb(0),n.Jc(1,W,12,12,"ng-container",6),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.pc("ngForOf",t.type)}}function L(t,e){if(1&t&&(n.Vb(0),n.Jc(1,y,2,1,"ng-container",6),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.pc("ngForOf",t.city)}}function w(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].LOAD)}}function k(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].FULIM)}}function D(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].TRIMP)}}function _(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].EMPTY)}}function M(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].TREXP)}}function N(t,e){if(1&t&&(n.Xb(0,"td",10),n.Lc(1),n.Wb()),2&t){const t=n.jc(2).$implicit,e=n.jc();n.Db(1),n.Mc(e.total[t.code].FULEX)}}function C(t,e){if(1&t&&(n.Xb(0,"tr"),n.Xb(1,"td",10),n.Lc(2,"TOTAL"),n.Wb(),n.Sb(3,"td"),n.Xb(4,"td",10),n.Lc(5),n.Wb(),n.Jc(6,w,2,1,"td",11),n.Jc(7,k,2,1,"td",11),n.Jc(8,D,2,1,"td",11),n.Jc(9,_,2,1,"td",11),n.Jc(10,M,2,1,"td",11),n.Jc(11,N,2,1,"td",11),n.Wb()),2&t){const t=n.jc().$implicit,e=n.jc();n.Db(5),n.Mc(t.code),n.Db(1),n.pc("ngIf",e.total.total.LOAD>0),n.Db(1),n.pc("ngIf",e.total.total.FULIM>0),n.Db(1),n.pc("ngIf",e.total.total.TRIMP>0),n.Db(1),n.pc("ngIf",e.total.total.EMPTY>0),n.Db(1),n.pc("ngIf",e.total.total.TREXP>0),n.Db(1),n.pc("ngIf",e.total.total.FULEX>0)}}function j(t,e){if(1&t&&(n.Vb(0),n.Jc(1,C,12,7,"tr",8),n.Ub()),2&t){const t=e.$implicit,i=n.jc();n.Db(1),n.pc("ngIf",i.total[t.code].total>0)}}let F=(()=>{class t{constructor(){this.setFilter=new n.o,this.openList=new n.o}ngOnInit(){}ngOnChanges(t){t.data&&t.data.currentValue&&(this.data=t.data.currentValue)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["container-overview-city-list"]],inputs:{label:"label",seaport:"seaport",header:"header",contType:"contType",data:"data",total:"total"},outputs:{setFilter:"setFilter",openList:"openList"},features:[n.Bb()],decls:23,vars:9,consts:[[1,"group","mb-12","mt-12"],[2,"overflow","auto"],[1,"simple","report-table"],[1,""],[1,"text-center"],["class","text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"text-center","text-bold"],["class","text-center text-bold",4,"ngIf"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Lc(2),n.Wb(),n.Xb(3,"div",1),n.Xb(4,"table",2),n.Xb(5,"thead"),n.Xb(6,"tr"),n.Xb(7,"th",3),n.Lc(8,"Country"),n.Wb(),n.Xb(9,"th",4),n.Lc(10,"City"),n.Wb(),n.Xb(11,"th",4),n.Lc(12,"Type"),n.Wb(),n.Jc(13,c,2,0,"th",5),n.Jc(14,r,2,0,"th",5),n.Jc(15,b,2,0,"th",5),n.Jc(16,l,2,0,"th",5),n.Jc(17,s,2,0,"th",5),n.Jc(18,d,2,0,"th",5),n.Wb(),n.Wb(),n.Xb(19,"tbody"),n.Jc(20,L,2,1,"ng-container",6),n.Wb(),n.Xb(21,"tfoot"),n.Jc(22,j,2,1,"ng-container",6),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Db(2),n.Mc(e.label),n.Db(11),n.pc("ngIf",e.total.total.LOAD>0),n.Db(1),n.pc("ngIf",e.total.total.FULIM>0),n.Db(1),n.pc("ngIf",e.total.total.TRIMP>0),n.Db(1),n.pc("ngIf",e.total.total.EMPTY>0),n.Db(1),n.pc("ngIf",e.total.total.TREXP>0),n.Db(1),n.pc("ngIf",e.total.total.FULEX>0),n.Db(2),n.pc("ngForOf",e.data.country),n.Db(2),n.pc("ngForOf",e.contType))},directives:[o.t,o.s,o.q,a.a],styles:["container-overview-city-list .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}container-overview-city-list .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}container-overview-city-list .group .report-table{font-size:12px}container-overview-city-list .group .report-table .row-even{background-color:#e0e0e0!important}container-overview-city-list .group .report-table td,container-overview-city-list .group .report-table th{white-space:nowrap}@media screen and (max-width:599px){container-overview-city-list .group .report-table td,container-overview-city-list .group .report-table th{padding:8px 4px!important}}@media screen and (min-width:600px){container-overview-city-list .group .report-table td,container-overview-city-list .group .report-table th{padding:8px!important}}"],encapsulation:2}),t})()},AjAt:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n=i("tyNb"),o=i("STbY"),a=i("/1cH"),c=i("iadO"),r=i("bTqV"),b=i("7EHt"),l=i("kmnG"),s=i("NFeN"),d=i("Qu3c"),m=i("qFsG"),u=i("wZkO"),p=i("d3UM"),f=i("QibW"),h=i("0IaG"),g=i("/t3+"),v=i("bSwM"),x=i("M9IT"),X=i("xHqg"),W=i("A5z7"),y=i("bv9b"),L=i("XhcP"),w=i("FKr1"),k=i("1jcm"),D=i("+0xr"),_=i("MutI"),M=i("f0Cb"),N=i("5HBU"),C=i("fXoL");let j=(()=>{class t{}return t.\u0275mod=C.Pb({type:t}),t.\u0275inj=C.Ob({factory:function(e){return new(e||t)},imports:[[n.k,o.b,N.a,a.b,c.c,r.c,b.b,l.e,s.b,d.b,m.c,u.c,p.b,f.c,h.e,g.b,v.b,x.b,X.d,W.e,y.b,L.b,k.b,D.k,_.c,M.b,w.t]]}),t})()},MaHk:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),o=i("XNiG"),a=i("PVWW"),c=i("tyNb"),r=i("XiUz"),b=i("ofXK");let l=(()=>{class t{constructor(t){this.router=t,this.getSpace=new n.o,this._unsubscribeAll=new o.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(c.g))},t.\u0275cmp=n.Lb({type:t,selectors:[["shipment-voyage"]],inputs:{data:"data"},outputs:{getSpace:"getSpace"},decls:67,vars:19,consts:[[1,"group","mb-12","mt-12"],["fxLayout","row wrap","fxLayoutAlign","start",1,"p-16"],["fxFlex","50","fxFlex.gt-xs","75",1,"pb-8"],["fxLayout","column","fxLayoutAlign","start"],[1,"text-bold"],[1,"mt-8"],["fxFlex","50","fxFlex.gt-xs","25",1,"pb-8"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Lc(2,"Voyage"),n.Wb(),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"div",4),n.Lc(7,"Partner"),n.Wb(),n.Xb(8,"div",5),n.Lc(9),n.Wb(),n.Wb(),n.Wb(),n.Xb(10,"div",6),n.Xb(11,"div",3),n.Xb(12,"div",4),n.Lc(13,"Vessel/Voyage"),n.Wb(),n.Xb(14,"div",5),n.Lc(15),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div",6),n.Xb(17,"div",3),n.Xb(18,"div",4),n.Lc(19,"Load port"),n.Wb(),n.Xb(20,"div",5),n.Lc(21),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",6),n.Xb(23,"div",3),n.Xb(24,"div",4),n.Lc(25,"Load terminal"),n.Wb(),n.Xb(26,"div",5),n.Lc(27),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"div",6),n.Xb(29,"div",3),n.Xb(30,"div",4),n.Lc(31,"Depart time"),n.Wb(),n.Xb(32,"div",5),n.Lc(33),n.kc(34,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",6),n.Xb(36,"div",3),n.Xb(37,"div",4),n.Lc(38,"Arrive time"),n.Wb(),n.Xb(39,"div",5),n.Lc(40),n.kc(41,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div",6),n.Xb(43,"div",3),n.Xb(44,"div",4),n.Lc(45,"Discharge port"),n.Wb(),n.Xb(46,"div",5),n.Lc(47),n.Wb(),n.Wb(),n.Wb(),n.Xb(48,"div",6),n.Xb(49,"div",3),n.Xb(50,"div",4),n.Lc(51,"Discharge terminal"),n.Wb(),n.Xb(52,"div",5),n.Lc(53),n.Wb(),n.Wb(),n.Wb(),n.Xb(54,"div",6),n.Xb(55,"div",3),n.Xb(56,"div",4),n.Lc(57,"Closing time"),n.Wb(),n.Xb(58,"div",5),n.Lc(59),n.kc(60,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(61,"div",6),n.Xb(62,"div",3),n.Xb(63,"div",4),n.Lc(64,"Transit time"),n.Wb(),n.Xb(65,"div",5),n.Lc(66),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Db(9),n.Mc(e.data.partner_name),n.Db(6),n.Mc(e.data.vessel_full_name),n.Db(6),n.Mc(e.data.load_port_name),n.Db(6),n.Mc(e.data.load_terminal_name),n.Db(6),n.Mc(n.mc(34,10,e.data.depart_time,"EEE MMM/dd/yyyy HH:mm")),n.Db(7),n.Mc(n.mc(41,13,e.data.arrive_time,"EEE MMM/dd/yyyy HH:mm")),n.Db(7),n.Mc(e.data.discharge_port_name),n.Db(6),n.Mc(e.data.discharge_terminal_name),n.Db(6),n.Mc(n.mc(60,16,e.data.closing_time,"MMM/dd HH:mm")),n.Db(7),n.Nc("",e.data.transit_time," days"))},directives:[r.d,r.c,r.b],pipes:[b.f],styles:["shipment-voyage .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}shipment-voyage .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}"],encapsulation:2,data:{animation:a.a}}),t})()},O4lD:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("PVWW"),o=i("fXoL"),a=i("tyNb"),c=i("qXBG"),r=i("XiUz"),b=i("ofXK"),l=i("znSr");function s(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Lc(2),o.kc(3,"number"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.Db(2),o.Oc(" ",o.mc(3,2,t.amount,"VND"==t.code?"1.0-0":"1.2-2")," ",t.code," ")}}function d(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Lc(2),o.kc(3,"number"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.Db(2),o.Oc(" ",o.mc(3,2,t.amount_incl_tax,"VND"==t.code?"1.0-0":"1.2-2")," ",t.code,"(tax-incl) ")}}const m=function(t){return{"red-fg":t}};function u(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",7),o.Lc(2),o.kc(3,"number"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.Db(1),o.pc("ngClass",o.rc(6,m,t.amount<0)),o.Db(1),o.Oc(" ",o.mc(3,3,t.amount,"VND"==t.code?"1.0-0":"1.2-2")," ",t.code," ")}}function p(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Lc(2),o.kc(3,"number"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.Db(2),o.Oc(" ",o.mc(3,2,t.amount,"VND"==t.code?"1.0-0":"1.2-2")," ",t.code," ")}}function f(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Lc(2),o.kc(3,"number"),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.Db(2),o.Oc(" ",o.mc(3,2,t.amount,"VND"==t.code?"1.0-0":"1.2-2")," ",t.code," ")}}let h=(()=>{class t{constructor(t,e){this.router=t,this.authService=e,this.total={revenue:[],cost:[],currency:[],profit:[{code:"VND",amount:0,amount_incl_tax:0}]}}ngOnInit(){this.total={revenue:[],cost:[],currency:[],profit:[{code:"VND",amount:0,amount_incl_tax:0}]},this.shipment.revenueData.map(t=>{let e=this.total.revenue.find(e=>e.code==t.currency_code),i=this.total.currency.find(e=>e.code==t.currency_code),n=this.total.profit[0],o=!0;15!=t.create_by||[1,15].includes(this.authService.user)||(o=!1),o&&(e?(e.amount+=t.volume*(t.amount+t.tax_amount),i.amount+=t.volume*(t.amount+t.tax_amount)):(this.total.revenue.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)}),this.total.currency.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)})),n.amount+=t.volume*t.amount*t.ex_rate,n.amount_incl_tax+=t.volume*(t.amount+t.tax_amount)*t.ex_rate)}),this.shipment.costData.map(t=>{let e=this.total.cost.find(e=>e.code==t.currency_code),i=this.total.currency.find(e=>e.code==t.currency_code),n=this.total.profit[0],o=!0;15!=t.create_by||[1,15].includes(this.authService.user)||(o=!1),o&&(e?e.amount+=t.volume*(t.amount+t.tax_amount):this.total.cost.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)}),i?i.amount-=t.volume*(t.amount+t.tax_amount):this.total.currency.push({code:t.currency_code,amount:-t.volume*(t.amount+t.tax_amount)}),n.amount-=t.volume*t.amount*t.ex_rate,n.amount_incl_tax-=t.volume*(t.amount+t.tax_amount)*t.ex_rate)})}ngOnChanges(t){t.shipment&&t.shipment.currentValue&&(this.total={revenue:[],cost:[],currency:[],profit:[{code:"VND",amount:0,amount_incl_tax:0}]},this.shipment.revenueData.map(t=>{let e=this.total.revenue.find(e=>e.code==t.currency_code),i=this.total.currency.find(e=>e.code==t.currency_code),n=this.total.profit[0];e?(e.amount+=t.volume*(t.amount+t.tax_amount),i.amount+=t.volume*(t.amount+t.tax_amount)):(this.total.revenue.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)}),this.total.currency.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)})),n.amount+=t.volume*t.amount*t.ex_rate,n.amount_incl_tax+=t.volume*(t.amount+t.tax_amount)*t.ex_rate}),this.shipment.costData.map(t=>{let e=this.total.cost.find(e=>e.code==t.currency_code),i=this.total.currency.find(e=>e.code==t.currency_code),n=this.total.profit[0];e?e.amount+=t.volume*(t.amount+t.tax_amount):this.total.cost.push({code:t.currency_code,amount:t.volume*(t.amount+t.tax_amount)}),i?i.amount-=t.volume*(t.amount+t.tax_amount):this.total.currency.push({code:t.currency_code,amount:-t.volume*(t.amount+t.tax_amount)}),n.amount-=t.volume*t.amount*t.ex_rate,n.amount_incl_tax-=t.volume*(t.amount+t.tax_amount)*t.ex_rate}))}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.g),o.Rb(c.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["shipment-details-soa-total"]],inputs:{shipment:"shipment"},features:[o.Bb()],decls:26,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","25"],[1,"group","mb-12","mt-12"],[1,"pt-8","pb-8","w-100-p"],["fxLayout","row","fxLayoutAlign","center center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center"],[1,"font-size-16","text-bold"],[1,"font-size-16","text-bold",3,"ngClass"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"h2"),o.Lc(4,"Net Revenue"),o.Wb(),o.Xb(5,"div",3),o.Jc(6,s,4,5,"div",4),o.Jc(7,d,4,5,"div",4),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"div",1),o.Xb(9,"div",2),o.Xb(10,"h2"),o.Lc(11,"Currency"),o.Wb(),o.Xb(12,"div",3),o.Jc(13,u,4,8,"div",4),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"div",1),o.Xb(15,"div",2),o.Xb(16,"h2"),o.Lc(17,"Revenue"),o.Wb(),o.Xb(18,"div",3),o.Jc(19,p,4,5,"div",4),o.Wb(),o.Wb(),o.Wb(),o.Xb(20,"div",1),o.Xb(21,"div",2),o.Xb(22,"h2"),o.Lc(23,"Cost"),o.Wb(),o.Xb(24,"div",3),o.Jc(25,f,4,5,"div",4),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Db(6),o.pc("ngForOf",e.total.profit),o.Db(1),o.pc("ngForOf",e.total.profit),o.Db(6),o.pc("ngForOf",e.total.currency),o.Db(6),o.pc("ngForOf",e.total.revenue),o.Db(6),o.pc("ngForOf",e.total.cost))},directives:[r.d,r.b,b.s,r.c,b.q,l.a],pipes:[b.g],styles:["shipment-details-soa-total .group{margin-left:0;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12);padding:16px 0 8px}shipment-details-soa-total .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:20}shipment-details-soa-total .border-black{border:1px solid #000!important}"],encapsulation:2,data:{animation:n.a}}),t})()},Oodi:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("fXoL"),o=i("XNiG"),a=i("1G5W"),c=i("PVWW"),r=i("tyNb"),b=i("qXBG"),l=i("XiUz"),s=i("ofXK"),d=i("STbY"),m=i("NFeN");function u(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",13),n.fc("click",(function(e){n.Bc(t);const i=n.jc();return i.goVoyage.emit([i.shipment.vessel_name,i.shipment.voyage_name,i.shipment.depart_time])})),n.Lc(1,"search"),n.Wb()}}let p=(()=>{class t{constructor(t,e){this.router=t,this.authService=e,this.getSpace=new n.o,this.goVoyage=new n.o,this.getReportVoyage=new n.o,this.height=560,this._unsubscribeAll=new o.a}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(a.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-12-12-54-62}),this.authService.changeScreen.pipe(Object(a.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-12-12-54-62:this.authService.screenHeight-64-12-12-54-62}),this.shipment&&(this.shipment.supplier_name=this.shipment.partner_name)}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.g),n.Rb(b.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["shipment-voyage"]],inputs:{shipment:"shipment",user:"user"},outputs:{getSpace:"getSpace",goVoyage:"goVoyage",getReportVoyage:"getReportVoyage"},decls:79,vars:23,consts:[[1,"group","mb-12","mt-12"],[2,"overflow","auto"],["fxLayout","row wrap","fxLayoutAlign","start",1,"p-16"],["fxFlex","50","fxFlex.gt-xs","75",1,"pb-8"],["fxLayout","column","fxLayoutAlign","start"],[1,"text-bold"],[1,"mt-8"],["fxFlex","50","fxFlex.gt-xs","25",1,"pb-8"],["fxLayout","row","fxLayoutAlign","space-between center",1,"text-bold"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],[1,"cursor-pointer",3,"matMenuTriggerFor"],["menuVoyage","matMenu"],["mat-menu-item","",3,"click"],["color","accent",1,"cursor-pointer",3,"click"]],template:function(t,e){if(1&t&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Lc(2,"Voyage"),n.Wb(),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"div",4),n.Xb(7,"div",5),n.Lc(8,"Supplier"),n.Wb(),n.Xb(9,"div",6),n.Lc(10),n.Wb(),n.Wb(),n.Wb(),n.Xb(11,"div",7),n.Xb(12,"div",4),n.Xb(13,"div",8),n.Xb(14,"span"),n.Lc(15,"Vessel/Voyage"),n.Wb(),n.Jc(16,u,2,0,"mat-icon",9),n.Wb(),n.Xb(17,"div",6),n.Xb(18,"a",10),n.Lc(19),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"mat-menu",null,11),n.Xb(22,"button",12),n.fc("click",(function(t){return e.getSpace.emit()})),n.Xb(23,"span"),n.Lc(24,"Space"),n.Wb(),n.Wb(),n.Xb(25,"button",12),n.fc("click",(function(t){return e.getReportVoyage.emit()})),n.Xb(26,"span"),n.Lc(27,"Report"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"div",7),n.Xb(29,"div",4),n.Xb(30,"div",5),n.Lc(31,"Load port"),n.Wb(),n.Xb(32,"div",6),n.Lc(33),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",7),n.Xb(35,"div",4),n.Xb(36,"div",5),n.Lc(37,"Load terminal"),n.Wb(),n.Xb(38,"div",6),n.Lc(39),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",7),n.Xb(41,"div",4),n.Xb(42,"div",5),n.Lc(43,"Depart time"),n.Wb(),n.Xb(44,"div",6),n.Lc(45),n.kc(46,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(47,"div",7),n.Xb(48,"div",4),n.Xb(49,"div",5),n.Lc(50,"Arrive time"),n.Wb(),n.Xb(51,"div",6),n.Lc(52),n.kc(53,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(54,"div",7),n.Xb(55,"div",4),n.Xb(56,"div",5),n.Lc(57,"Discharge port"),n.Wb(),n.Xb(58,"div",6),n.Lc(59),n.Wb(),n.Wb(),n.Wb(),n.Xb(60,"div",7),n.Xb(61,"div",4),n.Xb(62,"div",5),n.Lc(63,"Discharge terminal"),n.Wb(),n.Xb(64,"div",6),n.Lc(65),n.Wb(),n.Wb(),n.Wb(),n.Xb(66,"div",7),n.Xb(67,"div",4),n.Xb(68,"div",5),n.Lc(69,"Closing time"),n.Wb(),n.Xb(70,"div",6),n.Lc(71),n.kc(72,"date"),n.Wb(),n.Wb(),n.Wb(),n.Xb(73,"div",7),n.Xb(74,"div",4),n.Xb(75,"div",5),n.Lc(76,"Transit time"),n.Wb(),n.Xb(77,"div",6),n.Lc(78),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.xc(21);n.Db(3),n.Ic("max-height",e.height,"px"),n.Db(7),n.Mc(e.shipment.supplier_name),n.Db(6),n.pc("ngIf",1==e.user),n.Db(2),n.pc("matMenuTriggerFor",t),n.Db(1),n.Mc(e.shipment.vessel_full_name?e.shipment.vessel_full_name:e.shipment.vessel_name),n.Db(14),n.Mc(e.shipment.pol_name),n.Db(6),n.Mc(e.shipment.load_terminal_name),n.Db(6),n.Mc(n.mc(46,14,e.shipment.depart_time,"EEE MMM/dd/yyyy HH:mm")),n.Db(7),n.Mc(n.mc(53,17,e.shipment.arrive_time,"EEE MMM/dd/yyyy HH:mm")),n.Db(7),n.Mc(e.shipment.pod_name),n.Db(6),n.Mc(e.shipment.discharge_terminal_name),n.Db(6),n.Mc(n.mc(72,20,e.shipment.closing_time,"MMM/dd HH:mm")),n.Db(7),n.Nc("",e.shipment.transit_time," days")}},directives:[l.d,l.c,l.b,s.t,d.c,d.d,d.a,m.a],pipes:[s.f],styles:["shipment-voyage .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}shipment-voyage .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}"],encapsulation:2,data:{animation:c.a}}),t})()},b4KY:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("5HBU"),o=i("bTqV"),a=i("kmnG"),c=i("NFeN"),r=i("qFsG"),b=i("wZkO"),l=i("/t3+"),s=i("bSwM"),d=i("+0xr"),m=i("7EHt"),u=i("FKr1"),p=i("MutI"),f=i("STbY"),h=i("/1cH"),g=i("iadO"),v=i("d3UM"),x=i("QibW"),X=i("A5z7"),W=i("fXoL");let y=(()=>{class t{}return t.\u0275mod=W.Pb({type:t}),t.\u0275inj=W.Ob({factory:function(e){return new(e||t)},imports:[[n.a,o.c,a.e,c.b,r.c,b.c,l.b,s.b,u.t,p.c,d.k,m.b,p.c,f.b,h.b,g.c,v.b,x.c,X.e]]}),t})()},cC5p:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n=i("tyNb"),o=i("STbY"),a=i("/1cH"),c=i("iadO"),r=i("bTqV"),b=i("7EHt"),l=i("kmnG"),s=i("NFeN"),d=i("Qu3c"),m=i("qFsG"),u=i("wZkO"),p=i("d3UM"),f=i("QibW"),h=i("0IaG"),g=i("/t3+"),v=i("bSwM"),x=i("M9IT"),X=i("xHqg"),W=i("A5z7"),y=i("bv9b"),L=i("XhcP"),w=i("FKr1"),k=i("1jcm"),D=i("+0xr"),_=i("MutI"),M=i("f0Cb"),N=i("5HBU"),C=i("fXoL");let j=(()=>{class t{}return t.\u0275mod=C.Pb({type:t}),t.\u0275inj=C.Ob({factory:function(e){return new(e||t)},imports:[[n.k,o.b,N.a,a.b,c.c,r.c,b.b,l.e,s.b,d.b,m.c,u.c,p.b,f.c,h.e,g.b,v.b,x.b,X.d,W.e,y.b,L.b,k.b,D.k,_.c,M.b,w.t]]}),t})()},dCBQ:function(t,e,i){"use strict";function n(t){if(t.value){if(11!=t.value.length)return{validConNum:!0};{let i,n,o=t.value,a=0;for(var e=0;e<o.length;e++){if(i=o.charAt(e),e<4){if(!isNaN(i))return{validConNum:!0};switch(i){case"A":i=10;break;case"B":i=12;break;case"C":i=13;break;case"D":i=14;break;case"E":i=15;break;case"F":i=16;break;case"G":i=17;break;case"H":i=18;break;case"I":i=19;break;case"J":i=20;break;case"K":i=21;break;case"L":i=23;break;case"M":i=24;break;case"N":i=25;break;case"O":i=26;break;case"P":i=27;break;case"Q":i=28;break;case"R":i=29;break;case"S":i=30;break;case"T":i=31;break;case"U":i=32;break;case"V":i=34;break;case"W":i=35;break;case"X":i=36;break;case"Y":i=37;break;case"Z":i=38}}else{if(isNaN(i))return{validConNum:!0};i=Number(i)}e==o.length-1?n=i:a+=i*Math.pow(2,e)}if((a%11==10?0:a%11)!=n)return{validConNum:!0}}}return null}i.d(e,"a",(function(){return n}))},m4Vh:function(t,e,i){"use strict";i.d(e,"a",(function(){return X}));var n=i("STbY"),o=i("/1cH"),a=i("iadO"),c=i("bTqV"),r=i("7EHt"),b=i("kmnG"),l=i("NFeN"),s=i("Qu3c"),d=i("qFsG"),m=i("wZkO"),u=i("d3UM"),p=i("QibW"),f=i("0IaG"),h=i("/t3+"),g=i("bSwM"),v=i("5HBU"),x=i("fXoL");let X=(()=>{class t{}return t.\u0275mod=x.Pb({type:t}),t.\u0275inj=x.Ob({factory:function(e){return new(e||t)},imports:[[c.c,o.b,a.c,c.c,r.b,b.e,l.b,d.c,n.b,v.a,m.c,s.b,u.b,p.c,f.e,h.b,g.b]]}),t})()},s2z1:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("lJxs"),o=i("XNiG"),a=i("fXoL"),c=i("tyNb"),r=i("I/3d"),b=i("qXBG"),l=i("ofXK");let s=(()=>{class t{constructor(t,e,i,n){this.router=t,this.db=e,this.authService=i,this.datePipe=n,this.onSearchTextChanged=new o.a}writeDatabaseNews(t){this.newCollection=this.db.collection("News"),this.newCollection.doc(t.id.toString()).set(t)}readDatabaseNews(){let t=this;return this.newCollection=this.db.collection("News",t=>t.orderBy("date","desc")),this.new=this.newCollection.snapshotChanges().pipe(Object(n.a)(e=>e.map(e=>{let i=e.payload.doc.data();if(i.date){console.log(i.date),console.log(new Date(i.date));let e=t.datePipe.transform(new Date(i.date),"yyyy/MM/dd");e+=" "+i.time+":00.0",i.datetime=new Date(e).getTime()}else i.datetime=i.id;return Object.assign({id:e.payload.doc.id},i)}))),this.new}readDatabaseNewsByUser(t){let e=this;return this.newCollection=this.db.collection("News",e=>e.where("user","==",t)),this.new=this.newCollection.snapshotChanges().pipe(Object(n.a)(t=>t.map(t=>{let i=t.payload.doc.data();if(i.date){let t=e.datePipe.transform(new Date(i.date),"yyyy/MM/dd");t+=" "+i.time+":00.0",i.datetime=new Date(t).getTime()}else i.datetime=i.id;return Object.assign({id:t.payload.doc.id},i)}))),this.new}getDatabaseNewsById(t){return this.newCollection=this.db.collection("News"),this.newCollection.doc(t).valueChanges()}updateDatabaseNewsById(t,e){this.newCollection=this.db.collection("News"),this.newCollection.doc(t).set(e)}deleteDatabaseNewsById(t){this.newDoc=this.db.doc("News/"+t),this.newDoc.delete()}createNewsFirebase(t){let e={id:(new Date).getTime(),title:t.title,content:t.content,category:t.category,tag:t.tag,image:t.image,date:t.date};return this.newCollection=this.db.collection("News"),this.newCollection.doc(e.id.toString()).set(e),e}}return t.\u0275fac=function(e){return new(e||t)(a.bc(c.g),a.bc(r.a),a.bc(b.a),a.bc(l.f))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t})()},uREc:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fXoL");let o=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._templateRef=e,this._viewContainerRef=i,this.isCreated=!1}ngAfterContentChecked(){document.body.contains(this._elementRef.nativeElement)&&!this.isCreated?(setTimeout(()=>{this._viewContainerRef.createEmbeddedView(this._templateRef)},300),this.isCreated=!0):this.isCreated&&!document.body.contains(this._elementRef.nativeElement)&&(this._viewContainerRef.clear(),this.isCreated=!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(n.l),n.Rb(n.M),n.Rb(n.Q))},t.\u0275dir=n.Mb({type:t,selectors:[["","fuseIfOnDom",""]]}),t})()},zK0N:function(t,e,i){"use strict";var n=i("fXoL"),o=i("0IaG"),a=i("3Pt+");function c(t){if(t.value){if(11!=t.value.length)return{validConNum:!0};{let i,n,o=t.value,a=0;for(var e=0;e<o.length;e++){if(i=o.charAt(e),e<4){if(!isNaN(i))return{validConNum:!0};switch(i){case"A":i=10;break;case"B":i=12;break;case"C":i=13;break;case"D":i=14;break;case"E":i=15;break;case"F":i=16;break;case"G":i=17;break;case"H":i=18;break;case"I":i=19;break;case"J":i=20;break;case"K":i=21;break;case"L":i=23;break;case"M":i=24;break;case"N":i=25;break;case"O":i=26;break;case"P":i=27;break;case"Q":i=28;break;case"R":i=29;break;case"S":i=30;break;case"T":i=31;break;case"U":i=32;break;case"V":i=34;break;case"W":i=35;break;case"X":i=36;break;case"Y":i=37;break;case"Z":i=38}}else{if(isNaN(i))return{validConNum:!0};i=Number(i)}e==o.length-1?n=i:a+=i*Math.pow(2,e)}if((a%11==10?0:a%11)!=n)return{validConNum:!0}}}return null}var r=i("tyNb"),b=i("qXBG"),l=i("ofXK"),s=i("0Zc1"),d=i("/t3+"),m=i("XiUz"),u=i("bTqV"),p=i("NFeN"),f=i("EwFO"),h=i("kmnG"),g=i("qFsG"),v=i("d3UM"),x=i("FKr1"),X=i("znSr");i.d(e,"a",(function(){return M}));const W=["tref"];function y(t,e){1&t&&(n.Xb(0,"mat-error"),n.Lc(1," Container is required "),n.Wb())}function L(t,e){1&t&&(n.Xb(0,"mat-error"),n.Lc(1," Invalid container number "),n.Wb())}function w(t,e){1&t&&(n.Xb(0,"mat-error"),n.Lc(1," Type is required "),n.Wb())}function k(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",36),n.fc("click",(function(e){return n.Bc(t),n.jc(2).addContainer()})),n.Xb(1,"mat-icon"),n.Lc(2,"add"),n.Wb(),n.Wb()}}const D=function(t){return{hide:t}};function _(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",14),n.Xb(1,"mat-form-field",15),n.Xb(2,"mat-label"),n.Lc(3,"Container"),n.Wb(),n.Sb(4,"input",16),n.Xb(5,"mat-icon",17),n.fc("click",(function(i){n.Bc(t);const o=e.index,a=n.jc();return a.viewNote[o]=!a.viewNote[o]})),n.Lc(6,"note"),n.Wb(),n.Jc(7,y,2,0,"mat-error",18),n.Jc(8,L,2,0,"mat-error",18),n.Wb(),n.Xb(9,"mat-form-field",19),n.Xb(10,"mat-label"),n.Lc(11,"Type"),n.Wb(),n.Xb(12,"mat-select",20),n.Xb(13,"mat-option",21),n.Lc(14,"20`"),n.Wb(),n.Xb(15,"mat-option",21),n.Lc(16,"40`"),n.Wb(),n.Wb(),n.Jc(17,w,2,0,"mat-error",18),n.Wb(),n.Xb(18,"mat-form-field",22),n.Xb(19,"mat-label"),n.Lc(20,"Seal"),n.Wb(),n.Sb(21,"input",23),n.Wb(),n.Xb(22,"div",24),n.Xb(23,"button",25),n.fc("click",(function(i){n.Bc(t);const o=e.index;return n.jc().removeContainer(o)})),n.Xb(24,"mat-icon"),n.Lc(25,"delete"),n.Wb(),n.Wb(),n.Jc(26,k,3,0,"button",26),n.Wb(),n.Xb(27,"mat-form-field",27),n.Xb(28,"mat-label"),n.Lc(29,"Remark"),n.Wb(),n.Xb(30,"mat-select",28),n.Sb(31,"mat-option",29),n.Xb(32,"mat-option",21),n.Lc(33,"H\xc0NG NGUY HI\u1ec2M"),n.Wb(),n.Xb(34,"mat-option",21),n.Lc(35,"Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"mat-form-field",30),n.Xb(37,"mat-label"),n.Lc(38,"Status"),n.Wb(),n.Xb(39,"mat-select",31),n.Sb(40,"mat-option",29),n.Xb(41,"mat-option",21),n.Lc(42,"Booking"),n.Wb(),n.Xb(43,"mat-option",21),n.Lc(44,"Release"),n.Wb(),n.Xb(45,"mat-option",21),n.Lc(46,"Pick-up"),n.Wb(),n.Wb(),n.Wb(),n.Xb(47,"mat-form-field",32),n.Xb(48,"mat-label"),n.Lc(49,"Description"),n.Wb(),n.Sb(50,"input",33),n.Wb(),n.Xb(51,"mat-form-field",30),n.Xb(52,"mat-label"),n.Lc(53,"Lift on"),n.Wb(),n.Sb(54,"input",34),n.Wb(),n.Xb(55,"mat-form-field",30),n.Xb(56,"mat-label"),n.Lc(57,"Lift off"),n.Wb(),n.Sb(58,"input",35),n.Wb(),n.Wb()}if(2&t){const t=e.index,i=n.jc();n.pc("formGroupName",t),n.Db(7),n.pc("ngIf",i.formLcv.controls.contArr.controls[t].get("container").hasError("required")),n.Db(1),n.pc("ngIf",i.formLcv.controls.contArr.controls[t].get("container").errors&&i.formLcv.controls.contArr.controls[t].get("container").dirty&&i.formLcv.controls.contArr.controls[t].get("container").errors.validConNum),n.Db(5),n.pc("value","20`"),n.Db(2),n.pc("value","40`"),n.Db(2),n.pc("ngIf",i.formLcv.controls.contArr.controls[t].get("type").hasError("required")),n.Db(9),n.pc("ngIf",i.formLcv.controls.contArr.value.length==t+1),n.Db(1),n.pc("ngClass",n.rc(17,D,!i.viewNote[t])),n.Db(5),n.pc("value","H\xc0NG NGUY HI\u1ec2M"),n.Db(2),n.pc("value","Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),n.Db(2),n.pc("ngClass",n.rc(19,D,!i.viewNote[t])),n.Db(5),n.pc("value","Booking"),n.Db(2),n.pc("value","Release"),n.Db(2),n.pc("value","Pick-up"),n.Db(2),n.pc("ngClass",n.rc(21,D,!i.viewNote[t])),n.Db(4),n.pc("ngClass",n.rc(23,D,!i.viewNote[t])),n.Db(4),n.pc("ngClass",n.rc(25,D,!i.viewNote[t]))}}let M=(()=>{class t{constructor(t,e,i,n,o,r,b){this.router=t,this.matDialogRef=e,this._data=i,this.authService=n,this._formBuilder=o,this.datePipe=r,this.commonService=b,this.maxDate=null,this.depot=[],this.codeCompany=[],this.seaTerminal=[],this.formLcv=this._formBuilder.group({contArr:this._formBuilder.array([this._formBuilder.group({container:[null,[a.y.required,c]],type:[null,a.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null]})])}),this.subject="",this.content="",this.viewNote=[],this.label=i.label,this.data=JSON.parse(JSON.stringify(i.data)),this.data.contArr&&this.data.contArr.length>0&&this.data.contArr.map((t,e)=>{e>0&&this.addContainer()}),this.formLcv.patchValue(this.data)}ngOnInit(){this.formLcv.valueChanges.subscribe(t=>{this.errorMessage=""}),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}setDateStr(t){t.target.value=""==t.target.value?null:new Date(t.target.value)}onLcvFormSubmit(t){t.valid&&this.matDialogRef.close(t.value)}get contAdd(){return this.formLcv.get("contArr")}addContainer(){this.contAdd.push(this._formBuilder.group({container:[null,[a.y.required,c]],type:[null,a.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null]}))}removeContainer(t){this.contAdd.removeAt(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.g),n.Rb(o.f),n.Rb(o.a),n.Rb(b.a),n.Rb(a.d),n.Rb(l.f),n.Rb(s.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["bookings-details-container-modal-dialog"]],viewQuery:function(t,e){var i;1&t&&n.Sc(W,!0,n.l),2&t&&n.wc(i=n.gc())&&(e.tref=i.first)},decls:21,vars:4,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-book-modal","fxLayout","column",1,"p-16","pb-0","m-0"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],["formArrayName","contArr","fxLayout","column"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName"],["appearance","outline","fxFlex","40",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","container","maxlength","11","required",""],["matSuffix","","color","accent",1,"cursor-pointer",3,"click"],[4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8"],["formControlName","type","required",""],[3,"value"],["appearance","outline","fxFlex","30",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","seal"],["fxFlex","10",1,"pr-8"],["mat-mini-fab","","color","warn","type","button",3,"click"],["mat-mini-fab","","color","accent","type","button",3,"click",4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8",3,"ngClass"],["formControlName","note"],["value",""],["appearance","outline","fxFlex","15",1,"pr-8",3,"ngClass"],["formControlName","status"],["appearance","outline","fxFlex","35",1,"pr-8",3,"ngClass"],["inputCheck","","matInput","","type","text","formControlName","description"],["inputCheck","","matInput","","type","text","formControlName","lift_on"],["inputCheck","","matInput","","type","text","formControlName","lift_off"],["mat-mini-fab","","color","accent","type","button",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-toolbar",1),n.Xb(2,"mat-toolbar-row",2),n.Xb(3,"span",3),n.Lc(4),n.Wb(),n.Xb(5,"button",4),n.fc("click",(function(t){return e.matDialogRef.close()})),n.Xb(6,"mat-icon"),n.Lc(7,"close"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"div"),n.Xb(10,"form",6),n.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onLcvFormSubmit(e.formLcv)})),n.Xb(11,"div",7),n.Jc(12,_,59,27,"div",8),n.Wb(),n.Xb(13,"div",9),n.Xb(14,"div",10),n.Lc(15),n.Wb(),n.Wb(),n.Xb(16,"div",11),n.Xb(17,"button",12),n.Lc(18,"Submit"),n.Wb(),n.Xb(19,"button",13),n.fc("click",(function(t){return e.matDialogRef.close()})),n.Lc(20,"Cancel"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Db(4),n.Mc(e.label),n.Db(6),n.pc("formGroup",e.formLcv),n.Db(2),n.pc("ngForOf",e.contAdd.controls),n.Db(3),n.Mc(e.errorMessage))},directives:[d.a,d.c,m.b,m.d,m.c,u.b,p.a,o.d,f.a,a.A,a.q,a.h,a.c,l.s,a.i,h.c,h.f,g.b,a.b,a.p,a.g,a.k,a.w,h.h,l.t,v.a,x.n,l.q,X.a,h.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.bookings-details-container-modal-dialog{width:100%}}@media screen and (min-width:960px){.bookings-details-container-modal-dialog{width:1080px}}.bookings-details-container-modal-dialog .mat-dialog-container{padding:0}.bookings-details-container-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .faq .item{padding:8px}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .faq .item .title{font-weight:700;font-size:14px;margin-bottom:8px}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .faq .item .info{font-size:12px;line-height:1.5}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper{margin:0;padding:0}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-header{padding:8px 20px;border-bottom:1px solid}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-header .example-viewer-title{font-weight:700}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content{background:#263238;color:#fff}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab{position:relative}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source-copy{position:absolute;top:0;right:8px}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab:hover .example-source-copy{display:inline-block}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source{padding:0;margin:0;min-height:150px;border-bottom:1px solid}.bookings-details-container-modal-dialog #shipment-book-confirm-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source>pre{width:100%}"],encapsulation:2}),t})()}}]);