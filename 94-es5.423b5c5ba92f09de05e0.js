function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(o=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(l){r=!0,i=l}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{"0UZF":function(e,t,n){"use strict";n.r(t);var o,r=n("tyNb"),i=n("5HBU"),c=n("STbY"),a=n("/1cH"),l=n("iadO"),s=n("bTqV"),u=n("7EHt"),p=n("kmnG"),h=n("NFeN"),d=n("Qu3c"),m=n("qFsG"),v=n("wZkO"),f=n("d3UM"),b=n("QibW"),y=n("0IaG"),g=n("/t3+"),_=n("bSwM"),S=n("M9IT"),C=n("xHqg"),w=n("A5z7"),R=n("bv9b"),O=n("XhcP"),T=n("FKr1"),k=n("1jcm"),x=n("+0xr"),A=n("Dh3D"),F=n("IOBc"),D=n("212X"),I=n("LPQX"),j=n("4CPF"),B=n("3Pt+"),P=n("XNiG"),L=n("1G5W"),N=n("PVWW"),W=n("o/YO"),H=n("fXoL"),X=n("HX77"),J=n("2Vo4"),z=n("jD4G"),G=n("tk/3"),U=n("ofXK"),E=n("0Zc1"),M=n("qXBG"),q=((o=function(){function e(t,n,o,r){_classCallCheck(this,e),this._httpClient=t,this.datePipe=n,this.commonService=o,this.authService=r,this.countryR=[],this.cityR=[],this.placeR=[],this.ownerR=[],this.contTypeR=[],this.moveR=[],this.leaseR=[],this.defaultSearch={valid:1,lease:null,owner:null,off_hire:0},this.onDataChanged=new J.a([]),this.onContainersListChanged=new J.a([]),this.onSelContainerDetailsChanged=new J.a([]),this.onFilterChanged=new P.a,this.onFilterColumnChanged=new P.a,this.onSearchTextChanged=new P.a,this.onSetFilterChanged=new P.a}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.modul=e.params.modul,this.authService.routerData=e,this.filterBy=JSON.parse(JSON.stringify(this.defaultSearch)),new Promise((function(e,n){Promise.all([t.getContainerInfo(),t.getData()]).then((function(n){_slicedToArray(n,1)[0],t.onFilterChanged.subscribe((function(e){t.filterBy=e,t.getFilterContainer()})),t.onSearchTextChanged.subscribe((function(e){t.searchText=e,t.getFilterContainer()})),t.onFilterColumnChanged.subscribe((function(e){t.filterColumn=e,t.getFilterContainer()})),e()}),n)}))}},{key:"getContainerInfo",value:function(){var e=this,t={headers:new G.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){e._httpClient.get(e.authService.apiUrl+"/sel/container/modul/"+e.modul,t).subscribe((function(t){e.containers=t.container,e.countryR=t.country,e.cityR=t.city,e.placeR=t.place,e.ownerR=t.owner,e.contTypeR=t.contType,e.moveR=t.move,e.leaseR=t.lease,e.getFilterContainer(),n(t)}),o)}))}},{key:"getData",value:function(){var e=this,t={headers:new G.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){e._httpClient.get(e.authService.apiUrl+"/sel/container/data",t).subscribe((function(t){e.lease=t[0],e.leaseDetail=t[1],e.packageType=t[2],e.supplier=t[3],e.seaport=t[4],e.containerCode=t[5],e.moveType=t[6],e.supplierPort=t[10],e.supplierCarrier=t[11],e.onDataChanged.next(t),n(t)}),o)}))}},{key:"getFilterContainers",value:function(e){var t=this,n={headers:new G.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,r){t._httpClient.post(t.authService.apiUrl+"/dnl/shipment/all",e,n).subscribe((function(e){t.containers=e,t.searchText?t.getFilterContainer():(t.filterContainer=JSON.parse(JSON.stringify(e)),t.onContainersListChanged.next(t.filterContainer)),o(t.filterContainer)}),r)}))}},{key:"getSelContainerById",value:function(e){var t=this,n={headers:new G.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,r){t._httpClient.get(t.authService.apiUrl+"/dnl/shipment/id/"+e,n).subscribe((function(e){t.onSelContainerDetailsChanged.next(e),o(e)}),r)}))}},{key:"deleteSelContainer",value:function(e){var t=this,n={headers:new G.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,r){t._httpClient.delete(t.authService.apiUrl+"/dnl/shipment/id/"+e,n).subscribe((function(e){o(e)}),r)}))}},{key:"getFilterContainer",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.containers));if(this.filterBy.container){var n=[];this.filterBy.container.trim().split(/\r?\n|\s+|[ ,]+/g).map((function(t){e.commonService.checkContNum(t)&&n.push(t)})),t=this.commonService.filterArray(t,n,"cont_number")}this.filterBy.type&&"all"!=this.filterBy.type&&(t=t.filter((function(t){return t.cont_type==e.filterBy.type}))),t=this.commonService.filterSelect(t,this.filterBy.valid,"status"),this.filterBy.lease&&(t=this.commonService.filterById(t,this.filterBy.lease,"lease_id")),this.filterBy.owner&&(t=this.commonService.filterById(t,this.filterBy.owner.id,"owner")),this.filterBy.country&&(t=t.filter((function(t){return t.off_port_country&&t.off_port_country==e.filterBy.country.id||!t.movement&&t.on_port_country==e.filterBy.country.id||t.movement&&t.movement.country==e.filterBy.country.id}))),this.filterBy.city&&(t=this.commonService.filterObjectNumber(t,"movement",this.filterBy.city,"city","equal")),this.filterBy.place&&(t=t.filter((function(t){return t.movement&&t.movement.place==e.filterBy.place.id||!t.movement&&t.on_port==e.filterBy.place.id||t.off_port&&t.off_port==e.filterBy.place.id}))),this.filterBy.move&&(t=this.commonService.filterObjectNumber(t,"movement",this.filterBy.move,"move","equal")),t=this.commonService.filterSelect(t,this.filterBy.off_hire,"off_hire"),this.searchText&&""!==this.searchText&&(t=z.a.filterArrayByString(t,this.searchText)),this.filterColumn&&[{name:"Container",column:"cont_number",type:"text"},{name:"Type",column:"cont_type_code",type:"text"},{name:"Code",column:"cont_code",type:"text"},{name:"Grade",column:"grade",type:"text"},{name:"Owner",column:"owner_short_name",type:"text"},{name:"Lease",column:"lease_code",type:"text"},{name:"Min",column:"minimum",type:"number"},{name:"On hire",column:"on_hire",type:"date"},{name:"On port",column:"on_port_name",type:"text"},{name:"Off hire",column:"off_hire",type:"date"},{name:"Off port",column:"off_port_name",type:"text"},{name:"Usage",column:"usage",type:"number"},{name:"Over",column:"over",type:"number"},{name:"Place",column:"place_short_name",type:"text-movement"},{name:"Move",column:"move_code",type:"text-movement"},{name:"Move date",column:"maxDate",type:"date-movement"},{name:"Idle",column:"day",type:"number-movement"},{name:"Document",column:"document",type:"text-movement"},{name:"Shipment",column:"shipment_code",type:"text-movement"},{name:"Info",column:"info",type:"text"}].map((function(n){e.filterColumn[n.name]&&"text"==n.type&&(t=t.filter((function(t){return t[n.column]&&t[n.column].toLowerCase().includes(e.filterColumn[n.name].toLowerCase())}))),e.filterColumn[n.name]&&"number"==n.type&&(t=t.filter((function(t){return t[n.column]>=e.filterColumn[n.name]}))),e.filterColumn[n.name]&&"text-movement"==n.type&&(t=t.filter((function(t){return t.movement&&t.movement[n.column]&&t.movement[n.column].toLowerCase().includes(e.filterColumn[n.name].toLowerCase())}))),e.filterColumn[n.name]&&"number-movement"==n.type&&(t=t.filter((function(t){return t.movement&&t.movement[n.column]&&t.movement[n.column]>=e.filterColumn[n.name]})))})),this.filterContainer=t;var o=[],r=[],i={};this.ownerR.map((function(n){var c={};c.owner=n,c.check=0,e.contTypeR.map((function(e){c[e.code]=t.filter((function(t){return t.cont_type==e.id&&t.owner==c.owner.id})),c.check+=c[e.code].length,c[e.code+" over"]=t.filter((function(t){return t.cont_type==e.id&&t.owner==c.owner.id&&t.over>0})),c[e.code+" unmoved"]=t.filter((function(t){return t.cont_type==e.id&&t.owner==c.owner.id&&!t.movement})),r.includes(e.code)||r.push(e.code),r.includes(e.code+" over")||r.push(e.code+" over"),r.includes(e.code+" unmoved")||r.push(e.code+" unmoved"),i[e.code]||(i[e.code]=0),i[e.code]+=c[e.code].length,i[e.code+" over"]||(i[e.code+" over"]=0),i[e.code+" over"]+=c[e.code+" over"].length,i[e.code+" unmoved"]||(i[e.code+" unmoved"]=0),i[e.code+" unmoved"]+=c[e.code+" unmoved"].length})),o.push(c)})),r.unshift("owner"),this.containerReport={header:r,data:o,total:i};var c=[],a=[],l={};this.leaseR.map((function(n){var o={};o.lease=n,o.check=0,e.contTypeR.map((function(e){o[e.code]=t.filter((function(t){return t.cont_type==e.id&&t.lease_id==o.lease.id})),o.check+=o[e.code].length,o[e.code+" over"]=t.filter((function(t){return t.cont_type==e.id&&t.lease_id==o.lease.id&&t.over>0})),o[e.code+" unmoved"]=t.filter((function(t){return t.cont_type==e.id&&t.lease_id==o.lease.id&&!t.movement})),a.includes(e.code)||a.push(e.code),a.includes(e.code+" over")||a.push(e.code+" over"),a.includes(e.code+" unmoved")||a.push(e.code+" unmoved"),l[e.code]||(l[e.code]=0),l[e.code]+=o[e.code].length,l[e.code+" over"]||(l[e.code+" over"]=0),l[e.code+" over"]+=o[e.code+" over"].length,l[e.code+" unmoved"]||(l[e.code+" unmoved"]=0),l[e.code+" unmoved"]+=o[e.code+" unmoved"].length})),c.push(o)})),a.unshift("lease"),this.leaseReport={header:a,data:c,total:l};var s={onhire:{},offhire:{},port:{},depot:{},carrier:{},noscope:{}},u={onhire:{total:{}},offhire:{total:{}},port:{total:{}},depot:{total:{}},carrier:{total:{}},noscope:{total:{}},all:{total:{}}};function p(e){return e||0}function h(e){return e||{}}function d(e){return e||[]}function m(e,t,n,o,r){e[o][r][n.movement.move_code].push(n),t[o][n.cont_type_code][n.movement.move_code]++,t[o].total[n.movement.move_code]++}var v=[];for(var f in this.moveR.map((function(e){v.push(e.code)})),this.placeR.map((function(t){var n={id:t.id,name:t.name,code:t.code,country:t.country,country_name:t.country_name,country_code:t.country_code,pol:t.pol,pol_name:t.pol_name,pol_code:t.pol_code,pod:t.pod,pod_name:t.pod_name,pod_code:t.pod_code,city:"supplier"==t.type?t.city:null,move_code:t.move_code,typePlace:t.type};e.contTypeR.map((function(o){if("LOAD"==t.move_code){var r=t.id+"-"+t.pol+"-"+t.pod+"-"+o.code;s.carrier[r]||(s.carrier[r]={id:t.id,name:t.name,code:t.code,country:t.country,country_name:t.country_name,country_code:t.country_code,pol:t.pol,pol_name:t.pol_name,pol_code:t.pol_code,pod:t.pod,pod_name:t.pod_name,pod_code:t.pod_code,city:"supplier"==t.type?t.city:null,move_code:t.move_code,typePlace:t.type},s.carrier[r].type=o.code,e.moveR.map((function(e){s.carrier[r][e.code]=[]}))),u.carrier[o.code]=h(u.carrier[o.code]),u.carrier[o.code].LOAD=p(u.carrier[o.code].LOAD),u.carrier[o.code].total=p(u.carrier[o.code].total),u.carrier.total.LOAD=p(u.carrier.total.LOAD),n.total=0}else{var i=t.id+"-"+o.code;for(var c in n.type=o.code,u)"carrier"!=c&&(u[c][o.code]=h(u[c][o.code]));e.moveR.map((function(e){for(var t in n[e.code]=[],u)"carrier"!=t&&(u[t].total[e.code]=p(u[t].total[e.code]),u[t][o.code][e.code]=p(u[t][o.code][e.code]),u[t][o.code].total=p(u[t][o.code].total))})),n.total=0,"seaport"==t.type?(s.onhire[i]=JSON.parse(JSON.stringify(n)),s.offhire[i]=JSON.parse(JSON.stringify(n))):(t.scope.includes("P")&&(s.port[i]=JSON.parse(JSON.stringify(n))),t.scope.includes("D")&&!t.scope.includes("P")&&(s.depot[i]=JSON.parse(JSON.stringify(n))),t.scope.includes("P")||t.scope.includes("D")||t.scope.includes("C")||(s.noscope[i]=JSON.parse(JSON.stringify(n))))}}))})),t.map((function(t){if(t.off_port)s.offhire[t.off_port+"-"+t.cont_type_code].OFHI.push(t),u.offhire[t.cont_type_code].OFHI++,u.offhire.total.OFHI++;else if(t.movement)if("LOAD"==t.movement.move_code){var n=t.movement.place+"-"+t.movement.pol+"-"+t.movement.pod+"-"+t.cont_type_code;e.placeR.find((function(e){return e.id==t.movement.place&&e.pol==t.pol&&e.pod==t.pod})),s.carrier[n].LOAD=d(s.carrier[n].LOAD),m(s,u,t,"carrier",n)}else{var o=t.movement.place+"-"+t.cont_type_code,r=e.placeR.find((function(e){return e.id==t.movement.place&&e.scope.includes("P")})),i=e.placeR.find((function(e){return e.id==t.movement.place&&e.scope.includes("D")&&!e.scope.includes("P")}));switch(!0){case!!r:s.port[o][t.movement.move_code]=d(s.port[o][t.movement.move_code]),m(s,u,t,"port",o);break;case!!i:s.depot[o][t.movement.move_code]=d(s.depot[o][t.movement.move_code]),m(s,u,t,"depot",o);break;default:s.noscope[o][t.movement.move_code]=d(s.noscope[o][t.movement.move_code]),m(s,u,t,"noscope",o)}u.all[t.cont_type_code][t.movement.move_code]++,u.all.total[t.movement.move_code]++}else"container"==e.modul&&(s.onhire[t.on_port+"-"+t.cont_type_code].ONHI.push(t),u.onhire[t.cont_type_code].ONHI++,u.onhire.total.ONHI++)})),s){var b=s[f],y=function(t){var n=b[t];n.total||(n.total=0),e.moveR.map((function(e){"LOAD"==n.move_code&&"LOAD"!=e.code&&(n[e.code]=[]),n.total+=n[e.code].length}))};for(var g in b)y(g)}this.contTypeR.map((function(t){e.moveR.map((function(e){u.onhire[t.code].total+=u.onhire[t.code][e.code],u.onhire.total.total=p(u.onhire.total.total),u.onhire.total.total+=u.onhire[t.code][e.code],u.offhire[t.code].total+=u.offhire[t.code][e.code],u.offhire.total.total=p(u.offhire.total.total),u.offhire.total.total+=u.offhire[t.code][e.code],u.port[t.code].total+=u.port[t.code][e.code],u.port.total.total=p(u.port.total.total),u.port.total.total+=u.port[t.code][e.code],u.depot[t.code].total+=u.depot[t.code][e.code],u.depot.total.total=p(u.depot.total.total),u.depot.total.total+=u.depot[t.code][e.code],"LOAD"==e.code&&(u.carrier[t.code].total+=u.carrier[t.code][e.code],u.carrier.total.total=p(u.carrier.total.total),u.carrier.total.total+=u.carrier[t.code][e.code]),u.noscope[t.code].total+=u.noscope[t.code][e.code],u.noscope.total.total=p(u.noscope.total.total),u.noscope.total.total+=u.noscope[t.code][e.code]}))})),this.moveReport={header:v,data:s,place:this.placeR,contType:this.contTypeR,total:u},this.onContainersListChanged.next(t)}}]),e}()).\u0275fac=function(e){return new(e||o)(H.bc(G.a),H.bc(U.f),H.bc(E.a),H.bc(M.a))},o.\u0275prov=H.Nb({token:o,factory:o.\u0275fac}),o),Q=n("B9zo"),Y=n("fE3o"),V=n("4qw1"),Z=n("XiUz");function K(e,t){if(1&e){var n=H.Yb();H.Xb(0,"fuse-sidebar",9),H.Xb(1,"container-overview-sidebar",10),H.fc("filterContainer",(function(e){return H.Bc(n),H.jc().filterContainer(e)})),H.Wb(),H.Wb()}if(2&e){var o=H.jc();H.Db(1),H.pc("modul",o.modul)("height",o.height)("lease",o.lease)("supplier",o.supplier)("contType",o.packageType)("moveType",o.moveType)("country",o.countryR)("city",o.cityR)("place",o.placeR)}}function $(e,t){1&e&&H.Sb(0,"router-outlet")}var ee,te,ne=((ee=function(){function e(t,n,o,r){_classCallCheck(this,e),this._fuseSidebarService=t,this.containerService=n,this.router=o,this.authService=r,this.type="list",this.sidebarPanel=!0,this.height=560,this.searchInput=new B.e(""),this._unsubscribeAll=new P.a,this.modul=this.authService.modul}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.urlChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.modul=e.authService.modul})),this.searchText=this.containerService.searchText,this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.containerService.onContainersListChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.countryR=e.containerService.countryR,e.cityR=e.containerService.cityR,e.placeR=e.containerService.placeR})),this.containerService.onDataChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.lease=t[0],e.leaseDetail=t[1],e.packageType=t[2],e.supplier=t[3],e.seaport=t[4],e.containerCode=t[5],e.moveType=t[6]})),this.containerService.onSetFilterChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.containerOverviewSidebarComponent.setFilter(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deselectCurrentContainer",value:function(){}},{key:"toggleSelectAll",value:function(){}},{key:"selectContainers",value:function(e,t){}},{key:"deselectContainers",value:function(){}},{key:"toggleTagOnSelectedContainers",value:function(e){}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"filterContainer",value:function(e){this.containerService.onFilterChanged.next(e)}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.containerService)}},{key:"newContainer",value:function(e){this.router.navigate(["/apps/workflow/container-overview/form/0"])}},{key:"searchFilter",value:function(e){this.containerService.onSearchTextChanged.next(e)}}]),e}()).\u0275fac=function(e){return new(e||ee)(H.Rb(X.a),H.Rb(q),H.Rb(r.g),H.Rb(M.a))},ee.\u0275cmp=H.Lb({type:ee,selectors:[["container-overview"]],viewQuery:function(e,t){var n;1&e&&H.Sc(W.a,!0),2&e&&H.wc(n=H.gc())&&(t.containerOverviewSidebarComponent=n.first)},decls:9,vars:6,consts:[["id","shipment",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","container-overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","container-overview-setting","position","right",1,"sidebar"],[1,"content"],[1,"center","mr-0","ml-0"],[3,"modul","type","searchText","sidebarName","showHideBar","refreshPage","toggleSidebar","newContainer","searchFilter"],[1,"content-card",2,"border","none","border-radius","0"],["fxFlexAlign","row",1,"content","m-8"],[4,"ngIf"],["name","container-overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"modul","height","lease","supplier","contType","moveType","country","city","place","filterContainer"]],template:function(e,t){1&e&&(H.Xb(0,"div",0),H.Jc(1,K,2,9,"fuse-sidebar",1),H.Xb(2,"fuse-sidebar",2),H.Sb(3,"div",3),H.Wb(),H.Xb(4,"div",4),H.Xb(5,"container-overview-header",5),H.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newContainer",(function(e){return t.newContainer(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),H.Wb(),H.Xb(6,"div",6),H.Xb(7,"div",7),H.Jc(8,$,1,0,"router-outlet",8),H.Wb(),H.Wb(),H.Wb(),H.Wb()),2&e&&(H.Db(1),H.pc("ngIf",t.sidebarPanel),H.Db(4),H.pc("modul",t.modul)("type",t.type)("searchText",t.searchText)("sidebarName","container-overview-sidebar"),H.Db(3),H.pc("ngIf",!0))},directives:[Q.a,U.t,Y.a,V.a,Z.a,W.a,r.l],styles:["container-overview{width:100%}container-overview .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){container-overview .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}container-overview .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){container-overview .center .content-card container-overview{border-right:0}container-overview .center .content-card container-overview,container-overview .center .content-card shipment-details{-webkit-box-flex:1;flex:1 0 100%}container-overview .center .content-card shipment-details{display:none!important}container-overview .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}container-overview .center .content-card.current-shipment-selected .content container-overview,container-overview .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}container-overview .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:N.a}}),ee),oe=n("GylT"),re=((te=function(){function e(t,n,o){_classCallCheck(this,e),this._activatedRoute=t,this.authService=n,this.containerService=o,this.height=560,this.modul=this.authService.modul,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.urlChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.modul=e.authService.modul})),this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-16-4:e.authService.screenHeight-64-64-16-4})),this.containerService.onContainersListChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.containers=t})),this.containerService.onDataChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.packageType=t[2],e.containerCode=t[5],e.moveType=t[6],e.modul=e.containerService.modul}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"filterColumn",value:function(e){this.containerService.onFilterColumnChanged.next(e)}}]),e}()).\u0275fac=function(e){return new(e||te)(H.Rb(r.a),H.Rb(M.a),H.Rb(q))},te.\u0275cmp=H.Lb({type:te,selectors:[["container-overview-list"]],decls:1,vars:6,consts:[[3,"modul","containers","packageType","moveType","containerCode","height","filterColumn"]],template:function(e,t){1&e&&(H.Xb(0,"container-overview-list-table",0),H.fc("filterColumn",(function(e){return t.filterColumn(e)})),H.Wb()),2&e&&H.pc("modul",t.modul)("containers",t.containers)("packageType",t.packageType)("moveType",t.moveType)("containerCode",t.containerCode)("height",t.height)},directives:[oe.a],styles:[""],encapsulation:2,data:{animation:N.a}}),te),ie=n("ZzBW"),ce=n("WruQ");function ae(e,t){if(1&e){var n=H.Yb();H.Xb(0,"container-overview-place-list",1),H.fc("setFilter",(function(e){return H.Bc(n),H.jc().setFilter(e)})),H.Wb()}if(2&e){var o=H.jc();H.pc("label","ON HIRE")("header",o.moveReport.header)("places",o.seaportReport)("contType",o.moveReport.contType)("data",o.moveReport.data.onhire)("total",o.moveReport.total.onhire)}}function le(e,t){if(1&e){var n=H.Yb();H.Xb(0,"container-overview-place-list",1),H.fc("setFilter",(function(e){return H.Bc(n),H.jc().setFilter(e)})),H.Wb()}if(2&e){var o=H.jc();H.pc("label","OFF HIRE")("header",o.moveReport.header)("places",o.seaportReport)("contType",o.moveReport.contType)("data",o.moveReport.data.offhire)("total",o.moveReport.total.offhire)}}var se,ue,pe=((se=function(){function e(t,n,o){_classCallCheck(this,e),this._activatedRoute=t,this.authService=n,this.containerService=o,this.height=560,this.modul=this.authService.modul,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.urlChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.modul=e.authService.modul})),this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.width<600?t.height-16-4:t.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){var n=t?64:0;e.height=e.authService.screenWidth<600?e.authService.screenHeight-16-4+n:e.authService.screenHeight-64-64-16-4+n})),this.containerService.onContainersListChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.moveReport=e.containerService.moveReport,e.seaportReport=e.moveReport.place.filter((function(e){return"seaport"==e.type})),e.portReport=e.moveReport.place.filter((function(e){return e.scope&&e.scope.includes("P")})),e.depotReport=e.moveReport.place.filter((function(e){return e.scope&&e.scope.includes("D")&&!e.scope.includes("P")})),e.carrierReport=e.moveReport.place.filter((function(e){return e.scope&&e.scope.includes("C")})),e.noscopeReport=e.moveReport.place.filter((function(e){return e.scope&&!e.scope.includes("C")&&!e.scope.includes("P")&&!e.scope.includes("D")}))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setFilter",value:function(e){this.containerService.onSetFilterChanged.next(e)}}]),e}()).\u0275fac=function(e){return new(e||se)(H.Rb(r.a),H.Rb(M.a),H.Rb(q))},se.\u0275cmp=H.Lb({type:se,selectors:[["container-overview-place"]],decls:7,vars:28,consts:[["fxLayout","column"],[3,"label","header","places","contType","data","total","setFilter"],[3,"label","header","places","contType","data","total","setFilter",4,"ngIf"]],template:function(e,t){1&e&&(H.Xb(0,"div",0),H.Xb(1,"container-overview-place-list",1),H.fc("setFilter",(function(e){return t.setFilter(e)})),H.Wb(),H.Xb(2,"container-overview-place-list",1),H.fc("setFilter",(function(e){return t.setFilter(e)})),H.Wb(),H.Xb(3,"container-overview-place-carrier",1),H.fc("setFilter",(function(e){return t.setFilter(e)})),H.Wb(),H.Xb(4,"container-overview-place-list",1),H.fc("setFilter",(function(e){return t.setFilter(e)})),H.Wb(),H.Jc(5,ae,1,6,"container-overview-place-list",2),H.Jc(6,le,1,6,"container-overview-place-list",2),H.Wb()),2&e&&(H.Ic("height",t.height,"px"),H.Db(1),H.pc("label","PORT")("header",t.moveReport.header)("places",t.portReport)("contType",t.moveReport.contType)("data",t.moveReport.data.port)("total",t.moveReport.total.port),H.Db(1),H.pc("label","DEPOT")("header",t.moveReport.header)("places",t.depotReport)("contType",t.moveReport.contType)("data",t.moveReport.data.depot)("total",t.moveReport.total.depot),H.Db(1),H.pc("label","CARRIER")("header",t.moveReport.header)("places",t.carrierReport)("contType",t.moveReport.contType)("data",t.moveReport.data.carrier)("total",t.moveReport.total.carrier),H.Db(1),H.pc("label","NOSCOPE")("header",t.moveReport.header)("places",t.noscopeReport)("contType",t.moveReport.contType)("data",t.moveReport.data.noscope)("total",t.moveReport.total.noscope),H.Db(1),H.pc("ngIf","container"==t.modul),H.Db(1),H.pc("ngIf","container"==t.modul))},directives:[Z.d,ie.a,ce.a,U.t],styles:[""],encapsulation:2,data:{animation:N.a}}),se),he=n("r6Sg"),de=((ue=function(){function e(t,n,o){_classCallCheck(this,e),this._activatedRoute=t,this.authService=n,this.containerService=o,this.height=560,this.modul=this.authService.modul,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.urlChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.modul=e.authService.modul})),this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.width<600?t.height-16-4:t.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){var n=t?64:0;e.height=e.authService.screenWidth<600?e.authService.screenHeight-16-4+n:e.authService.screenHeight-64-64-16-4+n})),this.containerService.onContainersListChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.containerReport=e.containerService.containerReport,e.leaseReport=e.containerService.leaseReport}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setFilter",value:function(e){this.containerService.onSetFilterChanged.next(e)}}]),e}()).\u0275fac=function(e){return new(e||ue)(H.Rb(r.a),H.Rb(M.a),H.Rb(q))},ue.\u0275cmp=H.Lb({type:ue,selectors:[["container-overview-owner"]],decls:1,vars:4,consts:[[3,"modul","containerReport","leaseReport","height","setFilter"]],template:function(e,t){1&e&&(H.Xb(0,"container-overview-owner-table",0),H.fc("setFilter",(function(e){return t.setFilter(e)})),H.Wb()),2&e&&H.pc("modul",t.modul)("containerReport",t.containerReport)("leaseReport",t.leaseReport)("height",t.height)},directives:[he.a],styles:[""],encapsulation:2,data:{animation:N.a}}),ue),me=n("vxfF"),ve=n("cfqv"),fe=n("CEJ5"),be=n("z4xR"),ye=n("9DWm"),ge=n("0mUG"),_e=n("V9Ia"),Se=n("1Tuo"),Ce=n("9FSO");n.d(t,"ContainerOverviewModule",(function(){return Oe}));var we,Re=[{path:"",component:ne,resolve:{data:q},children:[{path:"list",component:re},{path:"owner",component:de},{path:"place",component:pe}]}],Oe=((we=function e(){_classCallCheck(this,e)}).\u0275mod=H.Pb({type:we}),we.\u0275inj=H.Ob({factory:function(e){return new(e||we)},providers:[q],imports:[[r.k.forChild(Re),c.b,i.a,a.b,l.c,s.c,u.b,p.e,h.b,d.b,m.c,v.c,f.b,b.c,y.e,g.b,_.b,S.b,C.d,w.e,R.b,O.b,k.b,x.k,A.c,T.t,F.a,D.a,j.a,I.f,me.g,ve.b,fe.a,be.a,ye.a,ge.a,_e.a,Se.a,Ce.a]]}),we)},jD4G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"filterArrayByString",value:function(e,t){var n=this;return""===t?e:(t=t.toLowerCase(),e.filter((function(e){return n.searchInObj(e,t)})))}},{key:"searchInObj",value:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if("string"==typeof o){if(this.searchInString(o,t))return!0}else if(Array.isArray(o)&&this.searchInArray(o,t))return!0;if("object"==typeof o&&this.searchInObj(o,t))return!0}}},{key:"searchInArray",value:function(e,t){var n=!0,o=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var a=i.value;if("string"==typeof a&&this.searchInString(a,t))return!0;if("object"==typeof a&&this.searchInObj(a,t))return!0}}catch(l){o=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}}},{key:"searchInString",value:function(e,t){return e.toLowerCase().includes(t)}},{key:"generateGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()}},{key:"toggleInArray",value:function(e,t){-1===t.indexOf(e)?t.push(e):t.splice(t.indexOf(e),1)}},{key:"handleize",value:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}]),e}()}}]);