(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"4hII":function(t,a,e){"use strict";e.d(a,"a",(function(){return u}));var r=e("fXoL"),o=e("3Pt+"),i=e("kmnG"),n=e("qFsG"),l=e("ofXK");function c(t,a){if(1&t&&(r.Xb(0,"mat-error"),r.Lc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(" ",t.data.label," is required ")}}let u=(()=>{class t{constructor(){this.isFormValid=new r.o}ngOnInit(){}ngOnChanges(t){t.valid&&t.valid.currentValue&&(this.valid=t.valid.currentValue,this.validateFormDetail(this.valid))}validateFormDetail(t){!0===t&&(this.markFormGroupTouched(this.form),this.isFormValid.emit(this.form.valid))}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&this.markFormGroupTouched(t)})}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["stardard-input"]],inputs:{form:"form",data:"data",valid:"valid",noRequired:"noRequired"},outputs:{isFormValid:"isFormValid"},features:[r.Bb()],decls:6,vars:10,consts:[[1,"w-100-p",3,"formGroup"],[1,"w-100-p","pr-8",3,"appearance","floatLabel"],["inputCheck","","matInput","",3,"type","formControlName","maxLength","required","readonly"],[4,"ngIf"]],template:function(t,a){1&t&&(r.Xb(0,"form",0),r.Xb(1,"mat-form-field",1),r.Xb(2,"mat-label"),r.Lc(3),r.Wb(),r.Sb(4,"input",2),r.Jc(5,c,2,1,"mat-error",3),r.Wb(),r.Wb()),2&t&&(r.pc("formGroup",a.form),r.Db(1),r.pc("appearance",a.data.appearance)("floatLabel",a.data.floatLabel),r.Db(2),r.Mc(a.data.label),r.Db(1),r.pc("type",a.data.type)("formControlName",a.data.formControlName)("maxLength",a.data.maxLength)("required",a.data.required&&!a.noRequired)("readonly",a.data.readonly),r.Db(1),r.pc("ngIf",a.data.required&&a.form.get(a.data.formControlName).hasError("required")))},directives:[o.A,o.q,o.h,i.c,i.f,n.b,o.b,o.p,o.g,o.w,l.t,i.b],styles:["stardard-input[_ngcontent-%COMP%]{width:100%}"]}),t})()},AvYj:function(t,a,e){"use strict";e.d(a,"a",(function(){return l}));var r=e("fXoL"),o=e("3Pt+"),i=e("kmnG"),n=e("qFsG");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["readonly-input"]],inputs:{form:"form",data:"data"},decls:6,vars:6,consts:[[1,"w-100-p",3,"formGroup"],[1,"w-100-p","pr-8",3,"appearance","floatLabel"],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","",2,"display","none",3,"formControlName"]],template:function(t,a){1&t&&(r.Xb(0,"form",0),r.Xb(1,"mat-form-field",1),r.Xb(2,"mat-label"),r.Lc(3),r.Wb(),r.Sb(4,"input",2),r.Sb(5,"input",3),r.Wb(),r.Wb()),2&t&&(r.pc("formGroup",a.form),r.Db(1),r.pc("appearance",a.data.appearance)("floatLabel",a.data.floatLabel),r.Db(2),r.Mc(a.data.label),r.Db(1),r.pc("value",a.data.viewValue),r.Db(1),r.pc("formControlName",a.data.formControlName))},directives:[o.A,o.q,o.h,i.c,i.f,n.b,o.b,o.p,o.g],styles:["readonly-input[_ngcontent-%COMP%]{width:100%}"]}),t})()},QHLG:function(t,a,e){"use strict";e.d(a,"a",(function(){return b}));var r=e("fXoL"),o=e("JX91"),i=e("lJxs"),n=e("0Zc1"),l=e("3Pt+"),c=e("kmnG"),u=e("qFsG"),s=e("/1cH"),m=e("ofXK"),d=e("FKr1");function f(t,a){if(1&t&&(r.Xb(0,"mat-option",7),r.Lc(1),r.Wb()),2&t){const t=a.$implicit,e=r.jc();r.pc("value",t.id),r.Db(1),r.Nc(" ",t[e.data.optionView]," ")}}function p(t,a){if(1&t&&(r.Xb(0,"mat-error"),r.Lc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(" ",t.data.label," is required ")}}let b=(()=>{class t{constructor(t){this.commonService=t,this.isFormValid=new r.o}ngOnInit(){this.filteredArrItem=this.form.controls[this.data.formControlName].valueChanges.pipe(Object(o.a)(""),Object(i.a)(t=>t?"string"==typeof t?t:t[this.data.autocompleteView]:null),Object(i.a)(t=>t?this.commonService.filterData(t,this.data.autocompleteView,this.autoItemData):[]))}ngOnChanges(t){t.valid&&t.valid.currentValue&&(this.valid=t.valid.currentValue,this.validateFormDetail(this.valid))}validateFormDetail(t){!0===t&&(this.markFormGroupTouched(this.form),this.isFormValid.emit(this.form.valid))}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&this.markFormGroupTouched(t)})}}return t.\u0275fac=function(a){return new(a||t)(r.Rb(n.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["autocomplete-input"]],inputs:{form:"form",data:"data",autoItemData:"autoItemData",valid:"valid",noRequired:"noRequired"},outputs:{isFormValid:"isFormValid"},features:[r.Bb()],decls:10,vars:12,consts:[[1,"w-100-p",3,"formGroup"],[1,"w-100-p","pr-8",3,"appearance","floatLabel"],["inputCheck","","matInput","",3,"formControlName","matAutocomplete","required"],[3,"displayWith"],["autoItem","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(t,a){if(1&t&&(r.Xb(0,"form",0),r.Xb(1,"mat-form-field",1),r.Xb(2,"mat-label"),r.Lc(3),r.Wb(),r.Sb(4,"input",2),r.Xb(5,"mat-autocomplete",3,4),r.Jc(7,f,2,2,"mat-option",5),r.kc(8,"async"),r.Wb(),r.Jc(9,p,2,1,"mat-error",6),r.Wb(),r.Wb()),2&t){const t=r.xc(6);r.pc("formGroup",a.form),r.Db(1),r.pc("appearance",a.data.appearance)("floatLabel",a.data.floatLabel),r.Db(2),r.Mc(a.data.label),r.Db(1),r.pc("formControlName",a.data.formControlName)("matAutocomplete",t)("required",a.data.required&&!a.noRequired),r.Db(1),r.pc("displayWith",a.commonService.displayFn.bind(a,a.data.optionView,a.autoItemData)),r.Db(2),r.pc("ngForOf",r.lc(8,10,a.filteredArrItem)),r.Db(2),r.pc("ngIf",a.data.required&&a.form.get(a.data.formControlName).hasError("required"))}},directives:[l.A,l.q,l.h,c.c,c.f,u.b,l.b,s.c,l.p,l.g,l.w,s.a,m.s,m.t,d.n,c.b],pipes:[m.b],styles:["autocomplete-input[_ngcontent-%COMP%]{width:100%}"]}),t})()},XXvL:function(t,a,e){"use strict";e.d(a,"a",(function(){return d}));var r=e("STbY"),o=e("NFeN"),i=e("/t3+"),n=e("bTqV"),l=e("kmnG"),c=e("0IaG"),u=e("5HBU"),s=e("LPQX"),m=e("fXoL");let d=(()=>{class t{}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(a){return new(a||t)},imports:[[n.c,n.c,l.e,r.b,o.b,i.b,u.a,c.e,s.h]]}),t})()},fcXU:function(t,a,e){"use strict";e.d(a,"a",(function(){return k}));var r=e("fXoL"),o=e("0IaG"),i=e("3Pt+"),n=e("Kj3r"),l=e("/uUt"),c=e("tyNb"),u=e("qXBG"),s=e("0Zc1"),m=e("ofXK"),d=e("/t3+"),f=e("XiUz"),p=e("bTqV"),b=e("NFeN"),h=e("EwFO"),I=e("AvYj"),g=e("znSr"),v=e("QHLG"),y=e("q1B1"),w=e("4hII");const F=["formDirective"],x=function(t){return{hide:t}};function V(t,a){if(1&t&&r.Sb(0,"readonly-input",20),2&t){const t=r.jc(2).$implicit,a=r.jc();r.pc("form",a.form)("data",t)("fxFlex",t.fxFlex)("ngClass",r.rc(4,x,t.hideInput))}}function C(t,a){if(1&t){const t=r.Yb();r.Xb(0,"autocomplete-input",21),r.fc("isFormValid",(function(a){return r.Bc(t),r.jc(3).checkValid(a)})),r.Wb()}if(2&t){const t=r.jc(2).$implicit,a=r.jc();r.pc("form",a.form)("data",t)("autoItemData",a.arrAutoItem[t.formControlName])("valid",a.formValidate)("fxFlex",t.fxFlex)("ngClass",r.rc(6,x,t.hideInput))}}function D(t,a){if(1&t){const t=r.Yb();r.Xb(0,"select-input",21),r.fc("isFormValid",(function(a){return r.Bc(t),r.jc(3).checkValid(a)})),r.Wb()}if(2&t){const t=r.jc(2).$implicit,a=r.jc();r.pc("form",a.form)("data",t)("autoItemData",a.arrAutoItem[t.formControlName])("valid",a.formValidate)("fxFlex",t.fxFlex)("ngClass",r.rc(6,x,t.hideInput))}}function q(t,a){if(1&t){const t=r.Yb();r.Xb(0,"stardard-input",22),r.fc("isFormValid",(function(a){return r.Bc(t),r.jc(3).checkValid(a)})),r.Wb()}if(2&t){const t=r.jc(2).$implicit,a=r.jc();r.pc("form",a.form)("data",t)("valid",a.formValidate)("fxFlex",t.fxFlex)("ngClass",r.rc(5,x,t.hideInput))}}function L(t,a){if(1&t&&(r.Vb(0,16),r.Jc(1,V,1,6,"readonly-input",17),r.Jc(2,C,1,8,"autocomplete-input",18),r.Jc(3,D,1,8,"select-input",18),r.Jc(4,q,1,7,"stardard-input",19),r.Ub()),2&t){const t=r.jc().$implicit;r.pc("ngSwitch",!0),r.Db(1),r.pc("ngSwitchCase","readonly"==t.type),r.Db(1),r.pc("ngSwitchCase","autocomplete"==t.type),r.Db(1),r.pc("ngSwitchCase","select"==t.type)}}function X(t,a){if(1&t&&(r.Vb(0),r.Jc(1,L,5,4,"ng-container",15),r.Ub()),2&t){const t=a.$implicit;r.Db(1),r.pc("ngIf",!t.noInput)}}let k=(()=>{class t{constructor(t,a,e,o,i,n,l,c){if(this.router=t,this.matDialogRef=a,this._data=e,this.authService=o,this.commonService=i,this.datePipe=n,this.changeDetector=l,this._formBuilder=c,this.formValidate=!1,this.createItem=new r.o,this.updateItem=new r.o,this.label=e.label,this.tableName=e.tableName,this.arrInput=e.arrInput,this.arrAutoItem=e.arrAutoItem,this.defaultAutoItem=JSON.parse(JSON.stringify(this.arrAutoItem)),this.form=this.initFormModel(),e.data&&(this.form.patchValue(e.data),e.data.update_by)){let t=this.arrInput.find(t=>"update_by"==t.formControlName);"text"==t.type&&this.form.controls.update_by.setValue(this.authService.email),"number"==t.type&&this.form.controls.update_by.setValue(this.authService.user)}this.label.includes("Add")&&this.form.controls.id.disable()}ngOnInit(){switch(this.tableName){case"price":this.form.controls.name.valueChanges.pipe(Object(n.a)(300),Object(l.a)()).subscribe(t=>{t&&this.arrAutoItem.unit.map(a=>{t.includes(a.code)&&(this.form.controls.unit.setValue(a.id),this.form.controls.type_group.setValue(1))})});break;case"truck-point":this.form.controls.country_id.valueChanges.pipe(Object(n.a)(300),Object(l.a)()).subscribe(t=>{"string"!=typeof t&&(this.arrAutoItem.sea_ref=this.defaultAutoItem.sea_ref.filter(a=>a.country_id==t),this.arrAutoItem.cfs_ref=this.defaultAutoItem.cfs_ref.filter(a=>a.country_id==t),this.arrAutoItem.air_ref=this.defaultAutoItem.air_ref.filter(a=>a.country_id==t))}),this.form.controls.type.valueChanges.subscribe(t=>{switch(t){case 1:this.arrInput[6].hideInput=!1,this.arrInput[6].required=!this.arrInput[6].hideInput,this.form.controls.sea_ref.setValue(null),this.arrInput[7].hideInput=!0,this.arrInput[7].required=!this.arrInput[7].hideInput,this.form.controls.cfs_ref.setValue(null),this.arrInput[8].hideInput=!0,this.arrInput[8].required=!this.arrInput[8].hideInput,this.form.controls.air_ref.setValue(null);break;case 2:this.arrInput[6].hideInput=!0,this.arrInput[6].required=!this.arrInput[6].hideInput,this.form.controls.sea_ref.setValue(null),this.arrInput[7].hideInput=!1,this.arrInput[7].required=!this.arrInput[7].hideInput,this.form.controls.cfs_ref.setValue(null),this.arrInput[8].hideInput=!0,this.arrInput[8].required=!this.arrInput[8].hideInput,this.form.controls.air_ref.setValue(null);break;case 3:this.arrInput[6].hideInput=!0,this.arrInput[6].required=!this.arrInput[6].hideInput,this.form.controls.sea_ref.setValue(null),this.arrInput[7].hideInput=!0,this.arrInput[7].required=!this.arrInput[7].hideInput,this.form.controls.cfs_ref.setValue(null),this.arrInput[8].hideInput=!1,this.arrInput[8].required=!this.arrInput[8].hideInput,this.form.controls.air_ref.setValue(null);break;default:this.arrInput[6].hideInput=!0,this.arrInput[6].required=!this.arrInput[6].hideInput,this.form.controls.sea_ref.setValue(null),this.arrInput[7].hideInput=!0,this.arrInput[7].required=!this.arrInput[7].hideInput,this.form.controls.cfs_ref.setValue(null),this.arrInput[8].hideInput=!0,this.arrInput[8].required=!this.arrInput[8].hideInput,this.form.controls.air_ref.setValue(null)}})}}ngAfterViewChecked(){this.changeDetector.detectChanges()}initFormModel(){let t={};return this.arrInput.map(a=>{a.noInput||(t[a.formControlName]=0==a.value?[0]:[a.value?a.value:null],a.required&&t[a.formControlName].push(i.y.required))}),this._formBuilder.group(t)}onFormSubmit(t){if(t.valid){let a=JSON.parse(JSON.stringify(t.value));if(this.arrInput.filter(t=>"autocomplete"==t.type).map(t=>{"string"==typeof a[t.formControlName]&&this.form.controls[t.formControlName].setValue(null)}),!this.form.valid)return void(this.formValidate=!0);this.label.includes("Add")?this.createItem.emit(a):(this.arrInput.find(t=>"update_at"==t.formControlName)&&(a.update_at=this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")),this.updateItem.emit(a))}else this.formValidate=!0}checkValid(t){this.formValidate=!1}}return t.\u0275fac=function(a){return new(a||t)(r.Rb(c.g),r.Rb(o.f),r.Rb(o.a),r.Rb(u.a),r.Rb(s.a),r.Rb(m.f),r.Rb(r.h),r.Rb(i.d))},t.\u0275cmp=r.Lb({type:t,selectors:[["form-modal-dialog"]],viewQuery:function(t,a){var e;1&t&&r.Sc(F,!0),2&t&&r.wc(e=r.gc())&&(a.shipmentNgForm=e.first)},decls:22,vars:4,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","form-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"form","data","fxFlex","ngClass",4,"ngSwitchCase"],[3,"form","data","autoItemData","valid","fxFlex","ngClass","isFormValid",4,"ngSwitchCase"],[3,"form","data","valid","fxFlex","ngClass","isFormValid",4,"ngSwitchDefault"],[3,"form","data","fxFlex","ngClass"],[3,"form","data","autoItemData","valid","fxFlex","ngClass","isFormValid"],[3,"form","data","valid","fxFlex","ngClass","isFormValid"]],template:function(t,a){1&t&&(r.Xb(0,"div",0),r.Xb(1,"mat-toolbar",1),r.Xb(2,"mat-toolbar-row",2),r.Xb(3,"span",3),r.Lc(4),r.Wb(),r.Xb(5,"button",4),r.fc("click",(function(t){return a.matDialogRef.close()})),r.Xb(6,"mat-icon"),r.Lc(7,"close"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"div",5),r.Xb(9,"div"),r.Xb(10,"form",6),r.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return a.onFormSubmit(a.form)})),r.Sb(11,"div",7),r.Xb(12,"div",8),r.Jc(13,X,2,1,"ng-container",9),r.Wb(),r.Xb(14,"div",10),r.Xb(15,"div",11),r.Lc(16),r.Wb(),r.Wb(),r.Xb(17,"div",12),r.Xb(18,"button",13),r.Lc(19,"Submit"),r.Wb(),r.Xb(20,"button",14),r.fc("click",(function(t){return a.matDialogRef.close()})),r.Lc(21,"Cancel"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(4),r.Mc(a.label),r.Db(6),r.pc("formGroup",a.form),r.Db(3),r.pc("ngForOf",a.arrInput),r.Db(3),r.Mc(a.errorMessage))},directives:[d.a,d.c,f.b,f.d,f.c,p.b,b.a,o.d,h.a,i.A,i.q,i.h,m.s,m.t,m.x,m.y,m.z,I.a,m.q,g.a,v.a,y.a,w.a],styles:["@media screen and (min-width:600px)and (max-width:959px){.form-modal-dialog{width:100%}}@media screen and (min-width:960px){.form-modal-dialog{width:1080px}}.form-modal-dialog .mat-dialog-container{padding:0}.form-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.form-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.form-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.form-modal-dialog .mat-expansion-panel{box-shadow:none!important}.form-modal-dialog .mat-expansion-panel-body{padding:0!important}"],encapsulation:2}),t})()},q1B1:function(t,a,e){"use strict";e.d(a,"a",(function(){return m}));var r=e("fXoL"),o=e("3Pt+"),i=e("kmnG"),n=e("d3UM"),l=e("ofXK"),c=e("FKr1");function u(t,a){if(1&t&&(r.Xb(0,"mat-option",5),r.Lc(1),r.Wb()),2&t){const t=a.$implicit,e=r.jc();r.pc("value",t.id),r.Db(1),r.Mc(t[e.data.optionView])}}function s(t,a){if(1&t&&(r.Xb(0,"mat-error"),r.Lc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(" ",t.data.label," is required ")}}let m=(()=>{class t{constructor(){this.isFormValid=new r.o}ngOnInit(){}ngOnChanges(t){t.valid&&t.valid.currentValue&&(this.valid=t.valid.currentValue,this.validateFormDetail(this.valid))}validateFormDetail(t){!0===t&&(this.markFormGroupTouched(this.form),this.isFormValid.emit(this.form.valid))}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&this.markFormGroupTouched(t)})}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["select-input"]],inputs:{form:"form",data:"data",autoItemData:"autoItemData",valid:"valid",noRequired:"noRequired"},outputs:{isFormValid:"isFormValid"},features:[r.Bb()],decls:7,vars:8,consts:[[1,"w-100-p",3,"formGroup"],[1,"w-100-p","pr-8",3,"appearance","floatLabel"],[3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(t,a){1&t&&(r.Xb(0,"form",0),r.Xb(1,"mat-form-field",1),r.Xb(2,"mat-label"),r.Lc(3),r.Wb(),r.Xb(4,"mat-select",2),r.Jc(5,u,2,2,"mat-option",3),r.Wb(),r.Jc(6,s,2,1,"mat-error",4),r.Wb(),r.Wb()),2&t&&(r.pc("formGroup",a.form),r.Db(1),r.pc("appearance",a.data.appearance)("floatLabel",a.data.floatLabel),r.Db(2),r.Mc(a.data.label),r.Db(1),r.pc("formControlName",a.data.formControlName)("required",a.data.required&&!a.noRequired),r.Db(1),r.pc("ngForOf",a.autoItemData),r.Db(1),r.pc("ngIf",a.data.required&&a.form.get(a.data.formControlName).hasError("required")))},directives:[o.A,o.q,o.h,i.c,i.f,n.a,o.p,o.g,o.w,l.s,l.t,c.n,i.b],styles:["select-input[_ngcontent-%COMP%]{width:100%}"]}),t})()}}]);