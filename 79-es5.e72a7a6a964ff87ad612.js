function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){r=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{IOBc:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var i=a("5HBU"),r=a("bTqV"),n=a("kmnG"),o=a("NFeN"),s=a("qFsG"),l=a("wZkO"),c=a("/t3+"),u=a("bSwM"),b=a("+0xr"),d=a("FKr1"),p=a("MutI"),f=a("fXoL"),m=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=f.Pb({type:e}),e.\u0275inj=f.Ob({factory:function(t){return new(t||e)},imports:[[i.a,r.c,n.e,o.b,s.c,l.c,c.b,u.b,d.t,p.c,b.k]]}),e}()},URm8:function(e,t,a){"use strict";a.r(t);var i,r=a("tyNb"),n=a("5HBU"),o=a("STbY"),s=a("/1cH"),l=a("iadO"),c=a("bTqV"),u=a("7EHt"),b=a("kmnG"),d=a("NFeN"),p=a("Qu3c"),f=a("qFsG"),m=a("wZkO"),h=a("d3UM"),g=a("QibW"),v=a("0IaG"),x=a("/t3+"),y=a("bSwM"),k=a("M9IT"),w=a("xHqg"),L=a("A5z7"),W=a("bv9b"),X=a("XhcP"),S=a("FKr1"),_=a("1jcm"),D=a("+0xr"),C=a("Dh3D"),q=a("IOBc"),F=a("212X"),O=a("LPQX"),I=a("XNiG"),R=a("1G5W"),P=a("PVWW"),A=a("3Pt+"),M=a("fXoL"),Q=a("qXBG"),E=a("0Zc1"),z=a("2Vo4"),N=a("tk/3"),T=((i=function(){function e(t,a){_classCallCheck(this,e),this._httpClient=t,this.authService=a,this.onDataChanged=new z.a([]),this.onLeaseChanged=new z.a([])}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.authService.routerData=e,this.id=e.params.id,new Promise((function(e,a){Promise.all([t.getLeaseById(t.id),t.getData()]).then((function(t){_slicedToArray(t,1)[0],e()}),a)}))}},{key:"getData",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){e._httpClient.get(e.authService.apiUrl+"/sel/container/data",t).subscribe((function(t){e.packageType=t[2],e.supplier=t[3],e.seaport=t[4],e.leaseCode=t[5],e.moveType=t[6],e.currency=t[6],e.onDataChanged.next(t),a(t)}),i)}))}},{key:"getLeaseById",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.get(t.authService.apiUrl+"/sel/container/lease-id/"+e,a).subscribe((function(e){t.lease=e[0][0],t.leaseDetail=e[1],t.leaseQuota=e[2],t.onLeaseChanged.next(e),i(e)}),r)}))}},{key:"updateLease",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.put(t.authService.apiUrl+"/lease",e,a).subscribe((function(e){i(e)}),r)}))}},{key:"createLeaseDetail",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.post(t.authService.apiUrl+"/lease/details/"+t.id,e,a).subscribe((function(e){i(e)}),r)}))}},{key:"updateLeaseDetail",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.put(t.authService.apiUrl+"/lease/details/"+t.id,e,a).subscribe((function(e){i(e)}),r)}))}},{key:"deleteLeaseDetail",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.delete(t.authService.apiUrl+"/lease/details/"+t.id+"/"+e,a).subscribe((function(e){i(e)}),r)}))}},{key:"createLeaseQuota",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.post(t.authService.apiUrl+"/sel/lease/off-quota/"+t.id,e,a).subscribe((function(e){i(e)}),r)}))}},{key:"updateLeaseQuota",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.put(t.authService.apiUrl+"/sel/lease/off-quota/"+t.id,e,a).subscribe((function(e){i(e)}),r)}))}},{key:"deleteLeaseQuota",value:function(e){var t=this,a={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,r){t._httpClient.delete(t.authService.apiUrl+"/sel/lease/off-quota/"+t.id+"/"+e,a).subscribe((function(e){i(e)}),r)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(M.bc(N.a),M.bc(Q.a))},i.\u0275prov=M.Nb({token:i,factory:i.\u0275fac}),i),B=a("ofXK"),j=a("XiUz"),J=a("EwFO");function H(e,t){1&e&&(M.Xb(0,"div",33),M.Xb(1,"div",34),M.Xb(2,"div",35),M.Sb(3,"div",36),M.Xb(4,"div",37),M.Sb(5,"div",38),M.Wb(),M.Xb(6,"div",39),M.Sb(7,"div",38),M.Wb(),M.Wb(),M.Wb(),M.Wb())}function V(e,t){if(1&e&&(M.Xb(0,"mat-option",40),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function U(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Cont type is required "),M.Wb())}function G(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Rate is required "),M.Wb())}function $(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," DPP is required "),M.Wb())}function Y(e,t){if(1&e&&(M.Xb(0,"mat-option",40),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function K(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Currency is required "),M.Wb())}function Z(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Free time is required "),M.Wb())}function ee(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Minimum is required "),M.Wb())}function te(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Handle in is required "),M.Wb())}function ae(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Handle out is required "),M.Wb())}var ie,re=((ie=function(){function e(t,a,i,r,n,o,s){if(_classCallCheck(this,e),this.matDialogRef=t,this._data=a,this.authService=i,this._formBuilder=r,this.commonService=n,this.leaseDetailsService=o,this.datePipe=s,this.requestProcessing=!1,this.leaseDetailForm=this._formBuilder.group({id:[null,A.y.required],lease:[null,A.y.required],cont_type:[null,A.y.required],rate:[null,A.y.required],dpp:[null,A.y.required],currency:[null,A.y.required],free_time:[null,A.y.required],minimum:[null,A.y.required],handle_in:[null,A.y.required],handle_out:[null,A.y.required],info:[null],update_by:[this.authService.user,A.y.required]}),this.label=a.label,"Edit lease detail"==this.label){var l=JSON.parse(JSON.stringify(a.data));this.packageType=a.packageType,this.currency=a.currency,l.cont_type=this.packageType.find((function(e){return e.id==l.cont_type})),l.currency=this.currency.find((function(e){return e.id==l.currency})),this.leaseDetailForm.patchValue(l),this.leaseDetailForm.controls.update_by.setValue(this.authService.user)}this.permission=a.permission}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.authService.name,this.leaseDetailForm.valueChanges.subscribe((function(t){e.errorMessage=""}))}},{key:"onLeaseNoteFormSubmit",value:function(e){var t=this;if(e.valid){this.requestProcessing=!0;var a=JSON.parse(JSON.stringify(e.value));a.currency=a.currency.id,a.cont_type=a.cont_type.id,this.leaseDetailsService.updateLeaseDetail(a).then((function(e){t.requestProcessing=!1,1==e.affectedRows?(console.log(e),t.matDialogRef.close(e)):(console.error(e),t.errorMessage="Error edit leaseDetail")})).catch((function(e){t.requestProcessing=!1,console.error(e),t.errorMessage="Error edit leaseDetail"}))}}}]),e}()).\u0275fac=function(e){return new(e||ie)(M.Rb(v.f),M.Rb(v.a),M.Rb(Q.a),M.Rb(A.d),M.Rb(E.a),M.Rb(T),M.Rb(B.f))},ie.\u0275cmp=M.Lb({type:ie,selectors:[["lease-details-modal-dialog"]],decls:75,vars:16,consts:[["class","spinner-wrapper",4,"ngIf"],[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","lease-details-modal","fxLayout","column",1,"p-16","pb-0","m-0"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","lease"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","25",1,"pr-8"],["formControlName","cont_type","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["inputCheck","","matInput","","type","number","formControlName","rate","step","0.01","required",""],["inputCheck","","matInput","","type","number","formControlName","dpp","required",""],["formControlName","currency","required",""],["inputCheck","","type","number","matInput","","formControlName","free_time","required",""],["inputCheck","","type","number","matInput","","formControlName","minimum","required",""],["inputCheck","","type","number","matInput","","formControlName","handle_in","required",""],["inputCheck","","type","number","matInput","","formControlName","handle_out","required",""],["appearance","outline","fxFlex","100","fxFlex.gt-xs","75",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","25"],["inputCheck","","matInput","",3,"readonly","value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[1,"spinner-wrapper"],[1,"spinner"],[1,"inner"],[1,"gap"],[1,"left"],[1,"half-circle"],[1,"right"],[3,"value"]],template:function(e,t){1&e&&(M.Jc(0,H,8,0,"div",0),M.Xb(1,"div",1),M.Xb(2,"mat-toolbar",2),M.Xb(3,"mat-toolbar-row",3),M.Xb(4,"span",4),M.Lc(5),M.Wb(),M.Xb(6,"button",5),M.fc("click",(function(e){return t.matDialogRef.close()})),M.Xb(7,"mat-icon"),M.Lc(8,"close"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Xb(9,"div",6),M.Xb(10,"div"),M.Xb(11,"form",7),M.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onLeaseNoteFormSubmit(t.leaseDetailForm)})),M.Xb(12,"div",8),M.Sb(13,"input",9),M.Sb(14,"input",10),M.Wb(),M.Xb(15,"div",11),M.Xb(16,"mat-form-field",12),M.Xb(17,"mat-label"),M.Lc(18,"Cont type"),M.Wb(),M.Xb(19,"mat-select",13),M.Jc(20,V,2,2,"mat-option",14),M.Wb(),M.Jc(21,U,2,0,"mat-error",15),M.Wb(),M.Xb(22,"mat-form-field",12),M.Xb(23,"mat-label"),M.Lc(24,"Rate"),M.Wb(),M.Sb(25,"input",16),M.Jc(26,G,2,0,"mat-error",15),M.Wb(),M.Xb(27,"mat-form-field",12),M.Xb(28,"mat-label"),M.Lc(29,"DPP"),M.Wb(),M.Sb(30,"input",17),M.Jc(31,$,2,0,"mat-error",15),M.Wb(),M.Xb(32,"mat-form-field",12),M.Xb(33,"mat-label"),M.Lc(34,"Currency"),M.Wb(),M.Xb(35,"mat-select",18),M.Jc(36,Y,2,2,"mat-option",14),M.Wb(),M.Jc(37,K,2,0,"mat-error",15),M.Wb(),M.Xb(38,"mat-form-field",12),M.Xb(39,"mat-label"),M.Lc(40,"Free time"),M.Wb(),M.Sb(41,"input",19),M.Jc(42,Z,2,0,"mat-error",15),M.Wb(),M.Xb(43,"mat-form-field",12),M.Xb(44,"mat-label"),M.Lc(45,"Minimum"),M.Wb(),M.Sb(46,"input",20),M.Jc(47,ee,2,0,"mat-error",15),M.Wb(),M.Xb(48,"mat-form-field",12),M.Xb(49,"mat-label"),M.Lc(50,"Handle in"),M.Wb(),M.Sb(51,"input",21),M.Jc(52,te,2,0,"mat-error",15),M.Wb(),M.Xb(53,"mat-form-field",12),M.Xb(54,"mat-label"),M.Lc(55,"Handle out"),M.Wb(),M.Sb(56,"input",22),M.Jc(57,ae,2,0,"mat-error",15),M.Wb(),M.Xb(58,"mat-form-field",23),M.Xb(59,"mat-label"),M.Lc(60,"Info"),M.Wb(),M.Sb(61,"input",24),M.Wb(),M.Xb(62,"mat-form-field",25),M.Xb(63,"mat-label"),M.Lc(64,"Update by"),M.Wb(),M.Sb(65,"input",26),M.Sb(66,"input",27),M.Wb(),M.Wb(),M.Xb(67,"div",28),M.Xb(68,"div",29),M.Lc(69),M.Wb(),M.Wb(),M.Xb(70,"div",30),M.Xb(71,"button",31),M.Lc(72,"Submit"),M.Wb(),M.Xb(73,"button",32),M.fc("click",(function(e){return t.matDialogRef.close()})),M.Lc(74,"Cancel"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.pc("ngIf",t.requestProcessing),M.Db(5),M.Mc(t.label),M.Db(6),M.pc("formGroup",t.leaseDetailForm),M.Db(9),M.pc("ngForOf",t.packageType),M.Db(1),M.pc("ngIf",t.leaseDetailForm.get("cont_type").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("rate").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("dpp").hasError("required")),M.Db(5),M.pc("ngForOf",t.currency),M.Db(1),M.pc("ngIf",t.leaseDetailForm.get("currency").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("free_time").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("minimum").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("handle_in").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseDetailForm.get("handle_out").hasError("required")),M.Db(8),M.pc("readonly",!0)("value",t.name),M.Db(4),M.Mc(t.errorMessage))},directives:[B.t,x.a,x.c,j.b,j.d,j.c,c.b,d.a,v.d,J.a,A.A,A.q,A.h,A.b,A.p,A.g,b.c,b.f,h.a,A.w,B.s,f.b,A.u,S.n,b.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.lease-details-modal-dialog{width:100%}}@media screen and (min-width:960px){.lease-details-modal-dialog{width:1080px}}.lease-details-modal-dialog .mat-dialog-container{padding:0}.lease-details-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.lease-details-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.lease-details-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),ie),ne=a("JX91"),oe=a("lJxs");function se(e,t){1&e&&(M.Xb(0,"div",32),M.Xb(1,"div",33),M.Xb(2,"div",34),M.Sb(3,"div",35),M.Xb(4,"div",36),M.Sb(5,"div",37),M.Wb(),M.Xb(6,"div",38),M.Sb(7,"div",37),M.Wb(),M.Wb(),M.Wb(),M.Wb())}function le(e,t){if(1&e&&(M.Xb(0,"mat-option",39),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.name," ")}}function ce(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Off port is required "),M.Wb())}function ue(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Quota is required "),M.Wb())}function be(e,t){if(1&e&&(M.Xb(0,"mat-option",40),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function de(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Cont type is required "),M.Wb())}var pe,fe,me=((pe=function(){function e(t,a,i,r,n,o,s){var l=this;if(_classCallCheck(this,e),this.matDialogRef=t,this._data=a,this.authService=i,this._formBuilder=r,this.commonService=n,this.leaseDetailsService=o,this.datePipe=s,this.requestProcessing=!1,this.leaseQuotaForm=this._formBuilder.group({id:[null,A.y.required],lease_id:[null,A.y.required],off_port:[null,A.y.required],quota:[null,A.y.required],cont_type:[null,A.y.required],info:[null],update_by:[this.authService.user,A.y.required]}),this.label=a.label,"Edit off quota"==this.label){var c=JSON.parse(JSON.stringify(a.data));this.packageType=a.packageType,this.seaport=a.seaport,c.cont_type=this.packageType.find((function(e){return e.id==c.cont_type})),c.off_port=this.seaport.find((function(e){return e.id==c.off_port})),this.leaseQuotaForm.patchValue(c),this.leaseQuotaForm.controls.update_by.setValue(this.authService.user)}this.filteredSeaport=this.leaseQuotaForm.controls.off_port.valueChanges.pipe(Object(ne.a)(""),Object(oe.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(oe.a)((function(e){return e?l.commonService.filterData(e,"name",l.seaport):[]}))),this.permission=a.permission}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.authService.name,this.leaseQuotaForm.valueChanges.subscribe((function(t){e.errorMessage=""}))}},{key:"onLeaseQuotaFormSubmit",value:function(e){var t=this;if("string"!=typeof e.value.off_port){if(e.valid){this.requestProcessing=!0;var a=JSON.parse(JSON.stringify(e.value));a.off_port=a.off_port.id,a.cont_type=a.cont_type.id,this.leaseDetailsService.updateLeaseQuota(a).then((function(e){t.requestProcessing=!1,1==e.affectedRows?(console.log(e),t.matDialogRef.close(e)):(console.error(e),t.errorMessage="Error edit leaseQuota")})).catch((function(e){t.requestProcessing=!1,console.error(e),t.errorMessage="Error edit leaseQuota"}))}}else this.leaseQuotaForm.controls.off_port.setValue(null)}}]),e}()).\u0275fac=function(e){return new(e||pe)(M.Rb(v.f),M.Rb(v.a),M.Rb(Q.a),M.Rb(A.d),M.Rb(E.a),M.Rb(T),M.Rb(B.f))},pe.\u0275cmp=M.Lb({type:pe,selectors:[["lease-quota-modal-dialog"]],decls:53,vars:15,consts:[["class","spinner-wrapper",4,"ngIf"],[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","lease-quota-modal","fxLayout","column",1,"p-16","pb-0","m-0"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","lease_id"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","33",1,"pr-8"],["inputCheck","","matInput","","formControlName","off_port","required","",3,"matAutocomplete"],[3,"displayWith"],["autoOffport","matAutocomplete"],["style","font-size: 12px",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["inputCheck","","matInput","","type","number","formControlName","quota","required",""],["appearance","outline","fxFlex","50","fxFlex.gt-xs","34",1,"pr-8"],["formControlName","cont_type","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","75",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","25"],["inputCheck","","matInput","",3,"readonly","value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[1,"spinner-wrapper"],[1,"spinner"],[1,"inner"],[1,"gap"],[1,"left"],[1,"half-circle"],[1,"right"],[2,"font-size","12px",3,"value"],[3,"value"]],template:function(e,t){if(1&e&&(M.Jc(0,se,8,0,"div",0),M.Xb(1,"div",1),M.Xb(2,"mat-toolbar",2),M.Xb(3,"mat-toolbar-row",3),M.Xb(4,"span",4),M.Lc(5),M.Wb(),M.Xb(6,"button",5),M.fc("click",(function(e){return t.matDialogRef.close()})),M.Xb(7,"mat-icon"),M.Lc(8,"close"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Xb(9,"div",6),M.Xb(10,"div"),M.Xb(11,"form",7),M.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onLeaseQuotaFormSubmit(t.leaseQuotaForm)})),M.Xb(12,"div",8),M.Sb(13,"input",9),M.Sb(14,"input",10),M.Wb(),M.Xb(15,"div",11),M.Xb(16,"mat-form-field",12),M.Xb(17,"mat-label"),M.Lc(18,"Off port"),M.Wb(),M.Sb(19,"input",13),M.Xb(20,"mat-autocomplete",14,15),M.Jc(22,le,2,2,"mat-option",16),M.kc(23,"async"),M.Wb(),M.Jc(24,ce,2,0,"mat-error",17),M.Wb(),M.Xb(25,"mat-form-field",12),M.Xb(26,"mat-label"),M.Lc(27,"Quota"),M.Wb(),M.Sb(28,"input",18),M.Jc(29,ue,2,0,"mat-error",17),M.Wb(),M.Xb(30,"mat-form-field",19),M.Xb(31,"mat-label"),M.Lc(32,"Cont type"),M.Wb(),M.Xb(33,"mat-select",20),M.Jc(34,be,2,2,"mat-option",21),M.Wb(),M.Jc(35,de,2,0,"mat-error",17),M.Wb(),M.Xb(36,"mat-form-field",22),M.Xb(37,"mat-label"),M.Lc(38,"Info"),M.Wb(),M.Sb(39,"input",23),M.Wb(),M.Xb(40,"mat-form-field",24),M.Xb(41,"mat-label"),M.Lc(42,"Update by"),M.Wb(),M.Sb(43,"input",25),M.Sb(44,"input",26),M.Wb(),M.Wb(),M.Xb(45,"div",27),M.Xb(46,"div",28),M.Lc(47),M.Wb(),M.Wb(),M.Xb(48,"div",29),M.Xb(49,"button",30),M.Lc(50,"Submit"),M.Wb(),M.Xb(51,"button",31),M.fc("click",(function(e){return t.matDialogRef.close()})),M.Lc(52,"Cancel"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e){var a=M.xc(21);M.pc("ngIf",t.requestProcessing),M.Db(5),M.Mc(t.label),M.Db(6),M.pc("formGroup",t.leaseQuotaForm),M.Db(8),M.pc("matAutocomplete",a),M.Db(1),M.pc("displayWith",t.commonService.displayObjFn.bind(t,"name")),M.Db(2),M.pc("ngForOf",M.lc(23,13,t.filteredSeaport)),M.Db(2),M.pc("ngIf",t.leaseQuotaForm.get("off_port").hasError("required")),M.Db(5),M.pc("ngIf",t.leaseQuotaForm.get("quota").hasError("required")),M.Db(5),M.pc("ngForOf",t.packageType),M.Db(1),M.pc("ngIf",t.leaseQuotaForm.get("cont_type").hasError("required")),M.Db(8),M.pc("readonly",!0)("value",t.name),M.Db(4),M.Mc(t.errorMessage)}},directives:[B.t,x.a,x.c,j.b,j.d,j.c,c.b,d.a,v.d,J.a,A.A,A.q,A.h,A.b,A.p,A.g,b.c,b.f,f.b,s.c,A.w,s.a,B.s,A.u,h.a,S.n,b.b],pipes:[B.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.lease-quota-modal-dialog{width:100%}}@media screen and (min-width:960px){.lease-quota-modal-dialog{width:1080px}}.lease-quota-modal-dialog .mat-dialog-container{padding:0}.lease-quota-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.lease-quota-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.lease-quota-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),pe),he=a("HX77"),ge=a("B9zo"),ve=a("fE3o"),xe=((fe=function(){function e(t,a){_classCallCheck(this,e),this.formBuilder=t,this.authService=a,this.height=560,this.changeSetting=new M.o,this.form=this.formBuilder.group({valid:[null]}),this.displayedColumns=[],this.view="main",this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-18})),this.authService.changeScreen.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-18:e.authService.screenHeight-64-64-18}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({column:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){var t={};t[e]=!!(this.authService.screenWidth>600||this.authService.screenWidth<600&&["Price","Unit","Volume","Amount"].includes(e))&&(!["Price","Unit","Volume","Amount"].includes(e)||{value:!0,disabled:!0}),this.columnAdd.push(this.formBuilder.group(t))}},{key:"checkAll",value:function(){var e=this;this.displayedColumns.map((function(t,a){e.form.controls.column.controls[a].controls[t].setValue(!0)}))}},{key:"toggleCardCover",value:function(){}},{key:"toggleSubscription",value:function(){}},{key:"columnAdd",get:function(){return this.form.get("column")}}]),e}()).\u0275fac=function(e){return new(e||fe)(M.Rb(A.d),M.Rb(Q.a))},fe.\u0275cmp=M.Lb({type:fe,selectors:[["lease-details-setting"]],inputs:{displayObject:"displayObject"},outputs:{changeSetting:"changeSetting"},decls:13,vars:3,consts:[["fxLayout","column",2,"border-right","1px solid #E0E0E0"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","center center",1,"h-100-p"],["fusePerfectScrollbar","",1,"navbar-scroll-lease"],[1,"navbar-content",3,"formGroup"],[1,"group","mt-32"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","","type","button",1,"ml-4","mr-4","mb-12",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Xb(1,"div",1),M.Xb(2,"div",2),M.Xb(3,"div"),M.Lc(4,"Settings"),M.Wb(),M.Wb(),M.Wb(),M.Xb(5,"div",3),M.Xb(6,"form",4),M.Xb(7,"div",5),M.Xb(8,"h2"),M.Lc(9,"Column"),M.Wb(),M.Xb(10,"div",6),M.Xb(11,"button",7),M.fc("click",(function(e){return t.checkAll()})),M.Lc(12,"All column"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(5),M.Ic("height",t.height,"px"),M.Db(1),M.pc("formGroup",t.form))},directives:[j.d,j.c,J.a,A.A,A.q,A.h,c.b],styles:["lease-details-setting .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}lease-details-setting .navbar-scroll-lease{background:#fff!important}lease-details-setting .navbar-scroll-lease .navbar-content{padding-top:0}lease-details-setting .navbar-scroll-lease .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}lease-details-setting .navbar-scroll-lease .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}lease-details-setting .navbar-scroll-lease .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-lease{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-lease .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2,data:{animation:P.a}}),fe),ye=a("0JVi"),ke=a("znSr");function we(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",8),M.fc("click",(function(e){M.Bc(a);var t=M.jc();return e.stopPropagation(),t.changeScreen(!0)})),M.Xb(1,"mat-icon"),M.Lc(2,"flip_to_front"),M.Wb(),M.Wb()}}function Le(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",8),M.fc("click",(function(e){M.Bc(a);var t=M.jc();return e.stopPropagation(),t.changeScreen(!1)})),M.Xb(1,"mat-icon"),M.Lc(2,"flip_to_back"),M.Wb(),M.Wb()}}var We,Xe=((We=function(){function e(t,a){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=a,this.fullScreen=!1,this.toggleSidebar=new M.o,this.showHideBar=new M.o,this.refreshPage=new M.o,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}]),e}()).\u0275fac=function(e){return new(e||We)(M.Rb(Q.a),M.Rb(ye.b))},We.\u0275cmp=M.Lb({type:We,selectors:[["lease-details-header"]],inputs:{sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:23,vars:2,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"]],template:function(e,t){1&e&&(M.Xb(0,"mat-toolbar",0),M.Xb(1,"div",1),M.Xb(2,"div",2),M.Xb(3,"div",3),M.Xb(4,"button",4),M.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),M.Xb(5,"mat-icon"),M.Lc(6,"menu"),M.Wb(),M.Wb(),M.Xb(7,"button",5),M.fc("click",(function(e){return t.showHideBar.emit()})),M.Xb(8,"mat-icon"),M.Lc(9,"menu"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Xb(10,"div",6),M.Sb(11,"div",7),M.Xb(12,"button",8),M.fc("click",(function(e){return e.stopPropagation(),t.refreshPage.emit()})),M.Xb(13,"mat-icon",9),M.Lc(14,"refresh"),M.Wb(),M.Wb(),M.Sb(15,"div",7),M.Jc(16,we,3,0,"button",10),M.Jc(17,Le,3,0,"button",10),M.Sb(18,"div",7),M.Xb(19,"button",8),M.fc("click",(function(e){return t.toggleSidebar.emit("lease-details-setting")})),M.Xb(20,"mat-icon"),M.Lc(21,"settings"),M.Wb(),M.Wb(),M.Sb(22,"div",7),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(16),M.pc("ngIf",!t.fullScreen),M.Db(1),M.pc("ngIf",t.fullScreen))},directives:[x.a,j.b,j.e,j.d,j.c,c.b,ke.b,d.a,B.t],styles:["lease-details-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}lease-details-header.below{z-index:2}lease-details-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}lease-details-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}lease-details-header .logo .logo-icon{width:38px}lease-details-header .chat-panel-toggle-button,lease-details-header .language-button,lease-details-header .quick-panel-toggle-button,lease-details-header .user-button,lease-details-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){lease-details-header .chat-panel-toggle-button,lease-details-header .language-button,lease-details-header .quick-panel-toggle-button,lease-details-header .user-button,lease-details-header fuse-search-bar{height:56px}}lease-details-header .navbar-toggle-button{min-width:56px;height:56px}lease-details-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){lease-details-header .toolbar-separator{height:56px}}"],encapsulation:2}),We);function Se(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",10),M.fc("click",(function(e){M.Bc(a);var t=M.jc().$implicit;return M.jc().openEditLeaseDetailModal.emit(t)})),M.Xb(1,"mat-icon"),M.Lc(2,"edit"),M.Wb(),M.Xb(3,"span"),M.Lc(4,"Edit Detail"),M.Wb(),M.Wb()}}function _e(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",11),M.fc("click",(function(e){M.Bc(a);var t=M.jc().$implicit;return M.jc().deleteLeaseDetail.emit(t)})),M.Xb(1,"mat-icon"),M.Lc(2,"delete"),M.Wb(),M.Xb(3,"span"),M.Lc(4,"Remove Detail"),M.Wb(),M.Wb()}}function De(e,t){if(1&e){var a=M.Yb();M.Xb(0,"tr"),M.Xb(1,"td"),M.Lc(2),M.Wb(),M.Xb(3,"td"),M.Lc(4),M.Wb(),M.Xb(5,"td"),M.Lc(6),M.Wb(),M.Xb(7,"td"),M.Lc(8),M.Wb(),M.Xb(9,"td"),M.Lc(10),M.Wb(),M.Xb(11,"td"),M.Lc(12),M.Wb(),M.Xb(13,"td"),M.Lc(14),M.Wb(),M.Xb(15,"td"),M.Lc(16),M.Wb(),M.Xb(17,"td"),M.Lc(18),M.Wb(),M.Xb(19,"td",5),M.Xb(20,"mat-icon",6),M.fc("click",(function(e){return M.Bc(a),e.stopPropagation()})),M.Lc(21,"more_vert"),M.Wb(),M.Xb(22,"mat-menu",null,7),M.Jc(24,Se,5,0,"button",8),M.Jc(25,_e,5,0,"button",9),M.Wb(),M.Wb(),M.Wb()}if(2&e){var i=t.$implicit,r=t.index,n=M.xc(23),o=M.jc();M.Db(2),M.Mc(r+1),M.Db(2),M.Mc(i.cont_type_code),M.Db(2),M.Mc(i.rate),M.Db(2),M.Mc(i.dpp),M.Db(2),M.Mc(i.currency_code),M.Db(2),M.Mc(i.free_time),M.Db(2),M.Mc(i.minimum),M.Db(2),M.Mc(i.handle_in),M.Db(2),M.Mc(i.handle_out),M.Db(2),M.pc("matMenuTriggerFor",n),M.Db(4),M.pc("ngIf",o.permission.edit),M.Db(1),M.pc("ngIf",o.permission.delete)}}var Ce,qe=((Ce=function(){function e(){_classCallCheck(this,e),this.openEditLeaseDetailModal=new M.o,this.deleteLeaseDetail=new M.o,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275cmp=M.Lb({type:Ce,selectors:[["lease-details-content-detail"]],inputs:{leaseDetail:"leaseDetail",permission:"permission"},outputs:{openEditLeaseDetailModal:"openEditLeaseDetailModal",deleteLeaseDetail:"deleteLeaseDetail"},decls:29,vars:1,consts:[[1,"group","mb-12","mt-12"],["fxLayout","row","fxLayoutAlign","start center"],[2,"overflow","auto","max-height","350px"],[1,"simple","table-detail"],[4,"ngFor","ngForOf"],[1,"w-40","sticky-right-col"],["aria-label","More",1,"cursor-pointer",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","remove",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","edit",3,"click"],["mat-menu-item","","aria-label","remove",3,"click"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Xb(1,"h2",1),M.Xb(2,"span"),M.Lc(3,"Lease detail"),M.Wb(),M.Wb(),M.Xb(4,"div",2),M.Xb(5,"table",3),M.Xb(6,"thead"),M.Xb(7,"tr"),M.Xb(8,"th"),M.Lc(9,"No"),M.Wb(),M.Xb(10,"th"),M.Lc(11,"Cont type"),M.Wb(),M.Xb(12,"th"),M.Lc(13,"Rate"),M.Wb(),M.Xb(14,"th"),M.Lc(15,"DPP"),M.Wb(),M.Xb(16,"th"),M.Lc(17,"Currency"),M.Wb(),M.Xb(18,"th"),M.Lc(19,"Free time"),M.Wb(),M.Xb(20,"th"),M.Lc(21,"Minimum"),M.Wb(),M.Xb(22,"th"),M.Lc(23,"Handle in"),M.Wb(),M.Xb(24,"th"),M.Lc(25,"Handle out"),M.Wb(),M.Sb(26,"th"),M.Wb(),M.Wb(),M.Xb(27,"tbody"),M.Jc(28,De,26,12,"tr",4),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(28),M.pc("ngForOf",t.leaseDetail))},directives:[j.d,j.c,B.s,d.a,o.c,o.d,B.t,o.a],styles:["lease-details-content-detail .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}lease-details-content-detail .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}lease-details-content-detail .group .table-detail{font-size:12px}lease-details-content-detail .group .table-detail td,lease-details-content-detail .group .table-detail th{padding:8px;font-size:12px}lease-details-content-detail .group .table-detail thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:20}lease-details-content-detail .group .table-detail tfoot td{font-weight:600}lease-details-content-detail .group .table-detail .sticky-left-col1{position:sticky;min-width:36px;position:-webkit-sticky;left:0;background-color:#fff;z-index:10}lease-details-content-detail .group .table-detail .sticky-left-col2{position:sticky;position:-webkit-sticky;left:36px;background-color:#fff;z-index:20}lease-details-content-detail .group .table-detail .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;padding:0;text-align:center;background-color:#fff}lease-details-content-detail .group .table-detail tfoot td.sticky-row2{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:25;font-weight:bolder}lease-details-content-detail .group .table-detail tfoot td.sticky-row1{position:sticky;position:-webkit-sticky;bottom:32px;background:#fff;z-index:25}"],encapsulation:2,data:{animation:P.a}}),Ce),Fe=["formDirective"];function Oe(e,t){if(1&e&&(M.Xb(0,"mat-option",30),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function Ie(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Cont type is required "),M.Wb())}function Re(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Rate is required "),M.Wb())}function Pe(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," DPP is required "),M.Wb())}function Ae(e,t){if(1&e&&(M.Xb(0,"mat-option",30),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function Me(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Currency is required "),M.Wb())}function Qe(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Free time is required "),M.Wb())}function Ee(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Minimum is required "),M.Wb())}function ze(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Handle in is required "),M.Wb())}function Ne(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Handle out is required "),M.Wb())}var Te,Be=function(e,t){return{"p-0 ":e,"border-black":t}},je=((Te=function(){function e(t,a,i,r){_classCallCheck(this,e),this._formBuilder=t,this.authService=a,this.commonService=i,this.datePipe=r,this.createLeaseDetail=new M.o,this.check=!1,this.leaseDetailForm=this._formBuilder.group({lease:[null,A.y.required],cont_type:[null,A.y.required],rate:[null,A.y.required],dpp:[null,A.y.required],currency:[null,A.y.required],free_time:[null,A.y.required],minimum:[null,A.y.required],handle_in:[null,A.y.required],handle_out:[null,A.y.required],info:[null],update_by:[this.authService.user,A.y.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.name=this.authService.name,this.leaseDetailForm.controls.lease.setValue(this.lease.id)}},{key:"ngOnChanges",value:function(e){e.lease&&e.lease.currentValue&&(this.lease=e.lease.currentValue,this.check&&this.resetForm(),this.check=!0)}},{key:"resetForm",value:function(){this.leaseDetailNgForm.reset(),this.leaseDetailForm.controls.lease.setValue(this.lease.id),this.leaseDetailForm.controls.update_by.setValue(this.authService.user)}},{key:"onFormSubmit",value:function(e){if(e.valid){var t=JSON.parse(JSON.stringify(e.value));t.currency=t.currency.id,t.cont_type=t.cont_type.id,this.createLeaseDetail.emit(t)}}}]),e}()).\u0275fac=function(e){return new(e||Te)(M.Rb(A.d),M.Rb(Q.a),M.Rb(E.a),M.Rb(B.f))},Te.\u0275cmp=M.Lb({type:Te,selectors:[["lease-details-content-form"]],viewQuery:function(e,t){var a;1&e&&M.Sc(Fe,!0),2&e&&M.wc(a=M.gc())&&(t.leaseDetailNgForm=a.first)},inputs:{lease:"lease",permission:"permission",packageType:"packageType",currency:"currency"},outputs:{createLeaseDetail:"createLeaseDetail"},features:[M.Bb()],decls:80,vars:18,consts:[[1,"group","mb-12","mt-12",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["fxLayout","row warp","fxLayoutAlign","start center"],[2,"display","none"],["inputCheck","","formControlName","lease","required",""],["fxFlex","50","fxFlex.gt-sm","6"],[1,"w-100-p","pr-8"],["formControlName","cont_type","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["inputCheck","","matInput","","type","number","formControlName","rate","step","0.01","required",""],["inputCheck","","matInput","","type","number","formControlName","dpp","required",""],["fxFlex","50","fxFlex.gt-sm","8"],["formControlName","currency","required",""],["inputCheck","","type","number","matInput","","formControlName","free_time","required",""],["inputCheck","","type","number","matInput","","formControlName","minimum","required",""],["inputCheck","","type","number","matInput","","formControlName","handle_in","required",""],["inputCheck","","type","number","matInput","","formControlName","handle_out","required",""],["fxFlex","50","fxFlex.gt-sm","26"],["inputCheck","","matInput","","formControlName","info"],["fxFlex","50","fxFlex.gt-sm","10"],["inputCheck","","matInput","",3,"readonly","value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["mat-icon-button","","color","accent","type","submit"],["mat-icon-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(e,t){if(1&e){var a=M.Yb();M.Xb(0,"div",0),M.Xb(1,"h2",1),M.fc("click",(function(e){return M.Bc(a),M.xc(6).toggle()})),M.Xb(2,"span"),M.Lc(3,"Add Lease Detail"),M.Wb(),M.Wb(),M.Xb(4,"div",2),M.Xb(5,"mat-expansion-panel",3,4),M.Xb(7,"form",5,6),M.fc("ngSubmit",(function(e){return t.onFormSubmit(t.leaseDetailForm)})),M.Xb(9,"div",7),M.Xb(10,"div",8),M.Sb(11,"input",9),M.Wb(),M.Xb(12,"div",10),M.Xb(13,"mat-form-field",11),M.Xb(14,"mat-label"),M.Lc(15,"Cont type"),M.Wb(),M.Xb(16,"mat-select",12),M.Jc(17,Oe,2,2,"mat-option",13),M.Wb(),M.Jc(18,Ie,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(19,"div",10),M.Xb(20,"mat-form-field",11),M.Xb(21,"mat-label"),M.Lc(22,"Rate"),M.Wb(),M.Sb(23,"input",15),M.Jc(24,Re,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(25,"div",10),M.Xb(26,"mat-form-field",11),M.Xb(27,"mat-label"),M.Lc(28,"DPP"),M.Wb(),M.Sb(29,"input",16),M.Jc(30,Pe,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(31,"div",17),M.Xb(32,"mat-form-field",11),M.Xb(33,"mat-label"),M.Lc(34,"Currency"),M.Wb(),M.Xb(35,"mat-select",18),M.Jc(36,Ae,2,2,"mat-option",13),M.Wb(),M.Jc(37,Me,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(38,"div",17),M.Xb(39,"mat-form-field",11),M.Xb(40,"mat-label"),M.Lc(41,"Free time"),M.Wb(),M.Sb(42,"input",19),M.Jc(43,Qe,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(44,"div",17),M.Xb(45,"mat-form-field",11),M.Xb(46,"mat-label"),M.Lc(47,"Minimum"),M.Wb(),M.Sb(48,"input",20),M.Jc(49,Ee,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(50,"div",17),M.Xb(51,"mat-form-field",11),M.Xb(52,"mat-label"),M.Lc(53,"Handle in"),M.Wb(),M.Sb(54,"input",21),M.Jc(55,ze,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(56,"div",17),M.Xb(57,"mat-form-field",11),M.Xb(58,"mat-label"),M.Lc(59,"Handle out"),M.Wb(),M.Sb(60,"input",22),M.Jc(61,Ne,2,0,"mat-error",14),M.Wb(),M.Wb(),M.Xb(62,"div",23),M.Xb(63,"mat-form-field",11),M.Xb(64,"mat-label"),M.Lc(65,"Info"),M.Wb(),M.Sb(66,"input",24),M.Wb(),M.Wb(),M.Xb(67,"div",25),M.Xb(68,"mat-form-field",11),M.Xb(69,"mat-label"),M.Lc(70,"Update by"),M.Wb(),M.Sb(71,"input",26),M.Sb(72,"input",27),M.Wb(),M.Wb(),M.Xb(73,"div",10),M.Xb(74,"button",28),M.Xb(75,"mat-icon"),M.Lc(76,"save"),M.Wb(),M.Wb(),M.Xb(77,"button",29),M.fc("click",(function(e){return t.resetForm()})),M.Xb(78,"mat-icon"),M.Lc(79,"delete"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()}if(2&e){var i=M.xc(6);M.pc("ngClass",M.sc(15,Be,!i.expanded,i.expanded)),M.Db(5),M.pc("expanded",!1),M.Db(2),M.pc("formGroup",t.leaseDetailForm),M.Db(10),M.pc("ngForOf",t.packageType),M.Db(1),M.pc("ngIf",t.leaseDetailForm.get("cont_type").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("rate").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("dpp").hasError("required")),M.Db(6),M.pc("ngForOf",t.currency),M.Db(1),M.pc("ngIf",t.leaseDetailForm.get("currency").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("free_time").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("minimum").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("handle_in").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseDetailForm.get("handle_out").hasError("required")),M.Db(10),M.pc("readonly",!0)("value",t.name)}},directives:[B.q,ke.a,u.c,A.A,A.q,A.h,j.d,j.c,A.b,A.p,A.g,A.w,j.b,b.c,b.f,h.a,B.s,B.t,f.b,A.u,c.b,d.a,S.n,b.b],styles:["lease-details-content-form .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid rgba(0,0,0,.12);z-index:100}lease-details-content-form .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:#039be5}lease-details-content-form .group .viewer-content{overflow:auto;width:100%}lease-details-content-form .group .viewer-content .item{width:2000px}@media screen and (max-width:599px){lease-details-content-form .group .viewer-content .item{width:100%}}"],encapsulation:2,data:{animation:P.a}}),Te);function Je(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",10),M.fc("click",(function(e){M.Bc(a);var t=M.jc().$implicit;return M.jc().openEditLeaseQuotaModal.emit(t)})),M.Xb(1,"mat-icon"),M.Lc(2,"edit"),M.Wb(),M.Xb(3,"span"),M.Lc(4,"Edit Quota"),M.Wb(),M.Wb()}}function He(e,t){if(1&e){var a=M.Yb();M.Xb(0,"button",11),M.fc("click",(function(e){M.Bc(a);var t=M.jc().$implicit;return M.jc().deleteLeaseQuota.emit(t)})),M.Xb(1,"mat-icon"),M.Lc(2,"delete"),M.Wb(),M.Xb(3,"span"),M.Lc(4,"Remove Quota"),M.Wb(),M.Wb()}}function Ve(e,t){if(1&e){var a=M.Yb();M.Xb(0,"tr"),M.Xb(1,"td"),M.Lc(2),M.Wb(),M.Xb(3,"td"),M.Lc(4),M.Wb(),M.Xb(5,"td"),M.Lc(6),M.Wb(),M.Xb(7,"td"),M.Lc(8),M.Wb(),M.Xb(9,"td"),M.Lc(10),M.Wb(),M.Xb(11,"td"),M.Lc(12),M.Wb(),M.Xb(13,"td",5),M.Xb(14,"mat-icon",6),M.fc("click",(function(e){return M.Bc(a),e.stopPropagation()})),M.Lc(15,"more_vert"),M.Wb(),M.Xb(16,"mat-menu",null,7),M.Jc(18,Je,5,0,"button",8),M.Jc(19,He,5,0,"button",9),M.Wb(),M.Wb(),M.Wb()}if(2&e){var i=t.$implicit,r=t.index,n=M.xc(17),o=M.jc();M.Db(2),M.Mc(r+1),M.Db(2),M.Mc(i.seaport_name),M.Db(2),M.Mc(i.country_name),M.Db(2),M.Mc(i.cont_type_code),M.Db(2),M.Mc(i.quota),M.Db(2),M.Mc(i.info),M.Db(2),M.pc("matMenuTriggerFor",n),M.Db(4),M.pc("ngIf",o.permission.edit),M.Db(1),M.pc("ngIf",o.permission.delete)}}var Ue,Ge=((Ue=function(){function e(){_classCallCheck(this,e),this.openEditLeaseQuotaModal=new M.o,this.deleteLeaseQuota=new M.o,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ue)},Ue.\u0275cmp=M.Lb({type:Ue,selectors:[["lease-quota-content"]],inputs:{leaseQuota:"leaseQuota",permission:"permission"},outputs:{openEditLeaseQuotaModal:"openEditLeaseQuotaModal",deleteLeaseQuota:"deleteLeaseQuota"},decls:23,vars:1,consts:[[1,"group","mb-12","mt-12"],["fxLayout","row","fxLayoutAlign","start center"],[2,"overflow","auto","max-height","350px"],[1,"simple","table-quota"],[4,"ngFor","ngForOf"],[1,"w-40","sticky-right-col"],["aria-label","More",1,"cursor-pointer",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","remove",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","edit",3,"click"],["mat-menu-item","","aria-label","remove",3,"click"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Xb(1,"h2",1),M.Xb(2,"span"),M.Lc(3,"Off quota"),M.Wb(),M.Wb(),M.Xb(4,"div",2),M.Xb(5,"table",3),M.Xb(6,"thead"),M.Xb(7,"tr"),M.Xb(8,"th"),M.Lc(9,"No"),M.Wb(),M.Xb(10,"th"),M.Lc(11,"Off port"),M.Wb(),M.Xb(12,"th"),M.Lc(13,"Country"),M.Wb(),M.Xb(14,"th"),M.Lc(15,"Type"),M.Wb(),M.Xb(16,"th"),M.Lc(17,"Quota"),M.Wb(),M.Xb(18,"th"),M.Lc(19,"Info"),M.Wb(),M.Sb(20,"th"),M.Wb(),M.Wb(),M.Xb(21,"tbody"),M.Jc(22,Ve,20,9,"tr",4),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(22),M.pc("ngForOf",t.leaseQuota))},directives:[j.d,j.c,B.s,d.a,o.c,o.d,B.t,o.a],styles:["lease-quota-content .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}lease-quota-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}lease-quota-content .group .table-quota{font-size:12px}lease-quota-content .group .table-quota td,lease-quota-content .group .table-quota th{padding:8px;font-size:12px}lease-quota-content .group .table-quota thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:20}lease-quota-content .group .table-quota tfoot td{font-weight:600}lease-quota-content .group .table-quota .sticky-left-col1{position:sticky;min-width:36px;position:-webkit-sticky;left:0;background-color:#fff;z-index:10}lease-quota-content .group .table-quota .sticky-left-col2{position:sticky;position:-webkit-sticky;left:36px;background-color:#fff;z-index:20}lease-quota-content .group .table-quota .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;padding:0;text-align:center;background-color:#fff}lease-quota-content .group .table-quota tfoot td.sticky-row2{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:25;font-weight:bolder}lease-quota-content .group .table-quota tfoot td.sticky-row1{position:sticky;position:-webkit-sticky;bottom:32px;background:#fff;z-index:25}"],encapsulation:2,data:{animation:P.a}}),Ue),$e=["formDirective"];function Ye(e,t){if(1&e&&(M.Xb(0,"mat-option",27),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.name," ")}}function Ke(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Off port is required "),M.Wb())}function Ze(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Quota is required "),M.Wb())}function et(e,t){if(1&e&&(M.Xb(0,"mat-option",28),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a),M.Db(1),M.Nc(" ",a.code," ")}}function tt(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Cont type is required "),M.Wb())}var at,it,rt=function(e,t){return{"p-0 ":e,"border-black":t}},nt=((it=function(){function e(t,a,i,r){_classCallCheck(this,e),this._formBuilder=t,this.authService=a,this.commonService=i,this.datePipe=r,this.createLeaseQuota=new M.o,this.check=!1,this.leaseQuotaForm=this._formBuilder.group({lease_id:[null,A.y.required],off_port:[null,A.y.required],quota:[null,A.y.required],cont_type:[null,A.y.required],info:[null],update_by:[this.authService.user,A.y.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.authService.name,this.leaseQuotaForm.controls.lease_id.setValue(this.lease.id),this.filteredSeaport=this.leaseQuotaForm.controls.off_port.valueChanges.pipe(Object(ne.a)(""),Object(oe.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(oe.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]})))}},{key:"ngOnChanges",value:function(e){e.lease&&e.lease.currentValue&&(this.lease=e.lease.currentValue,this.check&&this.resetForm(),this.check=!0)}},{key:"resetForm",value:function(){this.leaseQuotaNgForm.reset(),this.leaseQuotaForm.controls.lease_id.setValue(this.lease.id),this.leaseQuotaForm.controls.update_by.setValue(this.authService.user)}},{key:"onFormSubmit",value:function(e){if("string"!=typeof e.value.off_port){if(e.valid){var t=JSON.parse(JSON.stringify(e.value));t.off_port=t.off_port.id,t.cont_type=t.cont_type.id,this.createLeaseQuota.emit(t)}}else this.leaseQuotaForm.controls.off_port.setValue(null)}}]),e}()).\u0275fac=function(e){return new(e||it)(M.Rb(A.d),M.Rb(Q.a),M.Rb(E.a),M.Rb(B.f))},it.\u0275cmp=M.Lb({type:it,selectors:[["lease-quota-content-form"]],viewQuery:function(e,t){var a;1&e&&M.Sc($e,!0),2&e&&M.wc(a=M.gc())&&(t.leaseQuotaNgForm=a.first)},inputs:{lease:"lease",permission:"permission",packageType:"packageType",seaport:"seaport"},outputs:{createLeaseQuota:"createLeaseQuota"},features:[M.Bb()],decls:53,vars:17,consts:[[1,"group","mb-12","mt-12",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["fxLayout","row warp","fxLayoutAlign","start center"],[2,"display","none"],["inputCheck","","formControlName","lease_id","required",""],["fxFlex","50","fxFlex.gt-sm","20"],[1,"w-100-p","pr-8"],["inputCheck","","matInput","","formControlName","off_port","required","",3,"matAutocomplete"],[3,"displayWith"],["autoOffport","matAutocomplete"],["style","font-size: 12px",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","50","fxFlex.gt-sm","15"],["inputCheck","","matInput","","type","number","formControlName","quota","required",""],["formControlName","cont_type","required",""],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","matInput","","formControlName","info"],["inputCheck","","matInput","",3,"readonly","value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxFlex","50","fxFlex.gt-sm","10"],["mat-icon-button","","color","accent","type","submit"],["mat-icon-button","","color","warn","type","button",3,"click"],[2,"font-size","12px",3,"value"],[3,"value"]],template:function(e,t){if(1&e){var a=M.Yb();M.Xb(0,"div",0),M.Xb(1,"h2",1),M.fc("click",(function(e){return M.Bc(a),M.xc(6).toggle()})),M.Xb(2,"span"),M.Lc(3,"Add Off Quota"),M.Wb(),M.Wb(),M.Xb(4,"div",2),M.Xb(5,"mat-expansion-panel",3,4),M.Xb(7,"form",5,6),M.fc("ngSubmit",(function(e){return t.onFormSubmit(t.leaseQuotaForm)})),M.Xb(9,"div",7),M.Xb(10,"div",8),M.Sb(11,"input",9),M.Wb(),M.Xb(12,"div",10),M.Xb(13,"mat-form-field",11),M.Xb(14,"mat-label"),M.Lc(15,"Off port"),M.Wb(),M.Sb(16,"input",12),M.Xb(17,"mat-autocomplete",13,14),M.Jc(19,Ye,2,2,"mat-option",15),M.kc(20,"async"),M.Wb(),M.Jc(21,Ke,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(22,"div",17),M.Xb(23,"mat-form-field",11),M.Xb(24,"mat-label"),M.Lc(25,"Quota"),M.Wb(),M.Sb(26,"input",18),M.Jc(27,Ze,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(28,"div",17),M.Xb(29,"mat-form-field",11),M.Xb(30,"mat-label"),M.Lc(31,"Cont type"),M.Wb(),M.Xb(32,"mat-select",19),M.Jc(33,et,2,2,"mat-option",20),M.Wb(),M.Jc(34,tt,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(35,"div",10),M.Xb(36,"mat-form-field",11),M.Xb(37,"mat-label"),M.Lc(38,"Info"),M.Wb(),M.Sb(39,"input",21),M.Wb(),M.Wb(),M.Xb(40,"div",10),M.Xb(41,"mat-form-field",11),M.Xb(42,"mat-label"),M.Lc(43,"Update by"),M.Wb(),M.Sb(44,"input",22),M.Sb(45,"input",23),M.Wb(),M.Wb(),M.Xb(46,"div",24),M.Xb(47,"button",25),M.Xb(48,"mat-icon"),M.Lc(49,"save"),M.Wb(),M.Wb(),M.Xb(50,"button",26),M.fc("click",(function(e){return t.resetForm()})),M.Xb(51,"mat-icon"),M.Lc(52,"delete"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()}if(2&e){var i=M.xc(6),r=M.xc(18);M.pc("ngClass",M.sc(14,rt,!i.expanded,i.expanded)),M.Db(5),M.pc("expanded",!1),M.Db(2),M.pc("formGroup",t.leaseQuotaForm),M.Db(9),M.pc("matAutocomplete",r),M.Db(1),M.pc("displayWith",t.commonService.displayObjFn.bind(t,"name")),M.Db(2),M.pc("ngForOf",M.lc(20,12,t.filteredSeaport)),M.Db(2),M.pc("ngIf",t.leaseQuotaForm.get("off_port").hasError("required")),M.Db(6),M.pc("ngIf",t.leaseQuotaForm.get("quota").hasError("required")),M.Db(6),M.pc("ngForOf",t.packageType),M.Db(1),M.pc("ngIf",t.leaseQuotaForm.get("cont_type").hasError("required")),M.Db(10),M.pc("readonly",!0)("value",t.name)}},directives:[B.q,ke.a,u.c,A.A,A.q,A.h,j.d,j.c,A.b,A.p,A.g,A.w,j.b,b.c,b.f,f.b,s.c,s.a,B.s,B.t,A.u,h.a,c.b,d.a,S.n,b.b],pipes:[B.b],styles:["lease-quota-content-form .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid rgba(0,0,0,.12);z-index:100}lease-quota-content-form .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:#039be5}lease-quota-content-form .group .viewer-content{overflow:auto;width:100%}lease-quota-content-form .group .viewer-content .item{width:860px}@media screen and (max-width:599px){lease-quota-content-form .group .viewer-content .item{width:100%}}"],encapsulation:2,data:{animation:P.a}}),it),ot=((at=function(){function e(t,a){_classCallCheck(this,e),this._activatedRoute=t,this.authService=a,this.openEditLeaseDetailModal=new M.o,this.deleteLeaseDetail=new M.o,this.createLeaseDetail=new M.o,this.openEditLeaseQuotaModal=new M.o,this.deleteLeaseQuota=new M.o,this.createLeaseQuota=new M.o,this.height=560,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.permission),this.authService.windowSizeChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-16-4:e.authService.screenHeight-64-64-16-4}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||at)(M.Rb(r.a),M.Rb(Q.a))},at.\u0275cmp=M.Lb({type:at,selectors:[["lease-details-content"]],inputs:{lease:"lease",leaseDetail:"leaseDetail",leaseQuota:"leaseQuota",permission:"permission",packageType:"packageType",currency:"currency",seaport:"seaport"},outputs:{openEditLeaseDetailModal:"openEditLeaseDetailModal",deleteLeaseDetail:"deleteLeaseDetail",createLeaseDetail:"createLeaseDetail",openEditLeaseQuotaModal:"openEditLeaseQuotaModal",deleteLeaseQuota:"deleteLeaseQuota",createLeaseQuota:"createLeaseQuota"},decls:5,vars:14,consts:[["fxLayout","column"],[3,"leaseDetail","permission","openEditLeaseDetailModal","deleteLeaseDetail"],[3,"lease","packageType","currency","permission","createLeaseDetail"],[3,"leaseQuota","permission","openEditLeaseQuotaModal","deleteLeaseQuota"],[3,"lease","packageType","seaport","permission","createLeaseQuota"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Xb(1,"lease-details-content-detail",1),M.fc("openEditLeaseDetailModal",(function(e){return t.openEditLeaseDetailModal.emit(e)}))("deleteLeaseDetail",(function(e){return t.deleteLeaseDetail.emit(e)})),M.Wb(),M.Xb(2,"lease-details-content-form",2),M.fc("createLeaseDetail",(function(e){return t.createLeaseDetail.emit(e)})),M.Wb(),M.Xb(3,"lease-quota-content",3),M.fc("openEditLeaseQuotaModal",(function(e){return t.openEditLeaseQuotaModal.emit(e)}))("deleteLeaseQuota",(function(e){return t.deleteLeaseQuota.emit(e)})),M.Wb(),M.Xb(4,"lease-quota-content-form",4),M.fc("createLeaseQuota",(function(e){return t.createLeaseQuota.emit(e)})),M.Wb(),M.Wb()),2&e&&(M.Ic("height",t.height,"px"),M.Db(1),M.pc("leaseDetail",t.leaseDetail)("permission",t.permission),M.Db(1),M.pc("lease",t.lease)("packageType",t.packageType)("currency",t.currency)("permission",t.permission),M.Db(1),M.pc("leaseQuota",t.leaseQuota)("permission",t.permission),M.Db(1),M.pc("lease",t.lease)("packageType",t.packageType)("seaport",t.seaport)("permission",t.permission))},directives:[j.d,qe,je,Ge,nt],styles:[""],encapsulation:2,data:{animation:P.a}}),at),st=["formDirective"],lt=["sidebarPerfectScroll"],ct=function(e){return{"mt-32":e}};function ut(e,t){if(1&e&&(M.Xb(0,"div",10),M.Xb(1,"h2"),M.Lc(2),M.Wb(),M.Xb(3,"div",11),M.Lc(4),M.Wb(),M.Wb()),2&e){var a=M.jc(),i=a.$implicit;M.pc("ngClass",M.rc(3,ct,0==a.index)),M.Db(2),M.Mc(i.name),M.Db(2),M.Mc(i.value)}}function bt(e,t){if(1&e&&(M.Xb(0,"div"),M.Jc(1,ut,5,5,"div",9),M.Wb()),2&e){var a=t.$implicit;M.Db(1),M.pc("ngIf",a.value)}}var dt,pt=((dt=function(){function e(t,a,i,r,n){_classCallCheck(this,e),this.formBuilder=t,this.authService=a,this._fuseSidebarService=i,this.commonService=r,this.datePipe=n,this.sidebarPage=new M.o,this.height=560,this.type={O:"One Way",M:"Master Lease",L:"Long Term Lease"},this.form=[{name:"Lease number",value:null},{name:"Owner",value:null},{name:"Start date",value:null},{name:"End date",value:null},{name:"Type",value:null},{name:"Status",value:null},{name:"Info",value:null}],this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=[{name:"Lease number",value:this.lease.code},{name:"Owner",value:this.lease.owner_name},{name:"Start date",value:this.datePipe.transform(this.lease.start_date,"MM/dd/yyyy")},{name:"End date",value:this.lease.end_date?this.datePipe.transform(this.lease.end_date,"MM/dd/yyyy"):null},{name:"Type",value:this.type[this.lease.type]},{name:"Status",value:this.lease.status?"Valid":"Expired"},{name:"Info",value:this.lease.info}],this.authService.windowSizeChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-18})),this.authService.changeScreen.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-18:e.authService.screenHeight-64-64-18}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngAfterViewInit",value:function(){this._fuseSidebarService.onSidebarChanged.next(this.sidebarPerfectScroll.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||dt)(M.Rb(A.d),M.Rb(Q.a),M.Rb(he.a),M.Rb(E.a),M.Rb(B.f))},dt.\u0275cmp=M.Lb({type:dt,selectors:[["lease-details-sidebar-view"]],viewQuery:function(e,t){var a;1&e&&(M.Sc(st,!0),M.Sc(lt,!0)),2&e&&(M.wc(a=M.gc())&&(t.searchNgForm=a.first),M.wc(a=M.gc())&&(t.sidebarPerfectScroll=a.first))},inputs:{lease:"lease"},outputs:{sidebarPage:"sidebarPage"},decls:10,vars:3,consts:[["fxLayout","column",2,"border-right","1px solid #E0E0E0"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","45",1,"ml-8","mr-8"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-lease"],["sidebarPerfectScroll",""],[1,"navbar-content"],[4,"ngFor","ngForOf"],["class","group",3,"ngClass",4,"ngIf"],[1,"group",3,"ngClass"],[1,"item"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Xb(1,"div",1),M.Xb(2,"div",2),M.Sb(3,"div",3),M.Xb(4,"button",4),M.fc("click",(function(e){return t.sidebarPage.emit("form")})),M.Lc(5," Edit "),M.Wb(),M.Wb(),M.Wb(),M.Xb(6,"div",5,6),M.Xb(8,"div",7),M.Jc(9,bt,2,1,"div",8),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(6),M.Ic("height",t.height,"px"),M.Db(3),M.pc("ngForOf",t.form))},directives:[j.d,j.c,j.b,c.b,J.a,B.s,B.t,B.q,ke.a],styles:["lease-details-sidebar-view{-webkit-user-drag:auto}lease-details-sidebar-view .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}lease-details-sidebar-view .navbar-scroll-lease{background:#fff!important}lease-details-sidebar-view .navbar-scroll-lease .navbar-content{padding-top:0}lease-details-sidebar-view .navbar-scroll-lease .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}lease-details-sidebar-view .navbar-scroll-lease .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}lease-details-sidebar-view .navbar-scroll-lease .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-lease{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-lease .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),dt),ft=["formDirective"],mt=["sidebarPerfectScroll"];function ht(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Lease number is required "),M.Wb())}function gt(e,t){if(1&e&&(M.Xb(0,"mat-option",28),M.Lc(1),M.Wb()),2&e){var a=t.$implicit;M.pc("value",a.id),M.Db(1),M.Nc(" ",a.full_name," ")}}function vt(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Owner is required "),M.Wb())}function xt(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Start date is required "),M.Wb())}function yt(e,t){1&e&&(M.Xb(0,"mat-error"),M.Lc(1," Date is too early! "),M.Wb())}var kt,wt=((kt=function(){function e(t,a,i,r){_classCallCheck(this,e),this.formBuilder=t,this.authService=a,this._fuseSidebarService=i,this.commonService=r,this.sidebarPage=new M.o,this.editLease=new M.o,this.filteredContType=[],this.form=this.formBuilder.group({id:[null],code:[null,A.y.required],owner:[null,A.y.required],start_date:[null,A.y.required],end_date:[null],type:[null,A.y.required],status:[1,A.y.required],info:[null]}),this.now=new Date,this.height=560,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.lease),this.form.patchValue(this.lease),this.authService.windowSizeChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-18})),this.authService.changeScreen.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-18:e.authService.screenHeight-64-64-18})),this.filteredOwner=this.form.controls.owner.valueChanges.pipe(Object(ne.a)(""),Object(oe.a)((function(e){return e?"string"==typeof e?e:e.full_name:null})),Object(oe.a)((function(t){return t?e.commonService.filterData(t,"full_name",e.supplier):[]}))),this.form.controls.start_date.valueChanges.subscribe((function(t){null!=t&&(e.minDate=t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngAfterViewInit",value:function(){this._fuseSidebarService.onSidebarChanged.next(this.sidebarPerfectScroll.nativeElement)}},{key:"setCheck",value:function(e){e.check=!e.check}},{key:"resetForm",value:function(){this.searchNgForm.resetForm()}},{key:"onFormSubmit",value:function(e){if(e.valid){if("string"==typeof e.value.owner)return void this.form.controls.owner.setValue(null);this.editLease.emit(e.value)}}}]),e}()).\u0275fac=function(e){return new(e||kt)(M.Rb(A.d),M.Rb(Q.a),M.Rb(he.a),M.Rb(E.a))},kt.\u0275cmp=M.Lb({type:kt,selectors:[["lease-details-sidebar-form"]],viewQuery:function(e,t){var a;1&e&&(M.Sc(ft,!0),M.Sc(mt,!0)),2&e&&(M.wc(a=M.gc())&&(t.searchNgForm=a.first),M.wc(a=M.gc())&&(t.sidebarPerfectScroll=a.first))},inputs:{lease:"lease",supplier:"supplier"},outputs:{sidebarPage:"sidebarPage",editLease:"editLease"},decls:72,vars:22,consts:[["name","form",2,"border-right","1px solid #E6E6E6",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-lease"],["sidebarPerfectScroll",""],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],[2,"display","none"],["inputCheck","","type","number","formControlName","id"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","matInput","","formControlName","code","required",""],[4,"ngIf"],["fxFlex","100",1,"info-line"],["inputCheck","","type","text","matInput","","formControlName","owner","required","",3,"matAutocomplete"],[3,"displayWith"],["autoSup","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","matInput","","name","start_date","formControlName","start_date","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["startDatePicker",""],["inputCheck","","matInput","","name","end_date","formControlName","end_date",3,"min","matDatepicker","change"],["endDatePicker",""],["formControlName","type","required",""],[3,"value"],["formControlName","status","required",""],["inputCheck","","matInput","","formControlName","info"]],template:function(e,t){if(1&e&&(M.Xb(0,"form",0,1),M.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onFormSubmit(t.form)})),M.Xb(2,"div",2),M.Xb(3,"div",3),M.Xb(4,"button",4),M.Lc(5," Submit "),M.Wb(),M.Xb(6,"button",5),M.fc("click",(function(e){return t.sidebarPage.emit("view")})),M.Lc(7," Cancel "),M.Wb(),M.Wb(),M.Wb(),M.Xb(8,"div",6,7),M.Xb(10,"div",8),M.Xb(11,"div",9),M.Xb(12,"div",10),M.Xb(13,"div",11),M.Sb(14,"input",12),M.Wb(),M.Xb(15,"div",13),M.Xb(16,"mat-form-field",14),M.Xb(17,"mat-label"),M.Lc(18,"Lease number"),M.Wb(),M.Sb(19,"input",15),M.Jc(20,ht,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(21,"div",17),M.Xb(22,"mat-form-field",14),M.Xb(23,"mat-label"),M.Lc(24,"Owner"),M.Wb(),M.Sb(25,"input",18),M.Xb(26,"mat-autocomplete",19,20),M.Jc(28,gt,2,2,"mat-option",21),M.kc(29,"async"),M.Wb(),M.Jc(30,vt,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(31,"div",17),M.Xb(32,"mat-form-field",14),M.Xb(33,"mat-label"),M.Lc(34,"Start date"),M.Wb(),M.Xb(35,"input",22),M.fc("change",(function(e){return t.commonService.setDateStr(e)})),M.Wb(),M.Sb(36,"mat-datepicker-toggle",23),M.Sb(37,"mat-datepicker",null,24),M.Jc(39,xt,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(40,"div",17),M.Xb(41,"mat-form-field",14),M.Xb(42,"input",25),M.fc("change",(function(e){return t.commonService.setDateStr(e)})),M.Wb(),M.Sb(43,"mat-datepicker-toggle",23),M.Sb(44,"mat-datepicker",null,26),M.Jc(46,yt,2,0,"mat-error",16),M.Wb(),M.Wb(),M.Xb(47,"div",17),M.Xb(48,"mat-form-field",14),M.Xb(49,"mat-label"),M.Lc(50,"Type"),M.Wb(),M.Xb(51,"mat-select",27),M.Xb(52,"mat-option",28),M.Lc(53,"One Way"),M.Wb(),M.Xb(54,"mat-option",28),M.Lc(55,"Master Lease"),M.Wb(),M.Xb(56,"mat-option",28),M.Lc(57,"Long Term Lease"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Xb(58,"div",17),M.Xb(59,"mat-form-field",14),M.Xb(60,"mat-label"),M.Lc(61,"Status"),M.Wb(),M.Xb(62,"mat-select",29),M.Xb(63,"mat-option",28),M.Lc(64,"Expired"),M.Wb(),M.Xb(65,"mat-option",28),M.Lc(66,"Valid"),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Xb(67,"div",17),M.Xb(68,"mat-form-field",14),M.Xb(69,"mat-label"),M.Lc(70,"Info"),M.Wb(),M.Sb(71,"input",30),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e){var a=M.xc(27),i=M.xc(38),r=M.xc(45);M.pc("formGroup",t.form),M.Db(8),M.Ic("height",t.height,"px"),M.Db(12),M.pc("ngIf",t.form.get("code").hasError("required")),M.Db(5),M.pc("matAutocomplete",a),M.Db(1),M.pc("displayWith",t.commonService.displayFn.bind(t,"full_name",t.supplier)),M.Db(2),M.pc("ngForOf",M.lc(29,20,t.filteredOwner)),M.Db(2),M.pc("ngIf",t.form.get("owner").hasError("required")),M.Db(5),M.pc("matDatepicker",i),M.Db(1),M.pc("for",i),M.Db(3),M.pc("ngIf",t.form.get("start_date").hasError("required")),M.Db(3),M.pc("min",t.minDate)("matDatepicker",r),M.Db(1),M.pc("for",r),M.Db(3),M.pc("ngIf","INVALID"==t.form.get("end_date").status),M.Db(6),M.pc("value","O"),M.Db(2),M.pc("value","M"),M.Db(2),M.pc("value","L"),M.Db(7),M.pc("value",0),M.Db(2),M.pc("value",1)}},directives:[A.A,A.q,A.h,j.d,j.c,c.b,j.b,J.a,A.u,A.b,A.p,A.g,b.c,b.f,f.b,A.w,B.t,s.c,s.a,B.s,l.b,l.d,b.h,l.a,h.a,S.n,b.b],pipes:[B.b],styles:["lease-details-sidebar-form{-webkit-user-drag:auto}lease-details-sidebar-form .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}lease-details-sidebar-form .navbar-scroll-lease{background:#fff!important}lease-details-sidebar-form .navbar-scroll-lease .navbar-content{padding-top:0}lease-details-sidebar-form .navbar-scroll-lease .navbar-content .nav.material2{overflow:hidden}lease-details-sidebar-form .navbar-scroll-lease .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}lease-details-sidebar-form .navbar-scroll-lease .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}lease-details-sidebar-form .navbar-scroll-lease .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}lease-details-sidebar-form .navbar-scroll-lease .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-lease{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-lease .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),kt);function Lt(e,t){if(1&e){var a=M.Yb();M.Xb(0,"lease-details-sidebar-view",3),M.fc("sidebarPage",(function(e){return M.Bc(a),M.jc().sidebarPage.emit(e)})),M.Wb()}if(2&e){var i=M.jc();M.pc("lease",i.lease)}}function Wt(e,t){if(1&e){var a=M.Yb();M.Xb(0,"lease-details-sidebar-form",4),M.fc("sidebarPage",(function(e){return M.Bc(a),M.jc().sidebarPage.emit(e)}))("editLease",(function(e){return M.Bc(a),M.jc().editLease.emit(e)})),M.Wb()}if(2&e){var i=M.jc();M.pc("lease",i.lease)("supplier",i.supplier)}}var Xt,St=((Xt=function(){function e(t,a,i){_classCallCheck(this,e),this.formBuilder=t,this.authService=a,this.commonService=i,this.sidebarPage=new M.o,this.editLease=new M.o,this.height=560,this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||Xt)(M.Rb(A.d),M.Rb(Q.a),M.Rb(E.a))},Xt.\u0275cmp=M.Lb({type:Xt,selectors:[["lease-details-sidebar"]],inputs:{type:"type",lease:"lease",supplier:"supplier"},outputs:{sidebarPage:"sidebarPage",editLease:"editLease"},decls:3,vars:3,consts:[[1,"sidebar-content",3,"ngSwitch"],[3,"lease","sidebarPage",4,"ngSwitchCase"],[3,"lease","supplier","sidebarPage","editLease",4,"ngSwitchCase"],[3,"lease","sidebarPage"],[3,"lease","supplier","sidebarPage","editLease"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Jc(1,Lt,1,1,"lease-details-sidebar-view",1),M.Jc(2,Wt,1,2,"lease-details-sidebar-form",2),M.Wb()),2&e&&(M.pc("ngSwitch",!0),M.Db(1),M.pc("ngSwitchCase","view"==t.type),M.Db(1),M.pc("ngSwitchCase","form"==t.type))},directives:[B.x,B.y,pt,wt],styles:[""],encapsulation:2}),Xt);function _t(e,t){if(1&e){var a=M.Yb();M.Xb(0,"fuse-sidebar",10),M.Xb(1,"lease-details-sidebar",11),M.fc("sidebarPage",(function(e){return M.Bc(a),M.jc().getTypeSidebar(e)}))("editLease",(function(e){return M.Bc(a),M.jc().editLease(e)})),M.Wb(),M.Wb()}if(2&e){var i=M.jc();M.Db(1),M.pc("type",i.type)("lease",i.lease)("supplier",i.supplier)}}var Dt,Ct=((Dt=function(){function e(t,a,i,r,n,o,s){_classCallCheck(this,e),this._fuseSidebarService=t,this.leaseDetailsService=a,this._matDialog=i,this.router=r,this.route=n,this.authService=o,this.datePipe=s,this.sidebarPanel=!0,this.type="view",this._unsubscribeAll=new I.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.params.id,this.leaseDetailsService.onLeaseChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.lease=e.leaseDetailsService.lease,e.leaseDetail=e.leaseDetailsService.leaseDetail,e.leaseQuota=e.leaseDetailsService.leaseQuota,console.log(e.leaseDetail)})),this.leaseDetailsService.onDataChanged.pipe(Object(R.a)(this._unsubscribeAll)).subscribe((function(t){e.packageType=t[2],e.supplier=t[3],e.seaport=t[4],e.leaseCode=t[5],e.moveType=[],t[6].map((function(t){"LOAD"!=t.code&&"OFHI"!=t.code&&e.moveType.push(t)})),e.currency=t[7]})),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.leaseDetailsService)}},{key:"newLease",value:function(e){this.router.navigate(["/apps/lease/lease-details/form/0"])}},{key:"getTypeSidebar",value:function(e){this.type=e}},{key:"getLease",value:function(){var e=this;this.authService.onRequestChanged.next(!0),this.leaseDetailsService.getLeaseById(this.id).then((function(t){e.authService.onRequestChanged.next(!1),e.type="view"})).catch((function(t){e.authService.onRequestChanged.next(!1),console.error(t),alert("Error: Server error")}))}},{key:"editLease",value:function(e){var t=this;this.authService.onRequestChanged.next(!0),e.start_date=this.datePipe.transform(e.start_date,"yyyy-MM-dd"),e.end_date&&""!=e.end_date&&(e.end_date=this.datePipe.transform(e.end_date,"yyyy-MM-dd")),this.leaseDetailsService.updateLease(e).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows&&t.getLease()})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("Error edit")}))}},{key:"createLeaseDetail",value:function(e){var t=this;this.leaseDetailsService.createLeaseDetail(e).then((function(e){t.authService.onRequestChanged.next(!1),e.insertId>0?(t.getLease(),alert("create success")):e.error?(alert(e.error),console.error(e)):(alert("create.error"),console.error(e))})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("create error")}))}},{key:"openEditLeaseDetailModal",value:function(e){var t=this;this.dialogRef=this._matDialog.open(re,{panelClass:"lease-details-modal-dialog",data:{label:"Edit lease detail",data:e,id:this.id,packageType:this.packageType,currency:this.currency}}),this.dialogRef.afterClosed().subscribe((function(e){e&&t.getLease()}))}},{key:"deleteLeaseDetail",value:function(e){var t=this;confirm("Do you want to delete this detail?")&&(this.authService.onRequestChanged.next(!0),this.leaseDetailsService.deleteLeaseDetail(e.id).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows?(t.getLease(),alert("delete success")):(console.error(e),alert("delete error"))})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("delete error")})))}},{key:"createLeaseQuota",value:function(e){var t=this;this.leaseDetailsService.createLeaseQuota(e).then((function(e){t.authService.onRequestChanged.next(!1),e.insertId>0?(t.getLease(),alert("create success")):e.error?(alert(e.error),console.error(e)):(alert("create.error"),console.error(e))})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("create error")}))}},{key:"openEditLeaseQuotaModal",value:function(e){var t=this;console.log(e),this.dialogRef=this._matDialog.open(me,{panelClass:"lease-quota-modal-dialog",data:{label:"Edit off quota",data:e,id:this.id,packageType:this.packageType,seaport:this.seaport}}),this.dialogRef.afterClosed().subscribe((function(e){e&&t.getLease()}))}},{key:"deleteLeaseQuota",value:function(e){var t=this;confirm("Do you want to delete this detail?")&&(this.authService.onRequestChanged.next(!0),this.leaseDetailsService.deleteLeaseQuota(e.id).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows?(t.getLease(),alert("delete success")):(console.error(e),alert("delete error"))})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("delete error")})))}}]),e}()).\u0275fac=function(e){return new(e||Dt)(M.Rb(he.a),M.Rb(T),M.Rb(v.b),M.Rb(r.g),M.Rb(r.a),M.Rb(Q.a),M.Rb(B.f))},Dt.\u0275cmp=M.Lb({type:Dt,selectors:[["lease-details"]],decls:10,vars:10,consts:[[1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","lease-details-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","lease-details-setting","position","right",1,"sidebar"],[1,"content"],[3,"displayObject"],[1,"center","mr-0","ml-0"],[3,"sidebarName","showHideBar","refreshPage","toggleSidebar","newLease"],[1,"content-card",2,"border","none","border-radius","0"],["fxFlexAlign","row",1,"content","m-8"],[3,"lease","leaseDetail","leaseQuota","permission","packageType","currency","seaport","openEditLeaseDetailModal","createLeaseDetail","deleteLeaseDetail","openEditLeaseQuotaModal","createLeaseQuota","deleteLeaseQuota"],["name","lease-details-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"type","lease","supplier","sidebarPage","editLease"]],template:function(e,t){1&e&&(M.Xb(0,"div",0),M.Jc(1,_t,2,3,"fuse-sidebar",1),M.Xb(2,"fuse-sidebar",2),M.Xb(3,"div",3),M.Sb(4,"lease-details-setting",4),M.Wb(),M.Wb(),M.Xb(5,"div",5),M.Xb(6,"lease-details-header",6),M.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newLease",(function(e){return t.newLease(e)})),M.Wb(),M.Xb(7,"div",7),M.Xb(8,"div",8),M.Xb(9,"lease-details-content",9),M.fc("openEditLeaseDetailModal",(function(e){return t.openEditLeaseDetailModal(e)}))("createLeaseDetail",(function(e){return t.createLeaseDetail(e)}))("deleteLeaseDetail",(function(e){return t.deleteLeaseDetail(e)}))("openEditLeaseQuotaModal",(function(e){return t.openEditLeaseQuotaModal(e)}))("createLeaseQuota",(function(e){return t.createLeaseQuota(e)}))("deleteLeaseQuota",(function(e){return t.deleteLeaseQuota(e)})),M.Wb(),M.Wb(),M.Wb(),M.Wb(),M.Wb()),2&e&&(M.Db(1),M.pc("ngIf",t.sidebarPanel),M.Db(3),M.pc("displayObject",t.displayObject),M.Db(2),M.pc("sidebarName","lease-details-sidebar"),M.Db(3),M.pc("lease",t.lease)("leaseDetail",t.leaseDetail)("leaseQuota",t.leaseQuota)("permission",t.permission)("packageType",t.packageType)("currency",t.currency)("seaport",t.seaport))},directives:[ge.a,B.t,ve.a,xe,Xe,j.a,ot,St],styles:["lease-details{width:100%}lease-details .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){lease-details .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}lease-details .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){lease-details .center .content-card lease-details{border-right:0}lease-details .center .content-card lease-details,lease-details .center .content-card shipment-details{-webkit-box-flex:1;flex:1 0 100%}lease-details .center .content-card shipment-details{display:none!important}lease-details .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}lease-details .center .content-card.current-shipment-selected .content lease-details,lease-details .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}lease-details .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:P.a}}),Dt),qt=a("vxfF"),Ft=a("cfqv");a.d(t,"LeaseDetailsModule",(function(){return Rt}));var Ot,It=[{path:":id",component:Ct,resolve:{data:T}}],Rt=((Ot=function e(){_classCallCheck(this,e)}).\u0275mod=M.Pb({type:Ot}),Ot.\u0275inj=M.Ob({factory:function(e){return new(e||Ot)},providers:[T],imports:[[r.k.forChild(It),o.b,n.a,s.b,l.c,c.c,u.b,b.e,d.b,p.b,f.c,m.c,h.b,g.c,v.e,x.b,y.b,k.b,w.d,L.e,W.b,X.b,_.b,D.k,C.c,S.t,q.a,F.a,O.f,qt.g,Ft.b]]}),Ot)},cfqv:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return b}));var i=a("8LU1"),r=a("vxfF"),n=a("fXoL"),o=a("HDdC"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;_classCallCheck(this,e),this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}return _createClass(e,[{key:"getAverageItemSize",value:function(){return this._averageItemSize}},{key:"addSample",value:function(e,t){var a=this._totalWeight+e.end-e.start;if(a){var i=(t+this._averageItemSize*this._totalWeight)/a;i&&(this._averageItemSize=i,this._totalWeight=a)}}},{key:"reset",value:function(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}]),e}(),l=function(){function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new s;_classCallCheck(this,e),this.scrolledIndexChange=new o.a((function(){throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")})),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=a,this._averager=i}return _createClass(e,[{key:"attach",value:function(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}},{key:"detach",value:function(){this._viewport=null}},{key:"onContentScrolled",value:function(){this._viewport&&this._updateRenderedContentAfterScroll()}},{key:"onDataLengthChanged",value:function(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}},{key:"onContentRendered",value:function(){this._viewport&&this._checkRenderedContentSize()}},{key:"onRenderedOffsetChanged",value:function(){this._viewport&&this._checkRenderedContentOffset()}},{key:"scrollToIndex",value:function(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}},{key:"updateBufferSize",value:function(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}},{key:"_updateRenderedContentAfterScroll",value:function(){var e=this._viewport,t=e.measureScrollOffset(),a=t-this._lastScrollOffset,i=Math.abs(a),r=e.getRenderedRange(),n=0;if(a<0){var o=r.start*this._averager.getAverageItemSize();a-=n=Math.round((o-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,i/(t+i)))),i=Math.abs(a)}var s=this._lastScrollOffset-this._lastRenderedContentOffset,l=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),c=i+this._minBufferPx-(a<0?s:l);if(c>0)if(i>=e.getViewportSize())this._renderContentForCurrentOffset();else{var u,b,d=Math.max(0,Math.ceil((c-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),p=(a<0?l:s)-this._minBufferPx+i,f=Math.floor(p/this._averager.getAverageItemSize()/(this._removalFailures+1)),m=Math.min(r.end-r.start,Math.max(0,f)),h=this._expandRange(r,a<0?d:0,a>0?d:0);if(a<0?h.end=Math.max(h.start+1,h.end-m):h.start=Math.min(h.end-1,h.start+m),a<0){var g=e.measureRangeSize({start:h.end,end:r.end});g<=p?(u=this._lastRenderedContentOffset+this._lastRenderedContentSize-g,this._removalFailures=0):(h.end=r.end,u=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),b="to-end"}else{var v=e.measureRangeSize({start:r.start,end:h.start});v<=p?(u=this._lastRenderedContentOffset+v,this._removalFailures=0):(h.start=r.start,u=this._lastRenderedContentOffset,this._removalFailures++),b="to-start"}e.setRenderedRange(h),e.setRenderedContentOffset(u+n,b)}else n&&e.setRenderedContentOffset(this._lastRenderedContentOffset+n);this._lastScrollOffset=t}},{key:"_checkRenderedContentSize",value:function(){var e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}},{key:"_checkRenderedContentOffset",value:function(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}},{key:"_renderContentForCurrentOffset",value:function(){var e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;var a=this._averager.getAverageItemSize(),i=Math.min(e.getDataLength()-1,Math.floor(t/a)),r=Math.ceil(this._maxBufferPx/a),n=this._expandRange(this._getVisibleRangeForIndex(i),r,r);e.setRenderedRange(n),e.setRenderedContentOffset(a*n.start)}},{key:"_getVisibleRangeForIndex",value:function(e){var t=this._viewport,a={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},i=a.end-t.getDataLength();return i>0&&(a.start=Math.max(0,a.start-i)),a}},{key:"_expandRange",value:function(e,t,a){var i=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(i.getDataLength(),e.end+a)}}},{key:"_updateTotalContentSize",value:function(e){var t=this._viewport,a=t.getRenderedRange(),i=e+(t.getDataLength()-(a.end-a.start))*this._averager.getAverageItemSize();t.setTotalContentSize(i)}}]),e}();function c(e){return e._scrollStrategy}var u=function(){var e=function(){function e(){_classCallCheck(this,e),this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new l(this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Object(i.f)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Object(i.f)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[n.Cb([{provide:r.h,useFactory:c,deps:[Object(n.V)((function(){return e}))]}]),n.Bb()]}),e}(),b=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)}}),e}()}}]);