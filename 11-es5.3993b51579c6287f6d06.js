function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3DVi":function(t,e,n){"use strict";n.d(e,"a",(function(){return mt}));var i=n("fXoL"),o=n("0IaG"),a=n("3Pt+"),c=n("Ivtv"),r=n("tyNb"),b=n("qXBG"),m=n("0Zc1"),l=n("ofXK"),s=n("/t3+"),p=n("XiUz"),u=n("bTqV"),d=n("NFeN"),f=n("EwFO"),h=n("kmnG"),v=n("d3UM"),g=n("FKr1"),X=n("qFsG"),W=n("ihCf");function x(t,e){1&t&&(i.Xb(0,"mat-error"),i.Lc(1," custom is required "),i.Wb())}function L(t,e){if(1&t){var n=i.Yb();i.Xb(0,"div"),i.Xb(1,"form",8),i.fc("keydown.enter",(function(t){return i.Bc(n),"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){i.Bc(n);var e=i.jc();return e.onContainerFormSubmit(e.formContainer)})),i.Xb(2,"div",9),i.Sb(3,"input",10),i.Sb(4,"input",11),i.Sb(5,"input",12),i.Sb(6,"input",13),i.Wb(),i.Xb(7,"div",14),i.Xb(8,"mat-form-field",15),i.Xb(9,"mat-label"),i.Lc(10,"Custom"),i.Wb(),i.Xb(11,"mat-select",16),i.Xb(12,"mat-option",17),i.Lc(13,"No"),i.Wb(),i.Xb(14,"mat-option",17),i.Lc(15,"Yes"),i.Wb(),i.Wb(),i.Jc(16,x,2,0,"mat-error",6),i.Wb(),i.Xb(17,"mat-form-field",18),i.Xb(18,"mat-label"),i.Lc(19,"Update by"),i.Wb(),i.Sb(20,"input",19),i.Sb(21,"input",20),i.Wb(),i.Wb(),i.Xb(22,"div",21),i.Xb(23,"div",22),i.Xb(24,"mat-form-field",23),i.Xb(25,"mat-label"),i.Lc(26,"Seal"),i.Wb(),i.Sb(27,"input",24),i.Wb(),i.Xb(28,"mat-form-field",23),i.Xb(29,"mat-label"),i.Lc(30,"Mark"),i.Wb(),i.Sb(31,"input",25),i.Wb(),i.Xb(32,"mat-form-field",23),i.Xb(33,"mat-label"),i.Lc(34,"Weight"),i.Wb(),i.Sb(35,"input",26),i.Wb(),i.Xb(36,"mat-form-field",23),i.Xb(37,"mat-label"),i.Lc(38,"Vgm"),i.Wb(),i.Sb(39,"input",27),i.Wb(),i.Xb(40,"mat-form-field",23),i.Xb(41,"mat-label"),i.Lc(42,"Measurement(CBM)"),i.Wb(),i.Sb(43,"input",28),i.Wb(),i.Wb(),i.Xb(44,"div",22),i.Xb(45,"mat-form-field",29),i.Xb(46,"mat-label"),i.Lc(47,"Description"),i.Wb(),i.Sb(48,"textarea",30),i.Wb(),i.Wb(),i.Xb(49,"div",22),i.Xb(50,"mat-form-field",31),i.Xb(51,"mat-label"),i.Lc(52,"Shipment number"),i.Wb(),i.Sb(53,"input",32),i.Wb(),i.Xb(54,"mat-form-field",31),i.Xb(55,"mat-label"),i.Lc(56,"FFE"),i.Wb(),i.Sb(57,"input",33),i.Wb(),i.Xb(58,"mat-form-field",34),i.Xb(59,"mat-label"),i.Lc(60,"Remark"),i.Wb(),i.Sb(61,"input",35),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",14),i.Xb(63,"div",36),i.Lc(64),i.Wb(),i.Wb(),i.Xb(65,"div",37),i.Xb(66,"button",38),i.Lc(67,"Submit"),i.Wb(),i.Xb(68,"button",39),i.fc("click",(function(t){return i.Bc(n),i.jc().matDialogRef.close()})),i.Lc(69,"Cancel"),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=i.jc();i.Db(1),i.pc("formGroup",o.formContainer),i.Db(11),i.pc("value",0),i.Db(2),i.pc("value",1),i.Db(2),i.pc("ngIf",o.formContainer.get("custom").hasError("required")),i.Db(4),i.pc("value",o.name),i.Db(44),i.Mc(o.errorMessage)}}function y(t,e){1&t&&(i.Xb(0,"mat-error"),i.Lc(1," Container number is required "),i.Wb())}function M(t,e){1&t&&(i.Xb(0,"mat-error"),i.Lc(1," Container number is too long (max length = 11); "),i.Wb())}function D(t,e){1&t&&(i.Xb(0,"mat-error"),i.Lc(1," Invalid container number "),i.Wb())}function C(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"TREXP"),i.Wb(),i.Wb())}function w(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function k(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function S(t,e){1&t&&i.Sb(0,"span")}function _(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function F(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,w,2,0,"span",51),i.Jc(7,k,2,0,"span",51),i.Jc(8,S,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,_,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function I(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"FULEX"),i.Wb(),i.Wb())}function J(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function N(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function j(t,e){1&t&&i.Sb(0,"span")}function P(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function q(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,J,2,0,"span",51),i.Jc(7,N,2,0,"span",51),i.Jc(8,j,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,P,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function R(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"LOAD"),i.Wb(),i.Wb())}function H(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function A(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function E(t,e){1&t&&i.Sb(0,"span")}function T(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function B(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,H,2,0,"span",51),i.Jc(7,A,2,0,"span",51),i.Jc(8,E,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,T,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function O(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"FULIM"),i.Wb(),i.Wb())}function V(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function G(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function Y(t,e){1&t&&i.Sb(0,"span")}function $(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function z(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,V,2,0,"span",51),i.Jc(7,G,2,0,"span",51),i.Jc(8,Y,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,$,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function U(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"TRIMP"),i.Wb(),i.Wb())}function K(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function Q(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function Z(t,e){1&t&&i.Sb(0,"span")}function tt(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function et(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,K,2,0,"span",51),i.Jc(7,Q,2,0,"span",51),i.Jc(8,Z,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,tt,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function nt(t,e){1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",49),i.Lc(2,"EMPTY"),i.Wb(),i.Wb())}function it(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"20DC"),i.Wb())}function ot(t,e){1&t&&(i.Xb(0,"span"),i.Lc(1,"40HC"),i.Wb())}function at(t,e){1&t&&i.Sb(0,"span")}function ct(t,e){if(1&t){var n=i.Yb();i.Xb(0,"mat-icon",54),i.fc("click",(function(t){i.Bc(n);var e=i.jc().$implicit,o=i.jc(2);return t.stopPropagation(),o.createSelMove(e)})),i.Lc(1,"save"),i.Wb()}}function rt(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",47),i.Lc(2),i.Wb(),i.Xb(3,"td"),i.Lc(4),i.Wb(),i.Xb(5,"td",50),i.Jc(6,it,2,0,"span",51),i.Jc(7,ot,2,0,"span",51),i.Jc(8,at,1,0,"span",52),i.Wb(),i.Xb(9,"td"),i.Lc(10),i.Wb(),i.Xb(11,"td"),i.Lc(12),i.kc(13,"date"),i.Wb(),i.Xb(14,"td"),i.Lc(15),i.Wb(),i.Xb(16,"td"),i.Lc(17),i.Wb(),i.Xb(18,"td"),i.Jc(19,ct,2,0,"mat-icon",53),i.Wb(),i.Wb()),2&t){var n=e.$implicit,o=e.index,a=i.jc(2);i.Db(2),i.Mc(o+1),i.Db(2),i.Mc(n.cont_number),i.Db(1),i.pc("ngSwitch",n.cont_type),i.Db(1),i.pc("ngSwitchCase",1),i.Db(1),i.pc("ngSwitchCase",2),i.Db(3),i.Mc(n.move_type),i.Db(2),i.Mc(i.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),i.Db(3),i.Mc(n.place.short_name),i.Db(2),i.Mc(n.document),i.Db(2),i.pc("ngIf",a.permission.edit)}}function bt(t,e){if(1&t){var n=i.Yb();i.Xb(0,"div",40),i.Xb(1,"form",41),i.fc("keydown.enter",(function(t){return i.Bc(n),"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){i.Bc(n);var e=i.jc();return e.onMovementFormSubmit(e.formMovement)})),i.Xb(2,"div",14),i.Xb(3,"mat-form-field",42),i.Xb(4,"mat-label"),i.Lc(5,"Container"),i.Wb(),i.Sb(6,"input",43),i.Jc(7,y,2,0,"mat-error",6),i.Jc(8,M,2,0,"mat-error",6),i.Jc(9,D,2,0,"mat-error",6),i.Wb(),i.Xb(10,"div",44),i.Xb(11,"button",45),i.Lc(12,"Search"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"table",46),i.Xb(14,"thead"),i.Xb(15,"tr"),i.Xb(16,"th",47),i.Lc(17,"No"),i.Wb(),i.Xb(18,"th"),i.Lc(19,"Container"),i.Wb(),i.Xb(20,"th"),i.Lc(21,"Type"),i.Wb(),i.Xb(22,"th"),i.Lc(23,"Move"),i.Wb(),i.Xb(24,"th"),i.Lc(25,"Date"),i.Wb(),i.Xb(26,"th"),i.Lc(27,"Place"),i.Wb(),i.Xb(28,"th"),i.Lc(29,"Document"),i.Wb(),i.Sb(30,"th"),i.Wb(),i.Wb(),i.Xb(31,"tbody"),i.Jc(32,C,3,0,"tr",6),i.Jc(33,F,20,13,"tr",48),i.Jc(34,I,3,0,"tr",6),i.Jc(35,q,20,13,"tr",48),i.Jc(36,R,3,0,"tr",6),i.Jc(37,B,20,13,"tr",48),i.Jc(38,O,3,0,"tr",6),i.Jc(39,z,20,13,"tr",48),i.Jc(40,U,3,0,"tr",6),i.Jc(41,et,20,13,"tr",48),i.Jc(42,nt,3,0,"tr",6),i.Jc(43,rt,20,13,"tr",48),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=i.jc();i.Db(1),i.pc("formGroup",o.formMovement),i.Db(6),i.pc("ngIf",o.formMovement.get("container").hasError("required")),i.Db(1),i.pc("ngIf",!o.formMovement.get("container").hasError("required")&&o.formMovement.get("container").hasError("maxLength")),i.Db(1),i.pc("ngIf",o.formMovement.get("container").errors&&o.formMovement.get("container").dirty&&o.formMovement.get("container").errors.validConNum),i.Db(23),i.pc("ngIf",o.movementFilter2[5].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[5]),i.Db(1),i.pc("ngIf",o.movementFilter2[6].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[6]),i.Db(1),i.pc("ngIf",o.movementFilter2[9].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[9]),i.Db(1),i.pc("ngIf",o.movementFilter2[3].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[3]),i.Db(1),i.pc("ngIf",o.movementFilter2[4].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[4]),i.Db(1),i.pc("ngIf",o.movementFilter2[2].length>0),i.Db(1),i.pc("ngForOf",o.movementFilter2[2])}}var mt=function(){var t=function(){function t(e,n,o,r,b,m,l){_classCallCheck(this,t),this.router=e,this.matDialogRef=n,this._data=o,this.authService=r,this.commonService=b,this.datePipe=m,this._formBuilder=l,this.formContainer=this._formBuilder.group({id:[null],move:[null,[a.y.required]],custom:[0,a.y.required],weight:[0,a.y.required],vgm:[0,a.y.required],info:this._formBuilder.group({seal:[null],mark:[null],measurement:[null],weight:[null],vgm:[null],description:[null],shipment_number:[null],ffe:[null],remark:[null]}),update_by:[this.authService.user,a.y.required]}),this.movement2=[],this.movementFilter={2:[],3:[],4:[],5:[],6:[],9:[]},this.movementFilter2={2:[],3:[],4:[],5:[],6:[],9:[]},this.formMovement=this._formBuilder.group({container:["",[a.y.required,c.a]]}),this.getMovement=new i.o,this.createSelMoveParent=new i.o,this.label=o.label,this.shipmentId=o.shipmentId,"Edit container info"==this.label&&(this.selMove=o.selMove.move.find((function(t){return"TREXP"==t.move_type})),this.selMove?this.selMove.sel_move_info_id?(this.formContainer.controls.id.setValue(this.selMove.sel_move_info_id),this.formContainer.controls.move.setValue(this.selMove.sel_move_id),this.formContainer.controls.weight.setValue(this.selMove.weight),this.formContainer.controls.vgm.setValue(this.selMove.vgm),this.formContainer.controls.custom.setValue(this.selMove.custom),this.formContainer.controls.info.patchValue(this.selMove.move_info)):(this.formContainer.controls.id.disable(),this.formContainer.controls.move.setValue(this.selMove.sel_move_id)):(alert("Not TREXP"),this.matDialogRef.close())),"Container move"==this.label&&(this.selMove=o.selMove,o.data&&(this.formMovement.controls.container.setValue(o.data),this.onMovementFormSubmit(this.formMovement)))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.name=this.authService.name,this.formContainer.valueChanges.subscribe((function(e){t.errorMessage=""})),this.formContainer.get("info.description").valueChanges.subscribe((function(e){if(e)for(var n=0;n<e.length;n++)if(!new RegExp("[^'\"]").test(e.charAt(n))||"\t"==e.charAt(n)||"\r"==e.charAt(n)){t.formContainer.get("info.description").setValue(e.replace(/["']/g,"").replace(/\t/g,"").replace(/\r/g,""));break}})),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"onContainerFormSubmit",value:function(t){t.valid&&this.matDialogRef.close(t.value)}},{key:"onMovementFormSubmit",value:function(t){t.valid&&this.getMovement.emit([t.value.container,"2019-01-01"])}},{key:"createSelMove",value:function(t){var e=this.checkMovement(t);e?alert(e):(this.authService.onRequestChanged.next(!0),this.createSelMoveParent.emit({shipment:this.shipmentId,move:t.id,move_type:t.move_type,update_by:this.authService.user}))}},{key:"checkMovement",value:function(t){var e=this.selMove.find((function(e){return e.last_move&&e.last_move.container==t.container}));if(e){if(e[t.move_type])return"This container "+t.cont_number+" has got movement type "+t.move_type;var n=[];return["TREXP","FULEX","LOAD","FULIM","TRIMP","EMPTY"].map((function(i){t.move_type==i?n.push(new Date(t.date).getTime()):e[i]&&n.push(e.date[i])})),n.reduce((function(t,e,n){return 0==t&&0!=n?0:t<=e?e:0}),0)>0?null:"This container "+t.cont_number+" has got movement type "+t.move_type+" wrong date"}return null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.g),i.Rb(o.f),i.Rb(o.a),i.Rb(b.a),i.Rb(m.a),i.Rb(l.f),i.Rb(a.d))},t.\u0275cmp=i.Lb({type:t,selectors:[["shipment-details-container-modal-dialog"]],decls:11,vars:3,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-detail-container-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","move"],["inputCheck","","formControlName","weight"],["inputCheck","","formControlName","vgm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","25",1,"pr-8"],["formControlName","custom","required",""],[3,"value"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","75",1,"pr-8"],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","column","formGroupName","info"],["fxLayout","row wrap","fxLayoutAlign","start","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","","formControlName","seal"],["inputCheck","","matInput","","formControlName","mark"],["inputCheck","","matInput","","formControlName","weight","type","text"],["inputCheck","","matInput","","formControlName","vgm","type","text"],["inputCheck","","matInput","","formControlName","measurement","type","text"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","100",1,"pr-8"],["textareaCheck","","matInput","","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","33",1,"pr-8"],["inputCheck","","matInput","","formControlName","shipment_number"],["inputCheck","","matInput","","formControlName","ffe","type","number"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","34",1,"pr-8"],["inputCheck","","matInput","","formControlName","remark"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["fxLayout","column","fxLayoutAlign","start"],[3,"formGroup","keydown.enter","ngSubmit"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","80",1,"pr-8"],["inputCheck","","matInput","","maxlength","11","formControlName","container","required",""],["fxFlex","50","fxFlex.gt-xs","20"],["type","submit","mat-raised-button","","color","accent",1,"ml-8"],[1,"simple","movement-table"],[1,"text-center"],[4,"ngFor","ngForOf"],["colspan","8",1,"blue-200"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["color","accent",1,"cursor-pointer",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-toolbar",1),i.Xb(2,"mat-toolbar-row",2),i.Xb(3,"span",3),i.Lc(4),i.Wb(),i.Xb(5,"button",4),i.fc("click",(function(t){return e.matDialogRef.close()})),i.Xb(6,"mat-icon"),i.Lc(7,"close"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",5),i.Jc(9,L,70,6,"div",6),i.Jc(10,bt,44,16,"div",7),i.Wb(),i.Wb()),2&t&&(i.Db(4),i.Mc(e.label),i.Db(5),i.pc("ngIf","Add container info"==e.label||"Edit container info"==e.label),i.Db(1),i.pc("ngIf","Container move"==e.label))},directives:[s.a,s.c,p.b,p.d,p.c,u.b,d.a,o.d,f.a,l.t,a.A,a.q,a.h,a.b,a.p,a.g,h.c,h.f,v.a,a.w,g.n,X.b,a.i,W.b,a.u,h.b,a.k,l.s,l.x,l.y,l.z],pipes:[l.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-container-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-container-modal-dialog{width:1080px}}.shipment-details-container-modal-dialog .mat-dialog-container{padding:0}.shipment-details-container-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-container-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-container-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.shipment-details-container-modal-dialog #shipment-details-container-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.shipment-details-container-modal-dialog #shipment-details-container-modal .faq .item{padding:8px}.shipment-details-container-modal-dialog #shipment-details-container-modal .faq .item .title{font-size:14px;margin-bottom:8px}.shipment-details-container-modal-dialog #shipment-details-container-modal .faq .item .info{font-size:12px;line-height:1.5;color:rgba(0,0,0,.54)}.shipment-details-container-modal-dialog #shipment-details-container-modal .movement-table td,.shipment-details-container-modal-dialog #shipment-details-container-modal .movement-table th{font-size:12px}.table-inv-item{width:100%}.table-inv-item tr.example-details-row{height:0}.table-inv-item tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}.table-inv-item tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.table-inv-item .example-element-row td{border-bottom-width:0}.table-inv-item .example-element-detail{overflow:hidden;display:-webkit-box;display:flex}.table-inv-item .example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.table-inv-item .example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.table-inv-item .example-element-description{padding:16px}.table-inv-item .example-element-description-attribution{opacity:.5}"],encapsulation:2}),t}()},xcW2:function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));var i=n("tyNb"),o=n("STbY"),a=n("/1cH"),c=n("iadO"),r=n("bTqV"),b=n("7EHt"),m=n("kmnG"),l=n("NFeN"),s=n("Qu3c"),p=n("qFsG"),u=n("wZkO"),d=n("d3UM"),f=n("QibW"),h=n("0IaG"),v=n("/t3+"),g=n("bSwM"),X=n("M9IT"),W=n("xHqg"),x=n("A5z7"),L=n("bv9b"),y=n("XhcP"),M=n("FKr1"),D=n("1jcm"),C=n("+0xr"),w=n("MutI"),k=n("f0Cb"),S=n("5HBU"),_=n("fXoL"),F=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=_.Pb({type:t}),t.\u0275inj=_.Ob({factory:function(e){return new(e||t)},imports:[[i.k,o.b,S.a,a.b,c.c,r.c,b.b,m.e,l.b,s.b,p.c,u.c,d.b,f.c,h.e,v.b,g.b,X.b,W.d,x.e,L.b,y.b,D.b,C.k,w.c,k.b,M.t]]}),t}()}}]);