(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{MJzM:function(t,e,n){"use strict";n.r(e);var i=n("tyNb"),a=n("5HBU"),o=n("bTqV"),r=n("kmnG"),s=n("NFeN"),c=n("STbY"),l=n("d3UM"),d=n("wZkO"),b=n("pxUr"),p=n("LPYB"),u=n("zQsl"),f=n("4CPF"),h=n("PVWW"),x=n("XNiG"),g=n("1G5W"),y=n("fXoL"),w=n("2Vo4"),m=n("tk/3"),v=n("qXBG");let k=(()=>{class t{constructor(t,e){this._httpClient=t,this.authService=e,this.onContainerChanged=new w.a({})}resolve(t){return this.authService.routerData=t,new Promise((t,e)=>{Promise.all([this.getContainer()]).then(()=>{t()},e)})}getContainer(){let t={headers:new m.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,n)=>{this._httpClient.get(this.authService.apiUrl+"/sel/container/all",t).subscribe(t=>{this.report=t.report,this.arrYear=t.arrYear,this.onContainerChanged.next(t),e(t)},n)})}}return t.\u0275fac=function(e){return new(e||t)(y.bc(m.a),y.bc(v.a))},t.\u0275prov=y.Nb({token:t,factory:t.\u0275fac}),t})();var C=n("XiUz"),A=n("ofXK"),L=n("znSr");const S=function(t){return{"blue-700":t}};function X(t,e){if(1&t){const t=y.Yb();y.Xb(0,"div",10),y.fc("click",(function(n){y.Bc(t);const i=e.$implicit;return y.jc().selectedYear=i})),y.Lc(1),y.Wb()}if(2&t){const t=e.$implicit,n=y.jc();y.pc("ngClass",y.rc(2,S,n.selectedYear===t)),y.Db(1),y.Nc(" ",t," ")}}let Y=(()=>{class t{constructor(t){this.containerAnalyticsService=t,this.selectedYear=(new Date).getFullYear(),this._registerCustomChartJSPlugin(),this._unsubscribeAll=new x.a}ngOnInit(){this.containerAnalyticsService.onContainerChanged.pipe(Object(g.a)(this._unsubscribeAll)).subscribe(t=>{this.data=this.containerAnalyticsService.report,this.arrYear=this.containerAnalyticsService.arrYear,console.log(t)}),this.labels=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.options={spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:32,left:32,right:32}},elements:{point:{radius:4,borderWidth:2,hoverRadius:4,hoverBorderWidth:2},line:{tension:0}},scales:{xAxes:[{gridLines:{display:!1,drawBorder:!1,tickMarkLength:18},ticks:{fontColor:"#ffffff"}}],yAxes:[{display:!1,ticks:{min:50,max:1500,stepSize:50}}]},plugins:{filler:{propagate:!1},xLabelsOnTop:{active:!0}}},this.colors=[{borderColor:"#42a5f5",backgroundColor:"#42a5f5",pointBackgroundColor:"#1e88e5",pointHoverBackgroundColor:"#1e88e5",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"}]}_registerCustomChartJSPlugin(){window.Chart.plugins.register({afterDatasetsDraw:function(t,e){if(!t.options.plugins.xLabelsOnTop||t.options.plugins.xLabelsOnTop&&!1===t.options.plugins.xLabelsOnTop.active)return;const n=t.ctx;t.data.datasets.forEach((function(e,i){const a=t.getDatasetMeta(i);a.hidden||a.data.forEach((function(t,i){n.fillStyle="rgba(255, 255, 255, 0.7)",n.font=window.Chart.helpers.fontString(13,"normal","Roboto, Helvetica Neue, Arial");const a=Math.round(e.data[i]).toString();n.textAlign="center",n.textBaseline="middle";const o=t.tooltipPosition();n.fillText(a,o.x,24),n.save(),n.beginPath(),n.setLineDash([5,3]),n.moveTo(o.x,39),n.lineTo(o.x,o.y-15),n.strokeStyle="rgba(255,255,255,0.12)",n.stroke(),n.restore()}))}))}})}}return t.\u0275fac=function(e){return new(e||t)(y.Rb(k))},t.\u0275cmp=y.Lb({type:t,selectors:[["container-analytics"]],decls:12,vars:5,consts:[["id","container-analytics",1,"page-layout","blank"],[1,"main-widget"],["fxLayout","row","fxLayoutAlign","space-between center",1,"position-relative","p-24","blue-600"],["fxLayout","column","fxLayoutAlign","start start"],[1,"h2"],[1,"h5","secondary-text"],["fxLayout","row","fxLayoutAlign","start center"],["class","py-8 px-12 border-radius-2 line-height-1 mr-8 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"position-relative","h-256","pb-16","blue-600"],["baseChart","","chartType","line",3,"datasets","labels","colors","options"],[1,"py-8","px-12","border-radius-2","line-height-1","mr-8","cursor-pointer",3,"ngClass","click"]],template:function(t,e){1&t&&(y.Xb(0,"div",0),y.Xb(1,"div",1),y.Xb(2,"div",2),y.Xb(3,"div",3),y.Xb(4,"span",4),y.Lc(5,"Container"),y.Wb(),y.Xb(6,"span",5),y.Lc(7,"Unique container by month"),y.Wb(),y.Wb(),y.Xb(8,"div",6),y.Jc(9,X,2,4,"div",7),y.Wb(),y.Wb(),y.Xb(10,"div",8),y.Sb(11,"canvas",9),y.Wb(),y.Wb(),y.Wb()),2&t&&(y.Db(9),y.pc("ngForOf",e.arrYear),y.Db(2),y.pc("datasets",e.data[e.selectedYear])("labels",e.labels)("colors",e.colors)("options",e.options))},directives:[C.d,C.c,A.s,p.a,A.q,L.a],styles:["#container-analytics .main-widget{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#container-analytics .content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding:32px;min-width:0}@media screen and (max-width:1279px){#container-analytics .content{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}#container-analytics .content .left{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#container-analytics .content .left,#container-analytics .content .left .widget{-webkit-box-flex:1;flex:1 1 auto;min-width:0}#container-analytics .content .right{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;width:320px;min-width:320px;max-width:320px}@media screen and (max-width:1279px){#container-analytics .content .right{-webkit-box-flex:1;flex:1 0 100%;margin-top:32px}}@media screen and (max-width:1279px){#container-analytics .content .right,#container-analytics .content .right .fuse-card{width:100%;min-width:0;max-width:none}}"],encapsulation:2,data:{animation:h.a}}),t})();n.d(e,"ContainerAnalyticsModule",(function(){return W}));const P=[{path:"**",component:Y,resolve:{data:k}}];let W=(()=>{class t{}return t.\u0275mod=y.Pb({type:t}),t.\u0275inj=y.Ob({factory:function(e){return new(e||t)},providers:[k],imports:[[i.k.forChild(P),o.c,r.e,s.b,c.b,a.a,l.b,d.c,b.a.forRoot({apiKey:"AIzaSyD81ecsCj4yYpcXSLFcYU97PvRsE_X8Bx8"}),p.b,u.b,f.a]]}),t})()}}]);