function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{IOBc:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("5HBU"),r=i("bTqV"),a=i("kmnG"),o=i("NFeN"),s=i("qFsG"),c=i("wZkO"),l=i("/t3+"),p=i("bSwM"),h=i("+0xr"),b=i("FKr1"),u=i("MutI"),m=i("fXoL"),d=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[n.a,r.c,a.e,o.b,s.c,c.c,l.b,p.b,b.t,u.c,h.k]]}),e}()},bcYD:function(e,t,i){"use strict";i.r(t);var n,r=i("tyNb"),a=i("5HBU"),o=i("STbY"),s=i("/1cH"),c=i("iadO"),l=i("bTqV"),p=i("7EHt"),h=i("kmnG"),b=i("NFeN"),u=i("Qu3c"),m=i("qFsG"),d=i("wZkO"),f=i("d3UM"),g=i("QibW"),v=i("0IaG"),x=i("/t3+"),S=i("bSwM"),y=i("M9IT"),w=i("xHqg"),k=i("A5z7"),_=i("bv9b"),X=i("XhcP"),W=i("FKr1"),C=i("1jcm"),L=i("+0xr"),D=i("Dh3D"),F=i("IOBc"),O=i("212X"),A=i("LPQX"),P=i("XNiG"),z=i("1G5W"),R=i("PVWW"),I=i("/N0t"),T=i("fXoL"),B=i("HX77"),M=i("2Vo4"),j=i("jD4G"),N=i("tk/3"),J=i("0Zc1"),V=i("qXBG"),q=((n=function(){function e(t,i,n){_classCallCheck(this,e),this._httpClient=t,this.commonService=i,this.authService=n,this.defaultSearch={process:"all"},this.onDataChanged=new M.a([]),this.onDataItemChanged=new M.a([]),this.onVoyageChanged=new M.a([]),this.onShipmentsListChanged=new M.a([]),this.onSelShipmentDetailsChanged=new M.a([]),this.onFilterChanged=new P.a,this.onSearchTextChanged=new P.a}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.authService.routerData=e,this.module=e.params.modul,this.authService.back||(this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch))),new Promise((function(e,i){Promise.all([t.getFilterShipments(t.currenSearch),t.getData(),t.getItemData(),t.getVoyage()]).then((function(i){_slicedToArray(i,1)[0],t.onFilterChanged.subscribe((function(e){t.filterBy=e,t.getFilterShipment()})),t.onSearchTextChanged.subscribe((function(e){t.searchText=e,t.getFilterShipment()})),e()}),i)}))}},{key:"getShipments",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,n){e._httpClient.get(e.authService.apiUrl+"/dnl/shipment",t).subscribe((function(t){e.shipments=t,e.filterShipment=JSON.parse(JSON.stringify(t)),e.onShipmentsListChanged.next(e.filterShipment),i(e.filterShipment)}),n)}))}},{key:"getData",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,n){e._httpClient.get(e.authService.apiUrl+"/sel/shipment/data",t).subscribe((function(t){e.customer=t[0],e.supplier=t[1],e.seaport=t[2],e.user=t[3],e.onDataChanged.next(t),i(t)}),n)}))}},{key:"getFilterShipments",value:function(e){var t=this,i={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,r){t._httpClient.post(t.authService.apiUrl+"/sel/shipment/module/"+t.module,e,i).subscribe((function(e){t.shipments=e,t.searchText?t.getFilterShipment():(t.filterShipment=JSON.parse(JSON.stringify(e)),t.onShipmentsListChanged.next(t.filterShipment)),n(t.filterShipment)}),r)}))}},{key:"getSelShipmentById",value:function(e){var t=this,i={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,r){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/id/"+e,i).subscribe((function(e){t.shipment=e[0][0],10==t.shipment.status&&(t.lock=!0),t.onSelShipmentDetailsChanged.next(e),n(e)}),r)}))}},{key:"deleteSelShipment",value:function(e){var t=this,i={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,r){t._httpClient.delete(t.authService.apiUrl+"/sel-shipment/shipment/"+e,i).subscribe((function(e){n(e)}),r)}))}},{key:"getFilterShipment",value:function(){var e=JSON.parse(JSON.stringify(this.shipments));this.filterBy&&(this.filterBy.code&&(e=this.commonService.filterText(e,this.filterBy.code,"code")),this.filterBy.bill&&(e=this.commonService.filterText(e,this.filterBy.bill,"bill"))),this.searchText&&""!==this.searchText&&(e=j.a.filterArrayByString(e,this.searchText)),this.filterShipment=e,this.onShipmentsListChanged.next(e)}},{key:"createSelShipment",value:function(e){var t=this,i={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,r){t._httpClient.post(t.authService.apiUrl+"/sel/shipment/new",e,i).subscribe((function(e){n(e)}),r)}))}},{key:"getItemData",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,n){e._httpClient.get(e.authService.apiUrl+"/sel/book/book",t).subscribe((function(t){e.agent=t.agent,e.commodity=t.commodity,e.packageType=t.packageType,e.price=t.price,e.currency=t.currency,e.country=t.country,e.depot=t.depot,e.onDataItemChanged.next(t),i(t)}),n)}))}},{key:"getVoyage",value:function(e){var t=this,i={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},n="/sel/book/voyage/"+(e?1:0);return new Promise((function(e,r){t._httpClient.get(t.authService.apiUrl+n,i).subscribe((function(i){t.voyage=i,t.onVoyageChanged.next(i),e(i)}),r)}))}}]),e}()).\u0275fac=function(e){return new(e||n)(T.bc(N.a),T.bc(J.a),T.bc(V.a))},n.\u0275prov=T.Nb({token:n,factory:n.\u0275fac}),n),H=i("ofXK"),E=i("B9zo"),U=i("0JVi"),G=i("XiUz"),Y=i("znSr"),Q=i("rPBI");function $(e,t){if(1&e){var i=T.Yb();T.Xb(0,"div"),T.Xb(1,"button",18),T.fc("click",(function(e){return T.Bc(i),T.jc().clearShipment.emit(null)})),T.Xb(2,"mat-icon",19),T.Lc(3,"arrow_back"),T.Wb(),T.Wb(),T.Wb()}}function K(e,t){if(1&e){var i=T.Yb();T.Xb(0,"button",20),T.fc("click",(function(e){return T.Bc(i),T.jc().newShipment.emit()})),T.Xb(1,"mat-icon",21),T.Lc(2,"add"),T.Wb(),T.Xb(3,"span",22),T.Lc(4,"Shipment"),T.Wb(),T.Wb()}}function Z(e,t){if(1&e){var i=T.Yb();T.Xb(0,"button",23),T.fc("click",(function(e){T.Bc(i);var t=T.jc();return e.stopPropagation(),t.changeScreen.emit(!0)})),T.Xb(1,"mat-icon"),T.Lc(2,"flip_to_front"),T.Wb(),T.Wb()}}function ee(e,t){if(1&e){var i=T.Yb();T.Xb(0,"button",23),T.fc("click",(function(e){T.Bc(i);var t=T.jc();return e.stopPropagation(),t.changeScreen.emit(!1)})),T.Xb(1,"mat-icon"),T.Lc(2,"flip_to_back"),T.Wb(),T.Wb()}}var te,ie=((te=function(){function e(t,i){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=i,this.fullScreen=!1,this.toggleSidebar=new T.o,this.showHideBar=new T.o,this.refreshPage=new T.o,this.newShipment=new T.o,this.clearShipment=new T.o,this.searchFilter=new T.o,this.goShipmentList=new T.o,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}]),e}()).\u0275fac=function(e){return new(e||te)(T.Rb(V.a),T.Rb(U.b))},te.\u0275cmp=T.Lb({type:te,selectors:[["shipment-list2-header"]],inputs:{sidebarName:"sidebarName",currentShipment:"currentShipment",searchText:"searchText",permission:"permission",module:"module"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",newShipment:"newShipment",clearShipment:"clearShipment",searchFilter:"searchFilter",goShipmentList:"goShipmentList"},decls:35,vars:7,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],[4,"ngIf"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","class","quick-panel-toggle-button","aria-label","Toggle quick panel",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button",3,"click"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(T.Xb(0,"mat-toolbar",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"button",4),T.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),T.Xb(5,"mat-icon"),T.Lc(6,"menu"),T.Wb(),T.Wb(),T.Xb(7,"button",5),T.fc("click",(function(e){return t.showHideBar.emit()})),T.Xb(8,"mat-icon"),T.Lc(9,"menu"),T.Wb(),T.Wb(),T.Jc(10,$,4,0,"div",6),T.Wb(),T.Xb(11,"button",7),T.Xb(12,"span",8),T.Lc(13,"Overview"),T.Wb(),T.Xb(14,"mat-icon",9),T.Lc(15,"equalizer"),T.Wb(),T.Wb(),T.Xb(16,"button",7),T.Xb(17,"span",8),T.Lc(18,"Sheet"),T.Wb(),T.Xb(19,"mat-icon",9),T.Lc(20,"view_carousel"),T.Wb(),T.Wb(),T.Wb(),T.Xb(21,"div",10),T.Sb(22,"div",11),T.Xb(23,"filter-search-bar",12),T.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),T.Wb(),T.Sb(24,"div",11),T.Jc(25,K,5,0,"button",13),T.Sb(26,"div",11),T.Xb(27,"button",14),T.fc("click",(function(e){return e.stopPropagation(),t.refreshPage.emit()})),T.Xb(28,"mat-icon",15),T.Lc(29,"refresh"),T.Wb(),T.Wb(),T.Sb(30,"div",11),T.Jc(31,Z,3,0,"button",16),T.Jc(32,ee,3,0,"button",16),T.Sb(33,"div",17),T.Sb(34,"div",17),T.Wb(),T.Wb(),T.Wb()),2&e&&(T.Db(10),T.pc("ngIf",t.currentShipment),T.Db(1),T.pc("routerLink","/apps/"+t.module+"/shipment/list"),T.Db(5),T.pc("routerLink","/apps/"+t.module+"/shipment/sheet"),T.Db(7),T.pc("searchText",t.searchText),T.Db(2),T.pc("ngIf",t.permission.create&&("workflow"==t.module||"import-haiphong"==t.module||"import-hochiminh"==t.module)),T.Db(6),T.pc("ngIf",!t.fullScreen),T.Db(1),T.pc("ngIf",t.fullScreen))},directives:[x.a,G.b,G.e,G.d,G.c,l.b,Y.b,b.a,H.t,r.i,r.h,Q.a],styles:["shipment-list2-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-list2-header.below{z-index:2}shipment-list2-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-list2-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}shipment-list2-header .logo .logo-icon{width:38px}shipment-list2-header .chat-panel-toggle-button,shipment-list2-header .language-button,shipment-list2-header .quick-panel-toggle-button,shipment-list2-header .user-button,shipment-list2-header fuse-search-bar{min-width:100px;height:64px}@media screen and (max-width:599px){shipment-list2-header .chat-panel-toggle-button,shipment-list2-header .language-button,shipment-list2-header .quick-panel-toggle-button,shipment-list2-header .user-button,shipment-list2-header fuse-search-bar{min-width:56px;height:56px}}shipment-list2-header .navbar-toggle-button{min-width:56px;height:56px}shipment-list2-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-list2-header .toolbar-separator{height:56px}}"],encapsulation:2}),te),ne=i("vxfF");function re(e,t){1&e&&(T.Xb(0,"mat-chip"),T.Lc(1,"Booking"),T.Wb())}function ae(e,t){1&e&&(T.Xb(0,"mat-chip",30),T.Lc(1,"Stuffing"),T.Wb())}function oe(e,t){1&e&&(T.Xb(0,"mat-chip",31),T.Lc(1,"Ready to load"),T.Wb())}function se(e,t){1&e&&(T.Xb(0,"mat-chip",32),T.Lc(1,"Load"),T.Wb())}function ce(e,t){1&e&&(T.Xb(0,"mat-chip",30),T.Lc(1,"Discharge"),T.Wb())}function le(e,t){1&e&&(T.Xb(0,"mat-chip",31),T.Lc(1,"Pick up"),T.Wb())}function pe(e,t){1&e&&(T.Xb(0,"mat-chip",32),T.Lc(1,"Complete"),T.Wb())}function he(e,t){if(1&e){var i=T.Yb();T.Xb(0,"button",33),T.fc("click",(function(e){T.Bc(i);var t=T.jc();return e.stopPropagation(),t.deleteShipment.emit(t.shipment.id)})),T.Xb(1,"mat-icon",34),T.Lc(2,"delete"),T.Wb(),T.Wb()}}var be,ue=((be=function(){function e(t,i){_classCallCheck(this,e),this.router=t,this._activatedRoute=i,this.goDetails=new T.o,this.deleteShipment=new T.o,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||be)(T.Rb(r.g),T.Rb(r.a))},be.\u0275cmp=T.Lb({type:be,selectors:[["shipment-list2-table-item"]],inputs:{shipment:"shipment",i:"i",length:"length"},outputs:{goDetails:"goDetails",deleteShipment:"deleteShipment"},decls:51,vars:27,consts:[["fxLayout","row wrap","fxLayoutAlign","start center",2,"border-bottom","1px solid #E0E0E0"],["fxFlex","5","fxLayoutAlign","center",1,"info"],["fxLayout","column","fxLayoutAlign","center center",1,"notes"],[2,"border-top","1px solid"],["fxFlex","95","fxLayout","column",1,"item-shipment"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["fxFlex","45",1,"accent-600-fg","font-size-12"],["fxFlex","40",1,"accent-600-fg","font-size-12"],["fxFlex","15",1,"actions"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"mt-4"],["fxFlex","45",1,"font-size-10"],["fxFlex","40",1,"font-size-10"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"pt-4","pb-4"],["fxFlex","45",1,"info"],[1,"notes","text-truncate","text-bold","cursor-pointer",3,"click"],["fxFlex","40",1,"info"],[1,"notes","text-truncate","text-bold"],["fxFlex","15","fxLayout","row","fxLayoutAlign","center center",1,"info"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"tags","h-40"],["fxFlex","45","fxLayout","column"],[1,"font-size-10"],[1,"font-size-10","mt-4"],["fxFlex","40","fxLayout","column"],["fxFlex","15","fxLayout","row","fxLayoutAlign","center center"],["class","font-size-10","mat-icon-button","",3,"click",4,"ngIf"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""],["mat-icon-button","",1,"font-size-10",3,"click"],[1,"red-fg"]],template:function(e,t){1&e&&(T.Xb(0,"div",0),T.Xb(1,"div",1),T.Xb(2,"div",2),T.Xb(3,"span"),T.Lc(4),T.Wb(),T.Xb(5,"span",3),T.Lc(6),T.Wb(),T.Wb(),T.Wb(),T.Xb(7,"div",4),T.Xb(8,"div",5),T.Xb(9,"span",6),T.Lc(10),T.Wb(),T.Xb(11,"span",7),T.Lc(12),T.Wb(),T.Sb(13,"div",8),T.Wb(),T.Xb(14,"div",9),T.Xb(15,"span",10),T.Lc(16),T.kc(17,"date"),T.Wb(),T.Xb(18,"span",11),T.Lc(19),T.kc(20,"date"),T.Wb(),T.Sb(21,"div",8),T.Wb(),T.Xb(22,"div",12),T.Xb(23,"div",13),T.Xb(24,"a",14),T.fc("click",(function(e){return e.stopPropagation(),t.goDetails.emit(t.shipment)})),T.Lc(25),T.Wb(),T.Wb(),T.Xb(26,"div",15),T.Xb(27,"div",16),T.Lc(28),T.Wb(),T.Wb(),T.Xb(29,"div",17),T.Xb(30,"mat-chip-list",18),T.Jc(31,re,2,0,"mat-chip",19),T.Jc(32,ae,2,0,"mat-chip",20),T.Jc(33,oe,2,0,"mat-chip",21),T.Jc(34,se,2,0,"mat-chip",22),T.Jc(35,ce,2,0,"mat-chip",20),T.Jc(36,le,2,0,"mat-chip",21),T.Jc(37,pe,2,0,"mat-chip",22),T.Wb(),T.Wb(),T.Wb(),T.Xb(38,"div",23),T.Xb(39,"div",24),T.Xb(40,"span",25),T.Lc(41),T.Wb(),T.Xb(42,"span",26),T.Lc(43),T.Wb(),T.Wb(),T.Xb(44,"div",27),T.Xb(45,"span",25),T.Lc(46),T.Wb(),T.Xb(47,"span",26),T.Lc(48),T.Wb(),T.Wb(),T.Xb(49,"div",28),T.Jc(50,he,3,0,"button",29),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&e&&(T.Db(4),T.Mc(t.i+1),T.Db(2),T.Mc(t.length),T.Db(4),T.Nc("from ",t.shipment.pol_name,""),T.Db(2),T.Nc("to ",t.shipment.pod_name,""),T.Db(4),T.Nc("ETD ",T.mc(17,21,t.shipment.depart_time,"MM/dd/yyyy"),""),T.Db(3),T.Nc("ETA ",T.mc(20,24,t.shipment.arrive_time,"MM/dd/yyyy"),""),T.Db(6),T.Mc(t.shipment.code),T.Db(3),T.Nc(" ",t.shipment.customer_short_name," "),T.Db(2),T.pc("ngSwitch",t.shipment.process),T.Db(1),T.pc("ngSwitchCase",0),T.Db(1),T.pc("ngSwitchCase",1),T.Db(1),T.pc("ngSwitchCase",2),T.Db(1),T.pc("ngSwitchCase",3),T.Db(1),T.pc("ngSwitchCase",4),T.Db(1),T.pc("ngSwitchCase",5),T.Db(1),T.pc("ngSwitchCase",6),T.Db(4),T.Nc("Bill: ",t.shipment.bill,""),T.Db(2),T.Nc("Owner: ",t.shipment.owner_name,""),T.Db(3),T.Nc("Vessel: ",t.shipment.vessel_full_name,""),T.Db(2),T.Nc("Agent: ",t.shipment.agent_short_name,""),T.Db(2),T.pc("ngIf",0==t.shipment.status))},directives:[G.d,G.c,G.b,k.c,H.x,H.y,H.t,k.a,l.b,b.a],pipes:[H.f],styles:["shipment-list2-table-item .item-shipment{width:100%;display:block;position:relative;padding:16px 16px 16px 24px;text-transform:none;flex-shrink:0}shipment-list2-table-item .item-shipment .handle{height:48px;line-height:48px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}shipment-list2-table-item .item-shipment.move-disabled .handle{display:none}shipment-list2-table-item .item-shipment .tags .tag{font-size:.8rem;border-radius:2px;margin:8px 4px 0 0;padding:3px 8px;border:1px solid #039be5}shipment-list2-table-item .item-shipment .tags .tag .tag-color{width:8px;height:8px;margin-right:8px;border-radius:50%}shipment-list2-table-item .item-shipment .info{font-size:1.5rem}shipment-list2-table-item .item-shipment .info .title{font-weight:600}shipment-list2-table-item .item-shipment .info .notes{margin-top:4px}"],encapsulation:2}),be);function me(e,t){1&e&&(T.Xb(0,"div",24),T.Xb(1,"span",25),T.Lc(2),T.Wb(),T.Wb()),2&e&&(T.Db(2),T.Mc("No ShipmentList2"))}var de=function(e){return{"current-shipment":e}},fe=function(){return{y:"100%"}},ge=function(e){return{value:"*",params:e}};function ve(e,t){if(1&e){var i=T.Yb();T.Xb(0,"shipment-list2-table-item",26),T.fc("click",(function(e){T.Bc(i);var n=t.$implicit;return T.jc().selectShipment.emit(n)}))("deleteShipment",(function(e){return T.Bc(i),T.jc().deleteShipment.emit(e)}))("goDetails",(function(e){return T.Bc(i),T.jc().goDetails.emit(e)})),T.Wb()}if(2&e){var n=t.$implicit,r=t.index,a=T.jc();T.pc("shipment",n)("i",r)("length",a.sortedData.length)("ngClass",T.rc(5,de,(null==n?null:n.id)==(null==a.currentQuote?null:a.currentQuote.id)))("@animate",T.rc(8,ge,T.qc(7,fe)))}}var xe,Se=function(){return{value:"50"}},ye=((xe=function(){function e(t,i,n){_classCallCheck(this,e),this._activatedRoute=t,this.authService=i,this._location=n,this.selectShipment=new T.o,this.deleteShipment=new T.o,this.goDetails=new T.o,this.height=560,this.sort={active:null,direction:null},this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.width<600?t.height-64:t.height-64-64-64-16})),this.authService.changeScreen.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){var i=t?64:0;e.height=e.authService.screenWidth<600?e.authService.screenHeight-64+i:e.authService.screenHeight-64-64-64-16+i}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(e){e.shipments&&(e.shipments.currentValue||null==e.shipments.currentValue)&&(this.shipments=e.shipments.currentValue,this.sortedData=this.shipments.slice(),this.sortData(this.sort))}},{key:"sortData",value:function(e){var t=this.shipments.slice();function i(e,t,i){return(e<t?-1:1)*(i?1:-1)}e.active&&""!==e.direction?(this.sortedData=t.sort((function(t,n){var r="asc"===e.direction;switch(e.active){case"pol":return i(t.pol_name,n.pol_name,r);case"pod":return i(t.pod_name,n.pod_name,r);case"customer":return i(t.customer_name,n.customer_name,r);case"code":return i(t.code,n.code,r);case"agent":return function(e,t,i){return(new Date(e).getTime()<new Date(t).getTime()?-1:1)*(i?1:-1)}(t.agent_short_name,n.agent_short_name,r);default:return 0}})),this.sort=e):this.sortedData=t}}]),e}()).\u0275fac=function(e){return new(e||xe)(T.Rb(r.a),T.Rb(V.a),T.Rb(H.n))},xe.\u0275cmp=T.Lb({type:xe,selectors:[["shipment-list2-table"]],inputs:{shipments:"shipments",currentShipment:"currentShipment"},outputs:{selectShipment:"selectShipment",deleteShipment:"deleteShipment",goDetails:"goDetails"},features:[T.Bb()],decls:33,vars:7,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],["matSort","",1,"shipment-list2-",3,"matSortChange"],["fxLayout","row wrap","fxLayoutAlign","start center",2,"border-bottom","1px solid #E0E0E0","width","100%"],["fxFlex","5","fxLayoutAlign","center",1,"info"],[1,"title","text-bold"],["fxFlex","95","fxLayout","column",1,"item-shipment"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["fxFlex","45",1,"info"],["mat-sort-header","code",1,"title","text-truncate","text-bold"],["fxFlex","40",1,"info"],["mat-sort-header","customer",1,"title","text-truncate","text-bold"],["fxFlex","15",1,"actions"],[1,"title","text-truncate","text-bold","cursor-pointer",3,"click"],["fxFlex","100",1,"item-shipment2"],["id","sort","fxFlex","100","fxLayoutAlign","center",3,"expanded"],["sortPanel",""],["fxFlex","95","fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"pl-24","pr-16","pb-8"],["fxFlex","22",1,"info"],["mat-sort-header","pol",1,"title","text-truncate","text-bold"],["fxFlex","23",1,"info"],["mat-sort-header","pod",1,"title","text-truncate","text-bold"],["mat-sort-header","agent",1,"title","text-truncate","text-bold"],["itemSize","115","fxLayout","column"],[3,"shipment","i","length","ngClass","click","deleteShipment","goDetails",4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"shipment","i","length","ngClass","click","deleteShipment","goDetails"]],template:function(e,t){if(1&e){var i=T.Yb();T.Jc(0,me,3,1,"div",0),T.Xb(1,"div",1),T.fc("matSortChange",(function(e){return t.sortData(e)})),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"div",4),T.Lc(5,"No"),T.Wb(),T.Wb(),T.Xb(6,"div",5),T.Xb(7,"div",6),T.Xb(8,"div",7),T.Xb(9,"div",8),T.Lc(10,"Code"),T.Wb(),T.Wb(),T.Xb(11,"div",9),T.Xb(12,"div",10),T.Lc(13,"Customer"),T.Wb(),T.Wb(),T.Xb(14,"div",11),T.Xb(15,"div",12),T.fc("click",(function(e){return T.Bc(i),T.xc(19).toggle()})),T.Lc(16,"More"),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Xb(17,"div",13),T.Xb(18,"mat-expansion-panel",14,15),T.Sb(20,"div",3),T.Xb(21,"div",16),T.Xb(22,"div",17),T.Xb(23,"div",18),T.Lc(24,"POL"),T.Wb(),T.Wb(),T.Xb(25,"div",19),T.Xb(26,"div",20),T.Lc(27,"POD"),T.Wb(),T.Wb(),T.Xb(28,"div",19),T.Xb(29,"div",21),T.Lc(30,"Agent"),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Xb(31,"cdk-virtual-scroll-viewport",22),T.Jc(32,ve,1,10,"shipment-list2-table-item",23),T.Wb(),T.Wb()}2&e&&(T.pc("ngIf",0===t.shipments.length),T.Db(1),T.pc("@animateStagger",T.qc(6,Se)),T.Db(17),T.pc("expanded",!1),T.Db(13),T.Ic("height",t.height,"px"),T.Db(1),T.pc("cdkVirtualForOf",t.sortedData))},directives:[H.t,G.d,G.c,G.b,p.c,ne.e,ne.a,ne.d,G.e,ue,H.q,Y.a],styles:["shipment-list2-table{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}shipment-list2-table .no-shipments-text{font-size:24px;font-weight:300}shipment-list2-table .item-shipment{width:100%;display:block;position:relative;padding:16px 16px 16px 24px;text-transform:none;flex-shrink:0}shipment-list2-table .item-shipment .handle{height:48px;line-height:48px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}shipment-list2-table .item-shipment.move-disabled .handle{display:none}shipment-list2-table .item-shipment .tags .tag{font-size:.8rem;border-radius:2px;margin:8px 4px 0 0;padding:3px 8px;border:1px solid #039be5}shipment-list2-table .item-shipment .tags .tag .tag-color{width:8px;height:8px;margin-right:8px;border-radius:50%}shipment-list2-table .item-shipment .info{font-size:1.5rem}shipment-list2-table .item-shipment .info .title{font-weight:600}shipment-list2-table .item-shipment .info .notes{margin-top:4px}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-header{height:48px!important}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-content{width:100%}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:R.a}}),xe),we=i("EwFO"),ke=i("3Pt+"),_e=["titleInput"],Xe=function(){return{delay:"300ms",scale:"0.2"}},We=function(e){return{value:"*",params:e}},Ce=function(){return{delay:"400ms"}};function Le(e,t){1&e&&(T.Xb(0,"div",2),T.Xb(1,"mat-icon",3),T.Lc(2,"check_box "),T.Wb(),T.Xb(3,"span",4),T.Lc(4," Select a shipment "),T.Wb(),T.Wb()),2&e&&(T.Db(1),T.pc("@animate",T.rc(3,We,T.qc(2,Xe))),T.Db(2),T.pc("@animate",T.rc(6,We,T.qc(5,Ce))))}function De(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Invalid"),T.Wb())}function Fe(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Booking"),T.Wb())}function Oe(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Pick up"),T.Wb())}function Ae(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Deliver"),T.Wb())}function Pe(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Complete"),T.Wb())}function ze(e,t){1&e&&(T.Xb(0,"span"),T.Lc(1,"Done"),T.Wb())}function Re(e,t){if(1&e&&(T.Xb(0,"div"),T.Xb(1,"div",5),T.Xb(2,"header",6),T.Xb(3,"div",7),T.Lc(4,"Shipment Information"),T.Wb(),T.Wb(),T.Xb(5,"div",8),T.Xb(6,"div",9),T.Xb(7,"div",10),T.Xb(8,"div",7),T.Lc(9,"Code"),T.Wb(),T.Xb(10,"div",11),T.Xb(11,"a",12),T.Lc(12),T.Wb(),T.Wb(),T.Wb(),T.Xb(13,"div",13),T.Xb(14,"div",7),T.Lc(15,"Partner"),T.Wb(),T.Xb(16,"div",11),T.Lc(17),T.Wb(),T.Wb(),T.Xb(18,"div",13),T.Xb(19,"div",7),T.Lc(20,"MBL"),T.Wb(),T.Xb(21,"div",11),T.Lc(22),T.Wb(),T.Wb(),T.Xb(23,"div",13),T.Xb(24,"div",7),T.Lc(25,"HBL"),T.Wb(),T.Xb(26,"div",11),T.Lc(27),T.Wb(),T.Wb(),T.Xb(28,"div",13),T.Xb(29,"div",7),T.Lc(30,"Pick up"),T.Wb(),T.Xb(31,"div",11),T.Lc(32),T.Wb(),T.Wb(),T.Xb(33,"div",13),T.Xb(34,"div",7),T.Lc(35,"Deliver"),T.Wb(),T.Xb(36,"div",11),T.Lc(37),T.Wb(),T.Wb(),T.Xb(38,"div",13),T.Xb(39,"div",7),T.Lc(40,"Pick date"),T.Wb(),T.Xb(41,"div",11),T.Lc(42),T.kc(43,"date"),T.Wb(),T.Wb(),T.Xb(44,"div",13),T.Xb(45,"div",7),T.Lc(46,"Deliver date"),T.Wb(),T.Xb(47,"div",11),T.Lc(48),T.kc(49,"date"),T.Wb(),T.Wb(),T.Xb(50,"div",13),T.Xb(51,"div",7),T.Lc(52,"Manage date"),T.Wb(),T.Xb(53,"div",11),T.Lc(54),T.kc(55,"date"),T.Wb(),T.Wb(),T.Xb(56,"div",13),T.Xb(57,"div",7),T.Lc(58,"Owner"),T.Wb(),T.Xb(59,"div",11),T.Lc(60),T.Wb(),T.Wb(),T.Xb(61,"div",13),T.Xb(62,"div",7),T.Lc(63,"Status"),T.Wb(),T.Xb(64,"div",11),T.Xb(65,"span",14),T.Jc(66,De,2,0,"span",15),T.Jc(67,Fe,2,0,"span",15),T.Jc(68,Oe,2,0,"span",15),T.Jc(69,Ae,2,0,"span",15),T.Jc(70,Pe,2,0,"span",15),T.Jc(71,ze,2,0,"span",15),T.Wb(),T.Wb(),T.Wb(),T.Xb(72,"div",13),T.Xb(73,"div",7),T.Lc(74,"Complete Date"),T.Wb(),T.Xb(75,"div",11),T.Lc(76),T.kc(77,"date"),T.Wb(),T.Wb(),T.Xb(78,"div",13),T.Xb(79,"div",7),T.Lc(80,"Update at"),T.Wb(),T.Xb(81,"div",11),T.Lc(82),T.kc(83,"date"),T.Wb(),T.Wb(),T.Xb(84,"div",13),T.Xb(85,"div",7),T.Lc(86,"Create by"),T.Wb(),T.Xb(87,"div",11),T.Lc(88),T.Wb(),T.Wb(),T.Xb(89,"div",10),T.Xb(90,"div",7),T.Lc(91,"Info"),T.Wb(),T.Xb(92,"div",11),T.Xb(93,"pre",16),T.Lc(94),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&e){var i=T.jc();T.Db(11),T.pc("routerLink","/apps/"+i.modul+"/shipment/detail/"+i.currentShipment[0][0].id+"/soa"),T.Db(1),T.Mc(i.currentShipment[0][0].code),T.Db(5),T.Mc(i.currentShipment[0][0].partner_name),T.Db(5),T.Mc(i.currentShipment[0][0].mbl),T.Db(5),T.Mc(i.currentShipment[0][0].hbl),T.Db(5),T.Mc(i.currentShipment[0][0].pick_up?i.currentShipment[0][0].pol_name:""),T.Db(5),T.Mc(i.currentShipment[0][0].deliver?i.currentShipment[0][0].pod_name:""),T.Db(5),T.Mc(T.mc(43,22,i.currentShipment[0][0].pick_date,"MM/dd/yyyy")),T.Db(6),T.Mc(T.mc(49,25,i.currentShipment[0][0].deliver_date,"MM/dd/yyyy")),T.Db(6),T.Mc(T.mc(55,28,i.currentShipment[0][0].manage_date,"MM/dd/yyyy")),T.Db(6),T.Mc(i.currentShipment[0][0].owner_name),T.Db(5),T.pc("ngSwitch",i.currentShipment[0][0].status),T.Db(1),T.pc("ngSwitchCase",0),T.Db(1),T.pc("ngSwitchCase",1),T.Db(1),T.pc("ngSwitchCase",2),T.Db(1),T.pc("ngSwitchCase",3),T.Db(1),T.pc("ngSwitchCase",4),T.Db(1),T.pc("ngSwitchCase",5),T.Db(5),T.Mc(T.mc(77,31,i.currentShipment[0][0].complete_date,"MM/dd/yyyy")),T.Db(6),T.Mc(T.mc(83,34,i.currentShipment[0][0].update_at,"MM/dd/yyyy: HH:mm")),T.Db(6),T.Mc(i.currentShipment[0][0].create_by_name),T.Db(6),T.Mc(i.info)}}var Ie,Te=((Ie=function(){function e(t){_classCallCheck(this,e),this._formBuilder=t,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ie)(T.Rb(ke.d))},Ie.\u0275cmp=T.Lb({type:Ie,selectors:[["shipment-list2-details"]],viewQuery:function(e,t){var i;1&e&&T.Sc(_e,!0),2&e&&T.wc(i=T.gc())&&(t.titleInputField=i.first)},inputs:{modul:"modul",currentShipment:"currentShipment"},decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-120","mb-12","select-shipment-list2-icon","hint-text"],[1,"hint-text","mat-h1","select-shipment-list2-text"],["fxLayout","column",1,"profile-box","info-box","general"],[1,"accent"],[1,"title"],[1,"content"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line"],[1,"info"],[1,"cursor-pointer",3,"routerLink"],["fxFlex","100","fxFlex.gt-sm","50",1,"info-line"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"font-family","arial"]],template:function(e,t){1&e&&(T.Jc(0,Le,5,8,"div",0),T.Jc(1,Re,95,37,"div",1)),2&e&&(T.pc("ngIf",!t.currentShipment),T.Db(1),T.pc("ngIf",t.currentShipment))},directives:[H.t,G.d,G.c,G.b,b.a,r.j,H.x,H.y],pipes:[H.f],styles:["shipment-list2-details{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow-y:auto;-webkit-overflow-scrolling:touch}shipment-list2-details .profile-box{border-radius:4px;overflow:hidden;margin-bottom:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}shipment-list2-details .profile-box header{padding:16px}shipment-list2-details .profile-box header .title{font-size:17px}shipment-list2-details .profile-box header .more{cursor:pointer}shipment-list2-details .profile-box .content{padding:16px}shipment-list2-details .profile-box .content .partner-table{font-size:12px}shipment-list2-details .profile-box .content .partner-table td,shipment-list2-details .profile-box .content .partner-table th{padding:8px!important}shipment-list2-details .profile-box footer{padding:8px;border-top:1px solid}shipment-list2-details .profile-box.info-box .info-line{margin-bottom:24px}shipment-list2-details .profile-box.info-box .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}shipment-list2-details .profile-box.info-box .info-line:last-child{margin-bottom:0}"],encapsulation:2,data:{animation:R.a}}),Ie),Be=i("fE3o"),Me=i("JX91"),je=i("lJxs"),Ne=["formDirective"];function Je(e,t){if(1&e&&(T.Xb(0,"mat-option",28),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Nc(" ",i.short_name," ")}}function Ve(e,t){if(1&e&&(T.Xb(0,"mat-option",28),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Nc(" ",i.short_name," ")}}function qe(e,t){if(1&e&&(T.Xb(0,"mat-option",28),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Mc(i.name)}}function He(e,t){if(1&e&&(T.Xb(0,"mat-radio-button",29),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Mc(i.name)}}function Ee(e,t){if(1&e&&(T.Xb(0,"mat-option",28),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Nc(" ",i.name," ")}}function Ue(e,t){if(1&e&&(T.Xb(0,"mat-option",28),T.Lc(1),T.Wb()),2&e){var i=t.$implicit;T.pc("value",i.id),T.Db(1),T.Nc(" ",i.name," ")}}var Ge,Ye,Qe=((Ge=function(){function e(t,i,n){_classCallCheck(this,e),this.formBuilder=t,this.authService=i,this.commonService=n,this.changeType=new T.o,this.searchSelShipment=new T.o,this.form=this.formBuilder.group({customer:[null],agent:[null],owner:[null],process:["all"],pol:[null],pod:[null]}),this.process=[{id:0,name:"Booking"},{id:1,name:"Stuffing"},{id:2,name:"Ready to load"},{id:3,name:"Load"},{id:4,name:"Discharge"},{id:5,name:"Pick up"},{id:6,name:"Complete"}],this.now=new Date,this.height=560,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;switch(this.form.patchValue(this.filterData),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}this.authService.windowSizeChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(Me.a)(""),Object(je.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(je.a)((function(t){return t?e.commonService.filterData(t,"short_name",e.customer):[]}))),this.filteredSupplier=this.form.controls.agent.valueChanges.pipe(Object(Me.a)(""),Object(je.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(je.a)((function(t){return t?e.commonService.filterData(t,"short_name",e.supplier):[]}))),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object(Me.a)(""),Object(je.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(je.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]}))),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object(Me.a)(""),Object(je.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(je.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]})))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setCheck",value:function(e){e.check=!e.check}},{key:"resetForm",value:function(){switch(this.searchNgForm.resetForm(),this.form.controls.process.setValue("all"),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}}},{key:"onSearchFormSubmit",value:function(e){"string"==typeof e.customer&&(this.form.controls.customer.setValue(null),e.customer=null),"string"==typeof e.agent&&(this.form.controls.agent.setValue(null),e.agent=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),e.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),e.pod=null),this.searchSelShipment.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Ge)(T.Rb(ke.d),T.Rb(V.a),T.Rb(J.a))},Ge.\u0275cmp=T.Lb({type:Ge,selectors:[["shipment-list2-sidebar"]],viewQuery:function(e,t){var i;1&e&&T.Sc(Ne,!0),2&e&&T.wc(i=T.gc())&&(t.searchNgForm=i.first)},inputs:{module:"module",users:"users",customer:"customer",supplier:"supplier",seaport:"seaport",filterData:"filterData"},outputs:{changeType:"changeType",searchSelShipment:"searchSelShipment"},decls:61,vars:27,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","agent","matInput","","formControlName","agent",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["formControlName","owner"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","process"],["value","all",1,"mb-12"],["class","mb-12",3,"value",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete","readonly"],["autoSeaport1","matAutocomplete"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete","readonly"],["autoSeaport2","matAutocomplete"],[3,"value"],[1,"mb-12",3,"value"]],template:function(e,t){if(1&e&&(T.Xb(0,"form",0,1),T.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form.value)})),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"button",4),T.Lc(5," Submit "),T.Wb(),T.Xb(6,"button",5),T.fc("click",(function(e){return t.changeType.emit("filter")})),T.Lc(7," Filter "),T.Wb(),T.Wb(),T.Wb(),T.Xb(8,"div",6),T.Xb(9,"div",7),T.Xb(10,"div",8),T.Xb(11,"div",9),T.Xb(12,"div",10),T.Xb(13,"mat-form-field",11),T.Xb(14,"mat-label"),T.Lc(15,"Customer"),T.Wb(),T.Sb(16,"input",12),T.Xb(17,"mat-autocomplete",13,14),T.Jc(19,Je,2,2,"mat-option",15),T.kc(20,"async"),T.Wb(),T.Wb(),T.Wb(),T.Xb(21,"div",16),T.Xb(22,"mat-form-field",11),T.Xb(23,"mat-label"),T.Lc(24,"Agent"),T.Wb(),T.Sb(25,"input",17),T.Xb(26,"mat-autocomplete",13,18),T.Jc(28,Ve,2,2,"mat-option",15),T.kc(29,"async"),T.Wb(),T.Wb(),T.Wb(),T.Xb(30,"div",16),T.Xb(31,"mat-form-field",11),T.Xb(32,"mat-label"),T.Lc(33,"Owner"),T.Wb(),T.Xb(34,"mat-select",19),T.Jc(35,qe,2,2,"mat-option",15),T.Wb(),T.Wb(),T.Wb(),T.Xb(36,"div",20),T.Xb(37,"h2"),T.Lc(38,"Process"),T.Wb(),T.Xb(39,"mat-radio-group",21),T.Xb(40,"mat-radio-button",22),T.Lc(41,"All"),T.Wb(),T.Jc(42,He,2,2,"mat-radio-button",23),T.Wb(),T.Wb(),T.Xb(43,"div",16),T.Xb(44,"mat-form-field",11),T.Xb(45,"mat-label"),T.Lc(46,"POL"),T.Wb(),T.Sb(47,"input",24),T.Xb(48,"mat-autocomplete",13,25),T.Jc(50,Ee,2,2,"mat-option",15),T.kc(51,"async"),T.Wb(),T.Wb(),T.Wb(),T.Xb(52,"div",16),T.Xb(53,"mat-form-field",11),T.Xb(54,"mat-label"),T.Lc(55,"POD"),T.Wb(),T.Sb(56,"input",26),T.Xb(57,"mat-autocomplete",13,27),T.Jc(59,Ue,2,2,"mat-option",15),T.kc(60,"async"),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&e){var i=T.xc(18),n=T.xc(27),r=T.xc(49),a=T.xc(58);T.pc("formGroup",t.form),T.Db(8),T.Ic("height",t.height,"px"),T.Db(8),T.pc("matAutocomplete",i),T.Db(1),T.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),T.Db(2),T.pc("ngForOf",T.lc(20,19,t.filteredCustomer)),T.Db(6),T.pc("matAutocomplete",n),T.Db(1),T.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.supplier)),T.Db(2),T.pc("ngForOf",T.lc(29,21,t.filteredSupplier)),T.Db(7),T.pc("ngForOf",t.users),T.Db(7),T.pc("ngForOf",t.process),T.Db(5),T.pc("matAutocomplete",r)("readonly","export"==t.type),T.Db(1),T.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),T.Db(2),T.pc("ngForOf",T.lc(51,23,t.filteredSeaport1)),T.Db(6),T.pc("matAutocomplete",a)("readonly","import"==t.type),T.Db(1),T.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),T.Db(2),T.pc("ngForOf",T.lc(60,25,t.filteredSeaport2))}},directives:[ke.A,ke.q,ke.h,G.d,G.c,l.b,G.b,we.a,h.c,h.f,m.b,ke.b,s.c,ke.p,ke.g,s.a,H.s,f.a,g.b,g.a,W.n],pipes:[H.b],styles:["shipment-list2-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-list2-sidebar .navbar-scroll-container{background:#fff!important}shipment-list2-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),Ge),$e=["formDirective"],Ke=((Ye=function(){function e(t,i,n){_classCallCheck(this,e),this.formBuilder=t,this.authService=i,this.commonService=n,this.changeType=new T.o,this.filterShipment=new T.o,this.form=this.formBuilder.group({code:[null],bill:[null]}),this.height=560,this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.form.valueChanges.subscribe((function(t){e.filterShipment.emit(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"resetForm",value:function(){this.searchNgForm.resetForm()}}]),e}()).\u0275fac=function(e){return new(e||Ye)(T.Rb(ke.d),T.Rb(V.a),T.Rb(J.a))},Ye.\u0275cmp=T.Lb({type:Ye,selectors:[["shipment-list2-sidebar-filter"]],viewQuery:function(e,t){var i;1&e&&T.Sc($e,!0),2&e&&T.wc(i=T.gc())&&(t.searchNgForm=i.first)},inputs:{module:"module"},outputs:{changeType:"changeType",filterShipment:"filterShipment"},decls:22,vars:3,consts:[["name","form",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","code","matInput","","formControlName","code"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","bill","matInput","","formControlName","bill"]],template:function(e,t){1&e&&(T.Xb(0,"form",0,1),T.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),T.Xb(2,"div",2),T.Xb(3,"div",3),T.Xb(4,"button",4),T.fc("click",(function(e){return t.changeType.emit("server")})),T.Lc(5," Server "),T.Wb(),T.Xb(6,"button",5),T.fc("click",(function(e){return t.resetForm()})),T.Lc(7," Reset "),T.Wb(),T.Wb(),T.Wb(),T.Xb(8,"div",6),T.Xb(9,"div",7),T.Xb(10,"div",8),T.Xb(11,"div",9),T.Xb(12,"div",10),T.Xb(13,"mat-form-field",11),T.Xb(14,"mat-label"),T.Lc(15,"Code"),T.Wb(),T.Sb(16,"input",12),T.Wb(),T.Wb(),T.Xb(17,"div",13),T.Xb(18,"mat-form-field",11),T.Xb(19,"mat-label"),T.Lc(20,"Bill"),T.Wb(),T.Sb(21,"input",14),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&e&&(T.pc("formGroup",t.form),T.Db(8),T.Ic("height",t.height,"px"))},directives:[ke.A,ke.q,ke.h,G.d,G.c,l.b,G.b,we.a,h.c,h.f,m.b,ke.b,ke.p,ke.g],styles:["shipment-list2-sidebar-filter .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-list2-sidebar-filter .navbar-scroll-container{background:#fff!important}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content{padding-top:0}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),Ye);function Ze(e,t){if(1&e){var i=T.Yb();T.Xb(0,"shipment-list2-sidebar",11),T.fc("searchSelShipment",(function(e){return T.Bc(i),T.jc(2).searchSelShipment(e)}))("changeType",(function(e){return T.Bc(i),T.jc(2).changeType(e)})),T.Wb()}if(2&e){var n=T.jc(2);T.pc("module",n.module)("filterData",n.filterData)("customer",n.customer)("supplier",n.supplier)("users",n.users)("seaport",n.seaport)}}function et(e,t){if(1&e){var i=T.Yb();T.Xb(0,"shipment-list2-sidebar-filter",12),T.fc("filterShipment",(function(e){return T.Bc(i),T.jc(2).filterShipment(e)}))("changeType",(function(e){return T.Bc(i),T.jc(2).changeType(e)})),T.Wb()}if(2&e){var n=T.jc(2);T.pc("module",n.module)}}function tt(e,t){if(1&e&&(T.Xb(0,"fuse-sidebar",8),T.Jc(1,Ze,1,6,"shipment-list2-sidebar",9),T.Jc(2,et,1,1,"shipment-list2-sidebar-filter",10),T.Wb()),2&e){var i=T.jc();T.Db(1),T.pc("ngIf","server"==i.type),T.Db(1),T.pc("ngIf","filter"==i.type)}}var it,nt=function(e){return{"current-shipment-list2-selected":e}},rt=((it=function(){function e(t,i,n,r,a,o){if(_classCallCheck(this,e),this._fuseSidebarService=t,this.shipmentService=i,this.router=n,this.authService=r,this._matDialog=a,this.datePipe=o,this.type="filter",this.shipments=[],this.currentShipment=null,this.sidebarPanel=!0,this.requestProcessing=!1,this.createData=[],this.module=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var s=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(s)}this._unsubscribeAll=new P.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.checkResolve()&&this.getShipments(),this.authService.urlChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){if(e.module=e.authService.modul,e.authService.permissionModul)e.permission=e.authService.permissionModul;else{var i=e.router.routerState.snapshot.url.split("/")[2];e.permission=e.authService.getAction(i)}})),this.shipmentService.onShipmentsListChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.shipments=t,e.shipmentService.searchText&&(e.searchText=e.shipmentService.searchText),e.filterData=e.shipmentService.currenSearch?e.shipmentService.currenSearch:JSON.parse(JSON.stringify(e.shipmentService.defaultSearch))})),this.shipmentService.onDataChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.supplier=e.shipmentService.supplier,e.customer=e.shipmentService.customer,e.seaport=e.shipmentService.seaport,e.users=e.shipmentService.user})),this.shipmentService.onDataItemChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.agent=e.shipmentService.agent,e.commodity=e.shipmentService.commodity,e.packageType=e.shipmentService.packageType,e.price=e.shipmentService.price,e.currency=e.shipmentService.currency,e.country=e.shipmentService.country})),this.shipmentService.onVoyageChanged.pipe(Object(z.a)(this._unsubscribeAll)).subscribe((function(t){e.voyage=e.shipmentService.voyage}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getShipments",value:function(){var e=this;this.requestProcessing=!0,this.shipmentService.getFilterShipments(this.shipmentService.currenSearch).then((function(t){e.requestProcessing=!1})).catch((function(t){e.requestProcessing=!1,console.error(t),alert("Error load data")}))}},{key:"deleteShipment",value:function(e){var t=this;confirm("Do you want to delete this shipment?")&&(this.requestProcessing=!0,this.shipmentService.deleteSelShipment(e).then((function(e){t.requestProcessing=!1,1==e.selShipment.affectedRows?(alert("delete shipment success"),t.getShipments()):(console.error(e),alert("Error: No change"))})).catch((function(e){t.requestProcessing=!1,console.error(e),alert("Error: Server error")})))}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"selectShipment",value:function(e){var t=this;this.shipmentService.getSelShipmentById(e.id).then((function(e){t.currentShipment=e})).catch((function(e){console.error(e),alert("error load data")}))}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.shipmentService)}},{key:"searchSelShipment",value:function(e){this.requestProcessing=!0,this.shipmentService.currenSearch=e,this.getShipments()}},{key:"clearShipment",value:function(e){this.currentShipment=null}},{key:"openShipmentModal",value:function(e){var t=this;this.dialogRef=this._matDialog.open(I.a,{panelClass:"shipment-list2-modal-dialog",data:{label:"Add shipment",customer:this.customer,agent:this.agent,seaport:this.seaport,user:this.users,voyage:this.voyage,permission:this.permission,module:this.module}}),this.dialogRef.componentInstance.createItem.subscribe((function(e){t.authService.onRequestChanged.next(!0),console.log(e),t.shipmentService.createSelShipment(e).then((function(e){t.authService.onRequestChanged.next(!1),e.createShipment.insertId>0?(t.dialogRef.componentInstance.matDialogRef.close(e),t.router.navigate(["/apps/"+t.module+"/shipment/detail/"+e.createShipment.insertId+"/soa"])):(console.error(e),t.dialogRef.componentInstance.errorMessage="Error create")})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),t.dialogRef.componentInstance.errorMessage=e.error&&e.error.sqlMessage?e.error.sqlMessage:"Error create"}))})),this.dialogRef.afterClosed().subscribe((function(e){}))}},{key:"goShipmentList",value:function(e){this.router.navigate(["/apps/"+this.module+"/shipment/"+e])}},{key:"searchFilter",value:function(e){this.shipmentService.onSearchTextChanged.next(e)}},{key:"filterShipment",value:function(e){this.shipmentService.onFilterChanged.next(e)}},{key:"changeType",value:function(e){this.type=e}},{key:"goDetails",value:function(e){this.router.navigate(["/apps/"+this.module+"/shipment/detail/"+e.id+"/soa"])}}]),e}()).\u0275fac=function(e){return new(e||it)(T.Rb(B.a),T.Rb(q),T.Rb(r.g),T.Rb(V.a),T.Rb(v.b),T.Rb(H.f))},it.\u0275cmp=T.Lb({type:it,selectors:[["shipment-list2"]],decls:8,vars:12,consts:[["id","shipment",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-list2-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],[1,"center","mr-0","ml-0"],[3,"sidebarName","currentShipment","module","permission","searchText","showHideBar","refreshPage","toggleSidebar","newShipment","clearShipment","goShipmentList","searchFilter"],[1,"content-card",2,"border","none","border-radius","0",3,"ngClass"],["fxFlexAlign","row",1,"content","m-8",2,"border","1px solid #E0E0E0","border-radius","8px"],["fusePerfectScrollbar","","fxFlex","",3,"shipments","selectShipment","deleteShipment","goDetails"],["fusePerfectScrollbar","","fxFlex","",3,"modul","currentShipment"],["name","shipment-list2-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"module","filterData","customer","supplier","users","seaport","searchSelShipment","changeType",4,"ngIf"],[3,"module","filterShipment","changeType",4,"ngIf"],[3,"module","filterData","customer","supplier","users","seaport","searchSelShipment","changeType"],[3,"module","filterShipment","changeType"]],template:function(e,t){1&e&&(T.Xb(0,"div",0),T.Jc(1,tt,3,2,"fuse-sidebar",1),T.Xb(2,"div",2),T.Xb(3,"shipment-list2-header",3),T.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newShipment",(function(e){return t.openShipmentModal(e)}))("clearShipment",(function(e){return t.clearShipment(e)}))("goShipmentList",(function(e){return t.goShipmentList(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),T.Wb(),T.Xb(4,"div",4),T.Xb(5,"div",5),T.Xb(6,"shipment-list2-table",6),T.fc("selectShipment",(function(e){return t.selectShipment(e)}))("deleteShipment",(function(e){return t.deleteShipment(e)}))("goDetails",(function(e){return t.goDetails(e)})),T.Wb(),T.Sb(7,"shipment-list2-details",7),T.Wb(),T.Wb(),T.Wb(),T.Wb()),2&e&&(T.Db(1),T.pc("ngIf",t.sidebarPanel),T.Db(2),T.pc("sidebarName","shipment-list2-sidebar")("currentShipment",t.currentShipment)("module",t.module)("permission",t.permission)("searchText",t.searchText),T.Db(1),T.pc("ngClass",T.rc(10,nt,t.currentShipment)),T.Db(2),T.pc("shipments",t.shipments),T.Db(1),T.pc("modul",t.module)("currentShipment",t.currentShipment))},directives:[E.a,H.t,ie,H.q,Y.a,G.a,ye,we.a,G.b,Te,Be.a,Qe,Ke],styles:["shipment-list2{width:100%}shipment-list2 .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){shipment-list2 .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}shipment-list2 .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-list2 .center .content-card shipment-list2{border-right:0}shipment-list2 .center .content-card shipment-details,shipment-list2 .center .content-card shipment-list2{-webkit-box-flex:1;flex:1 0 100%}shipment-list2 .center .content-card shipment-list2-details{display:none!important}shipment-list2 .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-list2 .center .content-card.current-shipment-selected .content shipment-list2,shipment-list2 .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-list2 .center .content-card.current-shipment-selected .content shipment-list2-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:R.a}}),it),at=i("u+kU"),ot=i("cfqv");i.d(t,"ShipmentListModule",(function(){return lt}));var st,ct=[{path:"",component:rt,resolve:{data:q}}],lt=((st=function e(){_classCallCheck(this,e)}).\u0275mod=T.Pb({type:st}),st.\u0275inj=T.Ob({factory:function(e){return new(e||st)},providers:[q],imports:[[r.k.forChild(ct),o.b,a.a,s.b,c.c,l.c,p.b,h.e,b.b,u.b,m.c,d.c,f.b,g.c,v.e,x.b,S.b,y.b,w.d,k.e,_.b,X.b,C.b,L.k,D.c,W.t,F.a,at.a,O.a,A.f,ne.g,ot.b]]}),st)},cfqv:function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return h}));var n=i("8LU1"),r=i("vxfF"),a=i("fXoL"),o=i("HDdC"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;_classCallCheck(this,e),this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}return _createClass(e,[{key:"getAverageItemSize",value:function(){return this._averageItemSize}},{key:"addSample",value:function(e,t){var i=this._totalWeight+e.end-e.start;if(i){var n=(t+this._averageItemSize*this._totalWeight)/i;n&&(this._averageItemSize=n,this._totalWeight=i)}}},{key:"reset",value:function(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}]),e}(),c=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new s;_classCallCheck(this,e),this.scrolledIndexChange=new o.a((function(){throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")})),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=i,this._averager=n}return _createClass(e,[{key:"attach",value:function(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}},{key:"detach",value:function(){this._viewport=null}},{key:"onContentScrolled",value:function(){this._viewport&&this._updateRenderedContentAfterScroll()}},{key:"onDataLengthChanged",value:function(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}},{key:"onContentRendered",value:function(){this._viewport&&this._checkRenderedContentSize()}},{key:"onRenderedOffsetChanged",value:function(){this._viewport&&this._checkRenderedContentOffset()}},{key:"scrollToIndex",value:function(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}},{key:"updateBufferSize",value:function(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}},{key:"_updateRenderedContentAfterScroll",value:function(){var e=this._viewport,t=e.measureScrollOffset(),i=t-this._lastScrollOffset,n=Math.abs(i),r=e.getRenderedRange(),a=0;if(i<0){var o=r.start*this._averager.getAverageItemSize();i-=a=Math.round((o-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,n/(t+n)))),n=Math.abs(i)}var s=this._lastScrollOffset-this._lastRenderedContentOffset,c=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),l=n+this._minBufferPx-(i<0?s:c);if(l>0)if(n>=e.getViewportSize())this._renderContentForCurrentOffset();else{var p,h,b=Math.max(0,Math.ceil((l-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),u=(i<0?c:s)-this._minBufferPx+n,m=Math.floor(u/this._averager.getAverageItemSize()/(this._removalFailures+1)),d=Math.min(r.end-r.start,Math.max(0,m)),f=this._expandRange(r,i<0?b:0,i>0?b:0);if(i<0?f.end=Math.max(f.start+1,f.end-d):f.start=Math.min(f.end-1,f.start+d),i<0){var g=e.measureRangeSize({start:f.end,end:r.end});g<=u?(p=this._lastRenderedContentOffset+this._lastRenderedContentSize-g,this._removalFailures=0):(f.end=r.end,p=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),h="to-end"}else{var v=e.measureRangeSize({start:r.start,end:f.start});v<=u?(p=this._lastRenderedContentOffset+v,this._removalFailures=0):(f.start=r.start,p=this._lastRenderedContentOffset,this._removalFailures++),h="to-start"}e.setRenderedRange(f),e.setRenderedContentOffset(p+a,h)}else a&&e.setRenderedContentOffset(this._lastRenderedContentOffset+a);this._lastScrollOffset=t}},{key:"_checkRenderedContentSize",value:function(){var e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}},{key:"_checkRenderedContentOffset",value:function(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}},{key:"_renderContentForCurrentOffset",value:function(){var e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;var i=this._averager.getAverageItemSize(),n=Math.min(e.getDataLength()-1,Math.floor(t/i)),r=Math.ceil(this._maxBufferPx/i),a=this._expandRange(this._getVisibleRangeForIndex(n),r,r);e.setRenderedRange(a),e.setRenderedContentOffset(i*a.start)}},{key:"_getVisibleRangeForIndex",value:function(e){var t=this._viewport,i={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},n=i.end-t.getDataLength();return n>0&&(i.start=Math.max(0,i.start-n)),i}},{key:"_expandRange",value:function(e,t,i){var n=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(n.getDataLength(),e.end+i)}}},{key:"_updateTotalContentSize",value:function(e){var t=this._viewport,i=t.getRenderedRange(),n=e+(t.getDataLength()-(i.end-i.start))*this._averager.getAverageItemSize();t.setTotalContentSize(n)}}]),e}();function l(e){return e._scrollStrategy}var p=function(){var e=function(){function e(){_classCallCheck(this,e),this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new c(this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Object(n.f)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Object(n.f)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a.Cb([{provide:r.h,useFactory:l,deps:[Object(a.V)((function(){return e}))]}]),a.Bb()]}),e}(),h=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)}}),e}()}}]);