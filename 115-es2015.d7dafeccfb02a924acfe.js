(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{HIPP:function(t,e,n){"use strict";n.r(e);var i=n("tyNb"),o=n("5HBU"),a=n("STbY"),r=n("/1cH"),c=n("iadO"),s=n("bTqV"),b=n("7EHt"),l=n("kmnG"),p=n("NFeN"),m=n("Qu3c"),d=n("qFsG"),h=n("wZkO"),u=n("d3UM"),f=n("QibW"),g=n("0IaG"),v=n("/t3+"),x=n("bSwM"),y=n("M9IT"),W=n("xHqg"),X=n("A5z7"),S=n("bv9b"),k=n("XhcP"),L=n("FKr1"),w=n("1jcm"),D=n("+0xr"),C=n("212X"),_=n("LPQX"),I=n("fXoL"),M=n("ofXK");function P(t,e){1&t&&I.Sb(0,"router-outlet")}let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&I.Jc(0,P,1,0,"router-outlet",0),2&t&&I.pc("ngIf",!0)},directives:[M.t,i.l],styles:[""]}),t})();var R=n("XNiG"),A=n("1G5W"),O=n("PVWW"),q=n("3Pt+"),N=n("dCBQ"),j=n("qXBG"),T=n("0Zc1"),E=n("XiUz"),J=n("EwFO");function H(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Container number is required "),I.Wb())}function z(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Container number is too long (max length = 11); "),I.Wb())}function B(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Invalid container number "),I.Wb())}function V(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"TREXP"),I.Wb(),I.Wb())}function U(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function G(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function Y(t,e){1&t&&I.Sb(0,"span")}function $(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function K(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,U,2,0,"span",19),I.Jc(7,G,2,0,"span",19),I.Jc(8,Y,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,$,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}function Q(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"FULEX"),I.Wb(),I.Wb())}function Z(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function tt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function et(t,e){1&t&&I.Sb(0,"span")}function nt(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function it(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,Z,2,0,"span",19),I.Jc(7,tt,2,0,"span",19),I.Jc(8,et,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,nt,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}function ot(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"LOAD"),I.Wb(),I.Wb())}function at(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function rt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function ct(t,e){1&t&&I.Sb(0,"span")}function st(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function bt(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,at,2,0,"span",19),I.Jc(7,rt,2,0,"span",19),I.Jc(8,ct,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,st,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}function lt(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"FULIM"),I.Wb(),I.Wb())}function pt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function mt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function dt(t,e){1&t&&I.Sb(0,"span")}function ht(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function ut(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,pt,2,0,"span",19),I.Jc(7,mt,2,0,"span",19),I.Jc(8,dt,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,ht,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}function ft(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"TRIMP"),I.Wb(),I.Wb())}function gt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function vt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function xt(t,e){1&t&&I.Sb(0,"span")}function yt(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function Wt(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,gt,2,0,"span",19),I.Jc(7,vt,2,0,"span",19),I.Jc(8,xt,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,yt,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}function Xt(t,e){1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",17),I.Lc(2,"EMPTY"),I.Wb(),I.Wb())}function St(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"20DC"),I.Wb())}function kt(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"40HC"),I.Wb())}function Lt(t,e){1&t&&I.Sb(0,"span")}function wt(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",22),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc();return e.stopPropagation(),i.createPlnMove(n)})),I.Lc(1,"save"),I.Wb()}}function Dt(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",15),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td",18),I.Jc(6,St,2,0,"span",19),I.Jc(7,kt,2,0,"span",19),I.Jc(8,Lt,1,0,"span",20),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td"),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Xb(18,"td"),I.Jc(19,wt,2,0,"mat-icon",21),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.Mc(n+1),I.Db(2),I.Mc(t.cont_number),I.Db(1),I.pc("ngSwitch",t.cont_type),I.Db(1),I.pc("ngSwitchCase",1),I.Db(1),I.pc("ngSwitchCase",2),I.Db(3),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(13,10,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place.short_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",i.permission.edit)}}let Ct=(()=>{class t{constructor(t,e,n,i,o,a,r){this.router=t,this.matDialogRef=e,this._data=n,this.authService=i,this.commonService=o,this.datePipe=a,this._formBuilder=r,this.movement2=[],this.movementFilter2={2:[],3:[],4:[],5:[],6:[],9:[]},this.formMovement=this._formBuilder.group({container:["",[q.y.required,N.a]]}),this.getMovement=new I.o,this.createPlnMoveParent=new I.o,this.label=n.label,this.shipmentId=n.shipmentId,"Container move"==this.label&&(this.plnMove=n.plnMove,n.data&&(this.formMovement.controls.container.setValue(n.data),this.onMovementFormSubmit(this.formMovement)))}ngOnInit(){this.name=this.authService.name,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}onMovementFormSubmit(t){t.valid&&this.getMovement.emit([t.value.container,"2019-01-01"])}createPlnMove(t){let e=this.checkMovement(t);e?alert(e):(this.authService.onRequestChanged.next(!0),this.createPlnMoveParent.emit({shipment:this.shipmentId,move:t.id,update_by:this.authService.user}))}checkMovement(t){let e=this.plnMove.find(e=>e.last_move&&e.last_move.container==t.container);if(e){if(e[t.move_type])return"This container "+t.cont_number+" has got movement type "+t.move_type;let n=[];return["TREXP","FULEX","LOAD","FULIM","TRIMP","EMPTY"].map(i=>{t.move_type==i?n.push(new Date(t.date).getTime()):e[i]&&n.push(e.date[i])}),n.reduce((t,e,n)=>0==t&&0!=n?0:t<=e?e:0,0)>0?null:"This container "+t.cont_number+" has got movement type "+t.move_type+" wrong date"}return null}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(g.f),I.Rb(g.a),I.Rb(j.a),I.Rb(T.a),I.Rb(M.f),I.Rb(q.d))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-overview-container-modal-dialog"]],decls:53,vars:17,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-detail-container-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],["fxLayout","column","fxLayoutAlign","start"],[3,"formGroup","keydown.enter","ngSubmit"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","80",1,"pr-8"],["inputCheck","","matInput","","maxlength","11","formControlName","container","required",""],[4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","20"],["type","submit","mat-raised-button","","color","accent",1,"ml-8"],[1,"simple","movement-table"],[1,"text-center"],[4,"ngFor","ngForOf"],["colspan","8",1,"blue-200"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["color","accent",1,"cursor-pointer",3,"click"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"mat-toolbar",1),I.Xb(2,"mat-toolbar-row",2),I.Xb(3,"span",3),I.Lc(4),I.Wb(),I.Xb(5,"button",4),I.fc("click",(function(t){return e.matDialogRef.close()})),I.Xb(6,"mat-icon"),I.Lc(7,"close"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(8,"div",5),I.Xb(9,"div",6),I.Xb(10,"form",7),I.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onMovementFormSubmit(e.formMovement)})),I.Xb(11,"div",8),I.Xb(12,"mat-form-field",9),I.Xb(13,"mat-label"),I.Lc(14,"Container"),I.Wb(),I.Sb(15,"input",10),I.Jc(16,H,2,0,"mat-error",11),I.Jc(17,z,2,0,"mat-error",11),I.Jc(18,B,2,0,"mat-error",11),I.Wb(),I.Xb(19,"div",12),I.Xb(20,"button",13),I.Lc(21,"Search"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(22,"table",14),I.Xb(23,"thead"),I.Xb(24,"tr"),I.Xb(25,"th",15),I.Lc(26,"No"),I.Wb(),I.Xb(27,"th"),I.Lc(28,"Container"),I.Wb(),I.Xb(29,"th"),I.Lc(30,"Type"),I.Wb(),I.Xb(31,"th"),I.Lc(32,"Move"),I.Wb(),I.Xb(33,"th"),I.Lc(34,"Date"),I.Wb(),I.Xb(35,"th"),I.Lc(36,"Place"),I.Wb(),I.Xb(37,"th"),I.Lc(38,"Document"),I.Wb(),I.Sb(39,"th"),I.Wb(),I.Wb(),I.Xb(40,"tbody"),I.Jc(41,V,3,0,"tr",11),I.Jc(42,K,20,13,"tr",16),I.Jc(43,Q,3,0,"tr",11),I.Jc(44,it,20,13,"tr",16),I.Jc(45,ot,3,0,"tr",11),I.Jc(46,bt,20,13,"tr",16),I.Jc(47,lt,3,0,"tr",11),I.Jc(48,ut,20,13,"tr",16),I.Jc(49,ft,3,0,"tr",11),I.Jc(50,Wt,20,13,"tr",16),I.Jc(51,Xt,3,0,"tr",11),I.Jc(52,Dt,20,13,"tr",16),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(4),I.Mc(e.label),I.Db(6),I.pc("formGroup",e.formMovement),I.Db(6),I.pc("ngIf",e.formMovement.get("container").hasError("required")),I.Db(1),I.pc("ngIf",!e.formMovement.get("container").hasError("required")&&e.formMovement.get("container").hasError("maxLength")),I.Db(1),I.pc("ngIf",e.formMovement.get("container").errors&&e.formMovement.get("container").dirty&&e.formMovement.get("container").errors.validConNum),I.Db(23),I.pc("ngIf",e.movementFilter2[5].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[5]),I.Db(1),I.pc("ngIf",e.movementFilter2[6].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[6]),I.Db(1),I.pc("ngIf",e.movementFilter2[9].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[9]),I.Db(1),I.pc("ngIf",e.movementFilter2[3].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[3]),I.Db(1),I.pc("ngIf",e.movementFilter2[4].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[4]),I.Db(1),I.pc("ngIf",e.movementFilter2[2].length>0),I.Db(1),I.pc("ngForOf",e.movementFilter2[2]))},directives:[v.a,v.c,E.b,E.d,E.c,s.b,p.a,g.d,J.a,q.A,q.q,q.h,l.c,l.f,d.b,q.b,q.k,q.p,q.g,q.w,M.t,M.s,l.b,M.x,M.y,M.z],pipes:[M.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-overview-container-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-overview-container-modal-dialog{width:1080px}}.shipment-details-overview-container-modal-dialog .mat-dialog-container{padding:0}.shipment-details-overview-container-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-overview-container-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-overview-container-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .faq .item{padding:8px}.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .faq .item .title{font-size:14px;margin-bottom:8px}.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .faq .item .info{font-size:12px;line-height:1.5;color:rgba(0,0,0,.54)}.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .movement-table td,.shipment-details-overview-container-modal-dialog #shipment-details-container-modal .movement-table th{font-size:12px}.table-inv-item{width:100%}.table-inv-item tr.example-details-row{height:0}.table-inv-item tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}.table-inv-item tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.table-inv-item .example-element-row td{border-bottom-width:0}.table-inv-item .example-element-detail{overflow:hidden;display:-webkit-box;display:flex}.table-inv-item .example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.table-inv-item .example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.table-inv-item .example-element-description{padding:16px}.table-inv-item .example-element-description-attribution{opacity:.5}"],encapsulation:2}),t})();var _t=n("HX77"),It=n("2Vo4"),Mt=n("tk/3");let Pt=(()=>{class t{constructor(t,e){this._httpClient=t,this.authService=e,this.module="pacific-logistics-network",this.type="view",this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.onDataChanged=new It.a([]),this.onDataItemChanged=new It.a([]),this.onPlnShipmentDetailsChanged=new It.a({}),this.onDocumentTypeChanged=new It.a("view")}resolve(t){return this.authService.routerData=t,this.shipmentId=t.params.id,0==this.shipmentId?this.getData():new Promise((t,e)=>{Promise.all([this.getPlnShipmentById(this.shipmentId),this.getData(),this.getItemData()]).then(()=>{t()},e)})}getPlnShipmentById(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/id/"+t,e).subscribe(t=>{this.shipment=t[0][0],this.revenue=t[1],this.cost=t[2],this.document=t[3],this.onPlnShipmentDetailsChanged.next(t),n(t)},i)})}getData(){let t={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,n)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/data",t).subscribe(t=>{this.partner=t[0],this.seaport=t[1],this.users=t[2],this.country=t[3],this.seaTerminal=t[4],this.onDataChanged.next(t),e(t)},n)})}getItemData(){let t={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,n)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/item-data",t).subscribe(t=>{this.price=t[0],this.unit=t[1],this.currency=t[2],this.country=t[3],this.users=t[4],this.commodity=t[5],this.packageType=t[6],this.onDataItemChanged.next(t),e(t)},n)})}updatePlnShipment(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.put(this.authService.apiUrl+"/pln/shipment/update",t,e).subscribe(t=>{n(t)},i)})}createPlnRevenue(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/pln/revenue",t,e).subscribe(t=>{n(t)},i)})}updatePlnRevenue(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.put(this.authService.apiUrl+"/pln/revenue",t,e).subscribe(t=>{n(t)},i)})}deletePlnRevenue(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.delete(this.authService.apiUrl+"/pln/revenue/"+t,e).subscribe(t=>{n(t)},i)})}createPlnCost(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/pln/cost",t,e).subscribe(t=>{n(t)},i)})}updatePlnCost(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.put(this.authService.apiUrl+"/pln/cost",t,e).subscribe(t=>{n(t)},i)})}deletePlnCost(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.delete(this.authService.apiUrl+"/pln/cost/"+t,e).subscribe(t=>{n(t)},i)})}createPlnDocument(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/pln/document",t,e).subscribe(t=>{n(t)},i)})}updatePlnDocument(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.put(this.authService.apiUrl+"/pln/document",t,e).subscribe(t=>{n(t)},i)})}deletePlnDocument(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.delete(this.authService.apiUrl+"/pln/document/"+t,e).subscribe(t=>{n(t)},i)})}getMovementByContNumber(t,e){let n={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,o)=>{this._httpClient.get(this.authService.apiUrl+"/pln/pln-move/container/"+t+"/"+e,n).subscribe(t=>{i(t)},o)})}createPlnMove(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/pln/pln-move/",t,e).subscribe(t=>{n(t)},i)})}deletePlnMove(t){let e={headers:new Mt.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.delete(this.authService.apiUrl+"/pln/pln-move/"+t,e).subscribe(t=>{n(t)},i)})}}return t.\u0275fac=function(e){return new(e||t)(I.bc(Mt.a),I.bc(j.a))},t.\u0275prov=I.Nb({token:t,factory:t.\u0275fac}),t})();var Ft=n("B9zo"),Rt=n("0JVi"),At=n("znSr");function Ot(t,e){if(1&t){const t=I.Yb();I.Xb(0,"button",11),I.fc("click",(function(e){I.Bc(t);const n=I.jc();return e.stopPropagation(),n.changeScreen(!0)})),I.Xb(1,"mat-icon"),I.Lc(2,"flip_to_front"),I.Wb(),I.Wb()}}function qt(t,e){if(1&t){const t=I.Yb();I.Xb(0,"button",11),I.fc("click",(function(e){I.Bc(t);const n=I.jc();return e.stopPropagation(),n.changeScreen(!1)})),I.Xb(1,"mat-icon"),I.Lc(2,"flip_to_back"),I.Wb(),I.Wb()}}let Nt=(()=>{class t{constructor(t,e,n,i){this.authService=t,this._fuseConfigService=e,this.router=n,this.route=i,this.fullScreen=!1,this.toggleSidebar=new I.o,this.showHideBar=new I.o,this.refreshPage=new I.o}ngOnInit(){}changeScreen(t){this.fullScreen=t,this.authService.changeScreen.next(t),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(j.a),I.Rb(Rt.b),I.Rb(i.g),I.Rb(i.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-header"]],inputs:{module:"module",shipment:"shipment",sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:39,vars:6,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"]],template:function(t,e){1&t&&(I.Xb(0,"mat-toolbar",0),I.Xb(1,"div",1),I.Xb(2,"div",2),I.Xb(3,"div",3),I.Xb(4,"button",4),I.fc("click",(function(t){return e.toggleSidebar.emit(e.sidebarName)})),I.Xb(5,"mat-icon"),I.Lc(6,"menu"),I.Wb(),I.Wb(),I.Xb(7,"button",5),I.fc("click",(function(t){return e.showHideBar.emit()})),I.Xb(8,"mat-icon"),I.Lc(9,"menu"),I.Wb(),I.Wb(),I.Wb(),I.Xb(10,"button",6),I.Xb(11,"span",7),I.Lc(12,"Overview"),I.Wb(),I.Xb(13,"mat-icon",8),I.Lc(14,"equalizer"),I.Wb(),I.Wb(),I.Xb(15,"button",6),I.Xb(16,"span",7),I.Lc(17,"Soa"),I.Wb(),I.Xb(18,"mat-icon",8),I.Lc(19,"equalizer"),I.Wb(),I.Wb(),I.Xb(20,"button",6),I.Xb(21,"span",7),I.Lc(22,"Book confirm"),I.Wb(),I.Xb(23,"mat-icon",8),I.Lc(24,"equalizer"),I.Wb(),I.Wb(),I.Xb(25,"button",6),I.Xb(26,"span",7),I.Lc(27,"LCV"),I.Wb(),I.Xb(28,"mat-icon",8),I.Lc(29,"equalizer"),I.Wb(),I.Wb(),I.Wb(),I.Xb(30,"div",9),I.Sb(31,"div",10),I.Xb(32,"button",11),I.fc("click",(function(t){return t.stopPropagation(),e.refreshPage.emit()})),I.Xb(33,"mat-icon",12),I.Lc(34,"refresh"),I.Wb(),I.Wb(),I.Sb(35,"div",10),I.Jc(36,Ot,3,0,"button",13),I.Jc(37,qt,3,0,"button",13),I.Sb(38,"div",10),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(10),I.pc("routerLink","/apps/"+e.module+"/shipment/detail/"+e.shipment.id+"/overview"),I.Db(5),I.pc("routerLink","/apps/"+e.module+"/shipment/detail/"+e.shipment.id+"/soa"),I.Db(5),I.pc("routerLink","/apps/"+e.module+"/shipment/detail/"+e.shipment.id+"/book-confirm"),I.Db(5),I.pc("routerLink","/apps/"+e.module+"/shipment/detail/"+e.shipment.id+"/lcv"),I.Db(11),I.pc("ngIf",!e.fullScreen),I.Db(1),I.pc("ngIf",e.fullScreen))},directives:[v.a,E.b,E.e,E.d,E.c,s.b,At.b,p.a,i.i,i.h,M.t],styles:["shipment-details-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-details-header.below{z-index:2}shipment-details-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-details-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}shipment-details-header .logo .logo-icon{width:38px}shipment-details-header .chat-panel-toggle-button,shipment-details-header .language-button,shipment-details-header .quick-panel-toggle-button,shipment-details-header .user-button,shipment-details-header fuse-search-bar{min-width:68px;height:64px}@media screen and (max-width:599px){shipment-details-header .chat-panel-toggle-button,shipment-details-header .language-button,shipment-details-header .quick-panel-toggle-button,shipment-details-header .user-button,shipment-details-header fuse-search-bar{height:56px}}shipment-details-header .navbar-toggle-button{min-width:56px;height:56px}shipment-details-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-details-header .toolbar-separator{height:56px}}@media print{shipment-details-header{display:none}}"],encapsulation:2}),t})();function jt(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",17),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc(2);return e.stopPropagation(),i.deletePlnMove.emit(n)})),I.Lc(1,"delete"),I.Wb()}}function Tt(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td"),I.Lc(2),I.Wb(),I.Xb(3,"td"),I.Lc(4),I.Wb(),I.Xb(5,"td"),I.Lc(6),I.kc(7,"date"),I.Wb(),I.Xb(8,"td"),I.Lc(9),I.Wb(),I.Xb(10,"td"),I.Lc(11),I.Wb(),I.Xb(12,"td",15),I.Jc(13,jt,2,0,"mat-icon",16),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=I.jc(2);I.Db(2),I.Mc(t.id),I.Db(2),I.Mc(t.move_type),I.Db(2),I.Mc(I.mc(7,6,t.date,"MM/dd/yyyy HH:mm")),I.Db(3),I.Mc(t.place_name),I.Db(2),I.Mc(t.document),I.Db(2),I.pc("ngIf",n.permission.delete)}}const Et=function(t,e){return{item:t,"active-item":e}},Jt=function(t,e,n){return{item:t,"active-item":e,"red-A100-bg":n}};function Ht(t,e){if(1&t){const t=I.Yb();I.Vb(0),I.Xb(1,"tr",6),I.fc("click",(function(n){I.Bc(t);const i=e.index,o=I.xc(33),a=I.jc();return o.toggle(),a.selectItem=i})),I.Xb(2,"td",7),I.fc("click",(function(n){I.Bc(t);const i=e.$implicit,o=I.jc();return n.stopPropagation(),o.openContainerModal.emit(i.last_move.cont_number)})),I.Xb(3,"a"),I.Lc(4),I.Wb(),I.Wb(),I.Xb(5,"td",8),I.Lc(6),I.Wb(),I.Xb(7,"td",8),I.Lc(8),I.Wb(),I.Xb(9,"td",8),I.Lc(10),I.Wb(),I.Xb(11,"td",9),I.Lc(12),I.kc(13,"date"),I.Wb(),I.Xb(14,"td",9),I.Lc(15),I.kc(16,"date"),I.Wb(),I.Xb(17,"td",9),I.Lc(18),I.kc(19,"date"),I.Wb(),I.Xb(20,"td",9),I.Lc(21),I.kc(22,"date"),I.Wb(),I.Xb(23,"td",9),I.Lc(24),I.kc(25,"date"),I.Wb(),I.Xb(26,"td",9),I.Lc(27),I.kc(28,"date"),I.Wb(),I.Sb(29,"td",8),I.Wb(),I.Xb(30,"tr"),I.Xb(31,"td",10),I.Xb(32,"mat-expansion-panel",11,12),I.Xb(34,"div",13),I.Xb(35,"table",14),I.Xb(36,"thead"),I.Xb(37,"tr"),I.Xb(38,"th"),I.Lc(39,"Id"),I.Wb(),I.Xb(40,"th"),I.Lc(41,"Move"),I.Wb(),I.Xb(42,"th"),I.Lc(43,"Date"),I.Wb(),I.Xb(44,"th"),I.Lc(45,"Place"),I.Wb(),I.Xb(46,"th"),I.Lc(47,"Document"),I.Wb(),I.Sb(48,"th"),I.Wb(),I.Wb(),I.Xb(49,"tbody"),I.Jc(50,Tt,14,9,"tr",5),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=I.jc();I.Db(2),I.pc("ngClass",I.sc(42,Et,i.selectItem!=n,i.selectItem==n)),I.Db(2),I.Mc(t.last_move.cont_number),I.Db(1),I.pc("ngClass",I.sc(45,Et,i.selectItem!=n,i.selectItem==n)),I.Db(1),I.Mc(t.last_move.cont_type_code),I.Db(1),I.pc("ngClass",I.sc(48,Et,i.selectItem!=n,i.selectItem==n)),I.Db(1),I.Mc(t.FULIM&&t.TRIMP?(t.TRIMP-t.FULIM)/864e5+1:""),I.Db(1),I.pc("ngClass",I.sc(51,Et,i.selectItem!=n,i.selectItem==n)),I.Db(1),I.Mc(t.TRIMP&&t.EMPTY?(t.EMPTY-t.TRIMP)/864e5+1:""),I.Db(1),I.pc("ngClass",I.tc(54,Jt,i.selectItem!=n,i.selectItem==n,!t.TREXP)),I.Db(1),I.Mc(I.mc(13,24,t.date.TREXP,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.tc(58,Jt,i.selectItem!=n,i.selectItem==n,!t.FULEX)),I.Db(1),I.Mc(I.mc(16,27,t.date.FULEX,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.tc(62,Jt,i.selectItem!=n,i.selectItem==n,!t.LOAD)),I.Db(1),I.Mc(I.mc(19,30,t.date.LOAD,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.tc(66,Jt,i.selectItem!=n,i.selectItem==n,!t.FULIM)),I.Db(1),I.Mc(I.mc(22,33,t.date.FULIM,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.tc(70,Jt,i.selectItem!=n,i.selectItem==n,!t.TRIMP)),I.Db(1),I.Mc(I.mc(25,36,t.date.TRIMP,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.tc(74,Jt,i.selectItem!=n,i.selectItem==n,!t.EMPTY)),I.Db(1),I.Mc(I.mc(28,39,t.date.EMPTY,"MM/dd/yy HH:mm")),I.Db(2),I.pc("ngClass",I.sc(78,Et,i.selectItem!=n,i.selectItem==n)),I.Db(2),I.Eb("colspan",11),I.Db(1),I.pc("expanded",i.selectItem==n),I.Db(18),I.pc("ngForOf",t.move)}}let zt=(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.route=n,this.openContainerModal=new I.o,this.deleteContainer=new I.o,this.deletePlnMove=new I.o,this._unsubscribeAll=new R.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(j.a),I.Rb(i.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-overview-container"]],inputs:{shipment:"shipment",plnMove:"plnMove",permission:"permission"},outputs:{openContainerModal:"openContainerModal",deleteContainer:"deleteContainer",deletePlnMove:"deletePlnMove"},decls:33,vars:1,consts:[[1,"group","mb-12","mt-12"],[2,"overflow","auto"],[1,"simple","table-movement"],[1,"text-center"],["color","accent",1,"cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[3,"click"],[1,"cursor-pointer",3,"ngClass","click"],[3,"ngClass"],[1,"text-center",3,"ngClass"],[2,"padding","0"],[1,"item",3,"expanded"],["itemPanel",""],[1,"content"],[1,"table-container","simple"],[1,"w-40"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"h2"),I.Lc(2,"Container"),I.Wb(),I.Xb(3,"div",1),I.Xb(4,"mat-accordion"),I.Xb(5,"table",2),I.Xb(6,"thead"),I.Xb(7,"tr"),I.Xb(8,"th"),I.Lc(9,"Cont number"),I.Wb(),I.Xb(10,"th"),I.Lc(11,"Type"),I.Wb(),I.Xb(12,"th"),I.Lc(13,"Demurrage"),I.Wb(),I.Xb(14,"th"),I.Lc(15,"Detention"),I.Wb(),I.Xb(16,"th",3),I.Lc(17,"TREXP"),I.Wb(),I.Xb(18,"th",3),I.Lc(19,"FULEX"),I.Wb(),I.Xb(20,"th",3),I.Lc(21,"LOAD"),I.Wb(),I.Xb(22,"th",3),I.Lc(23,"FULIM"),I.Wb(),I.Xb(24,"th",3),I.Lc(25,"TRIMP"),I.Wb(),I.Xb(26,"th",3),I.Lc(27,"EMPTY"),I.Wb(),I.Xb(28,"th"),I.Xb(29,"mat-icon",4),I.fc("click",(function(t){return t.stopPropagation(),e.openContainerModal.emit()})),I.Lc(30,"add"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(31,"tbody"),I.Jc(32,Ht,51,81,"ng-container",5),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(32),I.pc("ngForOf",e.plnMove))},directives:[b.a,p.a,M.s,M.q,At.a,b.c,M.t],pipes:[M.f],styles:["shipment-details-overview-container .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}shipment-details-overview-container .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}shipment-details-overview-container .group .table-movement{font-size:12px!important}shipment-details-overview-container .group .table-movement thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}shipment-details-overview-container .group .table-movement td,shipment-details-overview-container .group .table-movement th{padding:8px;white-space:nowrap}shipment-details-overview-container .group .table-movement .item{background:#fff}shipment-details-overview-container .group .table-movement .active-item{background:#b3e5fc!important}shipment-details-overview-container .group .table-movement .sticky-col{width:152px;position:sticky;position:-webkit-sticky;background:#fff;left:0;z-index:20}shipment-details-overview-container .group .mat-expansion-panel-body{padding:0!important}shipment-details-overview-container .group .table-container{font-size:12px!important}shipment-details-overview-container .group .table-container td,shipment-details-overview-container .group .table-container th{padding:8px!important;background:#b3e5fc;white-space:nowrap;z-index:0}"],encapsulation:2}),t})();var Bt=n("fE3o");const Vt=["formDirective"],Ut=function(t){return{"mt-32":t}};function Gt(t,e){if(1&t&&(I.Xb(0,"div",8),I.Xb(1,"h2"),I.Lc(2),I.Wb(),I.Xb(3,"div",9),I.Lc(4),I.Wb(),I.Wb()),2&t){const t=e.$implicit;I.pc("ngClass",I.rc(3,Ut,0==e.index)),I.Db(2),I.Mc(t.name),I.Db(2),I.Mc(t.value)}}let Yt=(()=>{class t{constructor(){this.sidebarPage=new I.o,this.now=new Date,this.form=[{name:"Code",value:null,column:"code"},{name:"Bill",value:null,column:"bill"},{name:"Customer",value:null,column:"customer_short_name"},{name:"Principal",value:null,column:"principal_short_name"},{name:"Agent",value:null,column:"agent_short_name"},{name:"Pol",value:null,column:"pol_name"},{name:"Pod",value:null,column:"pod_name"},{name:"Status",value:null,column:"status"},{name:"Owner",value:null,column:"owner_name"},{name:"Info",value:null,column:"info"},{name:"Create by",value:null,column:"create_by_name"}],this._unsubscribeAll=new R.a}ngOnInit(){}ngOnChanges(t){t.shipment&&(t.shipment.currentValue||null==t.shipment.currentValue)&&(this.shipment=t.shipment.currentValue,this.form.map(t=>{t.value="status"==t.column?0==this.shipment.status?"Invalid":"Valid":this.shipment[t.column]}))}setCheck(t){t.check=!t.check}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-sidebar-view"]],viewQuery:function(t,e){var n;1&t&&I.Sc(Vt,!0),2&t&&I.wc(n=I.gc())&&(e.searchNgForm=n.first)},inputs:{shipment:"shipment",height:"height"},outputs:{sidebarPage:"sidebarPage"},features:[I.Bb()],decls:9,vars:3,consts:[["fxLayout","column"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","45",1,"ml-8","mr-8"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8","button-accent-color",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],["class","group",3,"ngClass",4,"ngFor","ngForOf"],[1,"group",3,"ngClass"],[1,"item"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"div",1),I.Xb(2,"div",2),I.Sb(3,"div",3),I.Xb(4,"button",4),I.fc("click",(function(t){return e.sidebarPage.emit("form")})),I.Lc(5," Edit "),I.Wb(),I.Wb(),I.Wb(),I.Xb(6,"div",5),I.Xb(7,"div",6),I.Jc(8,Gt,5,5,"div",7),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(6),I.Ic("height",e.height,"px"),I.Db(2),I.pc("ngForOf",e.form))},directives:[E.d,E.c,E.b,s.b,J.a,M.s,M.q,At.a],styles:["shipment-details-sidebar-view{border-right:1px solid #e0e0e0}shipment-details-sidebar-view .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-details-sidebar-view .navbar-top .button-accent-color{border:1px solid #039be5;border-radius:8px;color:#696969}shipment-details-sidebar-view .navbar-scroll-container{overflow:auto;background:#fff!important}shipment-details-sidebar-view .navbar-scroll-container .navbar-content{padding-top:0}shipment-details-sidebar-view .navbar-scroll-container .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-details-sidebar-view .navbar-scroll-container .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-details-sidebar-view .navbar-scroll-container .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();var $t=n("JX91"),Kt=n("lJxs"),Qt=n("ihCf");const Zt=["formDirective"];function te(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," code is required "),I.Wb())}function ee(t,e){if(1&t&&(I.Xb(0,"mat-option",38),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id)("matTooltip",null==t?null:t.full_name)("matTooltipPosition","left"),I.Db(1),I.Nc(" ",t.short_name," ")}}function ne(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Customer is required "),I.Wb())}function ie(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.full_name," ")}}function oe(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Principal is required!"),I.Wb())}function ae(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.full_name," ")}}function re(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Agent is required!"),I.Wb())}function ce(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.name," ")}}function se(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," pol is required "),I.Wb())}function be(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.name," ")}}function le(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," pod is required "),I.Wb())}function pe(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Status is required "),I.Wb())}function me(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.name," ")}}function de(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Owner is required "),I.Wb())}function he(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.name," ")}}function ue(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Create by is required "),I.Wb())}let fe=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.authService=e,this.commonService=n,this.sidebarPage=new I.o,this.editShipment=new I.o,this.form=this.formBuilder.group({id:[null,q.y.required],code:[null,q.y.required],bill:[null],customer:[null,q.y.required],principal:[null,q.y.required],agent:[null,q.y.required],pol:[null,q.y.required],pod:[null,q.y.required],status:[null,q.y.required],owner:[null,q.y.required],info:[null],create_by:[null,q.y.required]}),this.now=new Date,this._unsubscribeAll=new R.a}ngOnInit(){this.disabledItem=![1,15].includes(this.authService.user),this.form.patchValue(this.shipment),this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredPrincipal=this.form.controls.principal.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredAgent=this.form.controls.agent.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.seaport):[])),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.seaport):[])),this.filteredUser=this.form.controls.owner.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.user):[])),this.filteredUser2=this.form.controls.create_by.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.user):[]))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(t){t.shipment&&(t.shipment.currentValue||null==t.shipment.currentValue)&&(this.shipment=t.shipment.currentValue,this.form.patchValue(this.shipment))}setCheck(t){t.check=!t.check}resetForm(){this.searchNgForm.resetForm()}onFormSubmit(t){let e=t.value;"string"==typeof e.customer&&this.form.controls.customer.setValue(null),"string"==typeof e.principal&&this.form.controls.principal.setValue(null),"string"==typeof e.agent&&this.form.controls.agent.setValue(null),"string"==typeof e.pol&&this.form.controls.pol.setValue(null),"string"==typeof e.pod&&this.form.controls.pod.setValue(null),"string"==typeof e.owner&&this.form.controls.owner.setValue(null),"string"==typeof e.create_by&&this.form.controls.create_by.setValue(null),t.valid&&this.editShipment.emit(t.value)}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(q.d),I.Rb(j.a),I.Rb(T.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-sidebar-form"]],viewQuery:function(t,e){var n;1&t&&I.Sc(Zt,!0),2&t&&I.wc(n=I.gc())&&(e.searchNgForm=n.first)},inputs:{user:"user",partner:"partner",seaport:"seaport",shipment:"shipment",permission:"permission",height:"height"},outputs:{sidebarPage:"sidebarPage",editShipment:"editShipment"},features:[I.Bb()],decls:110,vars:49,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8","button-accent-color"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8","button-warn-color",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],[2,"display","none"],["inputCheck","","type","number","formControlName","id"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","code","matInput","","formControlName","code","required",""],[4,"ngIf"],["fxFlex","100",1,"info-line"],["inputCheck","","matInput","","formControlName","bill"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer","required","",3,"matAutocomplete"],[3,"displayWith"],["autoPartner","matAutocomplete"],[3,"value","matTooltip","matTooltipPosition",4,"ngFor","ngForOf"],["inputCheck","","matInput","","formControlName","principal","required","",3,"matAutocomplete"],["autoAgent2","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","matInput","","formControlName","agent","required","",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol","required","",3,"matAutocomplete"],["autoSeaport1","matAutocomplete"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod","required","",3,"matAutocomplete"],["autoSeaport2","matAutocomplete"],["formControlName","status","required",""],[3,"value"],["inputCheck","","aria-label","owner","matInput","","formControlName","owner",3,"matAutocomplete"],["autoOwner","matAutocomplete"],["textareaCheck","","matInput","","formControlName","info","cdkTextareaAutosize","","cdkAutosizeMinRows","4","cdkAutosizeMaxRows","10"],["inputCheck","","aria-label","create_by","matInput","","formControlName","create_by",3,"matAutocomplete"],["autoCreate","matAutocomplete"],[3,"value","matTooltip","matTooltipPosition"]],template:function(t,e){if(1&t&&(I.Xb(0,"form",0,1),I.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onFormSubmit(e.form)})),I.Xb(2,"div",2),I.Xb(3,"div",3),I.Xb(4,"button",4),I.Lc(5," Submit "),I.Wb(),I.Xb(6,"button",5),I.fc("click",(function(t){return e.sidebarPage.emit("view")})),I.Lc(7," Cancel "),I.Wb(),I.Wb(),I.Wb(),I.Xb(8,"div",6),I.Xb(9,"div",7),I.Xb(10,"div",8),I.Xb(11,"div",9),I.Xb(12,"div",10),I.Sb(13,"input",11),I.Wb(),I.Xb(14,"div",12),I.Xb(15,"mat-form-field",13),I.Xb(16,"mat-label"),I.Lc(17,"Code"),I.Wb(),I.Sb(18,"input",14),I.Jc(19,te,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(20,"div",16),I.Xb(21,"mat-form-field",13),I.Xb(22,"mat-label"),I.Lc(23,"Bill"),I.Wb(),I.Sb(24,"input",17),I.Wb(),I.Wb(),I.Xb(25,"div",16),I.Xb(26,"mat-form-field",13),I.Xb(27,"mat-label"),I.Lc(28,"Customer"),I.Wb(),I.Sb(29,"input",18),I.Xb(30,"mat-autocomplete",19,20),I.Jc(32,ee,2,4,"mat-option",21),I.kc(33,"async"),I.Wb(),I.Jc(34,ne,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(35,"div",16),I.Xb(36,"mat-form-field",13),I.Xb(37,"mat-label"),I.Lc(38,"Principal"),I.Wb(),I.Sb(39,"input",22),I.Xb(40,"mat-autocomplete",19,23),I.Jc(42,ie,2,2,"mat-option",24),I.kc(43,"async"),I.Wb(),I.Jc(44,oe,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(45,"div",16),I.Xb(46,"mat-form-field",13),I.Xb(47,"mat-label"),I.Lc(48,"Agent"),I.Wb(),I.Sb(49,"input",25),I.Xb(50,"mat-autocomplete",19,26),I.Jc(52,ae,2,2,"mat-option",24),I.kc(53,"async"),I.Wb(),I.Jc(54,re,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(55,"div",16),I.Xb(56,"mat-form-field",13),I.Xb(57,"mat-label"),I.Lc(58,"Pol"),I.Wb(),I.Sb(59,"input",27),I.Xb(60,"mat-autocomplete",19,28),I.Jc(62,ce,2,2,"mat-option",24),I.kc(63,"async"),I.Wb(),I.Jc(64,se,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(65,"div",16),I.Xb(66,"mat-form-field",13),I.Xb(67,"mat-label"),I.Lc(68,"Pod"),I.Wb(),I.Sb(69,"input",29),I.Xb(70,"mat-autocomplete",19,30),I.Jc(72,be,2,2,"mat-option",24),I.kc(73,"async"),I.Wb(),I.Jc(74,le,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(75,"div",16),I.Xb(76,"mat-form-field",13),I.Xb(77,"mat-label"),I.Lc(78,"Status"),I.Wb(),I.Xb(79,"mat-select",31),I.Xb(80,"mat-option",32),I.Lc(81,"Invalid"),I.Wb(),I.Xb(82,"mat-option",32),I.Lc(83,"Valid"),I.Wb(),I.Wb(),I.Jc(84,pe,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(85,"div",16),I.Xb(86,"mat-form-field",13),I.Xb(87,"mat-label"),I.Lc(88,"Owner"),I.Wb(),I.Sb(89,"input",33),I.Xb(90,"mat-autocomplete",19,34),I.Jc(92,me,2,2,"mat-option",24),I.kc(93,"async"),I.Wb(),I.Jc(94,de,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Xb(95,"div",16),I.Xb(96,"mat-form-field",13),I.Xb(97,"mat-label"),I.Lc(98,"Info"),I.Wb(),I.Sb(99,"textarea",35),I.Wb(),I.Wb(),I.Xb(100,"div",16),I.Xb(101,"mat-form-field",13),I.Xb(102,"mat-label"),I.Lc(103,"Create by"),I.Wb(),I.Sb(104,"input",36),I.Xb(105,"mat-autocomplete",19,37),I.Jc(107,he,2,2,"mat-option",24),I.kc(108,"async"),I.Wb(),I.Jc(109,ue,2,0,"mat-error",15),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t){const t=I.xc(31),n=I.xc(41),i=I.xc(51),o=I.xc(61),a=I.xc(71),r=I.xc(91),c=I.xc(106);I.pc("formGroup",e.form),I.Db(8),I.Ic("height",e.height,"px"),I.Db(11),I.pc("ngIf",e.form.get("code").hasError("required")),I.Db(10),I.pc("matAutocomplete",t),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"short_name",e.partner)),I.Db(2),I.pc("ngForOf",I.lc(33,35,e.filteredCustomer)),I.Db(2),I.pc("ngIf",e.form.get("customer").hasError("required")),I.Db(5),I.pc("matAutocomplete",n),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"full_name",e.partner)),I.Db(2),I.pc("ngForOf",I.lc(43,37,e.filteredPrincipal)),I.Db(2),I.pc("ngIf",e.form.get("principal").hasError("required")),I.Db(5),I.pc("matAutocomplete",i),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"full_name",e.partner)),I.Db(2),I.pc("ngForOf",I.lc(53,39,e.filteredAgent)),I.Db(2),I.pc("ngIf",e.form.get("agent").hasError("required")),I.Db(5),I.pc("matAutocomplete",o),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.seaport)),I.Db(2),I.pc("ngForOf",I.lc(63,41,e.filteredSeaport1)),I.Db(2),I.pc("ngIf",e.form.get("pol").hasError("required")),I.Db(5),I.pc("matAutocomplete",a),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.seaport)),I.Db(2),I.pc("ngForOf",I.lc(73,43,e.filteredSeaport2)),I.Db(2),I.pc("ngIf",e.form.get("pod").hasError("required")),I.Db(6),I.pc("value",0),I.Db(2),I.pc("value",1),I.Db(2),I.pc("ngIf",e.form.get("status").hasError("required")),I.Db(5),I.pc("matAutocomplete",r),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.user)),I.Db(2),I.pc("ngForOf",I.lc(93,45,e.filteredUser)),I.Db(2),I.pc("ngIf",e.form.get("owner").hasError("required")),I.Db(10),I.pc("matAutocomplete",c),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.user)),I.Db(2),I.pc("ngForOf",I.lc(108,47,e.filteredUser2)),I.Db(2),I.pc("ngIf",e.form.get("create_by").hasError("required"))}},directives:[q.A,q.q,q.h,E.d,E.c,s.b,E.b,J.a,q.u,q.b,q.p,q.g,l.c,l.f,d.b,q.w,M.t,r.c,r.a,M.s,u.a,L.n,Qt.b,l.b,m.a],pipes:[M.b],styles:["shipment-details-sidebar-form{border-right:1px solid #e6e6e6}shipment-details-sidebar-form .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-details-sidebar-form .navbar-top .button-accent-color{border:1px solid #039be5;border-radius:8px;color:#696969}shipment-details-sidebar-form .navbar-top .button-warn-color{border:1px solid #f44336;border-radius:8px;color:#696969}shipment-details-sidebar-form .navbar-scroll-container{overflow:auto;background:#fff!important}shipment-details-sidebar-form .navbar-scroll-container .navbar-content{padding-top:0}shipment-details-sidebar-form .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-details-sidebar-form .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-details-sidebar-form .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-details-sidebar-form .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-details-sidebar-form .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();const ge=["formDirective"];function ve(t,e){if(1&t){const t=I.Yb();I.Xb(0,"shipment-details-sidebar-view",3),I.fc("sidebarPage",(function(e){return I.Bc(t),I.jc().sidebarPage.emit(e)})),I.Wb()}if(2&t){const t=I.jc();I.pc("shipment",t.shipment)("height",t.height)}}function xe(t,e){if(1&t){const t=I.Yb();I.Xb(0,"shipment-details-sidebar-form",4),I.fc("editShipment",(function(e){return I.Bc(t),I.jc().editShipment.emit(e)}))("sidebarPage",(function(e){return I.Bc(t),I.jc().sidebarPage.emit(e)})),I.Wb()}if(2&t){const t=I.jc();I.pc("user",t.user)("partner",t.partner)("seaport",t.seaport)("shipment",t.shipment)("permission",t.permission)("height",t.height)}}let ye=(()=>{class t{constructor(t,e,n,i,o){this.formBuilder=t,this.authService=e,this.router=n,this.commonService=i,this.datePipe=o,this.editShipment=new I.o,this.sidebarPage=new I.o,this.now=new Date,this._unsubscribeAll=new R.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(q.d),I.Rb(j.a),I.Rb(i.g),I.Rb(T.a),I.Rb(M.f))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-sidebar"]],viewQuery:function(t,e){var n;1&t&&I.Sc(ge,!0),2&t&&I.wc(n=I.gc())&&(e.searchNgForm=n.first)},inputs:{id:"id",type:"type",modul:"modul",user:"user",partner:"partner",seaport:"seaport",shipment:"shipment",permission:"permission",height:"height"},outputs:{editShipment:"editShipment",sidebarPage:"sidebarPage"},decls:3,vars:3,consts:[[1,"sidebar-content",3,"ngSwitch"],[3,"shipment","height","sidebarPage",4,"ngSwitchCase"],[3,"user","partner","seaport","shipment","permission","height","editShipment","sidebarPage",4,"ngSwitchCase"],[3,"shipment","height","sidebarPage"],[3,"user","partner","seaport","shipment","permission","height","editShipment","sidebarPage"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Jc(1,ve,1,2,"shipment-details-sidebar-view",1),I.Jc(2,xe,1,6,"shipment-details-sidebar-form",2),I.Wb()),2&t&&(I.pc("ngSwitch",!0),I.Db(1),I.pc("ngSwitchCase","view"==e.type),I.Db(1),I.pc("ngSwitchCase","form"==e.type))},directives:[M.x,M.y,Yt,fe],styles:["shipment-details-sidebar .sidebar-content{border-right:1px solid #a3a3a3}"],encapsulation:2}),t})();var We=n("MaHk");function Xe(t,e){if(1&t){const t=I.Yb();I.Xb(0,"shipment-details-sidebar",12),I.fc("editShipment",(function(e){return I.Bc(t),I.jc(2).editShipment(e)}))("sidebarPage",(function(e){return I.Bc(t),I.jc(2).getTypeSidebar(e)})),I.Wb()}if(2&t){const t=I.jc(2);I.pc("type",t.type)("shipment",t.shipment)("user",t.users)("partner",t.partner)("seaport",t.seaport)("permission",t.permission)("height",t.height)}}function Se(t,e){if(1&t&&(I.Xb(0,"fuse-sidebar",10),I.Xb(1,"div",4),I.Jc(2,Xe,1,7,"shipment-details-sidebar",11),I.Wb(),I.Wb()),2&t){const t=I.jc();I.Db(2),I.pc("ngIf",t.shipment)}}function ke(t,e){1&t&&I.Sb(0,"shipment-voyage",13),2&t&&I.pc("data",e.$implicit)}let Le=(()=>{class t{constructor(t,e,n,i,o,a,r){this._fuseSidebarService=t,this.shipmentService=e,this.router=n,this.authService=i,this.route=o,this.datePipe=a,this._matDialog=r,this.sidebarPanel=!0,this.type="view",this.module="pacific-logistics-network",this.height=560,this._unsubscribeAll=new R.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.module=this.shipmentService.module,this.type=this.shipmentService.type,this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-20}),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-20:this.authService.screenHeight-64-64-20}),this.shipmentService.onDataChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.partner=this.shipmentService.partner,this.seaport=this.shipmentService.seaport}),this.shipmentService.onPlnShipmentDetailsChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{t.length>0&&(this.shipment=t[0][0],this.shipment&&(this.id=this.shipment.id,this.revenue=t[1],this.cost=t[2],this.plnDocument=t[3],this.plnRoute=t[4],this.plnMove=t[5],this.shipment.revenueData=t[1],this.shipment.costData=t[2]))}),this.shipmentService.onDataItemChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.price=this.shipmentService.price,this.unit=this.shipmentService.unit,this.currency=this.shipmentService.currency,this.country=this.shipmentService.country,this.users=this.shipmentService.users})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}refreshPage(t){this.authService.refreshData(this.shipmentService)}getTypeSidebar(t){this.type=this.shipmentService.type=t}editShipment(t){this.authService.onRequestChanged.next(!0),this.shipmentService.updatePlnShipment(t).then(t=>{this.authService.onRequestChanged.next(!1),1==t.affectedRows&&(this.getShipment(),this.type="view")}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error edit")})}getShipment(){this.authService.onRequestChanged.next(!0),this.shipmentService.getPlnShipmentById(this.id).then(t=>{this.authService.onRequestChanged.next(!1)}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error: Server error")})}openContainerModal(t){console.log(t),this.dialogRef=this._matDialog.open(Ct,{panelClass:"shipment-details-overview-container-modal-dialog",data:{label:"Container move",shipmentId:this.id,plnMove:this.plnMove,data:t}}),this.dialogRef.componentInstance.getMovement.subscribe(t=>{console.log(t),this.authService.onRequestChanged.next(!0),this.shipmentService.getMovementByContNumber(t[0],t[1]).then(t=>{console.log(t),this.dialogRef.componentInstance.movement2=t,this.dialogRef.componentInstance.movementFilter2[5]=t.filter(t=>"TREXP"==t.move_type),this.dialogRef.componentInstance.movementFilter2[6]=t.filter(t=>"FULEX"==t.move_type),this.dialogRef.componentInstance.movementFilter2[9]=t.filter(t=>"LOAD"==t.move_type),this.dialogRef.componentInstance.movementFilter2[3]=t.filter(t=>"FULIM"==t.move_type),this.dialogRef.componentInstance.movementFilter2[4]=t.filter(t=>"TRIMP"==t.move_type),this.dialogRef.componentInstance.movementFilter2[2]=t.filter(t=>"EMPTY"==t.move_type),this.authService.onRequestChanged.next(!1)}).catch(t=>{console.error(t),alert("ERROR load movement"),this.authService.onRequestChanged.next(!1)})}),this.dialogRef.componentInstance.createPlnMoveParent.subscribe(t=>{this.shipmentService.createPlnMove(t).then(t=>{this.authService.onRequestChanged.next(!1),t.insertId>0?(this.dialogRef.componentInstance.onMovementFormSubmit(this.dialogRef.componentInstance.formMovement),alert("create success")):(alert("ERROR"),console.error(t))}).catch(t=>{this.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(t)})}),this.dialogRef.afterClosed().subscribe(t=>{this.getShipment()})}deletePlnMove(t){confirm("Do you want to delete this shipment move?")&&(this.authService.onRequestChanged.next(!0),this.shipmentService.deletePlnMove(t.id).then(t=>{this.authService.onRequestChanged.next(!1),1==t.affectedRows?(this.getShipment(),alert("Delete success")):(alert("ERROR"),console.error(t))}).catch(t=>{this.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(t)}))}newVoyage(){}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(_t.a),I.Rb(Pt),I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(g.b))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-overview"]],decls:11,vars:10,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-details-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"module","shipment","sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content"],["fxLayout","column",1,"pl-8","pt-8",2,"overflow","auto"],["fxLayout","row wrap"],["fxFlex","100"],[3,"shipment","plnMove","permission","openContainerModal","deletePlnMove"],[3,"data",4,"ngFor","ngForOf"],["name","shipment-details-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"type","shipment","user","partner","seaport","permission","height","editShipment","sidebarPage",4,"ngIf"],[3,"type","shipment","user","partner","seaport","permission","height","editShipment","sidebarPage"],[3,"data"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Jc(1,Se,3,1,"fuse-sidebar",1),I.Xb(2,"div",2),I.Xb(3,"shipment-details-header",3),I.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),I.Wb(),I.Xb(4,"div",4),I.Xb(5,"div",5),I.Xb(6,"div",6),I.Xb(7,"div",7),I.Xb(8,"shipment-details-overview-container",8),I.fc("openContainerModal",(function(t){return e.openContainerModal(t)}))("deletePlnMove",(function(t){return e.deletePlnMove(t)})),I.Wb(),I.Wb(),I.Xb(9,"div",7),I.Jc(10,ke,1,1,"shipment-voyage",9),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(1),I.pc("ngIf",e.sidebarPanel),I.Db(2),I.pc("module",e.module)("shipment",e.shipment)("sidebarName","shipment-details-sidebar"),I.Db(2),I.Ic("height",e.height,"px"),I.Db(3),I.pc("shipment",e.shipment)("plnMove",e.plnMove)("permission",e.permission),I.Db(2),I.pc("ngForOf",e.plnRoute))},directives:[Ft.a,M.t,J.a,Nt,E.d,E.b,zt,M.s,Bt.a,ye,We.a],styles:["shipment-details-overview{width:100%}"],encapsulation:2,data:{animation:O.a}}),t})();const we=["formDirective"];function De(t,e){if(1&t&&(I.Xb(0,"mat-option",60),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t),I.Db(1),I.Nc(" ",t.name," ")}}function Ce(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Price is required "),I.Wb())}function _e(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Volume is required "),I.Wb())}function Ie(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Amount is required "),I.Wb())}function Me(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Tax is required "),I.Wb())}function Pe(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Tax Amount is required "),I.Wb())}function Fe(t,e){if(1&t&&(I.Xb(0,"mat-option",23),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.code," ")}}function Re(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Currency is required "),I.Wb())}function Ae(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Ex_rate is required "),I.Wb())}function Oe(t,e){if(1&t&&(I.Xb(0,"mat-option",23),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.full_name," ")}}function qe(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Party is required "),I.Wb())}function Ne(t,e){if(1&t&&(I.Xb(0,"mat-option",23),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.name," ")}}function je(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Payment center is required "),I.Wb())}function Te(t,e){if(1&t&&(I.Xb(0,"mat-option",23),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.id),I.Db(1),I.Nc(" ",t.full_name," ")}}function Ee(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Principal is required "),I.Wb())}function Je(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," W Tax is required "),I.Wb())}function He(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," WT Amount is required "),I.Wb())}let ze=(()=>{class t{constructor(t,e,n,i,o,a,r){switch(this.router=t,this.matDialogRef=e,this._data=n,this.authService=i,this.commonService=o,this.datePipe=a,this._formBuilder=r,this.errorMessage="",this.type="",this.form=this._formBuilder.group({id:[null,q.y.required],shipment:[null,q.y.required],price:[null,q.y.required],volume:[null,q.y.required],amount:[null,q.y.required],tax:[null,q.y.required],tax_amount:[null,q.y.required],currency:[1,q.y.required],ex_rate:[1,q.y.required],payment_center:[2,q.y.required],partner:[null,q.y.required],principal:[null,q.y.required],soa:[null],soa_pay:[null],w_tax:[null,q.y.required],wt_amount:[null,q.y.required],remark:[null],invoice_number:[null],issue_date:[null],pay_date:[null],info:[null],update_by:[this.authService.user,q.y.required]}),this.partnerColumn={Revenue:"pay_party",Cost:"issue_party"},this.label=n.label,this.shipmentId=n.shipmentId,this.shipment=n.shipment,this.price=n.price,this.currency=n.currency,this.partner=n.partner,this.country=n.country,this.user=n.users,this.permission=n.permission,!0){case this.label.includes("Revenue"):this.type="Revenue";break;case this.label.includes("Cost"):this.type="Cost"}if(this.label.includes("Edit")){let t=JSON.parse(JSON.stringify(n.data));t.price=this.price.find(e=>e.id==t.price),this.form.patchValue(t),this.form.controls.update_by.setValue(this.authService.user)}else{if(this.form.controls.shipment.setValue(this.shipmentId),this.form.controls.id.disable(),this.label.includes("Revenue")){this.form.controls.partner.setValue(this.shipment.customer);let t=this.partner.find(t=>t.id==this.shipment.customer);t&&this.form.controls.payment_center.setValue(t.country)}else{this.form.controls.partner.setValue(this.shipment.agent);let t=this.partner.find(t=>t.id==this.shipment.agent);t&&this.form.controls.payment_center.setValue(t.country)}this.form.controls.principal.setValue(this.shipment.principal)}}ngOnInit(){this.name=this.authService.name,this.filteredPartner=this.form.controls.partner.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredPartner2=this.form.controls.principal.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredPrice=this.form.controls.price.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.price_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"price_name",this.price):[])),this.filteredCountry=this.form.controls.payment_center.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.country):[])),this.form.controls.partner.valueChanges.subscribe(t=>{let e=this.partner.find(e=>e.id==t);e&&this.form.controls.payment_center.setValue(e.country)}),this.form.controls.amount.valueChanges.subscribe(t=>{t=t||0;let e=this.form.value.tax?this.form.value.tax:0;5.26==e&&(e=.05/.95*100);let n=Math.round(t*e/100);this.form.controls.tax_amount.setValue(n)}),this.form.controls.tax.valueChanges.subscribe(t=>{5.26==(t=t||0)&&(t=.05/.95*100);let e=Math.round((this.form.value.amount?this.form.value.amount:0)*t/100);this.form.controls.tax_amount.setValue(e)}),this.form.valueChanges.subscribe(t=>{this.errorMessage=""})}onFormSubmit(t){if(t.valid){let e=JSON.parse(JSON.stringify(t.value));if("string"==typeof e.price&&this.form.controls.price.setValue(null),"string"==typeof e.currency&&this.form.controls.currency.setValue(null),"string"==typeof e.payment_center&&this.form.controls.payment_center.setValue(null),"string"==typeof e.partner&&this.form.controls.partner.setValue(null),!this.form.valid)return;e.soa_pay&&(e.soa_pay=this.datePipe.transform(e.soa_pay,"yyyy-MM-dd")),e.issue_date&&(e.issue_date=this.datePipe.transform(e.issue_date,"yyyy-MM-dd")),e.pay_date&&(e.pay_date=this.datePipe.transform(e.pay_date,"yyyy-MM-dd")),e.update_at=this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss"),e[this.partnerColumn[this.type]]=e.partner,delete e.partner,this.matDialogRef.close([this.type,this.label,e])}}getExrate(t){let e=this.currency.find(e=>e.id==t.value);this.form.controls.ex_rate.setValue(e.exrate)}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(g.f),I.Rb(g.a),I.Rb(j.a),I.Rb(T.a),I.Rb(M.f),I.Rb(q.d))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-soa-modal-dialog"]],viewQuery:function(t,e){var n;1&t&&I.Sc(we,!0),2&t&&I.wc(n=I.gc())&&(e.shipmentNgForm=n.first)},decls:158,vars:52,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-detail-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","shipment","required",""],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["floatLabel","always","fxFlex","100","fxFlex.gt-xs","80",1,"pr-8"],["inputCheck","","aria-label","price","matInput","","formControlName","price","required","",3,"matAutocomplete"],[3,"displayWith"],["autoPrice","matAutocomplete"],["style","font-size: 12px; overflow: visible; display: block;",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["floatLabel","always","fxFlex","50","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","",3,"value","readonly"],["floatLabel","always","fxFlex","50","fxFlex.gt-xs","10",1,"pr-8"],["inputCheck","","matInput","","formControlName","volume","min","1","type","number","required",""],["inputCheck","","matInput","","type","number","formControlName","amount","required",""],["formControlName","tax","required",""],[3,"value"],["inputCheck","","matInput","","type","number","formControlName","tax_amount","required",""],["floatLabel","always","fxFlex","30","fxFlex.gt-xs","20",1,"pr-8"],["formControlName","currency","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["floatLabel","always","fxFlex","25","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","type","number","matInput","","formControlName","ex_rate"],["floatLabel","always","fxFlex","100","fxFlex.gt-xs","75",1,"pr-8"],["inputCheck","","aria-label","partner","matInput","","formControlName","partner",3,"matAutocomplete"],["autoCus","matAutocomplete"],["floatLabel","always","fxFlex","50","fxFlex.gt-xs","25",1,"pr-8"],["inputCheck","","aria-label","payment_center","matInput","","formControlName","payment_center",3,"matAutocomplete"],["autoCountry","matAutocomplete"],["floatLabel","always","fxFlex","100",1,"pr-8"],["inputCheck","","aria-label","principal","matInput","","formControlName","principal",3,"matAutocomplete"],["autoCus2","matAutocomplete"],["inputCheck","","matInput","","type","number","formControlName","w_tax","required",""],["inputCheck","","matInput","","type","number","formControlName","wt_amount","required",""],["inputCheck","","matInput","","formControlName","soa"],["inputCheck","","matInput","","name","soa_pay","formControlName","soa_pay",3,"matDatepicker","change"],["matSuffix","",3,"for"],["soaDate",""],["floatLabel","always","fxFlex","50","fxFlex.gt-xs","100",1,"pr-8"],["inputCheck","","matInput","","name","remark","formControlName","remark"],["inputCheck","","matInput","","formControlName","invoice_number"],["inputCheck","","matInput","","name","issue_date","formControlName","issue_date",3,"matDatepicker","change"],["issueDate",""],["inputCheck","","matInput","","name","pay_date","formControlName","pay_date",3,"matDatepicker","change"],["payDate",""],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["textareaCheck","","matInput","","formControlName","info","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[2,"font-size","12px","overflow","visible","display","block",3,"value"]],template:function(t,e){if(1&t&&(I.Xb(0,"div",0),I.Xb(1,"mat-toolbar",1),I.Xb(2,"mat-toolbar-row",2),I.Xb(3,"span",3),I.Lc(4),I.Wb(),I.Xb(5,"button",4),I.fc("click",(function(t){return e.matDialogRef.close()})),I.Xb(6,"mat-icon"),I.Lc(7,"close"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(8,"div",5),I.Xb(9,"div"),I.Xb(10,"form",6),I.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onFormSubmit(e.form)})),I.Xb(11,"div",7),I.Sb(12,"input",8),I.Sb(13,"input",9),I.Wb(),I.Xb(14,"div",10),I.Xb(15,"mat-form-field",11),I.Xb(16,"mat-label"),I.Lc(17,"Price"),I.Wb(),I.Sb(18,"input",12),I.Xb(19,"mat-autocomplete",13,14),I.Jc(21,De,2,2,"mat-option",15),I.kc(22,"async"),I.Wb(),I.Jc(23,Ce,2,0,"mat-error",16),I.Wb(),I.Xb(24,"mat-form-field",17),I.Xb(25,"mat-label"),I.Lc(26,"Unit"),I.Wb(),I.Sb(27,"input",18),I.Wb(),I.Xb(28,"mat-form-field",19),I.Xb(29,"mat-label"),I.Lc(30,"Volume"),I.Wb(),I.Sb(31,"input",20),I.Jc(32,_e,2,0,"mat-error",16),I.Wb(),I.Xb(33,"mat-form-field",17),I.Xb(34,"mat-label"),I.Lc(35,"Amount"),I.Wb(),I.Sb(36,"input",21),I.Jc(37,Ie,2,0,"mat-error",16),I.Wb(),I.Xb(38,"mat-form-field",19),I.Xb(39,"mat-label"),I.Lc(40,"Tax(%)"),I.Wb(),I.Xb(41,"mat-select",22),I.Xb(42,"mat-option",23),I.Lc(43,"0"),I.Wb(),I.Xb(44,"mat-option",23),I.Lc(45,"5"),I.Wb(),I.Xb(46,"mat-option",23),I.Lc(47,"5.26"),I.Wb(),I.Xb(48,"mat-option",23),I.Lc(49,"7"),I.Wb(),I.Xb(50,"mat-option",23),I.Lc(51,"8"),I.Wb(),I.Xb(52,"mat-option",23),I.Lc(53,"10"),I.Wb(),I.Wb(),I.Jc(54,Me,2,0,"mat-error",16),I.Wb(),I.Xb(55,"mat-form-field",17),I.Xb(56,"mat-label"),I.Lc(57,"Tax Amount"),I.Wb(),I.Sb(58,"input",24),I.Jc(59,Pe,2,0,"mat-error",16),I.Wb(),I.Xb(60,"mat-form-field",25),I.Xb(61,"mat-label"),I.Lc(62,"Currency"),I.Wb(),I.Xb(63,"mat-select",26),I.fc("selectionChange",(function(t){return e.getExrate(t)})),I.Jc(64,Fe,2,2,"mat-option",27),I.Wb(),I.Jc(65,Re,2,0,"mat-error",16),I.Wb(),I.Xb(66,"mat-form-field",28),I.Xb(67,"mat-label"),I.Lc(68,"Ex-rate"),I.Wb(),I.Sb(69,"input",29),I.Jc(70,Ae,2,0,"mat-error",16),I.Wb(),I.Xb(71,"mat-form-field",30),I.Xb(72,"mat-label"),I.Lc(73),I.Wb(),I.Sb(74,"input",31),I.Xb(75,"mat-autocomplete",13,32),I.Jc(77,Oe,2,2,"mat-option",27),I.kc(78,"async"),I.Wb(),I.Jc(79,qe,2,0,"mat-error",16),I.Wb(),I.Xb(80,"mat-form-field",33),I.Xb(81,"mat-label"),I.Lc(82,"Payment center"),I.Wb(),I.Sb(83,"input",34),I.Xb(84,"mat-autocomplete",13,35),I.Jc(86,Ne,2,2,"mat-option",27),I.kc(87,"async"),I.Wb(),I.Jc(88,je,2,0,"mat-error",16),I.Wb(),I.Xb(89,"mat-form-field",36),I.Xb(90,"mat-label"),I.Lc(91,"Principal"),I.Wb(),I.Sb(92,"input",37),I.Xb(93,"mat-autocomplete",13,38),I.Jc(95,Te,2,2,"mat-option",27),I.kc(96,"async"),I.Wb(),I.Jc(97,Ee,2,0,"mat-error",16),I.Wb(),I.Xb(98,"mat-form-field",33),I.Xb(99,"mat-label"),I.Lc(100,"W Tax"),I.Wb(),I.Sb(101,"input",39),I.Jc(102,Je,2,0,"mat-error",16),I.Wb(),I.Xb(103,"mat-form-field",33),I.Xb(104,"mat-label"),I.Lc(105,"WT Amount"),I.Wb(),I.Sb(106,"input",40),I.Jc(107,He,2,0,"mat-error",16),I.Wb(),I.Xb(108,"mat-form-field",33),I.Xb(109,"mat-label"),I.Lc(110,"SOA"),I.Wb(),I.Sb(111,"input",41),I.Wb(),I.Xb(112,"mat-form-field",33),I.Xb(113,"mat-label"),I.Lc(114,"SOA pay"),I.Wb(),I.Xb(115,"input",42),I.fc("change",(function(t){return e.commonService.setDateStr(t)})),I.Wb(),I.Sb(116,"mat-datepicker-toggle",43),I.Sb(117,"mat-datepicker",null,44),I.Wb(),I.Xb(119,"mat-form-field",45),I.Xb(120,"mat-label"),I.Lc(121,"Remark"),I.Wb(),I.Sb(122,"input",46),I.Wb(),I.Xb(123,"mat-form-field",33),I.Xb(124,"mat-label"),I.Lc(125,"Invoice number"),I.Wb(),I.Sb(126,"input",47),I.Wb(),I.Xb(127,"mat-form-field",33),I.Xb(128,"mat-label"),I.Lc(129,"Issue date"),I.Wb(),I.Xb(130,"input",48),I.fc("change",(function(t){return e.commonService.setDateStr(t)})),I.Wb(),I.Sb(131,"mat-datepicker-toggle",43),I.Sb(132,"mat-datepicker",null,49),I.Wb(),I.Xb(134,"mat-form-field",33),I.Xb(135,"mat-label"),I.Lc(136,"Pay date"),I.Wb(),I.Xb(137,"input",50),I.fc("change",(function(t){return e.commonService.setDateStr(t)})),I.Wb(),I.Sb(138,"mat-datepicker-toggle",43),I.Sb(139,"mat-datepicker",null,51),I.Wb(),I.Xb(141,"mat-form-field",33),I.Xb(142,"mat-label"),I.Lc(143,"Update by"),I.Wb(),I.Sb(144,"input",52),I.Sb(145,"input",53),I.Wb(),I.Xb(146,"mat-form-field",36),I.Xb(147,"mat-label"),I.Lc(148,"Info"),I.Wb(),I.Sb(149,"textarea",54),I.Wb(),I.Wb(),I.Xb(150,"div",55),I.Xb(151,"div",56),I.Lc(152),I.Wb(),I.Wb(),I.Xb(153,"div",57),I.Xb(154,"button",58),I.Lc(155,"Submit"),I.Wb(),I.Xb(156,"button",59),I.fc("click",(function(t){return e.matDialogRef.close()})),I.Lc(157,"Cancel"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t){const t=I.xc(20),n=I.xc(76),i=I.xc(85),o=I.xc(94),a=I.xc(118),r=I.xc(133),c=I.xc(140);I.Db(4),I.Mc(e.label),I.Db(6),I.pc("formGroup",e.form),I.Db(8),I.pc("matAutocomplete",t),I.Db(1),I.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),I.Db(2),I.pc("ngForOf",I.lc(22,44,e.filteredPrice)),I.Db(2),I.pc("ngIf",e.form.get("price").hasError("required")),I.Db(4),I.pc("value",null==e.form.value.price?null:e.form.value.price.unit_code)("readonly",!0),I.Db(5),I.pc("ngIf",e.form.get("volume").hasError("required")),I.Db(5),I.pc("ngIf",e.form.get("amount").hasError("required")),I.Db(5),I.pc("value",0),I.Db(2),I.pc("value",5),I.Db(2),I.pc("value",5.26),I.Db(2),I.pc("value",7),I.Db(2),I.pc("value",8),I.Db(2),I.pc("value",10),I.Db(2),I.pc("ngIf",e.form.get("tax").hasError("required")),I.Db(5),I.pc("ngIf",e.form.get("tax_amount").hasError("required")),I.Db(5),I.pc("ngForOf",e.currency),I.Db(1),I.pc("ngIf",e.form.get("currency").hasError("required")),I.Db(5),I.pc("ngIf",e.form.get("ex_rate").hasError("required")),I.Db(3),I.Nc("",e.label.includes("Revenue")?"Pay":"Issue"," Party"),I.Db(1),I.pc("matAutocomplete",n),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"full_name",e.partner)),I.Db(2),I.pc("ngForOf",I.lc(78,46,e.filteredPartner)),I.Db(2),I.pc("ngIf",e.form.get("partner").hasError("required")),I.Db(4),I.pc("matAutocomplete",i),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.country)),I.Db(2),I.pc("ngForOf",I.lc(87,48,e.filteredCountry)),I.Db(2),I.pc("ngIf",e.form.get("payment_center").hasError("required")),I.Db(4),I.pc("matAutocomplete",o),I.Db(1),I.pc("displayWith",e.commonService.displayFn.bind(e,"full_name",e.partner)),I.Db(2),I.pc("ngForOf",I.lc(96,50,e.filteredPartner2)),I.Db(2),I.pc("ngIf",e.form.get("principal").hasError("required")),I.Db(5),I.pc("ngIf",e.form.get("w_tax").hasError("required")),I.Db(5),I.pc("ngIf",e.form.get("wt_amount").hasError("required")),I.Db(8),I.pc("matDatepicker",a),I.Db(1),I.pc("for",a),I.Db(14),I.pc("matDatepicker",r),I.Db(1),I.pc("for",r),I.Db(6),I.pc("matDatepicker",c),I.Db(1),I.pc("for",c),I.Db(6),I.pc("value",e.name),I.Db(8),I.Mc(e.errorMessage)}},directives:[v.a,v.c,E.b,E.d,E.c,s.b,p.a,g.d,J.a,q.A,q.q,q.h,q.b,q.p,q.g,q.w,l.c,l.f,d.b,r.c,r.a,M.s,M.t,q.u,u.a,L.n,c.b,c.d,l.h,c.a,Qt.b,l.b],pipes:[M.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-soa-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-soa-modal-dialog{width:1080px}}.shipment-details-soa-modal-dialog .mat-dialog-container{padding:0}.shipment-details-soa-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-soa-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-soa-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),t})();var Be=n("O4lD");function Ve(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",12),I.fc("click",(function(e){I.Bc(t);const n=I.jc(2);return e.stopPropagation(),n.createItem.emit(n.label)})),I.Lc(1,"add"),I.Wb()}}function Ue(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",12),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc(2);return e.stopPropagation(),i.updateItem.emit([n,i.label])})),I.Lc(1,"edit"),I.Wb()}}function Ge(t,e){if(1&t){const t=I.Yb();I.Xb(0,"mat-icon",16),I.fc("click",(function(e){I.Bc(t);const n=I.jc().$implicit,i=I.jc(2);return e.stopPropagation(),i.deleteItem.emit([n.id,i.label])})),I.Lc(1,"delete"),I.Wb()}}function Ye(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td"),I.Lc(2),I.Wb(),I.Xb(3,"td",13),I.Lc(4),I.Wb(),I.Xb(5,"td",13),I.Lc(6),I.Wb(),I.Xb(7,"td"),I.Lc(8),I.Wb(),I.Xb(9,"td"),I.Lc(10),I.Wb(),I.Xb(11,"td",5),I.Lc(12),I.kc(13,"number"),I.Wb(),I.Xb(14,"td"),I.Lc(15),I.Wb(),I.Xb(16,"td",5),I.Lc(17),I.Wb(),I.Xb(18,"td",5),I.Lc(19),I.kc(20,"number"),I.Wb(),I.Xb(21,"td",5),I.Lc(22),I.kc(23,"number"),I.Wb(),I.Xb(24,"td"),I.Lc(25),I.Wb(),I.Xb(26,"td",5),I.Lc(27),I.kc(28,"number"),I.Wb(),I.Xb(29,"td"),I.Lc(30),I.Wb(),I.Xb(31,"td"),I.Lc(32),I.Wb(),I.Xb(33,"td"),I.Lc(34),I.kc(35,"date"),I.Wb(),I.Xb(36,"td"),I.Lc(37),I.kc(38,"date"),I.Wb(),I.Xb(39,"td",13),I.Lc(40),I.Wb(),I.Xb(41,"td",5),I.Lc(42),I.kc(43,"number"),I.Wb(),I.Xb(44,"td",5),I.Lc(45),I.kc(46,"number"),I.Wb(),I.Xb(47,"td"),I.Lc(48),I.Wb(),I.Xb(49,"td"),I.Lc(50),I.kc(51,"date"),I.Wb(),I.Xb(52,"td"),I.Lc(53),I.Wb(),I.Xb(54,"td"),I.Lc(55),I.Wb(),I.Xb(56,"td"),I.Lc(57),I.Wb(),I.Xb(58,"td",14),I.Jc(59,Ue,2,0,"mat-icon",7),I.Jc(60,Ge,2,0,"mat-icon",15),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=e.index,i=I.jc(2);I.Db(2),I.Mc(n+1),I.Db(1),I.pc("matTooltip",t.partner_name),I.Db(1),I.Mc(t.partner_short_name),I.Db(1),I.pc("matTooltip",t.price_name),I.Db(1),I.Mc(t.price_code),I.Db(2),I.Mc(t.unit_code),I.Db(2),I.Mc(t.volume),I.Db(2),I.Mc(I.mc(13,29,t.amount,"1.2-2")),I.Db(3),I.Mc(t.tax),I.Db(2),I.Mc(t.tax_amount),I.Db(2),I.Mc(I.mc(20,32,t.total_amount,"1.2-2")),I.Db(3),I.Mc(I.mc(23,35,t.total_tax,"1.2-2")),I.Db(3),I.Mc(t.currency_code),I.Db(2),I.Mc(I.mc(28,38,t.total_vnd,"1.0-0")),I.Db(3),I.Mc(t.country_name),I.Db(2),I.Mc(t.invoice_number),I.Db(2),I.Mc(I.mc(35,41,t.issue_date,"MM/dd/yyyy")),I.Db(3),I.Mc(I.mc(38,44,t.pay_date,"MM/dd/yyyy")),I.Db(2),I.pc("matTooltip",t.principal_name),I.Db(1),I.Mc(t.principal_short_name),I.Db(2),I.Mc(I.mc(43,47,t.w_tax,"1.2-2")),I.Db(3),I.Mc(I.mc(46,50,t.wt_amount,"1.2-2")),I.Db(3),I.Mc(t.soa),I.Db(2),I.Mc(I.mc(51,53,t.soa_pay,"MM/dd/yyyy")),I.Db(3),I.Mc(t.remark),I.Db(2),I.Mc(t.info),I.Db(2),I.Mc(t.update_by_name),I.Db(2),I.pc("ngIf",i.permission.edit),I.Db(1),I.pc("ngIf",i.permission.delete)}}function $e(t,e){if(1&t&&(I.Xb(0,"tr"),I.Sb(1,"td"),I.Sb(2,"td"),I.Sb(3,"td"),I.Sb(4,"td"),I.Sb(5,"td"),I.Sb(6,"td"),I.Sb(7,"td"),I.Xb(8,"td"),I.Lc(9,"Total"),I.Wb(),I.Xb(10,"td",5),I.Lc(11),I.kc(12,"number"),I.Wb(),I.Xb(13,"td",5),I.Lc(14),I.kc(15,"number"),I.Wb(),I.Xb(16,"td"),I.Lc(17),I.Wb(),I.Sb(18,"td"),I.Sb(19,"td"),I.Sb(20,"td"),I.Sb(21,"td"),I.Sb(22,"td"),I.Sb(23,"td"),I.Sb(24,"td"),I.Sb(25,"td"),I.Sb(26,"td"),I.Sb(27,"td"),I.Sb(28,"td"),I.Sb(29,"td"),I.Sb(30,"td"),I.Sb(31,"td"),I.Wb()),2&t){const t=e.$implicit;I.Db(11),I.Mc(I.mc(12,3,t.amount,"1.2-2")),I.Db(3),I.Mc(I.mc(15,6,t.tax,"1.2-2")),I.Db(3),I.Mc(t.code)}}function Ke(t,e){if(1&t&&(I.Xb(0,"table",4),I.Xb(1,"thead"),I.Xb(2,"tr"),I.Xb(3,"th"),I.Lc(4,"No"),I.Wb(),I.Xb(5,"th"),I.Lc(6),I.Wb(),I.Xb(7,"th"),I.Lc(8,"Price"),I.Wb(),I.Xb(9,"th"),I.Lc(10,"Unit"),I.Wb(),I.Xb(11,"th"),I.Lc(12,"Volume"),I.Wb(),I.Xb(13,"th",5),I.Lc(14,"Amount"),I.Wb(),I.Xb(15,"th"),I.Lc(16,"Tax"),I.Wb(),I.Xb(17,"th",5),I.Lc(18,"Tax Amount"),I.Wb(),I.Xb(19,"th",5),I.Lc(20,"Total Amount"),I.Wb(),I.Xb(21,"th",5),I.Lc(22,"Total Tax"),I.Wb(),I.Xb(23,"th"),I.Lc(24,"Currency"),I.Wb(),I.Xb(25,"th",5),I.Lc(26,"Total VND"),I.Wb(),I.Xb(27,"th"),I.Lc(28,"Payment center"),I.Wb(),I.Xb(29,"th"),I.Lc(30,"Invoice number"),I.Wb(),I.Xb(31,"th"),I.Lc(32,"Issue date"),I.Wb(),I.Xb(33,"th"),I.Lc(34,"Pay date"),I.Wb(),I.Xb(35,"th"),I.Lc(36,"Principal"),I.Wb(),I.Xb(37,"th",5),I.Lc(38,"W Tax"),I.Wb(),I.Xb(39,"th",5),I.Lc(40,"WT amount"),I.Wb(),I.Xb(41,"th"),I.Lc(42,"Soa"),I.Wb(),I.Xb(43,"th"),I.Lc(44,"Soa pay"),I.Wb(),I.Xb(45,"th"),I.Lc(46,"Remark"),I.Wb(),I.Xb(47,"th"),I.Lc(48,"Info"),I.Wb(),I.Xb(49,"th"),I.Lc(50,"Update by"),I.Wb(),I.Xb(51,"th",6),I.Jc(52,Ve,2,0,"mat-icon",7),I.Wb(),I.Wb(),I.Wb(),I.Xb(53,"tbody"),I.Jc(54,Ye,61,56,"tr",8),I.Wb(),I.Xb(55,"tfoot"),I.Jc(56,$e,32,9,"tr",8),I.Xb(57,"tr"),I.Sb(58,"td"),I.Sb(59,"td"),I.Sb(60,"td"),I.Sb(61,"td"),I.Sb(62,"td"),I.Sb(63,"td"),I.Sb(64,"td"),I.Xb(65,"td",9),I.Lc(66,"Exchange"),I.Wb(),I.Xb(67,"td",10),I.Lc(68),I.kc(69,"number"),I.Wb(),I.Xb(70,"td",10),I.Lc(71),I.kc(72,"number"),I.Wb(),I.Xb(73,"td",11),I.Lc(74,"VND"),I.Wb(),I.Xb(75,"td",10),I.Lc(76),I.kc(77,"number"),I.Wb(),I.Sb(78,"td"),I.Sb(79,"td"),I.Sb(80,"td"),I.Sb(81,"td"),I.Sb(82,"td"),I.Sb(83,"td"),I.Sb(84,"td"),I.Sb(85,"td"),I.Sb(86,"td"),I.Sb(87,"td"),I.Wb(),I.Wb(),I.Wb()),2&t){const t=I.jc();I.Db(6),I.Nc("","Revenue"==t.label?"Pay ":"Issue ","Party"),I.Db(46),I.pc("ngIf",t.permission.create),I.Db(2),I.pc("ngForOf",t.dataView),I.Db(2),I.pc("ngForOf",t.totalCurrency),I.Db(12),I.Mc(I.mc(69,7,t.total.amount,"1.2-2")),I.Db(3),I.Mc(I.mc(72,10,t.total.tax,"1.2-2")),I.Db(5),I.Mc(I.mc(77,13,t.total.amount+t.total.tax,"1.0-0"))}}let Qe=(()=>{class t{constructor(t,e){this.router=t,this.authService=e,this.copyInfo=new I.o,this.createItem=new I.o,this.updateItem=new I.o,this.deleteItem=new I.o,this.totalCurrency=[],this.dataView=[],this.total={tax:0,amount:0},this._unsubscribeAll=new R.a}ngOnInit(){this.user=this.authService.user,this.total={tax:0,amount:0},this.totalCurrency=[],this.dataView=[],this.data.map(t=>{{let e=this.totalCurrency.find(e=>e.code==t.currency_code);e?(e.amount+=t.volume*t.amount,e.tax+=t.volume*t.tax_amount):this.totalCurrency.push({code:t.currency_code,amount:t.volume*t.amount,tax:t.volume*t.tax_amount}),this.total.tax+=t.volume*t.tax_amount*t.ex_rate,this.total.amount+=t.volume*t.amount*t.ex_rate,this.dataView.push(t)}})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(t){t.data&&t.data.currentValue&&(this.data=t.data.currentValue,this.total={tax:0,amount:0},this.totalCurrency=[],this.dataView=[],this.data.map(t=>{{let e=this.totalCurrency.find(e=>e.code==t.currency_code);e?(e.amount+=t.volume*t.amount,e.tax+=t.volume*t.tax_amount):this.totalCurrency.push({code:t.currency_code,amount:t.volume*t.amount,tax:t.volume*t.tax_amount}),this.total.tax+=t.volume*t.tax_amount*t.ex_rate,this.total.amount+=t.volume*t.amount*t.ex_rate,this.dataView.push(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(j.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-soa-table"]],inputs:{data:"data",label:"label",height:"height",permission:"permission"},outputs:{copyInfo:"copyInfo",createItem:"createItem",updateItem:"updateItem",deleteItem:"deleteItem"},features:[I.Bb()],decls:6,vars:4,consts:[[1,"group","mb-12","mt-12"],["fxLayout","row","fxLayoutAlign","start center"],[2,"overflow","auto"],["class","simple shipment-details-soa-table",4,"ngIf"],[1,"simple","shipment-details-soa-table"],[1,"text-right"],[1,"sticky-right-col",2,"z-index","30"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sticky-row2","text-bold"],[1,"sticky-row2","text-bold","text-right"],[1,"sticky-row2"],["color","accent",1,"cursor-pointer",3,"click"],[3,"matTooltip"],[1,"sticky-right-col"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"h2",1),I.Xb(2,"span"),I.Lc(3),I.Wb(),I.Wb(),I.Xb(4,"div",2),I.Jc(5,Ke,88,16,"table",3),I.Wb(),I.Wb()),2&t&&(I.Db(3),I.Nc("",e.label,"\xa0"),I.Db(1),I.Ic("max-height",e.height,"px"),I.Db(1),I.pc("ngIf",e.data))},directives:[E.d,E.c,M.t,M.s,p.a,m.a],pipes:[M.g,M.f],styles:["shipment-details-soa-table .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}shipment-details-soa-table .group h2{position:absolute;top:-11px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}shipment-details-soa-table .group .shipment-details-soa-table{font-size:12px}shipment-details-soa-table .group .shipment-details-soa-table td,shipment-details-soa-table .group .shipment-details-soa-table th{padding:8px!important;white-space:nowrap}shipment-details-soa-table .group .shipment-details-soa-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}shipment-details-soa-table .group .shipment-details-soa-table tfoot td{font-weight:600}shipment-details-soa-table .group .shipment-details-soa-table .sticky-left-col1{position:sticky;min-width:36px;position:-webkit-sticky;left:0;background-color:#fff;z-index:10}shipment-details-soa-table .group .shipment-details-soa-table .sticky-left-col2{position:sticky;position:-webkit-sticky;left:36px;background-color:#fff;z-index:20}shipment-details-soa-table .group .shipment-details-soa-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;padding:0;text-align:center;background-color:#b3e5fc}shipment-details-soa-table .group .shipment-details-soa-table tfoot td.sticky-row2{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:25;font-weight:bolder}shipment-details-soa-table .group .shipment-details-soa-table tfoot td.sticky-row1{position:sticky;position:-webkit-sticky;bottom:32px;background:#fff;z-index:25}"],encapsulation:2,data:{animation:O.a}}),t})();function Ze(t,e){if(1&t){const t=I.Yb();I.Xb(0,"shipment-details-sidebar",12),I.fc("editShipment",(function(e){return I.Bc(t),I.jc(2).editShipment(e)}))("sidebarPage",(function(e){return I.Bc(t),I.jc(2).getTypeSidebar(e)})),I.Wb()}if(2&t){const t=I.jc(2);I.pc("type",t.type)("shipment",t.shipment)("user",t.users)("partner",t.partner)("seaport",t.seaport)("permission",t.permission)("height",t.height)}}function tn(t,e){if(1&t&&(I.Xb(0,"fuse-sidebar",10),I.Xb(1,"div",4),I.Jc(2,Ze,1,7,"shipment-details-sidebar",11),I.Wb(),I.Wb()),2&t){const t=I.jc();I.Db(2),I.pc("ngIf",t.shipment)}}let en=(()=>{class t{constructor(t,e,n,i,o,a,r){this._fuseSidebarService=t,this.shipmentService=e,this.router=n,this.authService=i,this.route=o,this.datePipe=a,this._matDialog=r,this.sidebarPanel=!0,this.type="view",this.module="pacific-logistics-network",this.height=560,this._unsubscribeAll=new R.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.module=this.shipmentService.module,this.type=this.shipmentService.type,this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-20}),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-20:this.authService.screenHeight-64-64-20}),this.shipmentService.onDataChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.partner=this.shipmentService.partner,this.seaport=this.shipmentService.seaport}),this.shipmentService.onPlnShipmentDetailsChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{t.length>0&&(this.shipment=t[0][0],this.shipment&&(this.id=this.shipment.id,this.revenue=t[1],this.cost=t[2],this.document=t[3],this.shipment.revenueData=t[1],this.shipment.costData=t[2]))}),this.shipmentService.onDataItemChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.price=this.shipmentService.price,this.unit=this.shipmentService.unit,this.currency=this.shipmentService.currency,this.country=this.shipmentService.country,this.users=this.shipmentService.users})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}getTypeSidebar(t){this.type=this.shipmentService.type=t}refreshPage(t){this.authService.refreshData(this.shipmentService)}editShipment(t){this.authService.onRequestChanged.next(!0),this.shipmentService.updatePlnShipment(t).then(t=>{this.authService.onRequestChanged.next(!1),1==t.affectedRows&&(this.getShipment(),this.type="view")}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error edit")})}getShipment(){this.authService.onRequestChanged.next(!0),this.shipmentService.getPlnShipmentById(this.id).then(t=>{this.authService.onRequestChanged.next(!1)}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error: Server error")})}copyInfo(t){let e=t[1],n=t[2],i=t[3],o={};o.id=t[0].id,o[n]=["issue_date","pay_date"].includes(n)?this.datePipe.transform(e[n],"yyyy-MM-dd"):e[n],o.update_by=this.authService.user,this.updateServer(i,o,t)}updateServer(t,e,n){switch(this.authService.onRequestChanged.next(!0),t){case"Revenue":e.pay_party=parseInt(n[1].partner),delete e.partner,this.shipmentService.updatePlnRevenue(e).then(t=>{this.authService.onRequestChanged.next(!1),t.affectedRows>0?this.getShipment():(console.error(t),alert("Error update item"),this.getShipment())}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("update item error")});break;case"Cost":e.issue_party=parseInt(n[1].partner),delete e.partner,this.shipmentService.updatePlnCost(e).then(t=>{this.authService.onRequestChanged.next(!1),t.affectedRows>0?this.getShipment():(console.error(t),alert("Error update item"),this.getShipment())}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("update item error")})}}deleteItem(t){let e=t[0],n=t[1];if(confirm("Do you want to delete this item?"))switch(this.authService.onRequestChanged.next(!0),n){case"Revenue":this.shipmentService.deletePlnRevenue(e).then(t=>{this.authService.onRequestChanged.next(!1),1==t.affectedRows?this.getShipment():(console.error(t),alert("Error delete item"),this.getShipment())}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("delete item error")});break;case"Cost":this.shipmentService.deletePlnCost(e).then(t=>{this.authService.onRequestChanged.next(!1),1==t.affectedRows?this.getShipment():(console.error(t),alert("Error delete item"),this.getShipment())}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("delete item error")})}}createItem(t){this.dialogRef=this._matDialog.open(ze,{panelClass:"shipment-details-soa-modal-dialog",data:{label:"Add "+t,shipmentId:this.id,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,shipment:this.shipment}}),this.dialogRef.afterClosed().subscribe(t=>{t&&this.createData(t[0],t[2])})}updateItem(t){this.dialogRef=this._matDialog.open(ze,{panelClass:"shipment-details-soa-modal-dialog",data:{label:"Edit "+t[1],shipmentId:this.id,shipment:this.shipment,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,data:t[0]}}),this.dialogRef.afterClosed().subscribe(t=>{t&&this.updateData(t[0],t[2])})}createData(t,e){switch(this.authService.onRequestChanged.next(!0),t){case"Revenue":this.shipmentService.createPlnRevenue(e).then(t=>{this.authService.onRequestChanged.next(!1),this.getShipment()}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Create "+t+" error")});break;case"Cost":this.shipmentService.createPlnCost(e).then(t=>{this.authService.onRequestChanged.next(!1),this.getShipment()}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Create "+t+" error")})}}updateData(t,e){switch(this.authService.onRequestChanged.next(!0),t){case"Revenue":console.log(e),this.shipmentService.updatePlnRevenue(e).then(e=>{this.authService.onRequestChanged.next(!1),this.getShipment(),alert("Update "+t+" success")}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Update "+t+" error")});break;case"Cost":this.shipmentService.updatePlnCost(e).then(e=>{this.authService.onRequestChanged.next(!1),this.getShipment(),alert("Update "+t+" success")}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Update "+t+" error")})}}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(_t.a),I.Rb(Pt),I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(g.b))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-soa"]],decls:12,vars:15,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-details-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"module","shipment","sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content"],["fxLayout","column",1,"pl-8","pt-8",2,"overflow","auto"],[3,"shipment"],["fxLayout","row wrap"],["fxFlex","100"],[3,"height","data","label","permission","deleteItem","updateItem","createItem"],["name","shipment-details-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"type","shipment","user","partner","seaport","permission","height","editShipment","sidebarPage",4,"ngIf"],[3,"type","shipment","user","partner","seaport","permission","height","editShipment","sidebarPage"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Jc(1,tn,3,1,"fuse-sidebar",1),I.Xb(2,"div",2),I.Xb(3,"shipment-details-header",3),I.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),I.Wb(),I.Xb(4,"div",4),I.Xb(5,"div",5),I.Sb(6,"shipment-details-soa-total",6),I.Xb(7,"div",7),I.Xb(8,"div",8),I.Xb(9,"shipment-details-soa-table",9),I.fc("deleteItem",(function(t){return e.deleteItem(t)}))("updateItem",(function(t){return e.updateItem(t)}))("createItem",(function(t){return e.createItem(t)})),I.Wb(),I.Wb(),I.Xb(10,"div",8),I.Xb(11,"shipment-details-soa-table",9),I.fc("deleteItem",(function(t){return e.deleteItem(t)}))("updateItem",(function(t){return e.updateItem(t)}))("createItem",(function(t){return e.createItem(t)})),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(1),I.pc("ngIf",e.sidebarPanel),I.Db(2),I.pc("module",e.module)("shipment",e.shipment)("sidebarName","shipment-details-sidebar"),I.Db(2),I.Ic("height",e.height,"px"),I.Db(1),I.pc("shipment",e.shipment),I.Db(3),I.pc("height",e.height)("data",e.revenue)("label","Revenue")("permission",e.permission),I.Db(2),I.pc("height",e.height)("data",e.cost)("label","Cost")("permission",e.permission))},directives:[Ft.a,M.t,J.a,Nt,E.d,Be.a,E.b,Qe,Bt.a,ye],styles:["shipment-details-soa{width:100%}"],encapsulation:2,data:{animation:O.a}}),t})();const nn=["formDirective"];function on(t,e){if(1&t&&(I.Xb(0,"mat-option",31),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t),I.Db(1),I.Mc(t)}}function an(t,e){if(1&t&&(I.Xb(0,"mat-option",32),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t)("matTooltip",t.full_name),I.Db(1),I.Nc(" ",t.short_name," ")}}let rn=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.authService=e,this.commonService=n,this.sidebarPage=new I.o,this.editDocument=new I.o,this.form=this.formBuilder.group({book_number:[null],code_company:[""],empty_pick_up_depot:[null],place_of_stuffing:[null],laden_drop_off:[null],commodity:[null],clcv:[null],note:[null],contact_note:[null]}),this.now=new Date}ngOnInit(){this.updateForm(this.data),this.filteredPartner=this.form.controls.empty_pick_up_depot.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[]))}ngOnChanges(t){t.data&&(t.data.currentValue||null==t.data.currentValue)&&(this.data=t.data.currentValue,this.updateForm(this.data))}setCheck(t){t.check=!t.check}resetForm(){this.searchNgForm.resetForm()}onFormSubmit(t){if(t.valid){if("string"==typeof this.form.value.empty_pick_up_depot)return void this.form.controls.empty_pick_up_depot.setValue(null);t.valid&&this.editDocument.emit(t.value)}}updateForm(t){this.form.patchValue(t)}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(q.d),I.Rb(j.a),I.Rb(T.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["bookconfirm-sidebar"]],viewQuery:function(t,e){var n;1&t&&I.Sc(nn,!0),2&t&&I.wc(n=I.gc())&&(e.searchNgForm=n.first)},inputs:{data:"data",partner:"partner",codeCompany:"codeCompany",height:"height",permission:"permission"},outputs:{sidebarPage:"sidebarPage",editDocument:"editDocument"},features:[I.Bb()],decls:71,vars:12,consts:[[1,"sidebar-content"],["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8","button-accent-color",3,"disabled"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","type","text","matInput","","formControlName","book_number"],["fxFlex","100",1,"info-line"],["inputCheck","","type","text","matInput","","formControlName","code_company",3,"matAutocomplete"],["autoCode","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","type","text","matInput","","formControlName","place_of_stuffing",3,"matAutocomplete"],["autoStuffing","matAutocomplete"],["value","PORT"],["value","WAREHOUSE"],["value","CFS"],["inputCheck","","type","text","matInput","","formControlName","laden_drop_off"],["inputCheck","","type","text","matInput","","formControlName","empty_pick_up_depot",3,"matAutocomplete"],[3,"displayWith"],["autoPartner","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],["inputCheck","","type","text","matInput","","formControlName","commodity"],["inputCheck","","matInput","","formControlName","clcv"],["inputCheck","","matInput","","formControlName","note"],["inputCheck","","matInput","","formControlName","contact_note"],[3,"value"],[3,"value","matTooltip"]],template:function(t,e){if(1&t&&(I.Xb(0,"div",0),I.Xb(1,"form",1,2),I.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onFormSubmit(e.form)})),I.Xb(3,"div",3),I.Xb(4,"div",4),I.Xb(5,"button",5),I.Lc(6," Update "),I.Wb(),I.Wb(),I.Wb(),I.Xb(7,"div",6),I.Xb(8,"div",7),I.Xb(9,"div",8),I.Xb(10,"div",9),I.Xb(11,"div",10),I.Xb(12,"mat-form-field",11),I.Xb(13,"mat-label"),I.Lc(14,"Book number"),I.Wb(),I.Sb(15,"input",12),I.Wb(),I.Wb(),I.Xb(16,"div",13),I.Xb(17,"mat-form-field",11),I.Xb(18,"mat-label"),I.Lc(19,"Code"),I.Wb(),I.Sb(20,"input",14),I.Xb(21,"mat-autocomplete",null,15),I.Jc(23,on,2,2,"mat-option",16),I.Wb(),I.Wb(),I.Wb(),I.Xb(24,"div",13),I.Xb(25,"mat-form-field",11),I.Xb(26,"mat-label"),I.Lc(27,"Place of stuffing"),I.Wb(),I.Sb(28,"input",17),I.Xb(29,"mat-autocomplete",null,18),I.Xb(31,"mat-option",19),I.Lc(32,"PORT"),I.Wb(),I.Xb(33,"mat-option",20),I.Lc(34,"WAREHOUSE"),I.Wb(),I.Xb(35,"mat-option",21),I.Lc(36,"CFS"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(37,"div",13),I.Xb(38,"mat-form-field",11),I.Xb(39,"mat-label"),I.Lc(40,"Laden Drop-off"),I.Wb(),I.Sb(41,"input",22),I.Wb(),I.Wb(),I.Xb(42,"div",13),I.Xb(43,"mat-form-field",11),I.Xb(44,"mat-label"),I.Lc(45,"Empty pick up depot"),I.Wb(),I.Sb(46,"input",23),I.Xb(47,"mat-autocomplete",24,25),I.Jc(49,an,2,3,"mat-option",26),I.kc(50,"async"),I.Wb(),I.Wb(),I.Wb(),I.Xb(51,"div",13),I.Xb(52,"mat-form-field",11),I.Xb(53,"mat-label"),I.Lc(54,"Commodity"),I.Wb(),I.Sb(55,"input",27),I.Wb(),I.Wb(),I.Xb(56,"div",13),I.Xb(57,"mat-form-field",11),I.Xb(58,"mat-label"),I.Lc(59,"C\u1ea4P L\u1ec6NH C\u1ea4P V\u1ece"),I.Wb(),I.Sb(60,"input",28),I.Wb(),I.Wb(),I.Xb(61,"div",13),I.Xb(62,"mat-form-field",11),I.Xb(63,"mat-label"),I.Lc(64,"Note"),I.Wb(),I.Sb(65,"input",29),I.Wb(),I.Wb(),I.Xb(66,"div",13),I.Xb(67,"mat-form-field",11),I.Xb(68,"mat-label"),I.Lc(69,"Contact node"),I.Wb(),I.Sb(70,"input",30),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t){const t=I.xc(22),n=I.xc(30),i=I.xc(48);I.Db(1),I.pc("formGroup",e.form),I.Db(4),I.pc("disabled",!e.permission.edit),I.Db(2),I.Ic("height",e.height,"px"),I.Db(13),I.pc("matAutocomplete",t),I.Db(3),I.pc("ngForOf",e.codeCompany),I.Db(5),I.pc("matAutocomplete",n),I.Db(18),I.pc("matAutocomplete",i),I.Db(1),I.pc("displayWith",e.commonService.displayObjFn.bind(e,"short_name")),I.Db(2),I.pc("ngForOf",I.lc(50,10,e.filteredPartner))}},directives:[q.A,q.q,q.h,E.d,E.c,s.b,E.b,J.a,l.c,l.f,d.b,q.b,q.p,q.g,r.c,r.a,M.s,L.n,m.a],pipes:[M.b],styles:["bookconfirm-sidebar{border-right:1px solid #e6e6e6}bookconfirm-sidebar .sidebar-content{border-right:1px solid #a3a3a3}bookconfirm-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}bookconfirm-sidebar .navbar-top .button-accent-color{border:1px solid #039be5;border-radius:8px;color:#696969}bookconfirm-sidebar .navbar-top .button-warn-color{border:1px solid #f44336;border-radius:8px;color:#696969}bookconfirm-sidebar .navbar-scroll-container{overflow:auto;background:#fff!important}bookconfirm-sidebar .navbar-scroll-container .navbar-content{padding-top:0}bookconfirm-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}bookconfirm-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}bookconfirm-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}bookconfirm-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}bookconfirm-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}bookconfirm-sidebar navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){bookconfirm-sidebar navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}bookconfirm-sidebar navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}bookconfirm-sidebar navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();function cn(t,e){if(1&t&&(I.Xb(0,"div",52),I.Xb(1,"span",53),I.Lc(2),I.Wb(),I.Wb()),2&t){const t=I.jc(2);I.Db(2),I.Nc("CODE: ",t.content.code_company," ")}}function sn(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",54),I.Lc(2),I.Wb(),I.Xb(3,"td",55),I.Lc(4),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=I.jc(2);I.Db(2),I.Mc(t),I.Db(2),I.Mc(n.calculateTotal(t))}}function bn(t,e){1&t&&(I.Xb(0,"div",56),I.Lc(1,"C\u1ea4P L\u1ec6NH C\u1ea4P V\u1ece:"),I.Wb())}function ln(t,e){if(1&t&&(I.Xb(0,"div",59),I.Lc(1),I.kc(2,"date"),I.Wb()),2&t){const t=I.jc(3);I.Db(1),I.Mc(I.mc(2,1,t.content.voyage.etd,"MMM dd, yyyy"))}}function pn(t,e){if(1&t&&(I.Xb(0,"div",59),I.Lc(1),I.Wb()),2&t){const t=I.jc(3);I.Db(1),I.Mc(t.etd)}}const mn=function(t){return{hide:t}};function dn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",60),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editEtd=!n.editEtd})),I.Xb(1,"mat-icon",61),I.Lc(2,"edit"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,mn,!t.isprint))}}function hn(t,e){if(1&t&&(I.Xb(0,"div",25),I.Xb(1,"div",26),I.Lc(2,"Etd:"),I.Wb(),I.Jc(3,ln,3,4,"div",57),I.Jc(4,pn,2,1,"div",57),I.Jc(5,dn,3,3,"span",58),I.Wb()),2&t){const t=I.jc(2);I.Db(3),I.pc("ngIf",!t.etd),I.Db(1),I.pc("ngIf",t.etd),I.Db(1),I.pc("ngIf",t.editEtd)}}function un(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",60),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editEtd=!n.editEtd})),I.Xb(1,"mat-icon",61),I.Lc(2,"save"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,mn,!t.isprint))}}function fn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"div",25),I.Xb(1,"div",26),I.Lc(2,"Etd:"),I.Wb(),I.Xb(3,"div",59),I.Xb(4,"mat-form-field"),I.Xb(5,"input",62),I.fc("ngModelChange",(function(e){return I.Bc(t),I.jc(2).etd=e})),I.Wb(),I.Wb(),I.Wb(),I.Jc(6,un,3,3,"span",58),I.Wb()}if(2&t){const t=I.jc(2);I.Db(5),I.pc("ngModel",t.etd),I.Db(1),I.pc("ngIf",!t.editEtd)}}function gn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",63),I.fc("click",(function(e){I.Bc(t);const n=I.jc(2);return n.openBookConfirmModal(n.content)})),I.Lc(1," Required Place of stuffing "),I.Wb()}}function vn(t,e){if(1&t&&I.Lc(0),2&t){const t=I.jc(2);I.Nc(" ",t.content.place_of_stuffing," ")}}function xn(t,e){if(1&t&&(I.Xb(0,"div",68),I.Lc(1),I.kc(2,"date"),I.Wb()),2&t){const t=I.jc(3);I.Db(1),I.Mc(0==t.content.voyage.closing_time?"":I.mc(2,1,t.content.voyage.closing_time,"HH:mm a MMM dd, yyyy"))}}function yn(t,e){if(1&t&&(I.Xb(0,"div",69),I.Lc(1),I.Wb()),2&t){const t=I.jc(3);I.Db(1),I.Mc(t.closing_time)}}function Wn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",70),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editClosingtime=!n.editClosingtime})),I.Xb(1,"mat-icon",61),I.Lc(2,"edit"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,mn,!t.isprint))}}function Xn(t,e){if(1&t&&(I.Xb(0,"div",25),I.Xb(1,"div",64),I.Lc(2,"CY Closing time:"),I.Wb(),I.Jc(3,xn,3,4,"div",65),I.Jc(4,yn,2,1,"div",66),I.Jc(5,Wn,3,3,"span",67),I.Wb()),2&t){const t=I.jc(2);I.Db(3),I.pc("ngIf",!t.closing_time),I.Db(1),I.pc("ngIf",t.closing_time),I.Db(1),I.pc("ngIf",t.editClosingtime)}}function Sn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",70),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editClosingtime=!n.editClosingtime})),I.Xb(1,"mat-icon",61),I.Lc(2,"save"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,mn,!t.isprint))}}function kn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"div",25),I.Xb(1,"div",64),I.Lc(2,"CY Closing time:"),I.Wb(),I.Xb(3,"div",69),I.Xb(4,"mat-form-field"),I.Xb(5,"input",62),I.fc("ngModelChange",(function(e){return I.Bc(t),I.jc(2).closing_time=e})),I.Wb(),I.Wb(),I.Wb(),I.Jc(6,Sn,3,3,"span",67),I.Wb()}if(2&t){const t=I.jc(2);I.Db(5),I.pc("ngModel",t.closing_time),I.Db(1),I.pc("ngIf",!t.editClosingtime)}}function Ln(t,e){if(1&t){const t=I.Yb();I.Xb(0,"div",3),I.Xb(1,"div",4,5),I.Xb(3,"div",6),I.Xb(4,"div",7),I.Xb(5,"div",8),I.Sb(6,"img",9),I.Wb(),I.Jc(7,cn,3,1,"div",10),I.Wb(),I.Sb(8,"hr"),I.Xb(9,"div",11),I.Xb(10,"div",12),I.Xb(11,"div",13),I.Xb(12,"div",14),I.Lc(13,"Reference no:"),I.Wb(),I.Xb(14,"div",15),I.Lc(15),I.Wb(),I.Wb(),I.Wb(),I.Xb(16,"div",16),I.Xb(17,"span",17),I.Lc(18,"BOOKING CONFIRMATION "),I.Wb(),I.Xb(19,"span",18),I.Lc(20),I.kc(21,"date"),I.Xb(22,"mat-form-field",19),I.Xb(23,"input",20),I.fc("ngModelChange",(function(e){return I.Bc(t),I.jc().today=e})),I.Wb(),I.Sb(24,"mat-datepicker-toggle",21),I.Sb(25,"mat-datepicker",null,22),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(27,"div",23),I.Xb(28,"div",24),I.Xb(29,"div",12),I.Xb(30,"div",25),I.Xb(31,"div",26),I.Lc(32,"Shipper:"),I.Wb(),I.Xb(33,"div",27),I.Lc(34),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(35,"div",24),I.Xb(36,"div",12),I.Xb(37,"div",25),I.Xb(38,"div",26),I.Lc(39,"Volume:"),I.Wb(),I.Xb(40,"div",12),I.Xb(41,"table",28),I.Xb(42,"tbody"),I.Jc(43,sn,5,2,"tr",29),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(44,"div",30),I.Xb(45,"div",25),I.Xb(46,"div",26),I.Lc(47,"Empty pick up depot:"),I.Wb(),I.Xb(48,"div",27),I.Lc(49),I.Wb(),I.Wb(),I.Xb(50,"div",25),I.Jc(51,bn,2,0,"div",31),I.Xb(52,"div",27),I.Lc(53),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(54,"div",24),I.Xb(55,"div",32),I.Xb(56,"div",25),I.Xb(57,"div",33),I.Lc(58,"Commodity:"),I.Wb(),I.Xb(59,"div",34),I.Lc(60),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(61,"div",24),I.Xb(62,"div",12),I.Xb(63,"div",25),I.Xb(64,"div",26),I.Lc(65,"Port of loading:"),I.Wb(),I.Xb(66,"div",27),I.Lc(67),I.Wb(),I.Wb(),I.Wb(),I.Xb(68,"div",12),I.Xb(69,"div",25),I.Xb(70,"div",26),I.Lc(71,"Final port of discharge:"),I.Wb(),I.Xb(72,"div",27),I.Lc(73),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(74,"div",24),I.Xb(75,"div",32),I.Xb(76,"div",25),I.Xb(77,"div",33),I.Lc(78,"Transit port:"),I.Wb(),I.Xb(79,"div",34),I.Lc(80),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(81,"div",24),I.Xb(82,"div",12),I.Xb(83,"div",25),I.Xb(84,"div",26),I.Lc(85,"Vessel/Voy:"),I.Wb(),I.Xb(86,"div",27),I.Lc(87),I.Wb(),I.Wb(),I.Wb(),I.Xb(88,"div",35),I.Jc(89,hn,6,3,"div",36),I.Jc(90,fn,7,2,"div",36),I.Wb(),I.Wb(),I.Xb(91,"div",24),I.Xb(92,"div",32),I.Xb(93,"div",25),I.Xb(94,"div",33),I.Lc(95,"Load Terminal:"),I.Wb(),I.Xb(96,"div",34),I.Lc(97),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(98,"div",24),I.Xb(99,"div",32),I.Xb(100,"div",25),I.Xb(101,"div",33),I.Lc(102,"Place of Stuffing:"),I.Wb(),I.Xb(103,"div",34),I.Jc(104,gn,2,0,"span",37),I.Jc(105,vn,1,1,"ng-template",null,38,I.Kc),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(107,"div",24),I.Xb(108,"div",39),I.Jc(109,Xn,6,3,"div",36),I.Jc(110,kn,7,2,"div",36),I.Wb(),I.Wb(),I.Xb(111,"div",24),I.Xb(112,"div",32),I.Xb(113,"div",25),I.Xb(114,"div",33),I.Lc(115,"Laden Drop-off:"),I.Wb(),I.Xb(116,"div",34),I.Lc(117),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(118,"div",24),I.Xb(119,"div",32),I.Xb(120,"div",25),I.Xb(121,"div",33),I.Lc(122,"Note:"),I.Wb(),I.Xb(123,"div",34),I.Lc(124),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(125,"div",24),I.Xb(126,"div",40),I.Lc(127),I.Wb(),I.Wb(),I.Wb(),I.Xb(128,"div",41),I.Xb(129,"div",42),I.Lc(130,"PACIFIC LOGISTICS NETWORK JSC"),I.Wb(),I.Xb(131,"div",43),I.Xb(132,"div",11),I.Xb(133,"div"),I.Xb(134,"span",44),I.Lc(135,"ADDRESS HA NOI: "),I.Wb(),I.Lc(136,"ROOM 512, VET BUILDING, 98 HOANG QUOC VIET, CAU GIAY, HN, VN"),I.Wb(),I.Wb(),I.Xb(137,"div",11),I.Xb(138,"div",45),I.Lc(139,"TEL: (84) 24 3 791 3067 (103)"),I.Wb(),I.Xb(140,"div",46),I.Lc(141,"FAX: (84) 24 3 7913069"),I.Wb(),I.Xb(142,"div",46),I.Lc(143,"EMAIL: Legend@pln.vn"),I.Wb(),I.Wb(),I.Xb(144,"div",11),I.Xb(145,"div"),I.Xb(146,"span",44),I.Lc(147,"ADDRESS HCM: "),I.Wb(),I.Lc(148,"ROOM 601, 31 HOANG DIEU ST, DIST 04, HCMC, VN"),I.Wb(),I.Wb(),I.Xb(149,"div",11),I.Xb(150,"div",45),I.Lc(151,"TEL: (84-028) 39435512"),I.Wb(),I.Xb(152,"div",46),I.Lc(153,"FAX: (84-028) 39435514"),I.Wb(),I.Wb(),I.Xb(154,"div",11),I.Xb(155,"div",45),I.Lc(156,"P.I.C: MR KHANH"),I.Wb(),I.Xb(157,"div",46),I.Lc(158,"MOB: 0908679201"),I.Wb(),I.Wb(),I.Xb(159,"div",11),I.Xb(160,"div",45),I.Lc(161,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0MS LIEN"),I.Wb(),I.Xb(162,"div",46),I.Lc(163,"MOB: 0983080378"),I.Wb(),I.Wb(),I.Wb(),I.Xb(164,"div",47),I.Lc(165," KH\xc1CH H\xc0NG L\u01afU \xdd: "),I.Wb(),I.Xb(166,"div",48),I.Xb(167,"span",44),I.Lc(168,"1. H\u01b0\u1edbng d\u1eabn duy\u1ec7t l\u1ec7nh c\u1ea5p container r\u1ed7ng v\xe0 h\u1ea1 container full t\u1ea1i c\u1ea3ng."),I.Wb(),I.Sb(169,"br"),I.Xb(170,"span"),I.Lc(171,"- Vui l\xf2ng duy\u1ec7t l\u1ec7nh tr\u01b0\u1edbc khi l\u1ea5y container theo h\u01b0\u1edbng d\u1eabn \u1edf ph\u1ea7n note tr\xean booking."),I.Wb(),I.Sb(172,"br"),I.Xb(173,"span"),I.Lc(174,"- Vui l\xf2ng s\u1eed d\u1ee5ng code h\xe3ng t\xe0u nh\u01b0 sau khi l\xe0m th\u1ee7 t\u1ee5c h\u1ea1 container full t\u1ea1i c\u1ea3ng. tr\u01b0\u1eddng h\u1ee3p kh\xe1ch h\xe0ng h\u1ea1 sai code h\xe3ng t\xe0u, h\xe3ng t\xe0u s\u1ebd kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m trong tr\u01b0\u1eddng h\u1ee3p container kh\xf4ng \u0111\u01b0\u1ee3c load l\xean t\xe0u."),I.Wb(),I.Sb(175,"br"),I.Xb(176,"span",44),I.Lc(177,'\xa0\xa0\xa0\xa0+ C\u1ea3ng C\xe1t L\xe1i : Code "LEG" ( DNL - Legend Shipping (Thailand) Co., Ltd - LEG - Legend Shipping (Thailand) Co., Ltd)'),I.Wb(),I.Sb(178,"br"),I.Xb(179,"span",44),I.Lc(180,'\xa0\xa0\xa0\xa0+ C\u1ea3ng Sp-itc / Ph\u01b0\u1edbc Long 3 : Code " SEL" ( DNL-SE lines-SE-SE lines )'),I.Wb(),I.Sb(181,"br"),I.Xb(182,"span"),I.Lc(183,"- S\u1eed d\u1ee5ng \u0111\xfang s\u1ed1 Booking (Booking No.) khi l\u1ea5y r\u1ed7ng \u0111\u1ec3 h\u1ea1 container full t\u1ea1i c\u1ea3ng. vui l\xf2ng kh\xf4ng h\u1ea1 ch\xe9o booking \u0111\u1ec3 tr\xe1nh ph\xe1t sinh ph\xed \u0111i\u1ec1u ch\u1ec9nh EDI."),I.Wb(),I.Sb(184,"br"),I.Xb(185,"span",44),I.Lc(186,"2. Khai b\xe1o SI + VGM : "),I.Wb(),I.Sb(187,"br"),I.Xb(188,"span"),I.Lc(189,"- G\u1eedi SI + VGM \u0111\u1ebfn email : dochcm@sel.vn; com@sel.vn tr\u01b0\u1edbc th\u1eddi h\u1ea1n quy \u0111\u1ecbnh. "),I.Wb(),I.Sb(190,"br"),I.Xb(191,"span"),I.Lc(192,"- Kh\xf4ng c\xf3 VGM - Container kh\xf4ng \u0111\u01b0\u1ee3c x\u1ebfp l\xean t\xe0u."),I.Wb(),I.Sb(193,"br"),I.Xb(194,"span"),I.Lc(195,"- Ch\u1ecbu tr\xe1ch nhi\u1ec7m khai b\xe1o \u0111\xfang s\u1ed1 li\u1ec7u SI + VGM v\xe0 ch\u1ecbu to\xe0n b\u1ed9 c\xe1c chi ph\xed ph\xe1t sinh do khai b\xe1o sai, ch\u1eadm so v\u1edbi th\u1eddi gian quy \u0111\u1ecbnh."),I.Wb(),I.Sb(196,"br"),I.Xb(197,"span",44),I.Lc(198,"3. Ho\xe0n tr\u1ea3 Container \u0111\xfang \u0111\u1ecba \u0111i\u1ec3m \u0111\xe3 quy \u0111\u1ecbnh trong v\xf2ng 03 ng\xe0y t\u1eeb khi nh\u1eadn Container & kh\xf4ng qu\xe1 05 ng\xe0y tr\u01b0\u1edbc khi t\xe0u ch\u1ea1y. "),I.Wb(),I.Sb(199,"br"),I.Xb(200,"span"),I.Lc(201,"N\u1ebfu qu\xe1 h\u1ea1n kh\xe1ch h\xe0ng s\u1ebd thanh to\xe1n ph\xed l\u01b0u gi\u1eef container ph\xe1t sinh"),I.Wb(),I.Sb(202,"br"),I.Xb(203,"span",44),I.Lc(204,"4. \u0110\xf3ng \u0111\xfang tr\u1ecdng t\u1ea3i cho ph\xe9p 22 t\u1ea5n / 20'DC v\xe0 26 t\u1ea5n / 40'"),I.Wb(),I.Sb(205,"br"),I.Xb(206,"span",44),I.Lc(207,"5. Ch\u1ecbu tr\xe1ch nhi\u1ec7m trong vi\u1ec7c ch\u1ecdn v\u1ecf container t\u1ed1t, \u0111\u1ee7 \u0111i\u1ec1u ki\u1ec7n \u0111\xf3ng h\xe0ng, c\xf3 kh\u1ea3 n\u0103ng \u0111i bi\u1ec3n v\xe0 ph\u1ea3i x\xf3a h\u1ebft tem nguy hi\u1ec3m tr\xean v\u1ecf container n\u1ebfu c\xf3 tr\u01b0\u1edbc khi \u0111\xf3ng h\xe0ng kh\xf4ng nguy hi\u1ec3m v\xe0o container. Tr\u01b0\u1eddng h\u1ee3p container kh\xf4ng \u0111\u1ea1t ti\xeau chu\u1ea9n tr\xean, kh\xe1ch h\xe0ng s\u1ebd y\xeau c\u1ea7u h\xe3ng t\xe0u c\u1ea5p container kh\xe1c."),I.Wb(),I.Sb(208,"br"),I.Xb(209,"span",44),I.Lc(210,"6. N\u1ebfu Container b\u1ecb th\u1ea5t l\u1ea1c, h\u01b0 h\u1ecfng, kh\xe1ch h\xe0ng s\u1ebd b\u1ed3i th\u01b0\u1eddng theo \u0111\xfang qui \u0111\u1ecbnh c\u1ee7a C\xf4ng ty"),I.Wb(),I.Sb(211,"br"),I.Xb(212,"span",44),I.Lc(213,"7. Ph\xed n\xe2ng h\u1ea1, \u0111\xf3ng h\xe0ng thanh to\xe1n tr\u1ef1c ti\u1ebfp t\u1ea1i b\xe3i. Qu\xfd kh\xe1ch ki\u1ec3m tra s\u1ed1 seal th\u1ef1c t\u1ebf v\xe0 s\u1ed1 cont ch\xednh x\xe1c."),I.Wb(),I.Sb(214,"br"),I.Xb(215,"span",44),I.Lc(216,"8. H\xe0ng c\u1ea5m nh\u1eadn: H\xe0ng r\xe1c th\u1ea3i; H\xe0ng second hand; \u0110\xe1 t\u1ea3ng; Th\xe9p cu\u1ed9n (>3 t\u1ea5n/1 cu\u1ed9n); H\xe0ng b\u1ed9t v\xf4i, Than."),I.Wb(),I.Sb(217,"br"),I.Xb(218,"span",44),I.Lc(219,"9. H\xe0ng \u0111\u01b0\u1ee3c nh\u1eadn sau khi ki\u1ec3m tra & kh\xe1ch h\xe0ng g\u1eedi email ch\u1ecbu tr\xe1ch nhi\u1ec7m v\u1ec1 t\xecnh tr\u1ea1ng container n\u1ebfu container b\u1ecb h\u01b0 h\u1ea1i"),I.Wb(),I.Sb(220,"br"),I.Xb(221,"span"),I.Lc(222,"H\xe0ng m\xe1y m\xf3c \u0111\xe3 qua s\u1eed d\u1ee5ng; Flexible tank; H\xe0ng h\xf3a ch\u1ea5t, h\xe0ng nguy hi\u1ec3m; H\xe0ng c\xf3 ch\u1ee9a n\u1ed3ng \u0111\u1ed9 axit, mu\u1ed1i cao (eg: da tr\xe2u b\xf2 mu\u1ed1i); H\xe0ng \u0111\xf3ng pallet n\u1eb7ng h\u01a1n 2 t\u1ea5n/1 pallet; H\xe0ng th\xe9p t\u1ea5m, th\xe9p thanh; H\xe0ng c\xf3 gi\xe1 tr\u1ecb th\u1ea5p: m\xf9n c\u01b0a, v\u1ecf tr\u1ea5u; L\u1ed1p xe; H\xe0ng m\xe1y m\xf3c m\u1edbi c\xf3 tr\u1ecdng l\u01b0\u1ee3ng tr\xean 1MT."),I.Wb(),I.Sb(223,"br"),I.Xb(224,"span",44),I.Lc(225,"10. Ch\u1ecbu tr\xe1ch nhi\u1ec7m ho\xe0n th\xe0nh th\u1ee7 t\u1ee5c h\u1ea3i quan v\xe0 v\u1eadn chuy\u1ec3n container t\u1eeb c\xe1c ICD v\u1ec1 Terminal xu\u1ea5t t\xe0u."),I.Wb(),I.Sb(226,"br"),I.Xb(227,"span",44),I.Lc(228,"11. Khai b\xe1o ch\xednh x\xe1c t\xean h\xe0ng h\xf3a \u0111\xf3ng trong container khi l\u1ea5y booking h\xe3ng t\xe0u / khi x\u1ebfp t\xe0u. Kh\xe1ch h\xe0ng s\u1ebd ch\u1ecbu m\u1ecdi s\u1ef1 chi ph\xed ph\xe1t sinh v\xe0 \u0111\xf3ng th\xeam m\u1ee9c ph\u1ea1t 100 USD / cont ( ch\u01b0a VAT ) trong tr\u01b0\u1eddng h\u1ee3p khai sai t\xean h\xe0ng \u0111\xf3ng trong container"),I.Wb(),I.Sb(229,"br"),I.Xb(230,"span",44),I.Lc(231,"12. \u0110\u1ed1i v\u1edbi h\xe0ng nguy hi\u1ec3m:"),I.Wb(),I.Sb(232,"br"),I.Xb(233,"span"),I.Lc(234,"- Tr\u01b0\u1edbc khi container h\xe0ng h\u1ea1 c\u1ea3ng xu\u1ea5t t\xe0u, kh\xe1ch h\xe0ng ph\u1ea3i d\xe1n tem h\xe0ng nguy hi\u1ec3m ( m\u1eabu tem c\xf3 trong MSDS c\u1ee7a m\u1eb7t h\xe0ng \u0111\xf3 ) l\xean 4 m\u1eb7t cont theo quy \u0111\u1ecbnh c\u1ee7a IMDG. Tem h\xe0ng nguy hi\u1ec3m ph\u1ea3i \u0111\u01b0\u1ee3c in l\xean gi\u1ea5y decal, 1 m\u1eb7t d\xednh, 1 m\u1eb7t ph\u1ee7 ni l\xf4ng \u0111\u1ec3 tr\xe1nh n\u01b0\u1edbc trong qu\xe1 tr\xecnh v\u1eadn chuy\u1ec3n."),I.Wb(),I.Sb(235,"br"),I.Xb(236,"span"),I.Lc(237,"- N\u1ed9p b\u1ea3n khai h\xe0ng h\xf3a nguy hi\u1ec3m ( DG form ) c\xf9ng SI + VGM."),I.Wb(),I.Sb(238,"br"),I.Xb(239,"span"),I.Lc(240,"- Khai b\xe1o h\xe0ng nguy hi\u1ec3m v\u1edbi c\u1ea3ng xu\u1ea5t t\xe0u."),I.Wb(),I.Sb(241,"br"),I.Xb(242,"div",49),I.Xb(243,"div",50),I.Lc(244,"................................................................................................................................"),I.Wb(),I.Xb(245,"div",12),I.Xb(246,"span"),I.Lc(247,"PACIFIC LOGISTICS NETWORK JSC (C/o DONG NAM Logistics Co.,Ltd)"),I.Wb(),I.Sb(248,"br"),I.Xb(249,"span"),I.Lc(250,"(General Agent for LG CONTAINER LINES)"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(251,"div",47),I.Lc(252," QUY TR\xccNH C\u1ea4P L\u1ec6NH C\u1ea4P V\u1ece QUA MAIL: "),I.Wb(),I.Xb(253,"div",51),I.Xb(254,"span",44),I.Lc(255,"B\u01b0\u1edbc 1: "),I.Wb(),I.Xb(256,"span"),I.Lc(257,"Sau khi nh\u1eadn \u0111\u01b0\u1ee3c Booking, Kh\xe1ch h\xe0ng reply email n\xe0y (Legend@pln.vn), b\u1ed5 sung T\xean \u0110\u1ed9i xe s\u1ebd duy\u1ec7t l\u1ec7nh/l\u1ea5y v\u1ecf, \u0111\u1ed3ng th\u1eddi"),I.Wb(),I.Sb(258,"br"),I.Xb(259,"span",44),I.Lc(260,"B\u01b0\u1edbc 2: "),I.Wb(),I.Xb(261,"span"),I.Lc(262,"Ng\xe0y \u0111\u1ed5i l\u1ec7nh, \u0111\u1ed9i xe reply email, cung c\u1ea5p Th\xf4ng tin t\xe0i x\u1ebf, s\u1ed1 xe, ng\xe0y d\u1ef1 ki\u1ebfn l\u1ea5y cont."),I.Wb(),I.Sb(263,"br"),I.Xb(264,"span",44),I.Lc(265,"B\u01b0\u1edbc 3: "),I.Wb(),I.Xb(266,"span"),I.Lc(267,"Sau khi nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng tin \u0111\u1ea7y \u0111\u1ee7, H\xe3ng t\xe0u s\u1ebd g\u1eedi l\u1ea1i anh/ch\u1ecb c\xf9ng \u0110\u1ed9i xe L\u1ec7nh c\u1ea5p v\u1ecf qua email. Khi \u0111i l\u1ea5y v\u1ecf \u0110\u1ed9i xe c\u1ea7n mang theo: L\u1ec7nh c\u1ea5p v\u1ecf photo, Gi\u1ea5y gi\u1edbi thi\u1ec7u, CMT/B\u1eb1ng l\xe1i xe c\u1ee7a t\xe0i x\u1ebf."),I.Wb(),I.Sb(268,"br"),I.Xb(269,"span"),I.Lc(270,"(L\u01b0u \xfd: L\u1ec7nh c\u1ea5p v\u1ecf c\xf3 gi\xe1 tr\u1ecb l\u1ea5y v\u1ecf trong v\xf2ng 03 ng\xe0y k\u1ec3 t\u1eeb ng\xe0y c\u1ea5p)"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()}if(2&t){const t=I.xc(26),e=I.xc(106),n=I.jc();I.Db(7),I.pc("ngIf",n.content.code_company&&""!=n.content.code_company),I.Db(8),I.Mc(n.content.book_number),I.Db(5),I.Nc("Date: ",I.mc(21,30,n.today,"dd/MM/yyyy")," "),I.Db(2),I.pc("ngClass",I.rc(33,mn,!n.isprint)),I.Db(1),I.pc("matDatepicker",t)("ngModel",n.today),I.Db(1),I.pc("for",t),I.Db(10),I.Mc(n.content.shipper.short_name),I.Db(9),I.pc("ngForOf",n.volume),I.Db(6),I.Mc(n.content.empty_pick_up_depot?n.content.empty_pick_up_depot.short_name:""),I.Db(2),I.pc("ngIf",n.content.clcv),I.Db(2),I.Mc(n.content.clcv),I.Db(7),I.Mc(n.content.commodity),I.Db(7),I.Mc(n.shipment.pol_name),I.Db(6),I.Mc(n.shipment.pod_name),I.Db(7),I.Mc(null==n.shipment.pot?null:n.shipment.pot.name),I.Db(7),I.Oc("",n.content.voyage.vessel," ",n.content.voyage.voyage,""),I.Db(1),I.pc("ngSwitch",n.editEtd),I.Db(1),I.pc("ngSwitchCase",!0),I.Db(1),I.pc("ngSwitchCase",!1),I.Db(7),I.Mc(n.content.voyage.load_terminal),I.Db(7),I.pc("ngIf",!n.content.place_of_stuffing)("ngIfElse",e),I.Db(4),I.pc("ngSwitch",n.editClosingtime),I.Db(1),I.pc("ngSwitchCase",!0),I.Db(1),I.pc("ngSwitchCase",!1),I.Db(7),I.Mc(n.content.laden_drop_off),I.Db(7),I.Mc(n.content.note),I.Db(3),I.Mc(n.content.contact_note)}}let wn=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.authService=e,this.route=n,this.datePipe=i,this.commonService=o,this.check=!0,this.isprint=!0,this.today=new Date,this.volume=[],this.editEtd=!0,this.editClosingtime=!0,this._unsubscribeAll=new R.a}ngOnInit(){console.log(this.content)}ngOnChanges(t){t.content&&(t.content.currentValue||null==t.content.currentValue)&&(this.content=t.content.currentValue)}print(t){this.isprint=!1,this.editEtd=!0,this.editClosingtime=!0,setTimeout(()=>{window.print(),this.isprint=!0},100)}calculateTotal(t){let e=0;return this.content.volume.map(n=>{n.cont_type.code==t&&(e+=n.quantity)}),e}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(T.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["bookconfirm-form"]],inputs:{shipment:"shipment",content:"content",closing_time:"closing_time",etd:"etd",height:"height",permission:"permission"},features:[I.Bb()],decls:5,vars:6,consts:[["fxLayout","column","id","print-content",2,"overflow","auto"],["mat-icon-button","","color","accent","id","print-button",2,"position","absolute","right","50px","top","70px",3,"ngClass","click"],["class","invoice-container","fxLayout","row","fxLayoutAlign","start",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start",1,"invoice-container"],[1,"card"],["invoice",""],[1,"header-card"],["fxLayout","row","fxLayoutAlign","space-between stretch"],["fxLayout","row","fxLayoutAlign","start center",1,"issuer","w-25-p"],["src","assets/images/logos/PAFullLogos.jpg",1,"logo"],["class","client w-75-p","fxLayout","row","fxLayoutAlign","end center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start"],["fxFlex","50"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 1 auto"],["fxFlex","40",1,"font-size-12","text-bold"],["fxFlex","60",1,"font-size-14","text-bold"],["fxFlex","50","fxLayout","column",1,"header-label"],[1,"title","text-right"],[1,"info","text-right"],["id","print-input-month",3,"ngClass"],["inputCheck","","matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["monthPicker",""],[1,"content","line-height-20"],["fxLayout","row wrap","fxLayoutAlign","start"],["fxLayout","row","fxLayoutAlign","start","fxFlex","1 1 auto"],["fxFlex","40",1,"text-italic"],["fxFlex","60",1,"text-bold"],[1,"table-volume"],[4,"ngFor","ngForOf"],["fxFlex","50","fxLayout","column"],["fxFlex","40","class","text-bold",4,"ngIf"],["fxFlex","100"],["fxFlex","20",1,"text-italic"],["fxFlex","80",1,"text-bold"],["fxFlex","50",3,"ngSwitch"],["fxLayout","row","fxLayoutAlign","start","fxFlex","1 1 auto",4,"ngSwitchCase"],["class","light-blue cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["placeStuffing",""],["fxFlex","100",3,"ngSwitch"],["fxFlex","100",1,"text-bold","blue-700-fg"],[1,"footer","pt-4"],[1,"font-size-10","text-bold"],[1,"font-size-10","line-height-20"],[1,"text-bold"],["fxFlex","40"],["fxFlex","30"],[1,"font-size-8","text-bold","pb-4","pt-8"],[1,"font-size-8","text-italic","line-height-12"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","50",1,"text-truncate"],[1,"font-size-8","line-height-12"],["fxLayout","row","fxLayoutAlign","end center",1,"client","w-75-p"],[2,"border","2px solid black","padding","12px 36px","font-size","18px","font-weight","bold","text-align","center"],[1,"w-80","text-center","font-weight-600"],[1,"w-80","text-center"],["fxFlex","40",1,"text-bold"],["fxFlex","50","class","text-bold",4,"ngIf"],["fxFlex","10","id","editEtd","class","cursor-pointer",3,"ngClass","click",4,"ngIf"],["fxFlex","50",1,"text-bold"],["fxFlex","10","id","editEtd",1,"cursor-pointer",3,"ngClass","click"],["color","accent"],["inputCheck","","matInput","","type","text",3,"ngModel","ngModelChange"],[1,"light-blue","cursor-pointer",3,"click"],["fxFlex","20",1,"text-bold","text-italic","red-500-fg"],["fxFlex","70","class","text-bold red-500-fg",4,"ngIf"],["fxFlex","70","class","text-bold",4,"ngIf"],["fxFlex","10","id","editClosingtime","class","cursor-pointer",3,"ngClass","click",4,"ngIf"],["fxFlex","70",1,"text-bold","red-500-fg"],["fxFlex","70",1,"text-bold"],["fxFlex","10","id","editClosingtime",1,"cursor-pointer",3,"ngClass","click"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"button",1),I.fc("click",(function(t){return e.print([e.content.book_number]),e.editEtd=!0,e.editClosingtime=!0})),I.Xb(2,"mat-icon"),I.Lc(3,"print"),I.Wb(),I.Wb(),I.Jc(4,Ln,271,35,"div",2),I.Wb()),2&t&&(I.Ic("height",e.height,"px"),I.Db(1),I.pc("ngClass",I.rc(4,mn,!e.isprint)),I.Db(3),I.pc("ngIf",e.content))},directives:[E.d,s.b,M.q,At.a,p.a,M.t,E.c,E.b,l.c,d.b,c.b,q.b,q.p,q.s,c.d,l.h,c.a,M.s,M.x,M.y],pipes:[M.f],styles:["bookconfirm-form{font-family:arial}bookconfirm-form #print-content .invoice-container{padding:0}bookconfirm-form #print-content .invoice-container .card{width:800px;min-width:800px;max-width:800px;padding:32px;overflow:hidden;background:#fff}bookconfirm-form #print-content .invoice-container .card .header-card .client .invoice-number{font-size:8px;padding-bottom:4px}bookconfirm-form #print-content .invoice-container .card .header-card .client .invoice-number .title{color:rgba(0,0,0,.54)}bookconfirm-form #print-content .invoice-container .card .header-card .client .invoice-number .number{color:rgba(0,0,0,.87);padding-left:6px}bookconfirm-form #print-content .invoice-container .card .header-card .client .info{font-size:7px;color:rgba(0,0,0,.54);line-height:10px}bookconfirm-form #print-content .invoice-container .card .header-card .issuer .logo{padding:0}bookconfirm-form #print-content .invoice-container .card .header-card .header-label .title{font-size:22px;font-weight:700}bookconfirm-form #print-content .invoice-container .card .header-card .header-label .info{font-size:16px}bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-wrapper{padding:0}bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex{-webkit-box-align:center;align-items:center}bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-prefix .mat-datepicker-toggle-default-icon,bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px;color:#039be5}bookconfirm-form #print-content .invoice-container .card .header-card .header-label #print-input-month .mat-form-field-underline{background:#fff}bookconfirm-form #print-content .invoice-container .card .content{font-size:11px}bookconfirm-form #print-content .invoice-container .card .content .height19{height:19px}bookconfirm-form #print-content .invoice-container .card .content .table-volume{border-collapse:collapse}bookconfirm-form #print-content .invoice-container .card .content .table-volume td{border:1px solid #000}bookconfirm-form #print-content .invoice-container .card .content #editClosingtime,bookconfirm-form #print-content .invoice-container .card .content #editEtd,bookconfirm-form #print-content .invoice-container .card .content #editTerminal{height:26px}@media print{bookconfirm-form #print-content{height:auto!important;background:#fff}bookconfirm-form #print-content .invoice-container{padding-left:20pt;padding-right:10pt}bookconfirm-form #print-content .invoice-container .card{width:100%;min-width:0;background:none;padding:0;box-shadow:none}bookconfirm-form #print-content .invoice-container .card .header-card .issuer{padding-right:0;margin-right:0}bookconfirm-form #edit-button,bookconfirm-form #editClosingtime,bookconfirm-form #editEtd,bookconfirm-form #editTerminal,bookconfirm-form #mail-button,bookconfirm-form #print-button,bookconfirm-form #print-input-month{display:none}}"],encapsulation:2,data:{animation:O.a}}),t})();function Dn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"bookconfirm-sidebar",8),I.fc("editDocument",(function(e){return I.Bc(t),I.jc(2).editDocument(e)}))("sidebarPage",(function(e){return I.Bc(t),I.jc(2).getTypeSidebar(e)})),I.Wb()}if(2&t){const t=I.jc(2);I.pc("data",t.content)("partner",t.partner)("codeCompany",t.codeCompany)("permission",t.permission)("height",t.height)}}function Cn(t,e){if(1&t&&(I.Xb(0,"fuse-sidebar",6),I.Xb(1,"div",4),I.Jc(2,Dn,1,5,"bookconfirm-sidebar",7),I.Wb(),I.Wb()),2&t){const t=I.jc();I.Db(2),I.pc("ngIf",t.shipment)}}function _n(t,e){if(1&t&&I.Sb(0,"bookconfirm-form",9),2&t){const t=I.jc();I.pc("shipment",t.shipment)("content",t.content)("closing_time",t.closing_time)("etd",t.etd)("permission",t.permission)("height",t.height)}}let In=(()=>{class t{constructor(t,e,n,i,o,a,r){this._fuseSidebarService=t,this.shipmentService=e,this.router=n,this.authService=i,this.route=o,this.datePipe=a,this._matDialog=r,this.sidebarPanel=!0,this.type="view",this.module="pacific-logistics-network",this.height=560,this._unsubscribeAll=new R.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.module=this.shipmentService.module,this.type=this.shipmentService.type,this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-20}),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-20:this.authService.screenHeight-64-64-20}),this.shipmentService.onDataChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.partner=this.shipmentService.partner,this.seaport=this.shipmentService.seaport,this.codeCompany=this.shipmentService.codeCompany}),this.shipmentService.onPlnShipmentDetailsChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{t.length>0&&(this.shipment=t[0][0],this.shipment&&(this.id=this.shipment.id,this.revenue=t[1],this.cost=t[2],this.plnDocument=t[3],this.plnRoute=t[4],this.shipment.revenueData=t[1],this.shipment.costData=t[2],this.plnDocument.length>0&&(this.content=JSON.parse(this.plnDocument[0].content),this.documentId=this.plnDocument[0].id,this.closing_time=this.datePipe.transform(this.plnRoute[0].closing_time,"HH:mm a MMM dd, yyyy"),this.etd=this.datePipe.transform(this.plnRoute[0].depart_time,"MMM dd, yyyy"))))})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}refreshPage(t){this.authService.refreshData(this.shipmentService)}getTypeSidebar(t){this.type=this.shipmentService.type=t}editDocument(t){let e=JSON.parse(JSON.stringify(this.content));for(var n in t)e[n]=t[n];console.log(this.content),this.authService.onRequestChanged.next(!0),this.shipmentService.updatePlnDocument({id:this.documentId,content:JSON.stringify(e)}).then(t=>{this.authService.onRequestChanged.next(!1),this.getShipment(),alert("Update success")}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Update error")})}getShipment(){this.authService.onRequestChanged.next(!0),this.shipmentService.getPlnShipmentById(this.id).then(t=>{this.authService.onRequestChanged.next(!1)}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error: Server error")})}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(_t.a),I.Rb(Pt),I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(g.b))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-bookconfirm"]],decls:6,vars:5,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","bookconfirm-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"module","shipment","sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content"],[3,"shipment","content","closing_time","etd","permission","height",4,"ngIf"],["name","bookconfirm-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"data","partner","codeCompany","permission","height","editDocument","sidebarPage",4,"ngIf"],[3,"data","partner","codeCompany","permission","height","editDocument","sidebarPage"],[3,"shipment","content","closing_time","etd","permission","height"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Jc(1,Cn,3,1,"fuse-sidebar",1),I.Xb(2,"div",2),I.Xb(3,"shipment-details-header",3),I.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),I.Wb(),I.Xb(4,"div",4),I.Jc(5,_n,1,6,"bookconfirm-form",5),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(1),I.pc("ngIf",e.sidebarPanel),I.Db(2),I.pc("module",e.module)("shipment",e.shipment)("sidebarName","bookconfirm-sidebar"),I.Db(2),I.pc("ngIf",e.shipment))},directives:[Ft.a,M.t,J.a,Nt,Bt.a,rn,wn],styles:["shipment-details-bookconfirm{width:100%}shipment-details-bookconfirm .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){shipment-details-bookconfirm .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}shipment-details-bookconfirm .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-details-bookconfirm .center .content-card shipment-details-bookconfirm{border-right:0}shipment-details-bookconfirm .center .content-card shipment-details,shipment-details-bookconfirm .center .content-card shipment-details-bookconfirm{-webkit-box-flex:1;flex:1 0 100%}shipment-details-bookconfirm .center .content-card shipment-details{display:none!important}shipment-details-bookconfirm .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-details-bookconfirm .center .content-card.current-shipment-selected .content shipment-details-bookconfirm,shipment-details-bookconfirm .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-details-bookconfirm .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:O.a}}),t})();const Mn=["formDirective"];function Pn(t,e){if(1&t&&(I.Xb(0,"mat-option",34),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t),I.Db(1),I.Mc(t)}}function Fn(t,e){if(1&t&&(I.Xb(0,"mat-option",34),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t),I.Db(1),I.Nc(" ",t.full_name," ")}}function Rn(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Partner is required!"),I.Wb())}function An(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Truck name is required!"),I.Wb())}function On(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Truck number is required!"),I.Wb())}function qn(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Valid is required "),I.Wb())}function Nn(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Time is required "),I.Wb())}function jn(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1," Place of stuffing is required "),I.Wb())}function Tn(t,e){if(1&t&&(I.Xb(0,"mat-option",34),I.Lc(1),I.Wb()),2&t){const t=e.$implicit;I.pc("value",t.name),I.Db(1),I.Nc(" ",t.name," ")}}function En(t,e){1&t&&(I.Xb(0,"mat-error"),I.Lc(1,"Return laden cont"),I.Wb())}let Jn=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.authService=e,this.commonService=n,this.sidebarPage=new I.o,this.editDocument=new I.o,this.form=this.formBuilder.group({code_company:[""],empty_pick_up_depot:[null,q.y.required],lcv_note:[null],truck_name:[null,q.y.required],truck_number:[null,q.y.required],valid:[null,q.y.required],valid_time:["00:00",q.y.required],place_of_stuffing:[null,q.y.required],return_laden_cont:[null,q.y.required]}),this.maxDate=new Date}ngOnInit(){if(!this.data.truck_vol){let t=[];this.data.volume.map(e=>{t.push(e.quantity+" x"+e.cont_type.code)}),this.data.truck_vol=t.join(", ")}this.data.empty_pick_up_depot&&(this.data.empty_pick_up_depot=this.partner.find(t=>t.id==this.data.empty_pick_up_depot.id)),this.maxDate=new Date(this.data.voyage.etd),this.updateForm(this.data),this.filteredPartner=this.form.controls.empty_pick_up_depot.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredTerminal=this.form.controls.return_laden_cont.valueChanges.pipe(Object($t.a)(""),Object(Kt.a)(t=>t?"string"==typeof t?t:t.name:null),Object(Kt.a)(t=>t?this.commonService.filterData(t,"name",this.seaTerminal):[]))}ngOnChanges(t){t.data&&(t.data.currentValue||null==t.data.currentValue)&&(this.data=t.data.currentValue,this.updateForm(this.data))}setCheck(t){t.check=!t.check}resetForm(){this.searchNgForm.resetForm()}setDateStr(t){t.target.value=""==t.target.value?null:new Date(t.target.value)}onFormSubmit(t){if(t.valid){if("string"==typeof this.form.value.empty_pick_up_depot)return void this.form.controls.empty_pick_up_depot.setValue(null);t.valid&&this.editDocument.emit(t.value)}}updateForm(t){this.form.patchValue(t)}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(q.d),I.Rb(j.a),I.Rb(T.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["lcv-sidebar"]],viewQuery:function(t,e){var n;1&t&&I.Sc(Mn,!0),2&t&&I.wc(n=I.gc())&&(e.searchNgForm=n.first)},inputs:{data:"data",partner:"partner",seaTerminal:"seaTerminal",codeCompany:"codeCompany",height:"height",permission:"permission"},outputs:{sidebarPage:"sidebarPage",editDocument:"editDocument"},features:[I.Bb()],decls:85,vars:25,consts:[[1,"sidebar-content"],["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8","button-accent-color",3,"disabled"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","type","text","matInput","","formControlName","code_company",3,"matAutocomplete"],["autoCode","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","type","text","matInput","","formControlName","empty_pick_up_depot","required","",3,"matAutocomplete"],[3,"displayWith"],["autoPartner","matAutocomplete"],[4,"ngIf"],["inputCheck","","matInput","","formControlName","lcv_note"],["inputCheck","","matInput","","formControlName","truck_name","required",""],["inputCheck","","matInput","","formControlName","truck_number","required",""],["inputCheck","","matInput","","name","date","formControlName","valid","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["validPicker",""],["inputCheck","","matInput","","formControlName","valid_time","type","time","required",""],["inputCheck","","type","text","matInput","","formControlName","place_of_stuffing","required","",3,"matAutocomplete"],["autoStuffing","matAutocomplete"],["value","PORT"],["value","WAREHOUSE"],["value","CFS"],["inputCheck","","type","text","matInput","","formControlName","return_laden_cont","required","",3,"matAutocomplete"],["autoTerminal","matAutocomplete"],[3,"value"]],template:function(t,e){if(1&t&&(I.Xb(0,"div",0),I.Xb(1,"form",1,2),I.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onFormSubmit(e.form)})),I.Xb(3,"div",3),I.Xb(4,"div",4),I.Xb(5,"button",5),I.Lc(6," Update "),I.Wb(),I.Wb(),I.Wb(),I.Xb(7,"div",6),I.Xb(8,"div",7),I.Xb(9,"div",8),I.Xb(10,"div",9),I.Xb(11,"div",10),I.Xb(12,"mat-form-field",11),I.Xb(13,"mat-label"),I.Lc(14,"Code"),I.Wb(),I.Sb(15,"input",12),I.Xb(16,"mat-autocomplete",null,13),I.Jc(18,Pn,2,2,"mat-option",14),I.Wb(),I.Wb(),I.Wb(),I.Xb(19,"div",15),I.Xb(20,"mat-form-field",11),I.Xb(21,"mat-label"),I.Lc(22,"Empty pick up depot"),I.Wb(),I.Sb(23,"input",16),I.Xb(24,"mat-autocomplete",17,18),I.Jc(26,Fn,2,2,"mat-option",14),I.kc(27,"async"),I.Wb(),I.Jc(28,Rn,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(29,"div",15),I.Xb(30,"mat-form-field",11),I.Xb(31,"mat-label"),I.Lc(32,"Note"),I.Wb(),I.Sb(33,"input",20),I.Wb(),I.Wb(),I.Xb(34,"div",15),I.Xb(35,"mat-form-field",11),I.Xb(36,"mat-label"),I.Lc(37,"Truck name"),I.Wb(),I.Sb(38,"input",21),I.Jc(39,An,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(40,"div",15),I.Xb(41,"mat-form-field",11),I.Xb(42,"mat-label"),I.Lc(43,"Truck number"),I.Wb(),I.Sb(44,"input",22),I.Jc(45,On,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(46,"div",15),I.Xb(47,"mat-form-field",11),I.Xb(48,"mat-label"),I.Lc(49,"Valid"),I.Wb(),I.Xb(50,"input",23),I.fc("change",(function(t){return e.setDateStr(t)})),I.Wb(),I.Sb(51,"mat-datepicker-toggle",24),I.Sb(52,"mat-datepicker",null,25),I.Jc(54,qn,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(55,"div",15),I.Xb(56,"mat-form-field",11),I.Xb(57,"mat-label"),I.Lc(58,"Time"),I.Wb(),I.Sb(59,"input",26),I.Jc(60,Nn,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(61,"div",15),I.Xb(62,"mat-form-field",11),I.Xb(63,"mat-label"),I.Lc(64,"Place of stuffing"),I.Wb(),I.Sb(65,"input",27),I.Xb(66,"mat-autocomplete",null,28),I.Xb(68,"mat-option",29),I.Lc(69,"PORT"),I.Wb(),I.Xb(70,"mat-option",30),I.Lc(71,"WAREHOUSE"),I.Wb(),I.Xb(72,"mat-option",31),I.Lc(73,"CFS"),I.Wb(),I.Wb(),I.Jc(74,jn,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Xb(75,"div",15),I.Xb(76,"mat-form-field",11),I.Xb(77,"mat-label"),I.Lc(78,"Return laden cont"),I.Wb(),I.Sb(79,"input",32),I.Xb(80,"mat-autocomplete",null,33),I.Jc(82,Tn,2,2,"mat-option",14),I.kc(83,"async"),I.Wb(),I.Jc(84,En,2,0,"mat-error",19),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&t){const t=I.xc(17),n=I.xc(25),i=I.xc(53),o=I.xc(67),a=I.xc(81);I.Db(1),I.pc("formGroup",e.form),I.Db(4),I.pc("disabled",!e.permission.edit),I.Db(2),I.Ic("height",e.height,"px"),I.Db(8),I.pc("matAutocomplete",t),I.Db(3),I.pc("ngForOf",e.codeCompany),I.Db(5),I.pc("matAutocomplete",n),I.Db(1),I.pc("displayWith",e.commonService.displayObjFn.bind(e,"full_name")),I.Db(2),I.pc("ngForOf",I.lc(27,21,e.filteredPartner)),I.Db(2),I.pc("ngIf",e.form.get("empty_pick_up_depot").hasError("required")),I.Db(11),I.pc("ngIf",e.form.get("truck_name").hasError("required")),I.Db(6),I.pc("ngIf",e.form.get("truck_number").hasError("required")),I.Db(5),I.pc("matDatepicker",i),I.Db(1),I.pc("for",i),I.Db(3),I.pc("ngIf",e.form.get("valid").hasError("required")),I.Db(6),I.pc("ngIf",e.form.get("valid_time").hasError("required")),I.Db(5),I.pc("matAutocomplete",o),I.Db(9),I.pc("ngIf",e.form.get("place_of_stuffing").hasError("required")),I.Db(5),I.pc("matAutocomplete",a),I.Db(3),I.pc("ngForOf",I.lc(83,23,e.filteredTerminal)),I.Db(2),I.pc("ngIf",e.form.get("return_laden_cont").hasError("required"))}},directives:[q.A,q.q,q.h,E.d,E.c,s.b,E.b,J.a,l.c,l.f,d.b,q.b,r.c,q.p,q.g,r.a,M.s,q.w,M.t,c.b,c.d,l.h,c.a,L.n,l.b],pipes:[M.b],styles:["lcv-sidebar{border-right:1px solid #e6e6e6}lcv-sidebar .sidebar-content{border-right:1px solid #a3a3a3}lcv-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}lcv-sidebar .navbar-top .button-accent-color{border:1px solid #039be5;border-radius:8px;color:#696969}lcv-sidebar .navbar-top .button-warn-color{border:1px solid #f44336;border-radius:8px;color:#696969}lcv-sidebar .navbar-scroll-container{overflow:auto;background:#fff!important}lcv-sidebar .navbar-scroll-container .navbar-content{padding-top:0}lcv-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}lcv-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}lcv-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}lcv-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}lcv-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}lcv-sidebar navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){lcv-sidebar navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}lcv-sidebar navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}lcv-sidebar navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();function Hn(t,e){1&t&&(I.Xb(0,"div",65),I.Lc(1," Required information "),I.Sb(2,"br"),I.Sb(3,"br"),I.Wb())}function zn(t,e){if(1&t&&(I.Xb(0,"div",57),I.Xb(1,"span",66),I.Lc(2),I.Wb(),I.Sb(3,"br"),I.Xb(4,"span",67),I.Lc(5),I.Wb(),I.Sb(6,"br"),I.Xb(7,"span",67),I.Lc(8),I.Wb(),I.Wb()),2&t){const t=I.jc(2);I.Db(2),I.Mc(t.content.empty_pick_up_depot?t.content.empty_pick_up_depot.full_name:""),I.Db(3),I.Mc(t.content.empty_pick_up_depot?t.content.empty_pick_up_depot.office_address:""),I.Db(3),I.Nc("Tel: ",t.content.empty_pick_up_depot?t.content.empty_pick_up_depot.tel:"","")}}function Bn(t,e){1&t&&(I.Xb(0,"div",65),I.Lc(1," Required information "),I.Wb())}function Vn(t,e){if(1&t&&I.Lc(0),2&t){const t=I.jc(2);I.Mc(t.content.truck_name.toUpperCase())}}function Un(t,e){1&t&&(I.Xb(0,"div",65),I.Lc(1," Required information "),I.Wb())}function Gn(t,e){if(1&t&&I.Lc(0),2&t){const t=I.jc(2);I.Mc(t.content.truck_number.toUpperCase())}}function Yn(t,e){if(1&t&&(I.Xb(0,"tr"),I.Xb(1,"td",68),I.Lc(2),I.Wb(),I.Xb(3,"td",69),I.Lc(4),I.Wb(),I.Wb()),2&t){const t=e.$implicit,n=I.jc(2);I.Db(2),I.Mc(t),I.Db(2),I.Mc(n.calculateTotal(t))}}function $n(t,e){1&t&&(I.Xb(0,"div",65),I.Lc(1," Required information "),I.Wb())}function Kn(t,e){if(1&t&&I.Lc(0),2&t){const t=I.jc(2);I.Mc(t.content.place_of_stuffing)}}const Qn=function(t){return{hide:t}};function Zn(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",71),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editEtd=!n.editEtd})),I.Xb(1,"mat-icon",72),I.Lc(2,"edit"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,Qn,!t.isprint))}}function ti(t,e){if(1&t&&(I.Xb(0,"div",24),I.Xb(1,"div",57),I.Lc(2),I.Wb(),I.Jc(3,Zn,3,3,"span",70),I.Wb()),2&t){const t=I.jc(2);I.Db(2),I.Mc(t.etd),I.Db(1),I.pc("ngIf",t.editEtd)}}function ei(t,e){if(1&t){const t=I.Yb();I.Xb(0,"span",71),I.fc("click",(function(e){I.Bc(t);const n=I.jc(3);return n.editEtd=!n.editEtd})),I.Xb(1,"mat-icon",72),I.Lc(2,"save"),I.Wb(),I.Wb()}if(2&t){const t=I.jc(3);I.pc("ngClass",I.rc(1,Qn,!t.isprint))}}function ni(t,e){if(1&t){const t=I.Yb();I.Xb(0,"div",24),I.Xb(1,"mat-form-field"),I.Xb(2,"input",73),I.fc("ngModelChange",(function(e){return I.Bc(t),I.jc(2).etd=e})),I.Wb(),I.Wb(),I.Jc(3,ei,3,3,"span",70),I.Wb()}if(2&t){const t=I.jc(2);I.Db(2),I.pc("ngModel",t.etd),I.Db(1),I.pc("ngIf",!t.editEtd)}}function ii(t,e){1&t&&(I.Xb(0,"div",65),I.Lc(1," Required information "),I.Wb())}function oi(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"CHI\u1ec0U"),I.Wb())}function ai(t,e){1&t&&(I.Xb(0,"span"),I.Lc(1,"S\xc1NG"),I.Wb())}function ri(t,e){if(1&t&&(I.Lc(0),I.kc(1,"date"),I.Jc(2,oi,2,0,"span",74),I.Jc(3,ai,2,0,"span",74)),2&t){const t=I.jc(2);I.Oc("",I.mc(1,4,t.content.valid,"MMM dd, yyyy")," ",t.content.valid_time,"\xa0 "),I.Db(2),I.pc("ngIf",t.content.valid_time.substring(0,2)>=12),I.Db(1),I.pc("ngIf",t.content.valid_time.substring(0,2)<12)}}function ci(t,e){if(1&t){const t=I.Yb();I.Xb(0,"div",3),I.Xb(1,"div",4),I.Xb(2,"div",5),I.Xb(3,"div",6),I.Xb(4,"div",7),I.Sb(5,"img",8),I.Wb(),I.Wb(),I.Sb(6,"hr"),I.Xb(7,"div",9),I.Xb(8,"span",10),I.Lc(9,"L\u1ec6NH C\u1ea4P V\u1ece CONTAINER ( H\xc0NG XU\u1ea4T )"),I.Wb(),I.Wb(),I.Xb(10,"div",11),I.Xb(11,"div",12),I.Xb(12,"span",13),I.Lc(13),I.Wb(),I.Xb(14,"span",14),I.Lc(15),I.kc(16,"date"),I.Xb(17,"mat-form-field",15),I.Xb(18,"input",16),I.fc("ngModelChange",(function(e){return I.Bc(t),I.jc().today=e})),I.Wb(),I.Sb(19,"mat-datepicker-toggle",17),I.Sb(20,"mat-datepicker",null,18),I.Wb(),I.Wb(),I.Wb(),I.Xb(22,"div",19),I.Xb(23,"span",20),I.Lc(24),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(25,"div",21),I.Xb(26,"div",22),I.Xb(27,"div",23),I.Xb(28,"div",24),I.Xb(29,"div",25),I.Lc(30,"K\xcdNH G\u1eecI:"),I.Wb(),I.Xb(31,"div",26),I.Jc(32,Hn,4,0,"div",27),I.Jc(33,zn,9,3,"ng-template",null,28,I.Kc),I.Wb(),I.Wb(),I.Wb(),I.Xb(35,"div",29),I.Xb(36,"div",30),I.Xb(37,"div",31),I.Lc(38),I.Wb(),I.Wb(),I.Wb(),I.Xb(39,"div",32,33),I.Xb(41,"div",24),I.Xb(42,"div",34),I.Lc(43),I.Wb(),I.Wb(),I.Xb(44,"div",24),I.Sb(45,"div",35),I.Xb(46,"div",36),I.Xb(47,"div",37),I.Xb(48,"div",38),I.Lc(49,"KH\xc1CH H\xc0NG:"),I.Wb(),I.Xb(50,"div",39),I.Lc(51),I.Wb(),I.Wb(),I.Xb(52,"div",37),I.Xb(53,"div",38),I.Lc(54,"\u0110\u1ed8I XE:"),I.Wb(),I.Xb(55,"div",39),I.Jc(56,Bn,2,0,"div",27),I.Jc(57,Vn,1,1,"ng-template",null,40,I.Kc),I.Wb(),I.Wb(),I.Xb(59,"div",37),I.Xb(60,"div",38),I.Lc(61,"S\u1ed0 XE:"),I.Wb(),I.Xb(62,"div",39),I.Jc(63,Un,2,0,"div",27),I.Jc(64,Gn,1,1,"ng-template",null,41,I.Kc),I.Wb(),I.Wb(),I.Xb(66,"div",37),I.Xb(67,"div",38),I.Lc(68,"S\u1ed0 L\u01af\u1ee2NG:"),I.Wb(),I.Xb(69,"div",39),I.Xb(70,"table",42),I.Xb(71,"tbody"),I.Jc(72,Yn,5,2,"tr",43),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(73,"div",44),I.Xb(74,"div",45),I.Xb(75,"div",37),I.Xb(76,"div",46),I.Lc(77,"\u0110\u1ec3 l\xe0m h\xe0ng t\u1ea1i:"),I.Wb(),I.Xb(78,"div",47),I.Jc(79,$n,2,0,"div",27),I.Jc(80,Kn,1,1,"ng-template",null,48,I.Kc),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(82,"div",22),I.Xb(83,"div",45),I.Xb(84,"div",37),I.Xb(85,"div",46),I.Lc(86,"Xin tr\u1ea3 container c\xf3 h\xe0ng t\u1ea1i b\xe3i :"),I.Wb(),I.Xb(87,"div",49),I.Lc(88),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(89,"div",22),I.Xb(90,"div",45),I.Xb(91,"div",37),I.Xb(92,"div",46),I.Lc(93,"\u0110\u1ec3 x\u1ebfp t\u1ea7u:"),I.Wb(),I.Xb(94,"div",49),I.Lc(95),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(96,"div",22),I.Xb(97,"div",45),I.Xb(98,"div",37),I.Xb(99,"div",46),I.Lc(100,"K\u1ebf ho\u1ea1ch r\u1eddi c\u1ea3ng:"),I.Wb(),I.Sb(101,"div",49),I.Wb(),I.Wb(),I.Xb(102,"div",45),I.Xb(103,"div",37),I.Xb(104,"div",50),I.Lc(105,"Ng\xe0y:"),I.Wb(),I.Xb(106,"div",51),I.Jc(107,ti,4,2,"div",52),I.Jc(108,ni,4,2,"div",52),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(109,"div",22),I.Xb(110,"div",29),I.Xb(111,"div",37),I.Xb(112,"div",50),I.Lc(113,"C\u1ea3ng d\u1ee1 h\xe0ng (Port of discharge):"),I.Wb(),I.Xb(114,"div",53),I.Lc(115),I.Wb(),I.Wb(),I.Wb(),I.Xb(116,"div",29),I.Xb(117,"div",37),I.Xb(118,"div",50),I.Lc(119,"C\u1ea3ng \u0111\xedch ( Final port of discharge ) :"),I.Wb(),I.Xb(120,"div",53),I.Lc(121),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(122,"div",54),I.Xb(123,"div",22),I.Xb(124,"div",55),I.Lc(125,"KH\xc1CH H\xc0NG L\u01afU \xdd :"),I.Wb(),I.Xb(126,"div",56),I.Xb(127,"span"),I.Lc(128,"1. Ch\u1ecbu tr\xe1ch nhi\u1ec7m trong vi\u1ec7c ch\u1ecdn v\u1ecf container t\u1ed1t, \u0111\u1ee7 \u0111i\u1ec1u ki\u1ec7n \u0111\xf3ng h\xe0ng, c\xf3 kh\u1ea3 n\u0103ng \u0111i bi\u1ec3n. Tr\u01b0\u1eddng h\u1ee3p container kh\xf4ng \u0111\u1ea1t ti\xeau chu\u1ea9n tr\xean, kh\xe1ch h\xe0ng s\u1ebd y\xeau c\u1ea7u h\xe3ng t\xe0u c\u1ea5p container kh\xe1c."),I.Wb(),I.Sb(129,"br"),I.Xb(130,"span"),I.Lc(131,"2. \u0110\xf3ng \u0111\xfang tr\u1ecdng t\u1ea3i cho ph\xe9p 22 t\u1ea5n / 20'DC v\xe0 26 t\u1ea5n / 40'"),I.Wb(),I.Sb(132,"br"),I.Xb(133,"span"),I.Lc(134,"3. Ho\xe0n tr\u1ea3 Container \u0111\xfang \u0111\u1ecba \u0111i\u1ec3m \u0111\xe3 quy \u0111\u1ecbnh trong v\xf2ng 03 ng\xe0y t\u1eeb khi nh\u1eadn Container & kh\xf4ng qu\xe1 05 ng\xe0y tr\u01b0\u1edbc khi t\xe0u ch\u1ea1y."),I.Wb(),I.Sb(135,"br"),I.Xb(136,"span"),I.Lc(137,"4. N\u1ebfu Container b\u1ecb th\u1ea5t l\u1ea1c, h\u01b0 h\u1ecfng, kh\xe1ch h\xe0ng s\u1ebd b\u1ed3i th\u01b0\u1eddng theo \u0111\xfang qui \u0111\u1ecbnh c\u1ee7a C\xf4ng ty"),I.Wb(),I.Sb(138,"br"),I.Xb(139,"span"),I.Lc(140,"5. Ph\xed n\xe2ng h\u1ea1, \u0111\xf3ng h\xe0ng thanh to\xe1n tr\u1ef1c ti\u1ebfp t\u1ea1i b\xe3i"),I.Wb(),I.Sb(141,"br"),I.Xb(142,"span"),I.Lc(143,"6. Vui l\xf2ng ki\u1ec3m tra chi ti\u1ebft tr\xean l\u1ec7nh c\u1ea5p v\u1ecf v\xe0 li\xean h\u1ec7 ch\xfang t\xf4i khi ph\xe1t hi\u1ec7n sai s\xf3t, n\u1ebfu kh\xf4ng ch\xfang t\xf4i kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m."),I.Wb(),I.Sb(144,"br"),I.Xb(145,"span",57),I.Lc(146,"7. Khai b\xe1o ch\xednh x\xe1c t\xean h\xe0ng h\xf3a \u0111\xf3ng trong container khi l\u1ea5y booking h\xe3ng t\xe0u / khi x\u1ebfp t\xe0u. Kh\xe1ch h\xe0ng s\u1ebd ch\u1ecbu m\u1ecdi s\u1ef1 chi ph\xed ph\xe1t sinh v\xe0 \u0111\xf3ng th\xeam m\u1ee9c ph\u1ea1t 100 USD / cont ( ch\u01b0a VAT ) trong tr\u01b0\u1eddng h\u1ee3p khai sai t\xean h\xe0ng \u0111\xf3ng trong container"),I.Wb(),I.Sb(147,"br"),I.Xb(148,"span",57),I.Lc(149,"8. H\u01b0\u1edbng d\u1eabn h\u1ea1 container full t\u1ea1i c\u1ea3ng."),I.Wb(),I.Sb(150,"br"),I.Xb(151,"span"),I.Lc(152,"- Vui l\xf2ng s\u1eed d\u1ee5ng code h\xe3ng t\xe0u nh\u01b0 sau khi l\xe0m th\u1ee7 t\u1ee5c h\u1ea1 container full t\u1ea1i c\u1ea3ng. tr\u01b0\u1eddng h\u1ee3p kh\xe1ch h\xe0ng h\u1ea1 sai code h\xe3ng t\xe0u, h\xe3ng t\xe0u s\u1ebd kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m trong tr\u01b0\u1eddng h\u1ee3p container kh\xf4ng \u0111\u01b0\u1ee3c load l\xean t\xe0u."),I.Wb(),I.Sb(153,"br"),I.Xb(154,"span",57),I.Lc(155,'\xa0\xa0\xa0\xa0+ C\u1ea3ng C\xe1t L\xe1i : Code "LEG" ( DNL - Legend Shipping (Thailand) Co., Ltd - LEG - Legend Shipping (Thailand) Co., Ltd )'),I.Wb(),I.Sb(156,"br"),I.Xb(157,"span",57),I.Lc(158,'\xa0\xa0\xa0\xa0+ C\u1ea3ng Sp-itc / Ph\u01b0\u1edbc Long 3 : Code " SEL" ( DNL-SE lines-SE-SE lines )'),I.Wb(),I.Sb(159,"br"),I.Xb(160,"span"),I.Lc(161,"- S\u1eed d\u1ee5ng \u0111\xfang s\u1ed1 Booking (Booking No.) khi l\u1ea5y r\u1ed7ng \u0111\u1ec3 h\u1ea1 container full t\u1ea1i c\u1ea3ng. Vui l\xf2ng kh\xf4ng h\u1ea1 ch\xe9o booking \u0111\u1ec3 tr\xe1nh ph\xe1t sinh ph\xed \u0111i\u1ec1u ch\u1ec9nh EDI."),I.Wb(),I.Sb(162,"br"),I.Wb(),I.Xb(163,"div",58),I.Xb(164,"div",37),I.Xb(165,"div",59),I.Lc(166,"L\u1ec6NH C\u1ea4P V\u1ece CONTAINER C\xd3 GI\xc1 TR\u1eca \u0110\u1ebeN H\u1ebeT:"),I.Wb(),I.Xb(167,"div",49),I.Jc(168,ii,2,0,"div",27),I.Jc(169,ri,4,7,"ng-template",null,60,I.Kc),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Xb(171,"div",61),I.Xb(172,"div",62),I.Lc(173,"NG\u01af\u1edcI C\u1ea4P L\u1ec6NH"),I.Wb(),I.Wb(),I.Xb(174,"div",63),I.Xb(175,"div",62),I.Lc(176,"( K\xfd, Ghi r\xf5 h\u1ecd t\xean )"),I.Wb(),I.Wb(),I.Xb(177,"div",64),I.Xb(178,"div",62),I.Lc(179,"\u0110AN M\u1ea0NH C\u01af\u1edcNG - 0975 66 95 73"),I.Wb(),I.Wb(),I.Xb(180,"div",11),I.Xb(181,"div",57),I.Lc(182,"C\xd4NG TY C\u1ed4 PH\u1ea6N H\u1ec6 TH\u1ed0NG GIAO NH\u1eacN TH\xc1I B\xccNH D\u01af\u01a0NG (PACIFIC LOGISTICS NETWORK Jsc)"),I.Wb(),I.Wb(),I.Wb(),I.Wb(),I.Wb()}if(2&t){const t=I.xc(21),e=I.xc(34),n=I.xc(58),i=I.xc(65),o=I.xc(81),a=I.xc(170),r=I.jc();I.Db(13),I.Nc("S\u1ed1: LCV-",r.content.book_number,""),I.Db(2),I.Nc("H\xe0 N\u1ed9i: ",I.mc(16,29,r.today,"dd/MM/yyyy")," "),I.Db(2),I.pc("ngClass",I.rc(32,Qn,!r.isprint)),I.Db(1),I.pc("matDatepicker",t)("ngModel",r.today),I.Db(1),I.pc("for",t),I.Db(5),I.Nc("CODE/REF: ",r.content.code_company,""),I.Db(8),I.pc("ngIf",!r.content.empty_pick_up_depot)("ngIfElse",e),I.Db(6),I.Mc(r.content.lcv_note),I.Db(5),I.Nc("\u0110\u1ec1 ngh\u1ecb giao container CODE / REF ",r.content.code_company," sau \u0111\xe2y cho:"),I.Db(8),I.Mc(r.content.shipper.full_name.toUpperCase()),I.Db(5),I.pc("ngIf",!r.content.truck_name)("ngIfElse",n),I.Db(7),I.pc("ngIf",!r.content.truck_number)("ngIfElse",i),I.Db(9),I.pc("ngForOf",r.volume),I.Db(7),I.pc("ngIf",!r.content.place_of_stuffing)("ngIfElse",o),I.Db(9),I.Mc(r.content.return_laden_cont),I.Db(7),I.Oc("",r.content.voyage.vessel," ",r.content.voyage.voyage,""),I.Db(11),I.pc("ngSwitch",r.editEtd),I.Db(1),I.pc("ngSwitchCase",!0),I.Db(1),I.pc("ngSwitchCase",!1),I.Db(7),I.Mc(r.content.voyage.pod),I.Db(6),I.Mc(r.content.voyage.pod),I.Db(47),I.pc("ngIf",!r.content.valid)("ngIfElse",a)}}let si=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.authService=e,this.route=n,this.datePipe=i,this.commonService=o,this.isprint=!0,this.today=new Date,this.volume=[],this.editEtd=!0,this.editClosingtime=!0,this._unsubscribeAll=new R.a}ngOnInit(){this.volume=this.content.volume.map(t=>t.cont_type.code),this.volume=this.volume.filter((t,e,n)=>n.indexOf(t)==e),this.volume.sort()}ngOnChanges(t){t.content&&(t.content.currentValue||null==t.content.currentValue)&&(this.content=t.content.currentValue,this.volume=this.content.volume.map(t=>t.cont_type.code),this.volume=this.volume.filter((t,e,n)=>n.indexOf(t)==e),this.volume.sort())}print(t){this.isprint=!1,this.editEtd=!0,this.editClosingtime=!0,setTimeout(()=>{window.print(),this.isprint=!0},100)}calculateTotal(t){let e=0;return this.content.volume.map(n=>{n.cont_type.code==t&&(e+=n.quantity)}),e}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(T.a))},t.\u0275cmp=I.Lb({type:t,selectors:[["lcv-form"]],inputs:{shipment:"shipment",content:"content",closing_time:"closing_time",etd:"etd",height:"height",permission:"permission"},features:[I.Bb()],decls:5,vars:6,consts:[["fxLayout","column","id","print-content",2,"overflow","auto"],["mat-icon-button","","color","accent","id","print-button",2,"position","absolute","right","50px","top","70px",3,"ngClass","click"],["class","invoice-container","fxLayout","row","fxLayoutAlign","start",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start",1,"invoice-container"],["id","invoice-hcm",1,"card"],[1,"header-card"],["fxLayout","row","fxLayoutAlign","end center"],["fxLayout","row","fxLayoutAlign","end center",1,"issuer","w-25-p"],["src","assets/images/logos/PAFullLogos.jpg",1,"logo"],["fxLayout","row","fxLayoutAlign","center"],[1,"title","text-bold","font-size-18","m-8"],["fxLayout","row","fxLayoutAlign","start"],["fxFlex","50","fxLayout","column",1,"header-card-label","pt-12","pb-12"],[1,"font-size-12","text-bold"],[1,"font-size-12","text-italic"],["id","print-input-month",3,"ngClass"],["inputCheck","","matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["monthPicker",""],["fxFlex","50",1,"header-card-label","pt-12","pb-12"],[1,"font-size-14","text-bold"],[1,"content","line-height-20","font-size-10"],["fxLayout","row wrap","fxLayoutAlign","start"],["fxFlex","100",1,"mb-8"],["fxLayout","row","fxLayoutAlign","start","fxFlex","1 1 auto"],["fxFlex","20",1,"text-italic","text-bold","pt-16","font-size-12"],["fxFlex","80",1,"text-bold"],["class","light-blue",4,"ngIf","ngIfElse"],["empty_pick_up_depot",""],["fxFlex","100"],["fxLayout","row wrap","fxLayoutAlign","start","fxFlex","1 1 auto"],["fxFlex","100",1,"font-size-16","text-italic","text-bold","pb-16","red-A700-fg"],["fxFlex","100","fxLayout","column"],["tref",""],["fxFlex","100",1,"text-italic"],["fxFlex","10",1,"text-italic","text-bold"],["fxFlex","90",1,"text-bold"],["fxLayout","row"],["fxFlex","20"],["fxFlex","80"],["truck_name",""],["truck_number",""],[1,"table-volume"],[4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","start",1,"mt-8"],["fxFlex","50"],["fxFlex","60",1,"text-italic"],["fxFlex","40"],["place_of_stuffing",""],["fxFlex","40",1,"text-bold"],["fxFlex","30",1,"text-italic"],["fxFlex","70",3,"ngSwitch"],["fxLayout","row","fxLayoutAlign","start","fxFlex","1 1 auto",4,"ngSwitchCase"],["fxFlex","70",1,"text-bold"],["fxLayout","column",1,"footer","pt-16","font-size-10"],["fxFlex","100",1,"text-bold","pb-4"],["fxFlex","100",1,"font-size-10","text-italic","line-height-16"],[1,"text-bold"],["fxFlex","100",1,"font-size-14","text-bold","mt-16","mb-4"],["fxFlex","60",1,"text-bold"],["valid",""],["fxLayout","row","fxLayoutAlign","start",1,"mb-4"],["fxFlex","30",1,"text-bold","text-center"],["fxLayout","row","fxLayoutAlign","start",1,"mb-60"],["fxLayout","row","fxLayoutAlign","start",1,"mb-16"],[1,"light-blue"],[1,"font-size-16"],[1,"font-size-12"],[1,"w-100","text-center","font-weight-600"],[1,"w-100","text-center"],["id","editEtd","class","cursor-pointer",3,"ngClass","click",4,"ngIf"],["id","editEtd",1,"cursor-pointer",3,"ngClass","click"],["color","accent"],["inputCheck","","matInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Xb(1,"button",1),I.fc("click",(function(t){return e.print(["LCV-"+e.content.book_number]),e.editEtd=!0,e.editClosingtime=!0})),I.Xb(2,"mat-icon"),I.Lc(3,"print"),I.Wb(),I.Wb(),I.Jc(4,ci,183,34,"div",2),I.Wb()),2&t&&(I.Ic("height",e.height,"px"),I.Db(1),I.pc("ngClass",I.rc(4,Qn,!e.isprint)),I.Db(3),I.pc("ngIf",e.content))},directives:[E.d,s.b,M.q,At.a,p.a,M.t,E.c,E.b,l.c,d.b,c.b,q.b,q.p,q.s,c.d,l.h,c.a,M.s,M.x,M.y],pipes:[M.f],styles:["lcv-form{font-family:arial}lcv-form #print-content .invoice-container{padding:0}lcv-form #print-content .invoice-container .card{width:800px;min-width:800px;max-width:800px;padding:32px;overflow:hidden;background:#fff}lcv-form #print-content .invoice-container .card .header-card .client .invoice-number{font-size:9px;padding-bottom:4px}lcv-form #print-content .invoice-container .card .header-card .client .invoice-number .title{color:rgba(0,0,0,.54)}lcv-form #print-content .invoice-container .card .header-card .client .invoice-number .number{color:rgba(0,0,0,.87);padding-left:6px}lcv-form #print-content .invoice-container .card .header-card .client .info{font-size:7px;color:rgba(0,0,0,.54);line-height:10px}lcv-form #print-content .invoice-container .card .header-card .issuer .logo{padding:0}lcv-form #print-content .invoice-container .card .header-card .header-card-label .title{font-size:24px;font-weight:700}lcv-form #print-content .invoice-container .card .header-card .header-card-label .info{font-size:18px}lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-wrapper{padding:0}lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex{-webkit-box-align:center;align-items:center}lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-prefix .mat-datepicker-toggle-default-icon,lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px;color:#039be5}lcv-form #print-content .invoice-container .card .header-card .header-card-label #print-input-month .mat-form-field-underline{background:#fff}lcv-form #print-content .invoice-container .card .content .height19{height:19px}lcv-form #print-content .invoice-container .card .content .table-volume{border-collapse:collapse}lcv-form #print-content .invoice-container .card .content .table-volume td,lcv-form #print-content .invoice-container .card .content .table-volume th{border:1px solid #000}lcv-form #print-content .invoice-container .card .content .table-lcv{border-collapse:collapse;font-size:16px}lcv-form #print-content .invoice-container .card .content .table-lcv th{border:1px solid}lcv-form #print-content .invoice-container .card .content .table-lcv td{border-bottom:1px solid;border-top:1px solid;border-color:#e0e0e0 currentcolor;border-style:solid;border-width:1px}lcv-form #print-content .invoice-container .card .content .table-lcv td.note-color{background:#ff0!important;-webkit-print-color-adjust:exact;color:#ff1200;font-size:14px}lcv-form #print-content .invoice-container .card .content .table-lcv tr:last-child td{border:1px solid;border-top:1px solid #e0e0e0}lcv-form #print-content .invoice-container .card .content .table-lcv td,lcv-form #print-content .invoice-container .card .content .table-lcv th{padding:2px;height:24px;text-align:center;font-weight:700}lcv-form #print-content .invoice-container .card .content #edit1,lcv-form #print-content .invoice-container .card .content #edit2,lcv-form #print-content .invoice-container .card .content #edit3{height:26px}@media print{lcv-form #print-content{height:auto!important}lcv-form #print-content .invoice-container{padding-left:20pt;padding-right:10pt}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-20{font-size:20px}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-18{font-size:18px}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-16{font-size:16px}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-14{font-size:14px}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-10{font-size:12px}lcv-form #print-content .invoice-container #invoice-hcm .font-size-hcm-8{font-size:9px}lcv-form #print-content .invoice-container .card{width:100%;min-width:0;background:none;padding:0;box-shadow:none}lcv-form #edit1,lcv-form #edit2,lcv-form #edit3,lcv-form #edit-button,lcv-form #mail-button,lcv-form #print-button,lcv-form #print-input-month{display:none}}"],encapsulation:2,data:{animation:O.a}}),t})();function bi(t,e){if(1&t){const t=I.Yb();I.Xb(0,"lcv-sidebar",8),I.fc("editDocument",(function(e){return I.Bc(t),I.jc(2).editDocument(e)}))("sidebarPage",(function(e){return I.Bc(t),I.jc(2).getTypeSidebar(e)})),I.Wb()}if(2&t){const t=I.jc(2);I.pc("data",t.content)("partner",t.partner)("seaTerminal",t.seaTerminal)("codeCompany",t.codeCompany)("permission",t.permission)("height",t.height)}}function li(t,e){if(1&t&&(I.Xb(0,"fuse-sidebar",6),I.Xb(1,"div",4),I.Jc(2,bi,1,6,"lcv-sidebar",7),I.Wb(),I.Wb()),2&t){const t=I.jc();I.Db(2),I.pc("ngIf",t.shipment)}}function pi(t,e){if(1&t&&I.Sb(0,"lcv-form",9),2&t){const t=I.jc();I.pc("shipment",t.shipment)("content",t.content)("closing_time",t.closing_time)("etd",t.etd)("permission",t.permission)("height",t.height)}}let mi=(()=>{class t{constructor(t,e,n,i,o,a,r){this._fuseSidebarService=t,this.shipmentService=e,this.router=n,this.authService=i,this.route=o,this.datePipe=a,this._matDialog=r,this.sidebarPanel=!0,this.type="view",this.module="pacific-logistics-network",this.height=560,this._unsubscribeAll=new R.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.module=this.shipmentService.module,this.type=this.shipmentService.type,this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-20}),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-20:this.authService.screenHeight-64-64-20}),this.shipmentService.onDataChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{this.partner=this.shipmentService.partner,this.seaport=this.shipmentService.seaport,this.seaTerminal=this.shipmentService.seaTerminal,this.codeCompany=this.shipmentService.codeCompany}),this.shipmentService.onPlnShipmentDetailsChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe(t=>{t.length>0&&(this.shipment=t[0][0],this.shipment&&(this.id=this.shipment.id,this.revenue=t[1],this.cost=t[2],this.plnDocument=t[3],this.plnRoute=t[4],this.shipment.revenueData=t[1],this.shipment.costData=t[2],this.plnDocument.length>0&&(this.content=JSON.parse(this.plnDocument[0].content),this.documentId=this.plnDocument[0].id,this.closing_time=this.datePipe.transform(this.plnRoute[0].closing_time,"HH:mm a MMM dd, yyyy"),this.etd=this.datePipe.transform(this.plnRoute[0].depart_time,"MMM dd, yyyy"))))})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}refreshPage(t){this.authService.refreshData(this.shipmentService)}getTypeSidebar(t){this.type=this.shipmentService.type=t}editDocument(t){let e=JSON.parse(JSON.stringify(this.content));for(var n in t)e[n]=t[n];console.log(this.content),this.authService.onRequestChanged.next(!0),this.shipmentService.updatePlnDocument({id:this.documentId,content:JSON.stringify(e)}).then(t=>{this.authService.onRequestChanged.next(!1),this.getShipment(),alert("Update success")}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Update error")})}getShipment(){this.authService.onRequestChanged.next(!0),this.shipmentService.getPlnShipmentById(this.id).then(t=>{this.authService.onRequestChanged.next(!1)}).catch(t=>{this.authService.onRequestChanged.next(!1),console.error(t),alert("Error: Server error")})}}return t.\u0275fac=function(e){return new(e||t)(I.Rb(_t.a),I.Rb(Pt),I.Rb(i.g),I.Rb(j.a),I.Rb(i.a),I.Rb(M.f),I.Rb(g.b))},t.\u0275cmp=I.Lb({type:t,selectors:[["shipment-details-lcv"]],decls:6,vars:5,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","lcv-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"module","shipment","sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content"],[3,"shipment","content","closing_time","etd","permission","height",4,"ngIf"],["name","lcv-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"data","partner","seaTerminal","codeCompany","permission","height","editDocument","sidebarPage",4,"ngIf"],[3,"data","partner","seaTerminal","codeCompany","permission","height","editDocument","sidebarPage"],[3,"shipment","content","closing_time","etd","permission","height"]],template:function(t,e){1&t&&(I.Xb(0,"div",0),I.Jc(1,li,3,1,"fuse-sidebar",1),I.Xb(2,"div",2),I.Xb(3,"shipment-details-header",3),I.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),I.Wb(),I.Xb(4,"div",4),I.Jc(5,pi,1,6,"lcv-form",5),I.Wb(),I.Wb(),I.Wb()),2&t&&(I.Db(1),I.pc("ngIf",e.sidebarPanel),I.Db(2),I.pc("module",e.module)("shipment",e.shipment)("sidebarName","lcv-sidebar"),I.Db(2),I.pc("ngIf",e.shipment))},directives:[Ft.a,M.t,J.a,Nt,Bt.a,Jn,si],styles:["shipment-details-lcv{width:100%}shipment-details-lcv .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){shipment-details-lcv .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}shipment-details-lcv .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-details-lcv .center .content-card shipment-details-lcv{border-right:0}shipment-details-lcv .center .content-card shipment-details,shipment-details-lcv .center .content-card shipment-details-lcv{-webkit-box-flex:1;flex:1 0 100%}shipment-details-lcv .center .content-card shipment-details{display:none!important}shipment-details-lcv .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-details-lcv .center .content-card.current-shipment-selected .content shipment-details-lcv,shipment-details-lcv .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-details-lcv .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:O.a}}),t})();var di=n("1Jf3"),hi=n("cC5p"),ui=n("MutI"),fi=n("f0Cb");let gi=(()=>{class t{}return t.\u0275mod=I.Pb({type:t}),t.\u0275inj=I.Ob({factory:function(e){return new(e||t)},imports:[[i.k,a.b,o.a,r.b,c.c,s.c,b.b,l.e,p.b,m.b,d.c,h.c,u.b,f.c,g.e,v.b,x.b,y.b,W.d,X.e,S.b,k.b,w.b,D.k,ui.c,fi.b,L.t]]}),t})();n.d(e,"ShipmentDetailsModule",(function(){return xi}));const vi=[{path:":id",component:F,resolve:{data:Pt},children:[{path:"overview",component:Le},{path:"soa",component:en},{path:"book-confirm",component:In},{path:"lcv",component:mi}]}];let xi=(()=>{class t{}return t.\u0275mod=I.Pb({type:t}),t.\u0275inj=I.Ob({factory:function(e){return new(e||t)},providers:[Pt],imports:[[i.k.forChild(vi),a.b,r.b,c.c,s.c,b.b,l.e,p.b,m.b,d.c,h.c,u.b,f.c,g.e,v.b,x.b,y.b,W.d,X.e,S.b,k.b,w.b,D.k,L.t,C.a,_.f,o.a,di.a,hi.a,gi]]}),t})()}}]);