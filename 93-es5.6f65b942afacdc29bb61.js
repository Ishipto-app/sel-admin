function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){a=!0,r=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{IOBc:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("5HBU"),a=n("bTqV"),r=n("kmnG"),o=n("NFeN"),c=n("qFsG"),l=n("wZkO"),s=n("/t3+"),u=n("bSwM"),p=n("+0xr"),h=n("FKr1"),b=n("MutI"),m=n("fXoL"),d=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[i.a,a.c,r.e,o.b,c.c,l.c,s.b,u.b,h.t,b.c,p.k]]}),e}()},cfqv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("8LU1"),a=n("vxfF"),r=n("fXoL"),o=n("HDdC"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;_classCallCheck(this,e),this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}return _createClass(e,[{key:"getAverageItemSize",value:function(){return this._averageItemSize}},{key:"addSample",value:function(e,t){var n=this._totalWeight+e.end-e.start;if(n){var i=(t+this._averageItemSize*this._totalWeight)/n;i&&(this._averageItemSize=i,this._totalWeight=n)}}},{key:"reset",value:function(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}]),e}(),l=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c;_classCallCheck(this,e),this.scrolledIndexChange=new o.a((function(){throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")})),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=n,this._averager=i}return _createClass(e,[{key:"attach",value:function(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}},{key:"detach",value:function(){this._viewport=null}},{key:"onContentScrolled",value:function(){this._viewport&&this._updateRenderedContentAfterScroll()}},{key:"onDataLengthChanged",value:function(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}},{key:"onContentRendered",value:function(){this._viewport&&this._checkRenderedContentSize()}},{key:"onRenderedOffsetChanged",value:function(){this._viewport&&this._checkRenderedContentOffset()}},{key:"scrollToIndex",value:function(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}},{key:"updateBufferSize",value:function(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}},{key:"_updateRenderedContentAfterScroll",value:function(){var e=this._viewport,t=e.measureScrollOffset(),n=t-this._lastScrollOffset,i=Math.abs(n),a=e.getRenderedRange(),r=0;if(n<0){var o=a.start*this._averager.getAverageItemSize();n-=r=Math.round((o-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,i/(t+i)))),i=Math.abs(n)}var c=this._lastScrollOffset-this._lastRenderedContentOffset,l=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),s=i+this._minBufferPx-(n<0?c:l);if(s>0)if(i>=e.getViewportSize())this._renderContentForCurrentOffset();else{var u,p,h=Math.max(0,Math.ceil((s-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),b=(n<0?l:c)-this._minBufferPx+i,m=Math.floor(b/this._averager.getAverageItemSize()/(this._removalFailures+1)),d=Math.min(a.end-a.start,Math.max(0,m)),f=this._expandRange(a,n<0?h:0,n>0?h:0);if(n<0?f.end=Math.max(f.start+1,f.end-d):f.start=Math.min(f.end-1,f.start+d),n<0){var v=e.measureRangeSize({start:f.end,end:a.end});v<=b?(u=this._lastRenderedContentOffset+this._lastRenderedContentSize-v,this._removalFailures=0):(f.end=a.end,u=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),p="to-end"}else{var g=e.measureRangeSize({start:a.start,end:f.start});g<=b?(u=this._lastRenderedContentOffset+g,this._removalFailures=0):(f.start=a.start,u=this._lastRenderedContentOffset,this._removalFailures++),p="to-start"}e.setRenderedRange(f),e.setRenderedContentOffset(u+r,p)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}},{key:"_checkRenderedContentSize",value:function(){var e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}},{key:"_checkRenderedContentOffset",value:function(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}},{key:"_renderContentForCurrentOffset",value:function(){var e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;var n=this._averager.getAverageItemSize(),i=Math.min(e.getDataLength()-1,Math.floor(t/n)),a=Math.ceil(this._maxBufferPx/n),r=this._expandRange(this._getVisibleRangeForIndex(i),a,a);e.setRenderedRange(r),e.setRenderedContentOffset(n*r.start)}},{key:"_getVisibleRangeForIndex",value:function(e){var t=this._viewport,n={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},i=n.end-t.getDataLength();return i>0&&(n.start=Math.max(0,n.start-i)),n}},{key:"_expandRange",value:function(e,t,n){var i=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(i.getDataLength(),e.end+n)}}},{key:"_updateTotalContentSize",value:function(e){var t=this._viewport,n=t.getRenderedRange(),i=e+(t.getDataLength()-(n.end-n.start))*this._averager.getAverageItemSize();t.setTotalContentSize(i)}}]),e}();function s(e){return e._scrollStrategy}var u=function(){var e=function(){function e(){_classCallCheck(this,e),this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new l(this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Object(i.f)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Object(i.f)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:a.h,useFactory:s,deps:[Object(r.V)((function(){return e}))]}]),r.Bb()]}),e}(),p=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e}()},qy67:function(e,t,n){"use strict";n.r(t);var i,a,r,o,c,l=n("tyNb"),s=n("5HBU"),u=n("STbY"),p=n("/1cH"),h=n("iadO"),b=n("bTqV"),m=n("7EHt"),d=n("kmnG"),f=n("NFeN"),v=n("Qu3c"),g=n("qFsG"),y=n("wZkO"),w=n("d3UM"),x=n("QibW"),_=n("0IaG"),S=n("/t3+"),k=n("bSwM"),C=n("M9IT"),D=n("xHqg"),j=n("A5z7"),O=n("bv9b"),W=n("XhcP"),X=n("FKr1"),I=n("1jcm"),A=n("+0xr"),q=n("212X"),T=n("LPQX"),P=n("3Pt+"),R=n("XNiG"),L=n("1G5W"),F=n("PVWW"),B=n("/N0t"),N=n("Frtq"),z=n("fXoL"),V=n("HX77"),M=n("2Vo4"),J=n("jD4G"),E=n("tk/3"),U=n("qXBG"),$=n("ofXK"),H=((i=function(){function e(t,n,i){_classCallCheck(this,e),this._httpClient=t,this.authService=n,this.datePipe=i,this.lock=!1,this.defaultSearch={year:(new Date).getFullYear(),month:null,date_to:this.datePipe.transform((new Date).setMonth((new Date).getMonth()+3),"yyyy-MM-dd"),date_from:this.datePipe.transform((new Date).setMonth((new Date).getMonth()-12),"yyyy-MM-dd")},this.sheetCurrenSearch={year:(new Date).getFullYear(),month:null,date_to:this.datePipe.transform((new Date).setMonth((new Date).getMonth()+3),"yyyy-MM-dd"),date_from:this.datePipe.transform((new Date).setMonth((new Date).getMonth()-12),"yyyy-MM-dd")},this.onSearchTextChanged=new R.a,this.onDataChanged=new M.a([]),this.onDataItemChanged=new M.a([]),this.onSelShipmentDetailsChanged=new M.a({}),this.onSelShipmentSheetChanged=new M.a({}),this.onVoyageChanged=new M.a({})}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.authService.routerData=e,this.module=e.params.modul,new Promise((function(e,n){Promise.all([t.getSelShipmentDetailsList(t.sheetCurrenSearch),t.getData(),t.getItemData(),t.getVoyage()]).then((function(n){_slicedToArray(n,1)[0],t.onSearchTextChanged.subscribe((function(e){t.searchDetailText=e;var n=JSON.parse(JSON.stringify(t.detailShipment));e&&""!==e&&(t.filterDetailShipment=J.a.filterArrayByString(n,e),t.onSelShipmentSheetChanged.next(t.filterDetailShipment))})),e()}),n)}))}},{key:"getSelShipmentDetailsList",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/shipment/details2",e,n).subscribe((function(e){t.detailShipment=e;var n=JSON.parse(JSON.stringify(t.detailShipment));t.searchDetailText?t.searchDetailText&&""!==t.searchDetailText&&(t.filterDetailShipment=J.a.filterArrayByString(n,t.searchDetailText)):t.filterDetailShipment=n,t.onSelShipmentSheetChanged.next(t.filterDetailShipment),i(t.filterDetailShipment)}),a)}))}},{key:"getData",value:function(){var e=this,t={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,i){e._httpClient.get(e.authService.apiUrl+"/sel/shipment/data",t).subscribe((function(t){e.customer=t[0],e.supplier=t[1],e.seaport=t[2],e.user=t[3],e.country=t[4],e.agent=t[5],e.onDataChanged.next(t),n(t)}),i)}))}},{key:"getItemData",value:function(){var e=this,t={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,i){e._httpClient.get(e.authService.apiUrl+"/sel/shipment/item-data",t).subscribe((function(t){e.price=t[0],e.unit=t[1],e.currency=t[2],e.country=t[3],e.user=t[4],e.commodity=t[5],e.packageType=t[6],e.onDataItemChanged.next(t),n(t)}),i)}))}},{key:"getSelShipmentById",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/id/"+e,n).subscribe((function(e){t.shipment=e[0][0],10==t.shipment.status&&(t.lock=!0),t.onSelShipmentDetailsChanged.next(e),i(e)}),a)}))}},{key:"updateSelShipment",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/shipment",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelShipment",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/shipment/id/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"createSelRevenue",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/revenue",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"updateSelRevenue",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/revenue",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelRevenue",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/revenue/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"createSelCost",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/cost",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"updateSelCost",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/cost",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelCost",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/cost/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"createSelCorrect",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/correct",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"updateSelCorrect",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/correct",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelCorrect",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/correct/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"createSelOtherIn",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/sel-other-in",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"updateSelOtherIn",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/sel-other-in",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelOtherIn",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/sel-other-in/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"createSelOtherOut",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel/sel-other-out",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"updateSelOtherOut",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.put(t.authService.apiUrl+"/sel/sel-other-out",e,n).subscribe((function(e){i(e)}),a)}))}},{key:"deleteSelOtherOut",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.delete(t.authService.apiUrl+"/sel/sel-other-out/"+e,n).subscribe((function(e){i(e)}),a)}))}},{key:"getVoyage",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},i="/sel/book/voyage/"+(e?1:0);return new Promise((function(e,a){t._httpClient.get(t.authService.apiUrl+i,n).subscribe((function(n){t.voyage=n,t.onVoyageChanged.next(n),e(n)}),a)}))}},{key:"createSelShipment",value:function(e){var t=this,n={headers:new E.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,a){t._httpClient.post(t.authService.apiUrl+"/sel-shipment/new",e,n).subscribe((function(e){i(e)}),a)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(z.bc(E.a),z.bc(U.a),z.bc($.f))},i.\u0275prov=z.Nb({token:i,factory:i.\u0275fac}),i),G=n("pLZG"),Y=n("LvDl"),K=n("nLfN"),Q=((c=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!0,width:100,view:!0},{name:"Pay Party",value:"partner_short_name",column:"pay_party",type:"text",required:!0,width:160,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:80,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Button",value:null,column:null,type:null,required:!1,width:80,view:!0},{name:"Pay_In",value:"country_code",column:"payment_center",type:"text",required:!0,width:52,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:42,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||c)(z.bc(l.g),z.bc(K.a))},c.\u0275prov=z.Nb({token:c,factory:c.\u0275fac}),c),Z=((o=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!0,width:100,view:!0},{name:"Issue Party",value:"partner_short_name",column:"issue_party",type:"text",required:!0,width:160,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:80,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Button",value:null,column:null,type:null,required:!1,width:80,view:!0},{name:"Pay_In",value:"country_code",column:"payment_center",type:"text",required:!0,width:52,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:42,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||o)(z.bc(l.g),z.bc(K.a))},o.\u0275prov=z.Nb({token:o,factory:o.\u0275fac}),o),ee=((r=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Code",value:"code",column:"code",type:"text",required:!0,width:110,view:!0},{name:"Revenue",value:"total_revenue",column:null,type:null,required:!1,width:100,view:!0},{name:"Cost",value:"total_cost",column:null,type:null,required:!1,width:100,view:!0},{name:"Net Revenue",value:"profit",column:null,type:null,required:!1,width:80,view:!0},{name:"Customer",value:"customer_short_name",column:"customer",type:"text",required:!0,width:180,view:!0},{name:"Agent",value:"agent_short_name",column:"agent",type:"text",required:!0,width:180,view:!0},{name:"Bill",value:"bill",column:"bill",type:"text",required:!1,width:140,view:!0},{name:"POL",value:"pol_name",column:"pol",type:"number",required:!1,width:140,view:!0},{name:"POD",value:"pod_name",column:"pod",type:"number",required:!1,width:140,view:!0},{name:"Vessel",value:"vessel_full_name",column:null,type:"number",required:!1,width:140,view:!0},{name:"Depart time",value:"depart_time",column:null,type:"text",required:!1,width:80,view:!0},{name:"Arrive time",value:"arrive_time",column:null,type:"text",required:!1,width:80,view:!0},{name:"Process",value:"process_name",column:"process",type:"number",required:!0,width:70,view:!0},{name:"Owner",value:"owner_name",column:"owner",type:"number",required:!0,width:140,view:!0},{name:"Create by",value:"create_by_name",column:null,type:"number",required:!0,width:140,view:!0}],this._disableColumn=["Code","Pick up","Pick Date","Deliver"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||r)(z.bc(l.g),z.bc(K.a))},r.\u0275prov=z.Nb({token:r,factory:r.\u0275fac}),r),te=((a=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"Detail",view:!0},{name:"Revenue",view:!0},{name:"Cost",view:!0}],this._disableColumn=["Detail"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={div:[],form:[],view_div:[],view_setting:[]};e.map((function(e){n.div.push(e),e.view&&(n.view_div.push(e.name),n.view_setting.push(e));var i={};i[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,i])})),n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.div,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||a)(z.bc(l.g),z.bc(K.a))},a.\u0275prov=z.Nb({token:a,factory:a.\u0275fac}),a),ne=n("B9zo"),ie=n("fE3o"),ae=n("XiUz"),re=n("EwFO");function oe(e,t){if(1&e&&(z.Xb(0,"div",12),z.Xb(1,"mat-checkbox",13),z.Lc(2),z.Wb(),z.Wb()),2&e){var n=t.index,i=z.jc();z.pc("formGroupName",n),z.Db(1),z.pc("formControlName",i.displayObj.form[n][0]),z.Db(1),z.Mc(i.displayObj.form[n][0])}}var ce,le=((ce=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.height=560,this.changeSetting=new z.o,this.view="main",this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.initForm(),this.displayObj.form.map((function(t){e.addColumn(t[1])})),this.form.valueChanges.subscribe((function(t){e.changeSetting.emit([e.label,t])}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({div:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){this.divAdd.push(this.formBuilder.group(e))}},{key:"checkAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.form.controls.div.controls[n].controls[t[0]].setValue(!0)}))}},{key:"clearAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.displayObj.disable.includes(t[0])||e.form.controls.div.controls[n].controls[t[0]].setValue(!1)}))}},{key:"divAdd",get:function(){return this.form.get("div")}}]),e}()).\u0275fac=function(e){return new(e||ce)(z.Rb(P.d))},ce.\u0275cmp=z.Lb({type:ce,selectors:[["shipment-setting-detail"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","div"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){var n=z.Yb();z.Xb(0,"form",0),z.Xb(1,"div",1),z.Xb(2,"h2",2),z.fc("click",(function(e){return z.Bc(n),z.xc(6).toggle()})),z.Lc(3),z.Wb(),z.Xb(4,"div",3),z.Xb(5,"mat-expansion-panel",4,5),z.Xb(7,"div",6),z.Xb(8,"div",7),z.Xb(9,"button",8),z.fc("click",(function(e){return t.checkAll()})),z.Lc(10,"All div"),z.Wb(),z.Xb(11,"button",9),z.fc("click",(function(e){return t.clearAll()})),z.Lc(12,"Clear"),z.Wb(),z.Wb(),z.Xb(13,"div",10),z.Jc(14,oe,3,3,"div",11),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()}2&e&&(z.pc("formGroup",t.form),z.Db(3),z.Mc(t.label),z.Db(2),z.pc("expanded",t.expand),z.Db(9),z.pc("ngForOf",t.divAdd.controls))},directives:[P.A,P.q,P.h,m.c,ae.d,ae.c,b.b,ae.b,P.c,$.s,P.i,k.a,P.p,P.g],styles:["shipment-setting-table-detail .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:div;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-detail .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-detail .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-detail .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:F.a}}),ce);function se(e,t){if(1&e&&(z.Xb(0,"div",12),z.Xb(1,"mat-checkbox",13),z.Lc(2),z.Wb(),z.Wb()),2&e){var n=t.index,i=z.jc();z.pc("formGroupName",n),z.Db(1),z.pc("formControlName",i.displayObj.form[n][0]),z.Db(1),z.Mc(i.displayObj.form[n][0])}}var ue,pe=((ue=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.height=560,this.changeSetting=new z.o,this.view="main",this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.initForm(),this.displayObj.form.map((function(t){e.addColumn(t[1])})),this.form.valueChanges.subscribe((function(t){e.changeSetting.emit([e.label,t])}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({column:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){this.columnAdd.push(this.formBuilder.group(e))}},{key:"checkAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.form.controls.column.controls[n].controls[t[0]].setValue(!0)}))}},{key:"clearAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.displayObj.disable.includes(t[0])||e.form.controls.column.controls[n].controls[t[0]].setValue(!1)}))}},{key:"columnAdd",get:function(){return this.form.get("column")}}]),e}()).\u0275fac=function(e){return new(e||ue)(z.Rb(P.d))},ue.\u0275cmp=z.Lb({type:ue,selectors:[["shipment-setting-table-detail"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){var n=z.Yb();z.Xb(0,"form",0),z.Xb(1,"div",1),z.Xb(2,"h2",2),z.fc("click",(function(e){return z.Bc(n),z.xc(6).toggle()})),z.Lc(3),z.Wb(),z.Xb(4,"div",3),z.Xb(5,"mat-expansion-panel",4,5),z.Xb(7,"div",6),z.Xb(8,"div",7),z.Xb(9,"button",8),z.fc("click",(function(e){return t.checkAll()})),z.Lc(10,"All column"),z.Wb(),z.Xb(11,"button",9),z.fc("click",(function(e){return t.clearAll()})),z.Lc(12,"Clear"),z.Wb(),z.Wb(),z.Xb(13,"div",10),z.Jc(14,se,3,3,"div",11),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()}2&e&&(z.pc("formGroup",t.form),z.Db(3),z.Mc(t.label),z.Db(2),z.pc("expanded",t.expand),z.Db(9),z.pc("ngForOf",t.columnAdd.controls))},directives:[P.A,P.q,P.h,m.c,ae.d,ae.c,b.b,ae.b,P.c,$.s,P.i,k.a,P.p,P.g],styles:["shipment-setting-detail .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-detail .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-detail .group .viewer-content{width:100%;overflow:auto}shipment-setting-detail .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:F.a}}),ue);function he(e,t){if(1&e&&(z.Xb(0,"div",12),z.Xb(1,"mat-checkbox",13),z.Lc(2),z.Wb(),z.Wb()),2&e){var n=t.index,i=z.jc();z.pc("formGroupName",n),z.Db(1),z.pc("formControlName",i.displayObj.form[n][0]),z.Db(1),z.Mc(i.displayObj.form[n][0])}}var be,me=((be=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.height=560,this.changeSetting=new z.o,this.view="main",this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.initForm(),this.displayObj.form.map((function(t){e.addColumn(t[1])})),this.form.valueChanges.subscribe((function(t){e.changeSetting.emit([e.label,t])}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({column:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){this.columnAdd.push(this.formBuilder.group(e))}},{key:"checkAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.form.controls.column.controls[n].controls[t[0]].setValue(!0)}))}},{key:"clearAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.displayObj.disable.includes(t[0])||e.form.controls.column.controls[n].controls[t[0]].setValue(!1)}))}},{key:"columnAdd",get:function(){return this.form.get("column")}}]),e}()).\u0275fac=function(e){return new(e||be)(z.Rb(P.d))},be.\u0275cmp=z.Lb({type:be,selectors:[["shipment-setting-table-revenue"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){var n=z.Yb();z.Xb(0,"form",0),z.Xb(1,"div",1),z.Xb(2,"h2",2),z.fc("click",(function(e){return z.Bc(n),z.xc(6).toggle()})),z.Lc(3),z.Wb(),z.Xb(4,"div",3),z.Xb(5,"mat-expansion-panel",4,5),z.Xb(7,"div",6),z.Xb(8,"div",7),z.Xb(9,"button",8),z.fc("click",(function(e){return t.checkAll()})),z.Lc(10,"All column"),z.Wb(),z.Xb(11,"button",9),z.fc("click",(function(e){return t.clearAll()})),z.Lc(12,"Clear"),z.Wb(),z.Wb(),z.Xb(13,"div",10),z.Jc(14,he,3,3,"div",11),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()}2&e&&(z.pc("formGroup",t.form),z.Db(3),z.Mc(t.label),z.Db(2),z.pc("expanded",t.expand),z.Db(9),z.pc("ngForOf",t.columnAdd.controls))},directives:[P.A,P.q,P.h,m.c,ae.d,ae.c,b.b,ae.b,P.c,$.s,P.i,k.a,P.p,P.g],styles:["shipment-setting-table-revenue .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-revenue .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-revenue .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-revenue .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:F.a}}),be);function de(e,t){if(1&e&&(z.Xb(0,"div",12),z.Xb(1,"mat-checkbox",13),z.Lc(2),z.Wb(),z.Wb()),2&e){var n=t.index,i=z.jc();z.pc("formGroupName",n),z.Db(1),z.pc("formControlName",i.displayObj.form[n][0]),z.Db(1),z.Mc(i.displayObj.form[n][0])}}var fe,ve=((fe=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.height=560,this.changeSetting=new z.o,this.view="main",this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.initForm(),this.displayObj.form.map((function(t){e.addColumn(t[1])})),this.form.valueChanges.subscribe((function(t){e.changeSetting.emit([e.label,t])}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({column:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){this.columnAdd.push(this.formBuilder.group(e))}},{key:"checkAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.form.controls.column.controls[n].controls[t[0]].setValue(!0)}))}},{key:"clearAll",value:function(){var e=this;this.displayObj.form.map((function(t,n){e.displayObj.disable.includes(t[0])||e.form.controls.column.controls[n].controls[t[0]].setValue(!1)}))}},{key:"columnAdd",get:function(){return this.form.get("column")}}]),e}()).\u0275fac=function(e){return new(e||fe)(z.Rb(P.d))},fe.\u0275cmp=z.Lb({type:fe,selectors:[["shipment-setting-table-cost"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){var n=z.Yb();z.Xb(0,"form",0),z.Xb(1,"div",1),z.Xb(2,"h2",2),z.fc("click",(function(e){return z.Bc(n),z.xc(6).toggle()})),z.Lc(3),z.Wb(),z.Xb(4,"div",3),z.Xb(5,"mat-expansion-panel",4,5),z.Xb(7,"div",6),z.Xb(8,"div",7),z.Xb(9,"button",8),z.fc("click",(function(e){return t.checkAll()})),z.Lc(10,"All column"),z.Wb(),z.Xb(11,"button",9),z.fc("click",(function(e){return t.clearAll()})),z.Lc(12,"Clear"),z.Wb(),z.Wb(),z.Xb(13,"div",10),z.Jc(14,de,3,3,"div",11),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()}2&e&&(z.pc("formGroup",t.form),z.Db(3),z.Mc(t.label),z.Db(2),z.pc("expanded",t.expand),z.Db(9),z.pc("ngForOf",t.columnAdd.controls))},directives:[P.A,P.q,P.h,m.c,ae.d,ae.c,b.b,ae.b,P.c,$.s,P.i,k.a,P.p,P.g],styles:["shipment-setting-table-cost .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-cost .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-cost .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-cost .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:F.a}}),fe);function ge(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div"),z.Xb(1,"shipment-setting-table-detail",4),z.fc("changeSetting",(function(e){return z.Bc(n),z.jc().changeSetting.emit(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc();z.Db(1),z.pc("label","Detail table")("expand",!1)("displayObj",i.displayObjDetail)}}function ye(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div"),z.Xb(1,"shipment-setting-table-revenue",4),z.fc("changeSetting",(function(e){return z.Bc(n),z.jc().changeSetting.emit(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc();z.Db(1),z.pc("label","Revenue table")("expand",!1)("displayObj",i.displayObjRevenue)}}function we(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div"),z.Xb(1,"shipment-setting-table-cost",4),z.fc("changeSetting",(function(e){return z.Bc(n),z.jc().changeSetting.emit(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc();z.Db(1),z.pc("label","Cost table")("expand",!1)("displayObj",i.displayObjCost)}}var xe,_e=((xe=function(){function e(t,n){_classCallCheck(this,e),this.formBuilder=t,this.authService=n,this.height=560,this.changeSetting=new z.o,this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-18})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-18:e.authService.screenHeight-64-64-18}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||xe)(z.Rb(P.d),z.Rb(U.a))},xe.\u0275cmp=z.Lb({type:xe,selectors:[["shipment-sheet-setting"]],inputs:{displayObjDetail:"displayObjDetail",displayObjDiv:"displayObjDiv",displayObjRevenue:"displayObjRevenue",displayObjCost:"displayObjCost"},outputs:{changeSetting:"changeSetting"},decls:11,vars:8,consts:[["fxLayout","column",2,"border-right","1px solid #E0E0E0"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","center center",1,"h-100-p"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[3,"label","expand","displayObj","changeSetting"],[4,"ngIf"]],template:function(e,t){1&e&&(z.Xb(0,"div",0),z.Xb(1,"div",1),z.Xb(2,"div",2),z.Xb(3,"div"),z.Lc(4,"Settings"),z.Wb(),z.Wb(),z.Wb(),z.Xb(5,"div",3),z.Xb(6,"div"),z.Xb(7,"shipment-setting-detail",4),z.fc("changeSetting",(function(e){return t.changeSetting.emit(e)})),z.Wb(),z.Wb(),z.Jc(8,ge,2,3,"div",5),z.Jc(9,ye,2,3,"div",5),z.Jc(10,we,2,3,"div",5),z.Wb(),z.Wb()),2&e&&(z.Db(5),z.Ic("height",t.height,"px"),z.Db(2),z.pc("label","View")("expand",!0)("displayObj",t.displayObjDiv),z.Db(1),z.pc("ngIf",t.displayObjDiv.view_div.includes("Detail")),z.Db(1),z.pc("ngIf",t.displayObjDiv.view_div.includes("Revenue")),z.Db(1),z.pc("ngIf",t.displayObjDiv.view_div.includes("Cost")))},directives:[ae.d,ae.c,re.a,le,$.t,pe,me,ve],styles:["shipment-sheet-setting .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}@media screen and (max-width:599px){shipment-sheet-setting .navbar-top{height:56px!important}}shipment-sheet-setting .navbar-scroll-container{background:#fff!important}shipment-sheet-setting .navbar-scroll-container .navbar-content{padding-top:0}shipment-sheet-setting .navbar-scroll-container .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-setting .navbar-scroll-container .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-sheet-setting .navbar-scroll-container .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2,data:{animation:F.a}}),xe),Se=n("0JVi"),ke=n("znSr"),Ce=n("rPBI");function De(e,t){if(1&e){var n=z.Yb();z.Xb(0,"button",18),z.fc("click",(function(e){z.Bc(n);var t=z.jc();return e.stopPropagation(),t.changeScreen(!0)})),z.Xb(1,"mat-icon"),z.Lc(2,"flip_to_front"),z.Wb(),z.Wb()}}function je(e,t){if(1&e){var n=z.Yb();z.Xb(0,"button",18),z.fc("click",(function(e){z.Bc(n);var t=z.jc();return e.stopPropagation(),t.changeScreen(!1)})),z.Xb(1,"mat-icon"),z.Lc(2,"flip_to_back"),z.Wb(),z.Wb()}}var Oe,We=function(e){return{"accent-600-fg":e}},Xe=((Oe=function(){function e(t,n){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=n,this.url="sheet",this.fullScreen=!1,this.toggleSidebar=new z.o,this.showHideBar=new z.o,this.refreshPage=new z.o,this.goShipmentList=new z.o,this.newShipment=new z.o,this.searchFilter=new z.o,this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}]),e}()).\u0275fac=function(e){return new(e||Oe)(z.Rb(U.a),z.Rb(Se.b))},Oe.\u0275cmp=z.Lb({type:Oe,selectors:[["shipment-sheet-header"]],inputs:{module:"module",sidebarName:"sidebarName",currentShipment:"currentShipment",searchText:"searchText"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",goShipmentList:"goShipmentList",newShipment:"newShipment",searchFilter:"searchFilter"},decls:37,vars:15,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","",1,"quick-panel-toggle-button",3,"click"],["fxHide","","fxShow.gt-sm","",3,"ngClass"],["fxShow","","fxHide.gt-sm","",3,"ngClass"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button","w-128",3,"click"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(z.Xb(0,"mat-toolbar",0),z.Xb(1,"div",1),z.Xb(2,"div",2),z.Xb(3,"div",3),z.Xb(4,"button",4),z.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),z.Xb(5,"mat-icon"),z.Lc(6,"menu"),z.Wb(),z.Wb(),z.Xb(7,"button",5),z.fc("click",(function(e){return t.showHideBar.emit()})),z.Xb(8,"mat-icon"),z.Lc(9,"menu"),z.Wb(),z.Wb(),z.Wb(),z.Xb(10,"button",6),z.fc("click",(function(e){return t.goShipmentList.emit("list")})),z.Xb(11,"span",7),z.Lc(12,"List"),z.Wb(),z.Xb(13,"mat-icon",8),z.Lc(14,"equalizer"),z.Wb(),z.Wb(),z.Xb(15,"button",6),z.fc("click",(function(e){return t.goShipmentList.emit("sheet")})),z.Xb(16,"span",7),z.Lc(17,"Sheet"),z.Wb(),z.Xb(18,"mat-icon",8),z.Lc(19,"view_carousel"),z.Wb(),z.Wb(),z.Wb(),z.Xb(20,"div",9),z.Sb(21,"div",10),z.Xb(22,"filter-search-bar",11),z.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),z.Wb(),z.Sb(23,"div",10),z.Xb(24,"button",12),z.fc("click",(function(e){return t.newShipment.emit()})),z.Xb(25,"mat-icon",13),z.Lc(26,"add"),z.Wb(),z.Xb(27,"span",14),z.Lc(28,"Shipment"),z.Wb(),z.Wb(),z.Sb(29,"div",10),z.Jc(30,De,3,0,"button",15),z.Jc(31,je,3,0,"button",15),z.Sb(32,"div",10),z.Xb(33,"button",16),z.fc("click",(function(e){return t.toggleSidebar.emit("shipment-sheet-setting")})),z.Xb(34,"mat-icon"),z.Lc(35,"settings"),z.Wb(),z.Wb(),z.Sb(36,"div",17),z.Wb(),z.Wb(),z.Wb()),2&e&&(z.Db(11),z.pc("ngClass",z.rc(7,We,"list"==t.url)),z.Db(2),z.pc("ngClass",z.rc(9,We,"list"==t.url)),z.Db(3),z.pc("ngClass",z.rc(11,We,"sheet"==t.url)),z.Db(2),z.pc("ngClass",z.rc(13,We,"sheet"==t.url)),z.Db(4),z.pc("searchText",t.searchText),z.Db(8),z.pc("ngIf",!t.fullScreen),z.Db(1),z.pc("ngIf",t.fullScreen))},directives:[S.a,ae.b,ae.e,ae.d,ae.c,b.b,ke.b,f.a,$.q,ke.a,Ce.a,$.t],styles:["shipment-sheet-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-sheet-header.below{z-index:2}shipment-sheet-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-sheet-header .mat-toolbar .new-shipment{position:absolute;top:64px;left:0;z-index:15;background:#fff}shipment-sheet-header .chat-panel-toggle-button,shipment-sheet-header .language-button,shipment-sheet-header .quick-panel-toggle-button,shipment-sheet-header .user-button,shipment-sheet-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){shipment-sheet-header .chat-panel-toggle-button,shipment-sheet-header .language-button,shipment-sheet-header .quick-panel-toggle-button,shipment-sheet-header .user-button,shipment-sheet-header fuse-search-bar{height:56px}}shipment-sheet-header .navbar-toggle-button{min-width:56px;height:56px}shipment-sheet-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-sheet-header .toolbar-separator{height:56px}}"],encapsulation:2}),Oe),Ie=n("vxfF"),Ae=n("cfqv"),qe=n("0Zc1"),Te=function(){return["Revenue","Cost","Net Revenue"]},Pe=function(e){return{"text-right":e}};function Re(e,t){if(1&e&&(z.Xb(0,"th",6),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.Ic("width",n.width,"px"),z.pc("ngClass",z.rc(5,Pe,z.qc(4,Te).includes(n.name))),z.Db(1),z.Mc(n.name)}}function Le(e,t){if(1&e&&(z.Xb(0,"tr"),z.Jc(1,Re,2,7,"th",5),z.Sb(2,"th",3),z.Wb()),2&e){var n=z.jc();z.Db(1),z.pc("ngForOf",n.displayObj.table_setting)}}function Fe(e,t){if(1&e&&(z.Xb(0,"td"),z.Xb(1,"div",11),z.Xb(2,"span"),z.Lc(3),z.Wb(),z.Xb(4,"span",12),z.Lc(5),z.Wb(),z.Wb(),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Ic("width",n.width,"px"),z.Db(3),z.Mc(i.number[0]),z.Db(2),z.Mc(i.number[1])}}var Be=function(e){return{"text-bold":e}};function Ne(e,t){if(1&e&&(z.Xb(0,"td",13),z.Lc(1),z.kc(2,"number"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Ic("width",n.width,"px"),z.pc("ngClass",z.rc(7,Be,"Net Revenue"==n.name)),z.Db(1),z.Nc(" ",z.mc(2,4,i.data[n.value],"1.0-0")," ")}}function ze(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.kc(2,"date"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",z.mc(2,3,i.data[n.value],"MM/dd/yyyy")," ")}}function Ve(e,t){if(1&e){var n=z.Yb();z.Xb(0,"td"),z.Xb(1,"a",14),z.fc("click",(function(e){z.Bc(n);var t=z.jc(2);return t.goDetails.emit(t.data.id)})),z.Lc(2),z.Wb(),z.Wb()}if(2&e){var i=z.jc().$implicit,a=z.jc();z.Ic("width",i.width,"px"),z.Db(2),z.Mc(a.data[i.value])}}function Me(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Ic("width",n.width,"px"),z.Db(1),z.Mc(i.data[n.value])}}var Je=function(){return["Depart time","Arrive time"]};function Ee(e,t){if(1&e&&(z.Vb(0),z.Vb(1,7),z.Jc(2,Fe,6,4,"td",8),z.Jc(3,Ne,3,9,"td",9),z.Jc(4,ze,3,6,"td",8),z.Jc(5,Ve,3,3,"td",8),z.Jc(6,Me,2,3,"td",10),z.Ub(),z.Ub()),2&e){var n=t.$implicit;z.Db(1),z.pc("ngSwitch",!0),z.Db(1),z.pc("ngSwitchCase","No"==n.name),z.Db(1),z.pc("ngSwitchCase",z.qc(5,Te).includes(n.name)),z.Db(1),z.pc("ngSwitchCase",z.qc(6,Je).includes(n.name)),z.Db(1),z.pc("ngSwitchCase","Code"==n.name)}}var Ue,$e=((Ue=function(){function e(t,n,i,a){_classCallCheck(this,e),this.router=t,this.authService=n,this.commonService=i,this.datePipe=a,this.updateItemDetail=new z.o,this.editPanel=new z.o,this.editHeader=new z.o,this.goDetails=new z.o,this.process=[{id:0,name:"Booking"},{id:1,name:"Stuffing"},{id:2,name:"Ready to load"},{id:3,name:"Load"},{id:4,name:"Discharge"},{id:5,name:"Pick up"},{id:6,name:"Complete"}],this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.process.find((function(t){return t.id==e.data.process}));this.data.process_name=t.name}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"headerChange",value:function(){this.header.shipment=!this.header.shipment,this.editHeader.emit(this.header)}},{key:"headerItemChange",value:function(){this.header.item=!this.header.item,this.editHeader.emit(this.header)}}]),e}()).\u0275fac=function(e){return new(e||Ue)(z.Rb(l.g),z.Rb(U.a),z.Rb(qe.a),z.Rb($.f))},Ue.\u0275cmp=z.Lb({type:Ue,selectors:[["shipment-detail-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",label:"label",number:"number",permission:"permission"},outputs:{updateItemDetail:"updateItemDetail",editPanel:"editPanel",editHeader:"editHeader",goDetails:"goDetails"},decls:11,vars:10,consts:[[1,"simple","detail-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sticky-col"],["fxFlex","50",1,"cursor-pointer","font-size-32",3,"matTooltip","matTooltipPosition","click"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width","ngClass",4,"ngSwitchCase"],[3,"width",4,"ngSwitchDefault"],["fxLayout","column","fxLayoutAlign","center center"],[2,"border-top","1px solid"],[1,"text-right",3,"ngClass"],[1,"cursor-pointer",3,"click"]],template:function(e,t){1&e&&(z.Xb(0,"table",0),z.Xb(1,"thead"),z.Jc(2,Le,3,1,"tr",1),z.Wb(),z.Xb(3,"tbody"),z.Xb(4,"tr"),z.Jc(5,Ee,7,7,"ng-container",2),z.Xb(6,"td",3),z.Xb(7,"mat-icon",4),z.fc("click",(function(e){return t.headerChange()})),z.Lc(8),z.Wb(),z.Xb(9,"mat-icon",4),z.fc("click",(function(e){return t.headerItemChange()})),z.Lc(10),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()),2&e&&(z.Ic("width",t.displayObj.width,"px"),z.Db(2),z.pc("ngIf",t.header.shipment),z.Db(3),z.pc("ngForOf",t.displayObj.table_setting),z.Db(2),z.pc("matTooltip","Shipment header "+(t.header.shipment?"hide":"show"))("matTooltipPosition","left"),z.Db(1),z.Mc(t.header.shipment?"arrow_drop_down":"arrow_drop_up"),z.Db(1),z.pc("matTooltip","Item header "+(t.header.item?"hide":"show"))("matTooltipPosition","left"),z.Db(1),z.Mc(t.header.item?"arrow_drop_down":"arrow_drop_up"))},directives:[$.t,$.s,f.a,ae.b,v.a,$.q,ke.a,$.x,$.y,$.z,ae.d,ae.c],pipes:[$.g,$.f],styles:["shipment-detail-table .detail-table{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}shipment-detail-table .detail-table td,shipment-detail-table .detail-table th{padding:8px!important}shipment-detail-table .detail-table .sticky-col{width:93px;height:50px;position:sticky;position:-webkit-sticky;right:0;background:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:F.a}}),Ue),He=function e(t){_classCallCheck(this,e),this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"pay_partner",type:"text",required:!0,width:140,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!1,width:100,view:!0},{name:"Invoice_Number",value:"inv_number",column:"inv_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Bank_Ref",value:"bank_ref",column:"bank_ref",type:"text",required:!1,width:150,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Invoice",value:"invoice_number",column:null,type:"text",required:!1,width:80,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this.table_column=t.table_column||this._defaultConfig.filter((function(e){return e.view})).map((function(e){return e.name})),this.table_setting=t.table_setting||this._defaultConfig.filter((function(e){return e.view})),this.width=t.total_correct||0};function Ge(e,t){if(1&e){var n=z.Yb();z.Xb(0,"span"),z.Xb(1,"mat-icon",6),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3);return e.stopPropagation(),t.createItem.emit([t.shipment,"Revenue"])})),z.Lc(2,"add"),z.Wb(),z.Wb()}}var Ye=function(){return["Amount","Tax_Amount","Total_Amount","Total_Tax","Total_Vnd"]},Ke=function(){return["Volume","Tax","Ex_Rate","Currency"]},Qe=function(e,t,n,i){return{"text-right":e,"sticky-col":t,"sticky-col-2":n,"text-center":i}};function Ze(e,t){if(1&e&&(z.Xb(0,"th",5),z.Xb(1,"span"),z.Lc(2),z.Wb(),z.Jc(3,Ge,3,0,"span",2),z.Wb()),2&e){var n=t.$implicit;z.Ic("width",n.width,"px"),z.pc("ngClass",z.uc(7,Qe,z.qc(5,Ye).includes(n.name),"Type"==n.name,"Pay_In"==n.name,z.qc(6,Ke).includes(n.name))),z.Db(2),z.Mc("Button"==n.name?"":n.name),z.Db(1),z.pc("ngIf","Button"==n.name)}}function et(e,t){if(1&e&&(z.Xb(0,"tr"),z.Jc(1,Ze,4,12,"th",4),z.Wb()),2&e){var n=z.jc();z.Db(1),z.pc("ngForOf",n.displayObj.table_setting)}}function tt(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().index;z.Ic("width",n.width,"px"),z.Db(1),z.Mc(i+1)}}function nt(e,t){if(1&e&&(z.Xb(0,"td",13),z.Lc(1),z.kc(2,"number"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",z.mc(2,3,i[n.value],"1.2-2")," ")}}function it(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.kc(2,"date"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",z.mc(2,3,i[n.value],"MM/dd/yyyy")," ")}}function at(e,t){if(1&e){var n=z.Yb();z.Xb(0,"mat-icon",6),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3).$implicit,i=z.jc();return e.stopPropagation(),i.updateItem.emit([t,i.label])})),z.Lc(1,"edit"),z.Wb()}}function rt(e,t){if(1&e){var n=z.Yb();z.Xb(0,"mat-icon",16),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3).$implicit,i=z.jc();return e.stopPropagation(),i.deleteItem.emit([t.id,i.label])})),z.Lc(1,"delete"),z.Wb()}}function ot(e,t){if(1&e&&(z.Xb(0,"td"),z.Jc(1,at,2,0,"mat-icon",14),z.Jc(2,rt,2,0,"mat-icon",15),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc(2);z.Ic("width",n.width,"px"),z.Db(1),z.pc("ngIf",i.permission.edit),z.Db(1),z.pc("ngIf",i.permission.delete)}}function ct(e,t){if(1&e&&(z.Xb(0,"td",17),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",i[n.value]," ")}}function lt(e,t){if(1&e&&(z.Xb(0,"td",18),z.Lc(1," Rev "),z.Wb()),2&e){var n=z.jc().$implicit;z.Ic("width",n.width,"px")}}var st=function(){return["Invoice_Number","Bank_Ref","Info","Total_Tax","Total_Vnd"]},ut=function(e,t){return{"text-truncate":e,"text-center":t}};function pt(e,t){if(1&e&&(z.Xb(0,"td",19),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.pc("ngClass",z.sc(6,ut,z.qc(4,st).includes(n.name),z.qc(5,Ke).includes(n.name))),z.Db(1),z.Mc(i[n.value])}}var ht=function(){return["Issue_Date","Pay_Date"]};function bt(e,t){if(1&e&&(z.Vb(0),z.Vb(1,7),z.Jc(2,tt,2,3,"td",8),z.Jc(3,nt,3,6,"td",9),z.Jc(4,it,3,6,"td",8),z.Jc(5,ot,3,4,"td",8),z.Jc(6,ct,2,3,"td",10),z.Jc(7,lt,2,2,"td",11),z.Jc(8,pt,2,9,"td",12),z.Ub(),z.Ub()),2&e){var n=t.$implicit;z.Db(1),z.pc("ngSwitch",!0),z.Db(1),z.pc("ngSwitchCase","No"==n.name),z.Db(1),z.pc("ngSwitchCase",z.qc(7,Ye).includes(n.name)),z.Db(1),z.pc("ngSwitchCase",z.qc(8,ht).includes(n.name)),z.Db(1),z.pc("ngSwitchCase","Button"==n.name),z.Db(1),z.pc("ngSwitchCase","Pay_In"==n.name),z.Db(1),z.pc("ngSwitchCase","Type"==n.name)}}function mt(e,t){if(1&e&&(z.Xb(0,"tr"),z.Jc(1,bt,9,9,"ng-container",3),z.Wb()),2&e){var n=z.jc();z.Db(1),z.pc("ngForOf",n.displayObj.table_setting)}}var dt,ft=((dt=function(){function e(t){_classCallCheck(this,e),this.commonService=t,this.createItem=new z.o,this.updateItem=new z.o,this.deleteItem=new z.o,this.editPanel=new z.o,this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.displayObj=this.displayObj?this.displayObj:new He({})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||dt)(z.Rb(qe.a))},dt.\u0275cmp=z.Lb({type:dt,selectors:[["shipment-revenue-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",shipment:"shipment",label:"label",permission:"permission"},outputs:{createItem:"createItem",updateItem:"updateItem",deleteItem:"deleteItem",editPanel:"editPanel"},decls:6,vars:4,consts:[[1,"content"],[1,"simple","revenue-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["color","accent",1,"cursor-pointer",3,"click"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width",4,"ngSwitchCase"],["class","sticky-col-2",3,"width",4,"ngSwitchCase"],["class","sticky-col",3,"width",4,"ngSwitchCase"],["class","h-44",3,"width","ngClass",4,"ngSwitchDefault"],[1,"text-right"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"],[1,"sticky-col-2"],[1,"sticky-col"],[1,"h-44",3,"ngClass"]],template:function(e,t){1&e&&(z.Xb(0,"div",0),z.Xb(1,"table",1),z.Xb(2,"thead"),z.Jc(3,et,2,1,"tr",2),z.Wb(),z.Xb(4,"tbody"),z.Jc(5,mt,2,1,"tr",3),z.Wb(),z.Wb(),z.Wb()),2&e&&(z.Db(1),z.Ic("width",t.displayObj.width,"px"),z.Db(2),z.pc("ngIf",t.header.item),z.Db(2),z.pc("ngForOf",t.data))},directives:[$.t,$.s,$.q,ke.a,f.a,$.x,$.y,$.z],pipes:[$.g,$.f],styles:["shipment-revenue-table .content{border:1px solid;margin-bottom:4px}shipment-revenue-table .content .revenue-table{font-size:12px!important}shipment-revenue-table .content .revenue-table td,shipment-revenue-table .content .revenue-table th{padding:8px!important;background-color:#fff}shipment-revenue-table .content .revenue-table .sticky-col{width:42px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}shipment-revenue-table .content .revenue-table .sticky-col-2{width:52px;position:sticky;position:-webkit-sticky;right:40px;background-color:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:F.a}}),dt);function vt(e,t){if(1&e){var n=z.Yb();z.Xb(0,"span"),z.Xb(1,"mat-icon",6),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3);return e.stopPropagation(),t.createItem.emit([t.shipment,"Cost"])})),z.Lc(2,"add"),z.Wb(),z.Wb()}}var gt=function(){return["Amount","Tax_Amount","Total_Amount","Total_Tax","Total_Vnd"]},yt=function(){return["Volume","Tax","Ex_Rate","Currency"]},wt=function(e,t,n,i){return{"text-right":e,"sticky-col":t,"sticky-col-2":n,"text-center":i}};function xt(e,t){if(1&e&&(z.Xb(0,"th",5),z.Xb(1,"span"),z.Lc(2),z.Wb(),z.Jc(3,vt,3,0,"span",2),z.Wb()),2&e){var n=t.$implicit;z.Ic("width",n.width,"px"),z.pc("ngClass",z.uc(7,wt,z.qc(5,gt).includes(n.name),"Type"==n.name,"Pay_In"==n.name,z.qc(6,yt).includes(n.name))),z.Db(2),z.Mc("Button"==n.name?"":n.name),z.Db(1),z.pc("ngIf","Button"==n.name)}}function _t(e,t){if(1&e&&(z.Xb(0,"tr"),z.Jc(1,xt,4,12,"th",4),z.Wb()),2&e){var n=z.jc();z.Db(1),z.pc("ngForOf",n.displayObj.table_setting)}}function St(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().index;z.Ic("width",n.width,"px"),z.Db(1),z.Mc(i+1)}}function kt(e,t){if(1&e&&(z.Xb(0,"td",13),z.Lc(1),z.kc(2,"number"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",z.mc(2,3,i[n.value],"1.2-2")," ")}}function Ct(e,t){if(1&e&&(z.Xb(0,"td"),z.Lc(1),z.kc(2,"date"),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",z.mc(2,3,i[n.value],"MM/dd/yyyy")," ")}}function Dt(e,t){if(1&e&&(z.Xb(0,"td",14),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.Db(1),z.Nc(" ",i[n.value]," ")}}function jt(e,t){if(1&e){var n=z.Yb();z.Xb(0,"mat-icon",6),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3).$implicit,i=z.jc();return e.stopPropagation(),i.updateItem.emit([t,i.label])})),z.Lc(1,"edit"),z.Wb()}}function Ot(e,t){if(1&e){var n=z.Yb();z.Xb(0,"mat-icon",17),z.fc("click",(function(e){z.Bc(n);var t=z.jc(3).$implicit,i=z.jc();return e.stopPropagation(),i.deleteItem.emit([t.id,i.label])})),z.Lc(1,"delete"),z.Wb()}}function Wt(e,t){if(1&e&&(z.Xb(0,"td"),z.Jc(1,jt,2,0,"mat-icon",15),z.Jc(2,Ot,2,0,"mat-icon",16),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc(2);z.Ic("width",n.width,"px"),z.Db(1),z.pc("ngIf",i.permission.edit),z.Db(1),z.pc("ngIf",i.permission.delete)}}function Xt(e,t){if(1&e&&(z.Xb(0,"td",18),z.Lc(1," Cost "),z.Wb()),2&e){var n=z.jc().$implicit;z.Ic("width",n.width,"px")}}var It=function(){return["Invoice_Number","Bank_Ref","Info","Total_Tax","Total_Vnd"]},At=function(e,t){return{"text-truncate":e,"text-center":t}};function qt(e,t){if(1&e&&(z.Xb(0,"td",19),z.Lc(1),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc().$implicit;z.Ic("width",n.width,"px"),z.pc("ngClass",z.sc(6,At,z.qc(4,It).includes(n.name),z.qc(5,yt).includes(n.name))),z.Db(1),z.Mc(i[n.value])}}var Tt=function(){return["Issue_Date","Pay_Date"]};function Pt(e,t){if(1&e&&(z.Vb(0),z.Vb(1,7),z.Jc(2,St,2,3,"td",8),z.Jc(3,kt,3,6,"td",9),z.Jc(4,Ct,3,6,"td",8),z.Jc(5,Dt,2,3,"td",10),z.Jc(6,Wt,3,4,"td",8),z.Jc(7,Xt,2,2,"td",11),z.Jc(8,qt,2,9,"td",12),z.Ub(),z.Ub()),2&e){var n=t.$implicit;z.Db(1),z.pc("ngSwitch",!0),z.Db(1),z.pc("ngSwitchCase","No"==n.name),z.Db(1),z.pc("ngSwitchCase",z.qc(7,gt).includes(n.name)),z.Db(1),z.pc("ngSwitchCase",z.qc(8,Tt).includes(n.name)),z.Db(1),z.pc("ngSwitchCase","Pay_In"==n.name),z.Db(1),z.pc("ngSwitchCase","Button"==n.name),z.Db(1),z.pc("ngSwitchCase","Type"==n.name)}}function Rt(e,t){if(1&e&&(z.Xb(0,"tr"),z.Jc(1,Pt,9,9,"ng-container",3),z.Wb()),2&e){var n=z.jc();z.Db(1),z.pc("ngForOf",n.displayObj.table_setting)}}var Lt,Ft=((Lt=function(){function e(t,n,i){_classCallCheck(this,e),this.router=t,this.authService=n,this.commonService=i,this.createItem=new z.o,this.updateItem=new z.o,this.deleteItem=new z.o,this.editPanel=new z.o,this.displayedColumns=[],this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||Lt)(z.Rb(l.g),z.Rb(U.a),z.Rb(qe.a))},Lt.\u0275cmp=z.Lb({type:Lt,selectors:[["shipment-cost-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",shipment:"shipment",label:"label",permission:"permission"},outputs:{createItem:"createItem",updateItem:"updateItem",deleteItem:"deleteItem",editPanel:"editPanel"},decls:6,vars:4,consts:[[1,"content"],[1,"simple","cost-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["color","accent",1,"cursor-pointer",3,"click"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width",4,"ngSwitchCase"],["class","sticky-col-2",3,"width",4,"ngSwitchCase"],["class","sticky-col",3,"width",4,"ngSwitchCase"],["class","h-44",3,"width","ngClass",4,"ngSwitchDefault"],[1,"text-right"],[1,"sticky-col-2"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"],[1,"sticky-col"],[1,"h-44",3,"ngClass"]],template:function(e,t){1&e&&(z.Xb(0,"div",0),z.Xb(1,"table",1),z.Xb(2,"thead"),z.Jc(3,_t,2,1,"tr",2),z.Wb(),z.Xb(4,"tbody"),z.Jc(5,Rt,2,1,"tr",3),z.Wb(),z.Wb(),z.Wb()),2&e&&(z.Db(1),z.Ic("width",t.displayObj.width,"px"),z.Db(2),z.pc("ngIf",t.header.item),z.Db(2),z.pc("ngForOf",t.data))},directives:[$.t,$.s,$.q,ke.a,f.a,$.x,$.y,$.z],pipes:[$.g,$.f],styles:["shipment-cost-table .content{border:1px solid;margin-bottom:4px}shipment-cost-table .content .cost-table{font-size:12px!important}shipment-cost-table .content .cost-table td,shipment-cost-table .content .cost-table th{padding:8px!important;background-color:#fff}shipment-cost-table .content .cost-table .sticky-col{width:42px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}shipment-cost-table .content .cost-table .sticky-col-2{width:52px;position:sticky;position:-webkit-sticky;right:40px;background-color:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:F.a}}),Lt);function Bt(e,t){1&e&&(z.Xb(0,"div",11),z.Xb(1,"span",12),z.Lc(2),z.Wb(),z.Wb()),2&e&&(z.Db(2),z.Mc("No Shipment"))}function Nt(e,t){if(1&e&&(z.Xb(0,"mat-chip",14),z.Xb(1,"span",15),z.Lc(2),z.kc(3,"number"),z.Wb(),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Db(2),z.Oc("",z.mc(3,2,i.total.revenue[n],"1.2-2")," ",n,"")}}function zt(e,t){if(1&e&&(z.Vb(0),z.Jc(1,Nt,4,5,"mat-chip",13),z.Ub()),2&e){var n=t.$implicit,i=z.jc();z.Db(1),z.pc("ngIf",i.total.revenue[n]>0)}}function Vt(e,t){if(1&e&&(z.Xb(0,"mat-chip",14),z.Xb(1,"span",15),z.Lc(2),z.kc(3,"number"),z.Wb(),z.Wb()),2&e){var n=z.jc().$implicit,i=z.jc();z.Db(2),z.Oc("",z.mc(3,2,i.total.cost[n],"1.2-2")," ",n,"")}}function Mt(e,t){if(1&e&&(z.Vb(0),z.Jc(1,Vt,4,5,"mat-chip",13),z.Ub()),2&e){var n=t.$implicit,i=z.jc();z.Db(1),z.pc("ngIf",i.total.cost[n]>0)}}function Jt(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div"),z.Xb(1,"shipment-revenue-table",19),z.fc("editPanel",(function(e){z.Bc(n);var t=z.jc().index;return z.jc().editPanel(e,t)}))("createItem",(function(e){return z.Bc(n),z.jc(2).createItemDetail.emit(e)}))("updateItem",(function(e){return z.Bc(n),z.jc(2).updateItemDetail.emit(e)}))("deleteItem",(function(e){return z.Bc(n),z.jc(2).deleteItemDetail.emit(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc().$implicit,a=z.jc();z.Db(1),z.pc("shipment",i)("label","Revenue")("header",a.header)("permission",a.permission)("displayObj",a.displayObjRevenue)("data",i.revenue)}}function Et(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div"),z.Xb(1,"shipment-cost-table",20),z.fc("createItem",(function(e){return z.Bc(n),z.jc(2).createItemDetail.emit(e)}))("editPanel",(function(e){z.Bc(n);var t=z.jc().index;return z.jc().editPanel(e,t)}))("updateItem",(function(e){return z.Bc(n),z.jc(2).updateItemDetail.emit(e)}))("deleteItem",(function(e){return z.Bc(n),z.jc(2).deleteItemDetail.emit(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc().$implicit,a=z.jc();z.Db(1),z.pc("shipment",i)("label","Cost")("header",a.header)("permission",a.permission)("displayObj",a.displayObjCost)("data",i.cost)}}var Ut=function(e,t){return[e,t]};function $t(e,t){if(1&e){var n=z.Yb();z.Xb(0,"div",16),z.Xb(1,"div"),z.Xb(2,"shipment-detail-table",17),z.fc("updateItem",(function(e){return z.Bc(n),z.jc().updateItemDetail.emit(e)}))("editHeader",(function(e){return z.Bc(n),z.jc().editHeader.emit(e)}))("goDetails",(function(e){return z.Bc(n),z.jc().goDetails.emit(e)}))("editPanel",(function(e){z.Bc(n);var i=t.index;return z.jc().editPanel(e,i)})),z.Wb(),z.Wb(),z.Jc(3,Jt,2,6,"div",18),z.Jc(4,Et,2,6,"div",18),z.Wb()}if(2&e){var i=t.$implicit,a=t.index,r=z.jc();z.Db(2),z.pc("label","Detail")("header",r.header)("permission",r.permission)("number",z.sc(8,Ut,a+1,r.shipments.length))("displayObj",r.displayObjDetail)("data",i),z.Db(1),z.pc("ngIf",r.displayObjDiv.view_div.includes("Revenue")),z.Db(1),z.pc("ngIf",r.displayObjDiv.view_div.includes("Cost"))}}var Ht,Gt=((Ht=function(){function e(t,n,i){_classCallCheck(this,e),this._activatedRoute=t,this.authService=n,this._location=i,this.createItemDetail=new z.o,this.updateItemDetail=new z.o,this.deleteItemDetail=new z.o,this.editHeader=new z.o,this.goDetails=new z.o,this.height=560,this.editLabel="Table",this.shipmentId=0,this.arrCurrency=[],this.total={revenue:{},cost:{}},this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.width<600?t.height:t.height-64-64-16})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){var n=t?64:0;e.height=e.authService.screenWidth<600?e.authService.screenHeight+n:e.authService.screenHeight-64-64-16+n})),this.getTotal()}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(e){e.shipments&&e.shipments.currentValue&&(this.shipments=e.shipments.currentValue,this.getTotal())}},{key:"createItem",value:function(e){e.push(this.shipmentId),this.createItemDetail.emit(e)}},{key:"getTotal",value:function(){var e=this;this.arrCurrency=[],this.total={revenue:{},cost:{}},this.shipments.map((function(t){t.revenue.map((function(t){e.arrCurrency.includes(t.currency_code)||(e.arrCurrency.push(t.currency_code),e.total.revenue[t.currency_code]=0,e.total.cost[t.currency_code]=0),e.total.revenue[t.currency_code]+=t.total_amount+t.total_tax})),t.cost.map((function(t){e.arrCurrency.includes(t.currency_code)||(e.arrCurrency.push(t.currency_code),e.total.revenue[t.currency_code]=0,e.total.cost[t.currency_code]=0),e.total.cost[t.currency_code]+=t.total_amount+t.total_tax}))})),this.arrCurrency.sort()}}]),e}()).\u0275fac=function(e){return new(e||Ht)(z.Rb(l.a),z.Rb(U.a),z.Rb($.n))},Ht.\u0275cmp=z.Lb({type:Ht,selectors:[["shipment-sheet-table"]],inputs:{shipments:"shipments",header:"header",displayObjRevenue:"displayObjRevenue",displayObjCost:"displayObjCost",displayObjDetail:"displayObjDetail",displayObjDiv:"displayObjDiv",newExpand:"newExpand",permission:"permission"},outputs:{createItemDetail:"createItemDetail",updateItemDetail:"updateItemDetail",deleteItemDetail:"deleteItemDetail",editHeader:"editHeader",goDetails:"goDetails"},features:[z.Bb()],decls:21,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"shipment-sheet-table"],["fxLayout","row",1,"h-104"],["fxFlex","50"],[1,"group","mb-12","mt-12"],[1,"p-8","w-100-p"],["fxLayout","row","fxLayoutAlign","start center",2,"overflow","auto"],[2,"height","60px"],[4,"ngFor","ngForOf"],["autosize","","fxLayout","column",1,"content"],["class","mat-elevation-z4 mb-4",4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],["color","accent","selected","true",4,"ngIf"],["color","accent","selected","true"],[2,"white-space","nowrap"],[1,"mat-elevation-z4","mb-4"],[3,"label","header","permission","number","displayObj","data","updateItem","editHeader","goDetails","editPanel"],[4,"ngIf"],[3,"shipment","label","header","permission","displayObj","data","editPanel","createItem","updateItem","deleteItem"],[3,"shipment","label","header","permission","displayObj","data","createItem","editPanel","updateItem","deleteItem"]],template:function(e,t){1&e&&(z.Jc(0,Bt,3,1,"div",0),z.Xb(1,"div",1),z.Xb(2,"div",2),z.Xb(3,"div",3),z.Xb(4,"div",4),z.Xb(5,"h2"),z.Lc(6,"Total Revenue"),z.Wb(),z.Xb(7,"div",5),z.Xb(8,"div",6),z.Xb(9,"mat-chip-list",7),z.Jc(10,zt,2,1,"ng-container",8),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Xb(11,"div",3),z.Xb(12,"div",4),z.Xb(13,"h2"),z.Lc(14,"Total Cost"),z.Wb(),z.Xb(15,"div",5),z.Xb(16,"div",6),z.Xb(17,"mat-chip-list",7),z.Jc(18,Mt,2,1,"ng-container",8),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Xb(19,"cdk-virtual-scroll-viewport",9),z.Jc(20,$t,5,11,"div",10),z.Wb(),z.Wb()),2&e&&(z.pc("ngIf",0===t.shipments.length),z.Db(1),z.Ic("height",t.height,"px"),z.Db(9),z.pc("ngForOf",t.arrCurrency),z.Db(8),z.pc("ngForOf",t.arrCurrency),z.Db(1),z.Ic("height",t.height-104,"px"),z.Db(1),z.pc("cdkVirtualForOf",t.shipments))},directives:[$.t,ae.d,ae.b,ae.c,j.c,$.s,Ie.e,Ae.a,Ie.d,ae.e,j.a,$e,ft,Ft],pipes:[$.g],styles:["shipment-sheet-table .no-shipments-text{font-size:24px;font-weight:300}shipment-sheet-table .group{margin-left:0;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-table .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:11px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:20}shipment-sheet-table .group .mat-chip-list-wrapper{flex-wrap:nowrap;padding-top:16px}shipment-sheet-table cdk-virtual-scroll-viewport{width:100%}"],encapsulation:2,data:{animation:F.a}}),Ht),Yt=n("JX91"),Kt=n("lJxs"),Qt=["formDirective"];function Zt(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.short_name," ")}}function en(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.short_name," ")}}function tn(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Mc(n.name)}}function nn(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.name," ")}}function an(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.name," ")}}function rn(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.name," ")}}function on(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.short_name," ")}}function cn(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n.id),z.Db(1),z.Nc(" ",n.short_name," ")}}function ln(e,t){if(1&e&&(z.Xb(0,"mat-option",38),z.Lc(1),z.Wb()),2&e){var n=t.$implicit;z.pc("value",n),z.Db(1),z.Mc(n)}}var sn,un=function(){return[null,1,2,3,4,5,6,7,8,9,10,11,12]},pn=((sn=function(){function e(t,n,i,a){_classCallCheck(this,e),this.formBuilder=t,this.authService=n,this.commonService=i,this.datePipe=a,this.searchSelShipment=new z.o,this.year=(new Date).getFullYear(),this.form=this.formBuilder.group({customer:[null],supplier:[null],owner:[null],country:[null],pay_party:[null],issue_party:[null],pol:[null],pod:[null],month:[null],year:[this.year],date_from:[null],date_to:[null],button:[null],type:[0]}),this.now=new Date,this.height=560,this._unsubscribeAll=new R.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;switch(this.form.patchValue(this.filterData),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.customer):[]}))),this.filteredSupplier=this.form.controls.supplier.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.agent):[]}))),this.filteredPayparty=this.form.controls.pay_party.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.customer):[]}))),this.filteredIssueparty=this.form.controls.issue_party.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.supplier):[]}))),this.filteredCountry=this.form.controls.country.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"name",e.country):[]}))),this.filteredPol=this.form.controls.pol.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]}))),this.filteredPod=this.form.controls.pod.valueChanges.pipe(Object(Yt.a)(""),Object(Kt.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(Kt.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]}))),this.form.controls.button.valueChanges.subscribe((function(t){t&&e.getMonthTime(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(e){e.filterData&&(e.filterData.currentValue||null==e.filterData.currentValue)&&(this.filterData=e.filterData.currentValue,this.form.patchValue(this.filterData))}},{key:"getMonthTime",value:function(e){var t,n,i=this.form.controls.year.value,a=this.form.controls.month.value,r=new Date,o=r.getMonth(),c=r.getFullYear();e&&"M"!=e?"Y"==e?(t=new Date(i,a?a-1:0,1),n=new Date(i,a||12,0)):"TM"==e?(this.form.controls.month.setValue(o+1),t=new Date(c,o,1),n=new Date(c,o+1,0)):"TY"==e&&(this.form.controls.month.setValue(null),t=new Date(c,0,1),n=new Date(c,12,0)):i&&(t=new Date(i,a?a-1:0,1),n=new Date(i,a||12,0)),this.form.controls.date_from.setValue(t),this.form.controls.date_to.setValue(n)}},{key:"setCheck",value:function(e){e.check=!e.check}},{key:"resetForm",value:function(){switch(this.searchNgForm.resetForm(),this.form.controls.type.setValue(0),this.form.controls.year.setValue(this.year),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}}},{key:"onSearchFormSubmit",value:function(e){if("string"==typeof e.customer&&(this.form.controls.customer.setValue(null),e.customer=null),"string"==typeof e.supplier&&(this.form.controls.supplier.setValue(null),e.supplier=null),"string"==typeof e.country&&(this.form.controls.country.setValue(null),e.country=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),e.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),e.pod=null),"string"==typeof e.pay_party&&(this.form.controls.pay_party.setValue(null),e.pay_party=null),"string"==typeof e.issue_party&&(this.form.controls.issue_party.setValue(null),e.issue_party=null),e.valid){var t=JSON.parse(JSON.stringify(e.value));t.date_from=t.date_from?this.datePipe.transform(t.date_from,"yyyy-MM-dd"):null,t.date_to=t.date_to?this.datePipe.transform(t.date_to,"yyyy-MM-dd"):null,this.searchSelShipment.emit(t)}}}]),e}()).\u0275fac=function(e){return new(e||sn)(z.Rb(P.d),z.Rb(U.a),z.Rb(qe.a),z.Rb($.f))},sn.\u0275cmp=z.Lb({type:sn,selectors:[["shipment-sheet-sidebar"]],viewQuery:function(e,t){var n;1&e&&z.Sc(Qt,!0),2&e&&z.wc(n=z.gc())&&(t.searchNgForm=n.first)},inputs:{module:"module",users:"users",customer:"customer",supplier:"supplier",agent:"agent",country:"country",seaport:"seaport",filterData:"filterData"},outputs:{searchSelShipment:"searchSelShipment"},features:[z.Bb()],decls:136,vars:61,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","supplier","matInput","","formControlName","supplier",3,"matAutocomplete"],["autoSup","matAutocomplete"],["formControlName","owner"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete","readonly"],["autoPOL","matAutocomplete"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete","readonly"],["autoPOD","matAutocomplete"],["inputCheck","","aria-label","country","matInput","","formControlName","country",3,"matAutocomplete"],["autoCountry","matAutocomplete"],["inputCheck","","aria-label","pay_party","matInput","","formControlName","pay_party",3,"matAutocomplete"],["autoPay","matAutocomplete"],["inputCheck","","aria-label","issue_party","matInput","","formControlName","issue_party",3,"matAutocomplete"],["autoIssue","matAutocomplete"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","button"],["value","TM",1,"mb-12"],["value","TY",1,"mb-12"],["fxLayout","column","fxLayoutAlign","start start","formControlName","type"],[1,"mb-12",3,"value"],["formControlName","month",3,"selectionChange"],["formControlName","year",3,"selectionChange"],[3,"value"],["inputCheck","","matInput","","name","date_from","formControlName","date_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["inputCheck","","matInput","","name","date_to","formControlName","date_to",3,"matDatepicker","change"],["dateTo",""]],template:function(e,t){if(1&e&&(z.Xb(0,"form",0,1),z.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form)})),z.Xb(2,"div",2),z.Xb(3,"div",3),z.Xb(4,"button",4),z.Lc(5," Submit "),z.Wb(),z.Xb(6,"button",5),z.fc("click",(function(e){return t.resetForm()})),z.Lc(7," Reset "),z.Wb(),z.Wb(),z.Wb(),z.Xb(8,"div",6),z.Xb(9,"div",7),z.Xb(10,"div",8),z.Xb(11,"div",9),z.Xb(12,"div",10),z.Xb(13,"mat-form-field",11),z.Xb(14,"mat-label"),z.Lc(15,"Customer"),z.Wb(),z.Sb(16,"input",12),z.Xb(17,"mat-autocomplete",13,14),z.Jc(19,Zt,2,2,"mat-option",15),z.kc(20,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(21,"div",16),z.Xb(22,"mat-form-field",11),z.Xb(23,"mat-label"),z.Lc(24,"Agent"),z.Wb(),z.Sb(25,"input",17),z.Xb(26,"mat-autocomplete",13,18),z.Jc(28,en,2,2,"mat-option",15),z.kc(29,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(30,"div",16),z.Xb(31,"mat-form-field",11),z.Xb(32,"mat-label"),z.Lc(33,"Owner"),z.Wb(),z.Xb(34,"mat-select",19),z.Jc(35,tn,2,2,"mat-option",15),z.Wb(),z.Wb(),z.Wb(),z.Xb(36,"div",16),z.Xb(37,"mat-form-field",11),z.Xb(38,"mat-label"),z.Lc(39,"POL"),z.Wb(),z.Sb(40,"input",20),z.Xb(41,"mat-autocomplete",13,21),z.Jc(43,nn,2,2,"mat-option",15),z.kc(44,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(45,"div",16),z.Xb(46,"mat-form-field",11),z.Xb(47,"mat-label"),z.Lc(48,"POD"),z.Wb(),z.Sb(49,"input",22),z.Xb(50,"mat-autocomplete",13,23),z.Jc(52,an,2,2,"mat-option",15),z.kc(53,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(54,"div",16),z.Xb(55,"mat-form-field",11),z.Xb(56,"mat-label"),z.Lc(57,"Payment center"),z.Wb(),z.Sb(58,"input",24),z.Xb(59,"mat-autocomplete",13,25),z.Jc(61,rn,2,2,"mat-option",15),z.kc(62,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(63,"div",16),z.Xb(64,"mat-form-field",11),z.Xb(65,"mat-label"),z.Lc(66,"Pay party"),z.Wb(),z.Sb(67,"input",26),z.Xb(68,"mat-autocomplete",13,27),z.Jc(70,on,2,2,"mat-option",15),z.kc(71,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(72,"div",16),z.Xb(73,"mat-form-field",11),z.Xb(74,"mat-label"),z.Lc(75,"Issue party"),z.Wb(),z.Sb(76,"input",28),z.Xb(77,"mat-autocomplete",13,29),z.Jc(79,cn,2,2,"mat-option",15),z.kc(80,"async"),z.Wb(),z.Wb(),z.Wb(),z.Xb(81,"div",30),z.Xb(82,"h2"),z.Lc(83,"Date option"),z.Wb(),z.Xb(84,"mat-radio-group",31),z.Xb(85,"mat-radio-button",32),z.Lc(86,"This month"),z.Wb(),z.Xb(87,"mat-radio-button",33),z.Lc(88,"This year"),z.Wb(),z.Wb(),z.Wb(),z.Xb(89,"div",30),z.Xb(90,"h2"),z.Lc(91,"Date type"),z.Wb(),z.Xb(92,"mat-radio-group",34),z.Xb(93,"mat-radio-button",35),z.Lc(94,"Depart time"),z.Wb(),z.Xb(95,"mat-radio-button",35),z.Lc(96,"Arrive time"),z.Wb(),z.Wb(),z.Wb(),z.Xb(97,"div",16),z.Xb(98,"mat-form-field",11),z.Xb(99,"mat-label"),z.Lc(100,"Month"),z.Wb(),z.Xb(101,"mat-select",36),z.fc("selectionChange",(function(e){return t.getMonthTime("M")})),z.Jc(102,ln,2,2,"mat-option",15),z.Wb(),z.Wb(),z.Wb(),z.Xb(103,"div",16),z.Xb(104,"mat-form-field",11),z.Xb(105,"mat-label"),z.Lc(106,"Year"),z.Wb(),z.Xb(107,"mat-select",37),z.fc("selectionChange",(function(e){return t.getMonthTime("Y")})),z.Xb(108,"mat-option",38),z.Lc(109),z.Wb(),z.Xb(110,"mat-option",38),z.Lc(111),z.Wb(),z.Xb(112,"mat-option",38),z.Lc(113),z.Wb(),z.Xb(114,"mat-option",38),z.Lc(115),z.Wb(),z.Xb(116,"mat-option",38),z.Lc(117),z.Wb(),z.Xb(118,"mat-option",38),z.Lc(119),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Xb(120,"div",16),z.Xb(121,"mat-form-field",11),z.Xb(122,"mat-label"),z.Lc(123,"Date from"),z.Wb(),z.Xb(124,"input",39),z.fc("change",(function(e){return t.commonService.setDateStr(e)})),z.Wb(),z.Sb(125,"mat-datepicker-toggle",40),z.Sb(126,"mat-datepicker",null,41),z.Wb(),z.Wb(),z.Xb(128,"div",16),z.Xb(129,"mat-form-field",11),z.Xb(130,"mat-label"),z.Lc(131,"Date to"),z.Wb(),z.Xb(132,"input",42),z.fc("change",(function(e){return t.commonService.setDateStr(e)})),z.Wb(),z.Sb(133,"mat-datepicker-toggle",40),z.Sb(134,"mat-datepicker",null,43),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()),2&e){var n=z.xc(18),i=z.xc(27),a=z.xc(42),r=z.xc(51),o=z.xc(60),c=z.xc(69),l=z.xc(78),s=z.xc(127),u=z.xc(135);z.pc("formGroup",t.form),z.Db(8),z.Ic("height",t.height,"px"),z.Db(8),z.pc("matAutocomplete",n),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),z.Db(2),z.pc("ngForOf",z.lc(20,46,t.filteredCustomer)),z.Db(6),z.pc("matAutocomplete",i),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.agent)),z.Db(2),z.pc("ngForOf",z.lc(29,48,t.filteredSupplier)),z.Db(7),z.pc("ngForOf",t.users),z.Db(5),z.pc("matAutocomplete",a)("readonly","export"==t.type),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),z.Db(2),z.pc("ngForOf",z.lc(44,50,t.filteredPol)),z.Db(6),z.pc("matAutocomplete",r)("readonly","import"==t.type),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),z.Db(2),z.pc("ngForOf",z.lc(53,52,t.filteredPod)),z.Db(6),z.pc("matAutocomplete",o),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.country)),z.Db(2),z.pc("ngForOf",z.lc(62,54,t.filteredCountry)),z.Db(6),z.pc("matAutocomplete",c),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),z.Db(2),z.pc("ngForOf",z.lc(71,56,t.filteredPayparty)),z.Db(6),z.pc("matAutocomplete",l),z.Db(1),z.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.supplier)),z.Db(2),z.pc("ngForOf",z.lc(80,58,t.filteredIssueparty)),z.Db(14),z.pc("value",0),z.Db(2),z.pc("value",1),z.Db(7),z.pc("ngForOf",z.qc(60,un)),z.Db(6),z.pc("value",t.year-4),z.Db(1),z.Mc(t.year-4),z.Db(1),z.pc("value",t.year-3),z.Db(1),z.Mc(t.year-3),z.Db(1),z.pc("value",t.year-2),z.Db(1),z.Mc(t.year-2),z.Db(1),z.pc("value",t.year-1),z.Db(1),z.Mc(t.year-1),z.Db(1),z.pc("value",t.year),z.Db(1),z.Mc(t.year),z.Db(1),z.pc("value",t.year+1),z.Db(1),z.Mc(t.year+1),z.Db(5),z.pc("matDatepicker",s),z.Db(1),z.pc("for",s),z.Db(7),z.pc("matDatepicker",u),z.Db(1),z.pc("for",u)}},directives:[P.A,P.q,P.h,ae.d,ae.c,b.b,ae.b,re.a,d.c,d.f,g.b,P.b,p.c,P.p,P.g,p.a,$.s,w.a,x.b,x.a,X.n,h.b,h.d,d.h,h.a],pipes:[$.b],styles:["shipment-sheet-sidebar{border-right:1px solid #a3a3a3}shipment-sheet-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-sheet-sidebar .navbar-scroll-container{background:#fff!important}shipment-sheet-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),sn);function hn(e,t){if(1&e){var n=z.Yb();z.Xb(0,"fuse-sidebar",10),z.Xb(1,"shipment-sheet-sidebar",11),z.fc("searchSelShipment",(function(e){return z.Bc(n),z.jc().searchSelShipment(e)})),z.Wb(),z.Wb()}if(2&e){var i=z.jc();z.Db(1),z.pc("filterData",i.filterData)("customer",i.customer)("supplier",i.supplier)("agent",i.agent)("country",i.country)("seaport",i.seaport)("users",i.users)}}var bn,mn,dn,fn,vn,gn,yn,wn,xn,_n,Sn,kn,Cn,Dn=function(e){return{"current-shipment-selected":e}},jn=((bn=function(){function e(t,n,i,a,r,o,c,l,s,u){if(_classCallCheck(this,e),this._fuseSidebarService=t,this.shipmentSheetService=n,this.revenueConfigService=i,this.costConfigService=a,this.detailConfigService=r,this.shipmentConfigService=o,this.router=c,this.authService=l,this._matDialog=s,this.datePipe=u,this.header={shipment:!0,item:!0},this.currentShipment=null,this.sidebarPanel=!0,this.newExpand=!1,this.height=480,this.searchInput=new P.e(""),this._unsubscribeAll=new R.a,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var p=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(p)}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.filterData=this.shipmentSheetService.sheetCurrenSearch?this.shipmentSheetService.sheetCurrenSearch:JSON.parse(JSON.stringify(this.shipmentSheetService.defaultSearch)),this.authService.checkResolve()&&this.getShipments(),this.authService.windowSizeChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.width<600?t.height-64-12-64:t.height-64-64-64-16-12-64})),this.authService.changeScreen.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){var n=t?64:0;e.height=e.authService.screenWidth<600?e.authService.screenHeight-64-12-64+n:e.authService.screenHeight-64-64-64-16-12-64+n})),this.shipmentSheetService.onSelShipmentSheetChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.shipments=t})),this.shipmentSheetService.onDataChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.supplier=e.shipmentSheetService.supplier,e.customer=e.shipmentSheetService.customer,e.agent=e.shipmentSheetService.agent,e.country=e.shipmentSheetService.country,e.seaport=e.shipmentSheetService.seaport,e.users=e.shipmentSheetService.user})),this.shipmentSheetService.onDataItemChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.price=e.shipmentSheetService.price,e.unit=e.shipmentSheetService.unit,e.currency=e.shipmentSheetService.currency,e.country=e.shipmentSheetService.country,e.users=e.shipmentSheetService.user})),this.revenueConfigService.config.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.displayObjRevenue=t})),this.costConfigService.config.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.displayObjCost=t})),this.detailConfigService.config.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.displayObjDetail=t})),this.shipmentConfigService.config.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.displayObjDiv=t})),this.shipmentSheetService.onVoyageChanged.pipe(Object(L.a)(this._unsubscribeAll)).subscribe((function(t){e.voyage=e.shipmentSheetService.voyage}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getShipments",value:function(){var e=this;this.authService.onRequestChanged.next(!0),this.shipmentSheetService.getSelShipmentDetailsList(this.filterData).then((function(t){e.authService.onRequestChanged.next(!1)})).catch((function(t){e.authService.onRequestChanged.next(!1),console.error(t),alert("Error load data")}))}},{key:"deleteShipment",value:function(e){var t=this;confirm("Do you want to delete this shipment?")&&(this.authService.onRequestChanged.next(!0),this.shipmentSheetService.deleteSelShipment(e).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows?(alert("delete shipment success"),t.getShipments()):(console.error(e),alert("Error: No change"))})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("Error: Server error")})))}},{key:"deselectCurrentShipment",value:function(){}},{key:"toggleSelectAll",value:function(){}},{key:"selectShipments",value:function(e,t){}},{key:"deselectShipments",value:function(){}},{key:"toggleTagOnSelectedShipments",value:function(e){}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"selectShipment",value:function(e){var t=this;this.shipmentSheetService.getSelShipmentById(e.id).then((function(e){t.currentShipment=e})).catch((function(e){console.error(e),alert("error load data")}))}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.shipmentSheetService)}},{key:"searchFilter",value:function(e){this.shipmentSheetService.onSearchTextChanged.next(e)}},{key:"searchSelShipment",value:function(e){this.filterData=this.shipmentSheetService.sheetCurrenSearch=e,this.getShipments()}},{key:"clearShipment",value:function(e){this.currentShipment=null}},{key:"changeSetting",value:function(e){var t=this;console.log(e);var n=e[0];"View"==n&&(e[1].div.map((function(e){for(var n in e)t.displayObjDiv.div.find((function(e){return e.name==n})).view=e[n]})),this.shipmentConfigService.config=this.displayObjDiv.div),"Detail table"==n&&(e[1].column.map((function(e){for(var n in e)t.displayObjDetail.column.find((function(e){return e.name==n})).view=e[n]})),this.detailConfigService.config=this.displayObjDetail.column),"Revenue table"==n&&(console.log(this.displayObjRevenue),e[1].column.map((function(e){for(var n in e)t.displayObjRevenue.column.find((function(e){return e.name==n})).view=e[n]})),this.revenueConfigService.config=this.displayObjRevenue.column),"Cost table"==n&&(e[1].column.map((function(e){for(var n in e)t.displayObjCost.column.find((function(e){return e.name==n})).view=e[n]})),this.costConfigService.config=this.displayObjCost.column)}},{key:"createItem",value:function(e){var t=this,n=e[0],i=e[1];"Revenue"==i&&(this.partner=this.customer),"Cost"==i&&(this.partner=this.supplier),this.dialogRef=this._matDialog.open(N.a,{panelClass:"shipment-detail-modal-dialog",data:{label:"Add "+i,shipmentId:n.id,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,shipment:n,data:null}}),this.dialogRef.afterClosed().subscribe((function(e){if(e)switch(t.authService.onRequestChanged.next(!0),i){case"Revenue":t.shipmentSheetService.createSelRevenue(e[2]).then((function(e){t.authService.onRequestChanged.next(!1),e.insertId>0?t.getShipments():(console.error(e),alert("Error create item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("create item error")}));break;case"Cost":t.shipmentSheetService.createSelCost(e[2]).then((function(e){t.authService.onRequestChanged.next(!1),e.insertId>0?t.getShipments():(console.error(e),alert("Error create item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("create item error")}))}}))}},{key:"updateItem",value:function(e){var t=this,n=e[0],i=e[1];"Revenue"==i&&(this.partner=this.customer),"Cost"==i&&(this.partner=this.supplier),this.dialogRef=this._matDialog.open(N.a,{panelClass:"shipment-detail-modal-dialog",data:{label:"Edit "+i,shipmentId:n.shipment,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,data:n}}),this.dialogRef.afterClosed().subscribe((function(e){if(e)switch(t.authService.onRequestChanged.next(!0),i){case"Revenue":t.shipmentSheetService.updateSelRevenue(e[2]).then((function(e){t.authService.onRequestChanged.next(!1),e.affectedRows>0?t.getShipments():(console.error(e),alert("Error update item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("update item error")}));break;case"Cost":t.shipmentSheetService.updateSelCost(e[2]).then((function(e){t.authService.onRequestChanged.next(!1),e.affectedRows>0?t.getShipments():(console.error(e),alert("Error update item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("update item error")}))}}))}},{key:"deleteItem",value:function(e){var t=this,n=e[0],i=e[1];if(confirm("Do you want to delete this item?"))switch(this.authService.onRequestChanged.next(!0),i){case"Revenue":this.shipmentSheetService.deleteSelRevenue(n).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows?t.getShipments():(console.error(e),alert("Error delete item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("delete item error")}));break;case"Cost":this.shipmentSheetService.deleteSelCost(n).then((function(e){t.authService.onRequestChanged.next(!1),1==e.affectedRows?t.getShipments():(console.error(e),alert("Error delete item"),t.getShipments())})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("delete item error")}))}}},{key:"openShipmentModal",value:function(e){var t=this;this.dialogRef=this._matDialog.open(B.a,{panelClass:"shipment-list2-modal-dialog",data:{label:"Add shipment",customer:this.customer,agent:this.agent,seaport:this.seaport,user:this.users,voyage:this.voyage,permission:this.permission}}),this.dialogRef.afterClosed().subscribe((function(e){e&&(t.authService.onRequestChanged.next(!0),t.shipmentSheetService.createSelShipment(e).then((function(e){t.authService.onRequestChanged.next(!1),e.createShipment.insertId>0?t.router.navigate(["/apps/"+t.shipmentSheetService.module+"/shipment/detail/"+e.createShipment.insertId+"/soa"]):console.error(e)})).catch((function(e){t.authService.onRequestChanged.next(!1),console.error(e)})))}))}},{key:"goShipmentList",value:function(e){this.router.navigate(["/apps/"+this.shipmentSheetService.module+"/shipment/"+e])}},{key:"editHeader",value:function(e){this.header=e}},{key:"goDetails",value:function(e){this.router.navigate(["/apps/"+this.shipmentSheetService.module+"/shipment/detail/"+e+"/soa"])}}]),e}()).\u0275fac=function(e){return new(e||bn)(z.Rb(V.a),z.Rb(H),z.Rb(Q),z.Rb(Z),z.Rb(ee),z.Rb(te),z.Rb(l.g),z.Rb(U.a),z.Rb(_.b),z.Rb($.f))},bn.\u0275cmp=z.Lb({type:bn,selectors:[["shipment-sheet"]],decls:10,vars:18,consts:[["id","shipment-sheet",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-sheet-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","shipment-sheet-setting","position","right",1,"sidebar"],[1,"content"],[3,"displayObjDetail","displayObjDiv","displayObjRevenue","displayObjCost","changeSetting"],[1,"center","mr-0","ml-0"],[3,"sidebarName","currentShipment","showHideBar","refreshPage","toggleSidebar","newShipment","goShipmentList","searchFilter"],[1,"content-card",2,"border","none","border-radius","0",3,"ngClass"],["fxFlexAlign","row",1,"content","ml-8","mt-8","mb-8","mr-0"],["fusePerfectScrollbar","",3,"shipments","header","permission","displayObjRevenue","displayObjCost","displayObjDetail","displayObjDiv","newExpand","updateItemDetail","createItemDetail","deleteItemDetail","editHeader","goDetails"],["name","shipment-sheet-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"filterData","customer","supplier","agent","country","seaport","users","searchSelShipment"]],template:function(e,t){1&e&&(z.Xb(0,"div",0),z.Jc(1,hn,2,7,"fuse-sidebar",1),z.Xb(2,"fuse-sidebar",2),z.Xb(3,"div",3),z.Xb(4,"shipment-sheet-setting",4),z.fc("changeSetting",(function(e){return t.changeSetting(e)})),z.Wb(),z.Wb(),z.Wb(),z.Xb(5,"div",5),z.Xb(6,"shipment-sheet-header",6),z.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newShipment",(function(e){return t.openShipmentModal(e)}))("goShipmentList",(function(e){return t.goShipmentList(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),z.Wb(),z.Xb(7,"div",7),z.Xb(8,"div",8),z.Xb(9,"shipment-sheet-table",9),z.fc("updateItemDetail",(function(e){return t.updateItem(e)}))("createItemDetail",(function(e){return t.createItem(e)}))("deleteItemDetail",(function(e){return t.deleteItem(e)}))("editHeader",(function(e){return t.editHeader(e)}))("goDetails",(function(e){return t.goDetails(e)})),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb()),2&e&&(z.Db(1),z.pc("ngIf",t.sidebarPanel),z.Db(3),z.pc("displayObjDetail",t.displayObjDetail)("displayObjDiv",t.displayObjDiv)("displayObjRevenue",t.displayObjRevenue)("displayObjCost",t.displayObjCost),z.Db(2),z.pc("sidebarName","shipment-sheet-sidebar")("currentShipment",t.currentShipment),z.Db(1),z.pc("ngClass",z.rc(16,Dn,t.currentShipment)),z.Db(2),z.pc("shipments",t.shipments)("header",t.header)("permission",t.permission)("displayObjRevenue",t.displayObjRevenue)("displayObjCost",t.displayObjCost)("displayObjDetail",t.displayObjDetail)("displayObjDiv",t.displayObjDiv)("newExpand",t.newExpand))},directives:[ne.a,$.t,ie.a,_e,Xe,$.q,ke.a,ae.a,Gt,re.a,pn],styles:["shipment-sheet{width:100%}shipment-sheet .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-sheet .center .content-card shipment-list{border-right:0}shipment-sheet .center .content-card shipment-details,shipment-sheet .center .content-card shipment-list{-webkit-box-flex:1;flex:1 0 100%}shipment-sheet .center .content-card shipment-details{display:none!important}shipment-sheet .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-sheet .center .content-card.current-shipment-selected .content shipment-list,shipment-sheet .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-sheet .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:F.a}}),bn),On=n("MutI"),Wn=n("IOBc"),Xn=((xn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:xn}),xn.\u0275inj=z.Ob({factory:function(e){return new(e||xn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,A.k,m.b,X.t,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),xn),In=((wn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:wn}),wn.\u0275inj=z.Ob({factory:function(e){return new(e||wn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),wn),An=((yn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:yn}),yn.\u0275inj=z.Ob({factory:function(e){return new(e||yn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),yn),qn=((gn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:gn}),gn.\u0275inj=z.Ob({factory:function(e){return new(e||gn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),gn),Tn=((vn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:vn}),vn.\u0275inj=z.Ob({factory:function(e){return new(e||vn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),vn),Pn=((fn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:fn}),fn.\u0275inj=z.Ob({factory:function(e){return new(e||fn)},imports:[[b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e]]}),fn),Rn=((dn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:dn}),dn.\u0275inj=z.Ob({factory:function(e){return new(e||dn)},imports:[[l.k,b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e,v.b]]}),dn),Ln=((mn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:mn}),mn.\u0275inj=z.Ob({factory:function(e){return new(e||mn)},imports:[[l.k,b.c,d.e,f.b,g.c,y.c,S.b,k.b,X.t,On.c,A.k,m.b,On.c,u.b,s.a,p.b,h.c,w.b,x.c,j.e,Wn.a,Ie.g,Ae.b,Xn,In,An,qn,Tn,Pn,Rn]]}),mn),Fn=n("u+kU"),Bn=((Cn=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"correct_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||Cn)(z.bc(l.g),z.bc(K.a))},Cn.\u0275prov=z.Nb({token:Cn,factory:Cn.\u0275fac}),Cn),Nn=((kn=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"pay_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||kn)(z.bc(l.g),z.bc(K.a))},kn.\u0275prov=z.Nb({token:kn,factory:kn.\u0275fac}),kn),zn=((Sn=function(){function e(t,n){_classCallCheck(this,e),this._router=t,this._platform=n,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"issue_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new M.a({}),this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map((function(t){e._disableColumn.includes(t.name)||(t.view=!1)}));var t=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(t),this._router.events.pipe(Object(G.a)((function(e){return e instanceof l.f}))).subscribe((function(){if(!Y.isEqual(e._configSubject.getValue(),e._defaultConfig)){var t=Y.cloneDeep(e._defaultConfig);e.buildDisplayTable(t)}}))}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitEvent:!0},n=this._configSubject.getValue();n=Y.merge({},n,e),!0===t.emitEvent&&(console.log(n),this.buildDisplayTable(n))}},{key:"getConfig",value:function(){return this._configSubject.asObservable()}},{key:"resetToDefaults",value:function(){var e=Y.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}},{key:"buildDisplayTable",value:function(e){var t=this,n={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map((function(e){n.column.push(e),e.view&&(n.table_column.push(e.name),n.table_setting.push(e),i+=e.width);var a={};a[e.name]=t._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,n.form.push([e.name,a])})),n.width=i,n.disable=this._disableColumn,this._configSubject.next(n)}},{key:"config",set:function(e){var t=this._configSubject.getValue();t=Y.merge([],t.column,e),this.buildDisplayTable(t)},get:function(){return this._configSubject.asObservable()}},{key:"defaultConfig",get:function(){return this._defaultConfig}}]),e}()).\u0275fac=function(e){return new(e||Sn)(z.bc(l.g),z.bc(K.a))},Sn.\u0275prov=z.Nb({token:Sn,factory:Sn.\u0275fac}),Sn),Vn=((_n=function(){function e(){_classCallCheck(this,e),this.sort={container:{cont:"cont_number",type:"cont_type_code",on_hire:"on_hire",off_hire:"off_hire",status:"status"},movement:{cont:"cont_number",date:"date",document:"document",create:"last_name",time:"update_at"}}}return _createClass(e,[{key:"resetData",value:function(e,t,n){e.firstPage(),e.page.next({pageIndex:0,pageSize:t,length:n.length})}},{key:"goPageData",value:function(e,t,n,i){e.page.next({pageIndex:t,pageSize:n,length:i.length})}},{key:"getData",value:function(e,t){return t.slice(e.pageIndex*e.pageSize,(e.pageIndex+1)*e.pageSize)}},{key:"sortData",value:function(e,t,n){var i=this,a=t.slice();return e.active&&""!==e.direction?a.sort((function(t,a){return i.compare(t[i.sort[n][e.active]],a[i.sort[n][e.active]],"asc"===e.direction)})):a}},{key:"compare",value:function(e,t,n){return(e<t?-1:1)*(n?1:-1)}},{key:"clearSort",value:function(e){e.sort({id:"",start:"asc",disableClear:!1})}}]),e}()).\u0275fac=function(e){return new(e||_n)},_n.\u0275prov=z.Nb({token:_n,factory:_n.\u0275fac}),_n);n.d(t,"ShipmentSheet2Module",(function(){return En}));var Mn,Jn=[{path:"",component:jn,resolve:{data:H}}],En=((Mn=function e(){_classCallCheck(this,e)}).\u0275mod=z.Pb({type:Mn}),Mn.\u0275inj=z.Ob({factory:function(e){return new(e||Mn)},providers:[H,Q,Z,Bn,Nn,zn,ee,te,Vn],imports:[[l.k.forChild(Jn),u.b,s.a,p.b,h.c,b.c,m.b,d.e,f.b,v.b,g.c,y.c,w.b,x.c,_.e,S.b,k.b,C.b,D.d,j.e,O.b,W.b,I.b,A.k,X.t,q.a,T.f,Ie.g,Ln,Fn.a]]}),Mn)}}]);