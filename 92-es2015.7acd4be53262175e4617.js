(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{IOBc:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("5HBU"),r=i("bTqV"),a=i("kmnG"),s=i("NFeN"),o=i("qFsG"),c=i("wZkO"),l=i("/t3+"),h=i("bSwM"),p=i("+0xr"),b=i("FKr1"),m=i("MutI"),d=i("fXoL");let u=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(t){return new(t||e)},imports:[[n.a,r.c,a.e,s.b,o.c,c.c,l.b,h.b,b.t,m.c,p.k]]}),e})()},bcYD:function(e,t,i){"use strict";i.r(t);var n=i("tyNb"),r=i("5HBU"),a=i("STbY"),s=i("/1cH"),o=i("iadO"),c=i("bTqV"),l=i("7EHt"),h=i("kmnG"),p=i("NFeN"),b=i("Qu3c"),m=i("qFsG"),d=i("wZkO"),u=i("d3UM"),f=i("QibW"),g=i("0IaG"),x=i("/t3+"),v=i("bSwM"),S=i("M9IT"),w=i("xHqg"),y=i("A5z7"),X=i("bv9b"),k=i("XhcP"),W=i("FKr1"),_=i("1jcm"),L=i("+0xr"),D=i("Dh3D"),C=i("IOBc"),F=i("212X"),O=i("LPQX"),A=i("XNiG"),P=i("1G5W"),z=i("PVWW"),R=i("/N0t"),B=i("fXoL"),I=i("HX77"),T=i("2Vo4"),M=i("jD4G"),j=i("tk/3"),N=i("0Zc1"),J=i("qXBG");let V=(()=>{class e{constructor(e,t,i){this._httpClient=e,this.commonService=t,this.authService=i,this.defaultSearch={process:"all"},this.onDataChanged=new T.a([]),this.onDataItemChanged=new T.a([]),this.onVoyageChanged=new T.a([]),this.onShipmentsListChanged=new T.a([]),this.onSelShipmentDetailsChanged=new T.a([]),this.onFilterChanged=new A.a,this.onSearchTextChanged=new A.a}resolve(e){return this.authService.routerData=e,this.module=e.params.modul,this.authService.back||(this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch))),new Promise((e,t)=>{Promise.all([this.getFilterShipments(this.currenSearch),this.getData(),this.getItemData(),this.getVoyage()]).then(([t])=>{this.onFilterChanged.subscribe(e=>{this.filterBy=e,this.getFilterShipment()}),this.onSearchTextChanged.subscribe(e=>{this.searchText=e,this.getFilterShipment()}),e()},t)})}getShipments(){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/dnl/shipment",e).subscribe(e=>{this.shipments=e,this.filterShipment=JSON.parse(JSON.stringify(e)),this.onShipmentsListChanged.next(this.filterShipment),t(this.filterShipment)},i)})}getData(){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/data",e).subscribe(e=>{this.customer=e[0],this.supplier=e[1],this.seaport=e[2],this.user=e[3],this.onDataChanged.next(e),t(e)},i)})}getFilterShipments(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/shipment/module/"+this.module,e,t).subscribe(e=>{this.shipments=e,this.searchText?this.getFilterShipment():(this.filterShipment=JSON.parse(JSON.stringify(e)),this.onShipmentsListChanged.next(this.filterShipment)),i(this.filterShipment)},n)})}getSelShipmentById(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/id/"+e,t).subscribe(e=>{this.shipment=e[0][0],10==this.shipment.status&&(this.lock=!0),this.onSelShipmentDetailsChanged.next(e),i(e)},n)})}deleteSelShipment(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel-shipment/shipment/"+e,t).subscribe(e=>{i(e)},n)})}getFilterShipment(){let e=JSON.parse(JSON.stringify(this.shipments));this.filterBy&&(this.filterBy.code&&(e=this.commonService.filterText(e,this.filterBy.code,"code")),this.filterBy.bill&&(e=this.commonService.filterText(e,this.filterBy.bill,"bill"))),this.searchText&&""!==this.searchText&&(e=M.a.filterArrayByString(e,this.searchText)),this.filterShipment=e,this.onShipmentsListChanged.next(e)}createSelShipment(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/shipment/new",e,t).subscribe(e=>{i(e)},n)})}getItemData(){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/sel/book/book",e).subscribe(e=>{this.agent=e.agent,this.commodity=e.commodity,this.packageType=e.packageType,this.price=e.price,this.currency=e.currency,this.country=e.country,this.depot=e.depot,this.onDataItemChanged.next(e),t(e)},i)})}getVoyage(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},i="/sel/book/voyage/"+(e?1:0);return new Promise((e,n)=>{this._httpClient.get(this.authService.apiUrl+i,t).subscribe(t=>{this.voyage=t,this.onVoyageChanged.next(t),e(t)},n)})}}return e.\u0275fac=function(t){return new(t||e)(B.bc(j.a),B.bc(N.a),B.bc(J.a))},e.\u0275prov=B.Nb({token:e,factory:e.\u0275fac}),e})();var q=i("ofXK"),H=i("B9zo"),E=i("0JVi"),U=i("XiUz"),G=i("znSr"),Y=i("rPBI");function Q(e,t){if(1&e){const e=B.Yb();B.Xb(0,"div"),B.Xb(1,"button",18),B.fc("click",(function(t){return B.Bc(e),B.jc().clearShipment.emit(null)})),B.Xb(2,"mat-icon",19),B.Lc(3,"arrow_back"),B.Wb(),B.Wb(),B.Wb()}}function $(e,t){if(1&e){const e=B.Yb();B.Xb(0,"button",20),B.fc("click",(function(t){return B.Bc(e),B.jc().newShipment.emit()})),B.Xb(1,"mat-icon",21),B.Lc(2,"add"),B.Wb(),B.Xb(3,"span",22),B.Lc(4,"Shipment"),B.Wb(),B.Wb()}}function K(e,t){if(1&e){const e=B.Yb();B.Xb(0,"button",23),B.fc("click",(function(t){B.Bc(e);const i=B.jc();return t.stopPropagation(),i.changeScreen.emit(!0)})),B.Xb(1,"mat-icon"),B.Lc(2,"flip_to_front"),B.Wb(),B.Wb()}}function Z(e,t){if(1&e){const e=B.Yb();B.Xb(0,"button",23),B.fc("click",(function(t){B.Bc(e);const i=B.jc();return t.stopPropagation(),i.changeScreen.emit(!1)})),B.Xb(1,"mat-icon"),B.Lc(2,"flip_to_back"),B.Wb(),B.Wb()}}let ee=(()=>{class e{constructor(e,t){this.authService=e,this._fuseConfigService=t,this.fullScreen=!1,this.toggleSidebar=new B.o,this.showHideBar=new B.o,this.refreshPage=new B.o,this.newShipment=new B.o,this.clearShipment=new B.o,this.searchFilter=new B.o,this.goShipmentList=new B.o,this._unsubscribeAll=new A.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(J.a),B.Rb(E.b))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-header"]],inputs:{sidebarName:"sidebarName",currentShipment:"currentShipment",searchText:"searchText",permission:"permission",module:"module"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",newShipment:"newShipment",clearShipment:"clearShipment",searchFilter:"searchFilter",goShipmentList:"goShipmentList"},decls:35,vars:7,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],[4,"ngIf"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","class","quick-panel-toggle-button","aria-label","Toggle quick panel",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",3,"click"],[1,"secondary-text"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button",3,"click"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(B.Xb(0,"mat-toolbar",0),B.Xb(1,"div",1),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Xb(4,"button",4),B.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),B.Xb(5,"mat-icon"),B.Lc(6,"menu"),B.Wb(),B.Wb(),B.Xb(7,"button",5),B.fc("click",(function(e){return t.showHideBar.emit()})),B.Xb(8,"mat-icon"),B.Lc(9,"menu"),B.Wb(),B.Wb(),B.Jc(10,Q,4,0,"div",6),B.Wb(),B.Xb(11,"button",7),B.Xb(12,"span",8),B.Lc(13,"Overview"),B.Wb(),B.Xb(14,"mat-icon",9),B.Lc(15,"equalizer"),B.Wb(),B.Wb(),B.Xb(16,"button",7),B.Xb(17,"span",8),B.Lc(18,"Sheet"),B.Wb(),B.Xb(19,"mat-icon",9),B.Lc(20,"view_carousel"),B.Wb(),B.Wb(),B.Wb(),B.Xb(21,"div",10),B.Sb(22,"div",11),B.Xb(23,"filter-search-bar",12),B.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),B.Wb(),B.Sb(24,"div",11),B.Jc(25,$,5,0,"button",13),B.Sb(26,"div",11),B.Xb(27,"button",14),B.fc("click",(function(e){return e.stopPropagation(),t.refreshPage.emit()})),B.Xb(28,"mat-icon",15),B.Lc(29,"refresh"),B.Wb(),B.Wb(),B.Sb(30,"div",11),B.Jc(31,K,3,0,"button",16),B.Jc(32,Z,3,0,"button",16),B.Sb(33,"div",17),B.Sb(34,"div",17),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(10),B.pc("ngIf",t.currentShipment),B.Db(1),B.pc("routerLink","/apps/"+t.module+"/shipment/list"),B.Db(5),B.pc("routerLink","/apps/"+t.module+"/shipment/sheet"),B.Db(7),B.pc("searchText",t.searchText),B.Db(2),B.pc("ngIf",t.permission.create&&("workflow"==t.module||"import-haiphong"==t.module||"import-hochiminh"==t.module)),B.Db(6),B.pc("ngIf",!t.fullScreen),B.Db(1),B.pc("ngIf",t.fullScreen))},directives:[x.a,U.b,U.e,U.d,U.c,c.b,G.b,p.a,q.t,n.i,n.h,Y.a],styles:["shipment-list2-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-list2-header.below{z-index:2}shipment-list2-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-list2-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}shipment-list2-header .logo .logo-icon{width:38px}shipment-list2-header .chat-panel-toggle-button,shipment-list2-header .language-button,shipment-list2-header .quick-panel-toggle-button,shipment-list2-header .user-button,shipment-list2-header fuse-search-bar{min-width:100px;height:64px}@media screen and (max-width:599px){shipment-list2-header .chat-panel-toggle-button,shipment-list2-header .language-button,shipment-list2-header .quick-panel-toggle-button,shipment-list2-header .user-button,shipment-list2-header fuse-search-bar{min-width:56px;height:56px}}shipment-list2-header .navbar-toggle-button{min-width:56px;height:56px}shipment-list2-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-list2-header .toolbar-separator{height:56px}}"],encapsulation:2}),e})();var te=i("vxfF");function ie(e,t){1&e&&(B.Xb(0,"mat-chip"),B.Lc(1,"Booking"),B.Wb())}function ne(e,t){1&e&&(B.Xb(0,"mat-chip",30),B.Lc(1,"Stuffing"),B.Wb())}function re(e,t){1&e&&(B.Xb(0,"mat-chip",31),B.Lc(1,"Ready to load"),B.Wb())}function ae(e,t){1&e&&(B.Xb(0,"mat-chip",32),B.Lc(1,"Load"),B.Wb())}function se(e,t){1&e&&(B.Xb(0,"mat-chip",30),B.Lc(1,"Discharge"),B.Wb())}function oe(e,t){1&e&&(B.Xb(0,"mat-chip",31),B.Lc(1,"Pick up"),B.Wb())}function ce(e,t){1&e&&(B.Xb(0,"mat-chip",32),B.Lc(1,"Complete"),B.Wb())}function le(e,t){if(1&e){const e=B.Yb();B.Xb(0,"button",33),B.fc("click",(function(t){B.Bc(e);const i=B.jc();return t.stopPropagation(),i.deleteShipment.emit(i.shipment.id)})),B.Xb(1,"mat-icon",34),B.Lc(2,"delete"),B.Wb(),B.Wb()}}let he=(()=>{class e{constructor(e,t){this.router=e,this._activatedRoute=t,this.goDetails=new B.o,this.deleteShipment=new B.o,this._unsubscribeAll=new A.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(n.g),B.Rb(n.a))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-table-item"]],inputs:{shipment:"shipment",i:"i",length:"length"},outputs:{goDetails:"goDetails",deleteShipment:"deleteShipment"},decls:51,vars:27,consts:[["fxLayout","row wrap","fxLayoutAlign","start center",2,"border-bottom","1px solid #E0E0E0"],["fxFlex","5","fxLayoutAlign","center",1,"info"],["fxLayout","column","fxLayoutAlign","center center",1,"notes"],[2,"border-top","1px solid"],["fxFlex","95","fxLayout","column",1,"item-shipment"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["fxFlex","45",1,"accent-600-fg","font-size-12"],["fxFlex","40",1,"accent-600-fg","font-size-12"],["fxFlex","15",1,"actions"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"mt-4"],["fxFlex","45",1,"font-size-10"],["fxFlex","40",1,"font-size-10"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"pt-4","pb-4"],["fxFlex","45",1,"info"],[1,"notes","text-truncate","text-bold","cursor-pointer",3,"click"],["fxFlex","40",1,"info"],[1,"notes","text-truncate","text-bold"],["fxFlex","15","fxLayout","row","fxLayoutAlign","center center",1,"info"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"tags","h-40"],["fxFlex","45","fxLayout","column"],[1,"font-size-10"],[1,"font-size-10","mt-4"],["fxFlex","40","fxLayout","column"],["fxFlex","15","fxLayout","row","fxLayoutAlign","center center"],["class","font-size-10","mat-icon-button","",3,"click",4,"ngIf"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""],["mat-icon-button","",1,"font-size-10",3,"click"],[1,"red-fg"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Xb(1,"div",1),B.Xb(2,"div",2),B.Xb(3,"span"),B.Lc(4),B.Wb(),B.Xb(5,"span",3),B.Lc(6),B.Wb(),B.Wb(),B.Wb(),B.Xb(7,"div",4),B.Xb(8,"div",5),B.Xb(9,"span",6),B.Lc(10),B.Wb(),B.Xb(11,"span",7),B.Lc(12),B.Wb(),B.Sb(13,"div",8),B.Wb(),B.Xb(14,"div",9),B.Xb(15,"span",10),B.Lc(16),B.kc(17,"date"),B.Wb(),B.Xb(18,"span",11),B.Lc(19),B.kc(20,"date"),B.Wb(),B.Sb(21,"div",8),B.Wb(),B.Xb(22,"div",12),B.Xb(23,"div",13),B.Xb(24,"a",14),B.fc("click",(function(e){return e.stopPropagation(),t.goDetails.emit(t.shipment)})),B.Lc(25),B.Wb(),B.Wb(),B.Xb(26,"div",15),B.Xb(27,"div",16),B.Lc(28),B.Wb(),B.Wb(),B.Xb(29,"div",17),B.Xb(30,"mat-chip-list",18),B.Jc(31,ie,2,0,"mat-chip",19),B.Jc(32,ne,2,0,"mat-chip",20),B.Jc(33,re,2,0,"mat-chip",21),B.Jc(34,ae,2,0,"mat-chip",22),B.Jc(35,se,2,0,"mat-chip",20),B.Jc(36,oe,2,0,"mat-chip",21),B.Jc(37,ce,2,0,"mat-chip",22),B.Wb(),B.Wb(),B.Wb(),B.Xb(38,"div",23),B.Xb(39,"div",24),B.Xb(40,"span",25),B.Lc(41),B.Wb(),B.Xb(42,"span",26),B.Lc(43),B.Wb(),B.Wb(),B.Xb(44,"div",27),B.Xb(45,"span",25),B.Lc(46),B.Wb(),B.Xb(47,"span",26),B.Lc(48),B.Wb(),B.Wb(),B.Xb(49,"div",28),B.Jc(50,le,3,0,"button",29),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(4),B.Mc(t.i+1),B.Db(2),B.Mc(t.length),B.Db(4),B.Nc("from ",t.shipment.pol_name,""),B.Db(2),B.Nc("to ",t.shipment.pod_name,""),B.Db(4),B.Nc("ETD ",B.mc(17,21,t.shipment.depart_time,"MM/dd/yyyy"),""),B.Db(3),B.Nc("ETA ",B.mc(20,24,t.shipment.arrive_time,"MM/dd/yyyy"),""),B.Db(6),B.Mc(t.shipment.code),B.Db(3),B.Nc(" ",t.shipment.customer_short_name," "),B.Db(2),B.pc("ngSwitch",t.shipment.process),B.Db(1),B.pc("ngSwitchCase",0),B.Db(1),B.pc("ngSwitchCase",1),B.Db(1),B.pc("ngSwitchCase",2),B.Db(1),B.pc("ngSwitchCase",3),B.Db(1),B.pc("ngSwitchCase",4),B.Db(1),B.pc("ngSwitchCase",5),B.Db(1),B.pc("ngSwitchCase",6),B.Db(4),B.Nc("Bill: ",t.shipment.bill,""),B.Db(2),B.Nc("Owner: ",t.shipment.owner_name,""),B.Db(3),B.Nc("Vessel: ",t.shipment.vessel_full_name,""),B.Db(2),B.Nc("Agent: ",t.shipment.agent_short_name,""),B.Db(2),B.pc("ngIf",0==t.shipment.status))},directives:[U.d,U.c,U.b,y.c,q.x,q.y,q.t,y.a,c.b,p.a],pipes:[q.f],styles:["shipment-list2-table-item .item-shipment{width:100%;display:block;position:relative;padding:16px 16px 16px 24px;text-transform:none;flex-shrink:0}shipment-list2-table-item .item-shipment .handle{height:48px;line-height:48px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}shipment-list2-table-item .item-shipment.move-disabled .handle{display:none}shipment-list2-table-item .item-shipment .tags .tag{font-size:.8rem;border-radius:2px;margin:8px 4px 0 0;padding:3px 8px;border:1px solid #039be5}shipment-list2-table-item .item-shipment .tags .tag .tag-color{width:8px;height:8px;margin-right:8px;border-radius:50%}shipment-list2-table-item .item-shipment .info{font-size:1.5rem}shipment-list2-table-item .item-shipment .info .title{font-weight:600}shipment-list2-table-item .item-shipment .info .notes{margin-top:4px}"],encapsulation:2}),e})();function pe(e,t){1&e&&(B.Xb(0,"div",24),B.Xb(1,"span",25),B.Lc(2),B.Wb(),B.Wb()),2&e&&(B.Db(2),B.Mc("No ShipmentList2"))}const be=function(e){return{"current-shipment":e}},me=function(){return{y:"100%"}},de=function(e){return{value:"*",params:e}};function ue(e,t){if(1&e){const e=B.Yb();B.Xb(0,"shipment-list2-table-item",26),B.fc("click",(function(i){B.Bc(e);const n=t.$implicit;return B.jc().selectShipment.emit(n)}))("deleteShipment",(function(t){return B.Bc(e),B.jc().deleteShipment.emit(t)}))("goDetails",(function(t){return B.Bc(e),B.jc().goDetails.emit(t)})),B.Wb()}if(2&e){const e=t.$implicit,i=t.index,n=B.jc();B.pc("shipment",e)("i",i)("length",n.sortedData.length)("ngClass",B.rc(5,be,(null==e?null:e.id)==(null==n.currentQuote?null:n.currentQuote.id)))("@animate",B.rc(8,de,B.qc(7,me)))}}const fe=function(){return{value:"50"}};let ge=(()=>{class e{constructor(e,t,i){this._activatedRoute=e,this.authService=t,this._location=i,this.selectShipment=new B.o,this.deleteShipment=new B.o,this.goDetails=new B.o,this.height=560,this.sort={active:null,direction:null},this._unsubscribeAll=new A.a}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.width<600?e.height-64:e.height-64-64-64-16}),this.authService.changeScreen.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{let t=e?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight-64+t:this.authService.screenHeight-64-64-64-16+t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(e){e.shipments&&(e.shipments.currentValue||null==e.shipments.currentValue)&&(this.shipments=e.shipments.currentValue,this.sortedData=this.shipments.slice(),this.sortData(this.sort))}sortData(e){const t=this.shipments.slice();function i(e,t,i){return(e<t?-1:1)*(i?1:-1)}e.active&&""!==e.direction?(this.sortedData=t.sort((t,n)=>{const r="asc"===e.direction;switch(e.active){case"pol":return i(t.pol_name,n.pol_name,r);case"pod":return i(t.pod_name,n.pod_name,r);case"customer":return i(t.customer_name,n.customer_name,r);case"code":return i(t.code,n.code,r);case"agent":return function(e,t,i){return(new Date(e).getTime()<new Date(t).getTime()?-1:1)*(i?1:-1)}(t.agent_short_name,n.agent_short_name,r);default:return 0}}),this.sort=e):this.sortedData=t}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(n.a),B.Rb(J.a),B.Rb(q.n))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-table"]],inputs:{shipments:"shipments",currentShipment:"currentShipment"},outputs:{selectShipment:"selectShipment",deleteShipment:"deleteShipment",goDetails:"goDetails"},features:[B.Bb()],decls:33,vars:7,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],["matSort","",1,"shipment-list2-",3,"matSortChange"],["fxLayout","row wrap","fxLayoutAlign","start center",2,"border-bottom","1px solid #E0E0E0","width","100%"],["fxFlex","5","fxLayoutAlign","center",1,"info"],[1,"title","text-bold"],["fxFlex","95","fxLayout","column",1,"item-shipment"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["fxFlex","45",1,"info"],["mat-sort-header","code",1,"title","text-truncate","text-bold"],["fxFlex","40",1,"info"],["mat-sort-header","customer",1,"title","text-truncate","text-bold"],["fxFlex","15",1,"actions"],[1,"title","text-truncate","text-bold","cursor-pointer",3,"click"],["fxFlex","100",1,"item-shipment2"],["id","sort","fxFlex","100","fxLayoutAlign","center",3,"expanded"],["sortPanel",""],["fxFlex","95","fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"pl-24","pr-16","pb-8"],["fxFlex","22",1,"info"],["mat-sort-header","pol",1,"title","text-truncate","text-bold"],["fxFlex","23",1,"info"],["mat-sort-header","pod",1,"title","text-truncate","text-bold"],["mat-sort-header","agent",1,"title","text-truncate","text-bold"],["itemSize","115","fxLayout","column"],[3,"shipment","i","length","ngClass","click","deleteShipment","goDetails",4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"shipment","i","length","ngClass","click","deleteShipment","goDetails"]],template:function(e,t){if(1&e){const e=B.Yb();B.Jc(0,pe,3,1,"div",0),B.Xb(1,"div",1),B.fc("matSortChange",(function(e){return t.sortData(e)})),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Xb(4,"div",4),B.Lc(5,"No"),B.Wb(),B.Wb(),B.Xb(6,"div",5),B.Xb(7,"div",6),B.Xb(8,"div",7),B.Xb(9,"div",8),B.Lc(10,"Code"),B.Wb(),B.Wb(),B.Xb(11,"div",9),B.Xb(12,"div",10),B.Lc(13,"Customer"),B.Wb(),B.Wb(),B.Xb(14,"div",11),B.Xb(15,"div",12),B.fc("click",(function(t){return B.Bc(e),B.xc(19).toggle()})),B.Lc(16,"More"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Xb(17,"div",13),B.Xb(18,"mat-expansion-panel",14,15),B.Sb(20,"div",3),B.Xb(21,"div",16),B.Xb(22,"div",17),B.Xb(23,"div",18),B.Lc(24,"POL"),B.Wb(),B.Wb(),B.Xb(25,"div",19),B.Xb(26,"div",20),B.Lc(27,"POD"),B.Wb(),B.Wb(),B.Xb(28,"div",19),B.Xb(29,"div",21),B.Lc(30,"Agent"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Xb(31,"cdk-virtual-scroll-viewport",22),B.Jc(32,ue,1,10,"shipment-list2-table-item",23),B.Wb(),B.Wb()}2&e&&(B.pc("ngIf",0===t.shipments.length),B.Db(1),B.pc("@animateStagger",B.qc(6,fe)),B.Db(17),B.pc("expanded",!1),B.Db(13),B.Ic("height",t.height,"px"),B.Db(1),B.pc("cdkVirtualForOf",t.sortedData))},directives:[q.t,U.d,U.c,U.b,l.c,te.e,te.a,te.d,U.e,he,q.q,G.a],styles:["shipment-list2-table{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}shipment-list2-table .no-shipments-text{font-size:24px;font-weight:300}shipment-list2-table .item-shipment{width:100%;display:block;position:relative;padding:16px 16px 16px 24px;text-transform:none;flex-shrink:0}shipment-list2-table .item-shipment .handle{height:48px;line-height:48px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}shipment-list2-table .item-shipment.move-disabled .handle{display:none}shipment-list2-table .item-shipment .tags .tag{font-size:.8rem;border-radius:2px;margin:8px 4px 0 0;padding:3px 8px;border:1px solid #039be5}shipment-list2-table .item-shipment .tags .tag .tag-color{width:8px;height:8px;margin-right:8px;border-radius:50%}shipment-list2-table .item-shipment .info{font-size:1.5rem}shipment-list2-table .item-shipment .info .title{font-weight:600}shipment-list2-table .item-shipment .info .notes{margin-top:4px}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-header{height:48px!important}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-content{width:100%}shipment-list2-table .item-shipment2 #sort .mat-expansion-panel-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:z.a}}),e})();var xe=i("EwFO"),ve=i("3Pt+");const Se=["titleInput"],we=function(){return{delay:"300ms",scale:"0.2"}},ye=function(e){return{value:"*",params:e}},Xe=function(){return{delay:"400ms"}};function ke(e,t){1&e&&(B.Xb(0,"div",2),B.Xb(1,"mat-icon",3),B.Lc(2,"check_box "),B.Wb(),B.Xb(3,"span",4),B.Lc(4," Select a shipment "),B.Wb(),B.Wb()),2&e&&(B.Db(1),B.pc("@animate",B.rc(3,ye,B.qc(2,we))),B.Db(2),B.pc("@animate",B.rc(6,ye,B.qc(5,Xe))))}function We(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Invalid"),B.Wb())}function _e(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Booking"),B.Wb())}function Le(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Pick up"),B.Wb())}function De(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Deliver"),B.Wb())}function Ce(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Complete"),B.Wb())}function Fe(e,t){1&e&&(B.Xb(0,"span"),B.Lc(1,"Done"),B.Wb())}function Oe(e,t){if(1&e&&(B.Xb(0,"div"),B.Xb(1,"div",5),B.Xb(2,"header",6),B.Xb(3,"div",7),B.Lc(4,"Shipment Information"),B.Wb(),B.Wb(),B.Xb(5,"div",8),B.Xb(6,"div",9),B.Xb(7,"div",10),B.Xb(8,"div",7),B.Lc(9,"Code"),B.Wb(),B.Xb(10,"div",11),B.Xb(11,"a",12),B.Lc(12),B.Wb(),B.Wb(),B.Wb(),B.Xb(13,"div",13),B.Xb(14,"div",7),B.Lc(15,"Partner"),B.Wb(),B.Xb(16,"div",11),B.Lc(17),B.Wb(),B.Wb(),B.Xb(18,"div",13),B.Xb(19,"div",7),B.Lc(20,"MBL"),B.Wb(),B.Xb(21,"div",11),B.Lc(22),B.Wb(),B.Wb(),B.Xb(23,"div",13),B.Xb(24,"div",7),B.Lc(25,"HBL"),B.Wb(),B.Xb(26,"div",11),B.Lc(27),B.Wb(),B.Wb(),B.Xb(28,"div",13),B.Xb(29,"div",7),B.Lc(30,"Pick up"),B.Wb(),B.Xb(31,"div",11),B.Lc(32),B.Wb(),B.Wb(),B.Xb(33,"div",13),B.Xb(34,"div",7),B.Lc(35,"Deliver"),B.Wb(),B.Xb(36,"div",11),B.Lc(37),B.Wb(),B.Wb(),B.Xb(38,"div",13),B.Xb(39,"div",7),B.Lc(40,"Pick date"),B.Wb(),B.Xb(41,"div",11),B.Lc(42),B.kc(43,"date"),B.Wb(),B.Wb(),B.Xb(44,"div",13),B.Xb(45,"div",7),B.Lc(46,"Deliver date"),B.Wb(),B.Xb(47,"div",11),B.Lc(48),B.kc(49,"date"),B.Wb(),B.Wb(),B.Xb(50,"div",13),B.Xb(51,"div",7),B.Lc(52,"Manage date"),B.Wb(),B.Xb(53,"div",11),B.Lc(54),B.kc(55,"date"),B.Wb(),B.Wb(),B.Xb(56,"div",13),B.Xb(57,"div",7),B.Lc(58,"Owner"),B.Wb(),B.Xb(59,"div",11),B.Lc(60),B.Wb(),B.Wb(),B.Xb(61,"div",13),B.Xb(62,"div",7),B.Lc(63,"Status"),B.Wb(),B.Xb(64,"div",11),B.Xb(65,"span",14),B.Jc(66,We,2,0,"span",15),B.Jc(67,_e,2,0,"span",15),B.Jc(68,Le,2,0,"span",15),B.Jc(69,De,2,0,"span",15),B.Jc(70,Ce,2,0,"span",15),B.Jc(71,Fe,2,0,"span",15),B.Wb(),B.Wb(),B.Wb(),B.Xb(72,"div",13),B.Xb(73,"div",7),B.Lc(74,"Complete Date"),B.Wb(),B.Xb(75,"div",11),B.Lc(76),B.kc(77,"date"),B.Wb(),B.Wb(),B.Xb(78,"div",13),B.Xb(79,"div",7),B.Lc(80,"Update at"),B.Wb(),B.Xb(81,"div",11),B.Lc(82),B.kc(83,"date"),B.Wb(),B.Wb(),B.Xb(84,"div",13),B.Xb(85,"div",7),B.Lc(86,"Create by"),B.Wb(),B.Xb(87,"div",11),B.Lc(88),B.Wb(),B.Wb(),B.Xb(89,"div",10),B.Xb(90,"div",7),B.Lc(91,"Info"),B.Wb(),B.Xb(92,"div",11),B.Xb(93,"pre",16),B.Lc(94),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e){const e=B.jc();B.Db(11),B.pc("routerLink","/apps/"+e.modul+"/shipment/detail/"+e.currentShipment[0][0].id+"/soa"),B.Db(1),B.Mc(e.currentShipment[0][0].code),B.Db(5),B.Mc(e.currentShipment[0][0].partner_name),B.Db(5),B.Mc(e.currentShipment[0][0].mbl),B.Db(5),B.Mc(e.currentShipment[0][0].hbl),B.Db(5),B.Mc(e.currentShipment[0][0].pick_up?e.currentShipment[0][0].pol_name:""),B.Db(5),B.Mc(e.currentShipment[0][0].deliver?e.currentShipment[0][0].pod_name:""),B.Db(5),B.Mc(B.mc(43,22,e.currentShipment[0][0].pick_date,"MM/dd/yyyy")),B.Db(6),B.Mc(B.mc(49,25,e.currentShipment[0][0].deliver_date,"MM/dd/yyyy")),B.Db(6),B.Mc(B.mc(55,28,e.currentShipment[0][0].manage_date,"MM/dd/yyyy")),B.Db(6),B.Mc(e.currentShipment[0][0].owner_name),B.Db(5),B.pc("ngSwitch",e.currentShipment[0][0].status),B.Db(1),B.pc("ngSwitchCase",0),B.Db(1),B.pc("ngSwitchCase",1),B.Db(1),B.pc("ngSwitchCase",2),B.Db(1),B.pc("ngSwitchCase",3),B.Db(1),B.pc("ngSwitchCase",4),B.Db(1),B.pc("ngSwitchCase",5),B.Db(5),B.Mc(B.mc(77,31,e.currentShipment[0][0].complete_date,"MM/dd/yyyy")),B.Db(6),B.Mc(B.mc(83,34,e.currentShipment[0][0].update_at,"MM/dd/yyyy: HH:mm")),B.Db(6),B.Mc(e.currentShipment[0][0].create_by_name),B.Db(6),B.Mc(e.info)}}let Ae=(()=>{class e{constructor(e){this._formBuilder=e,this._unsubscribeAll=new A.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(ve.d))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-details"]],viewQuery:function(e,t){var i;1&e&&B.Sc(Se,!0),2&e&&B.wc(i=B.gc())&&(t.titleInputField=i.first)},inputs:{modul:"modul",currentShipment:"currentShipment"},decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-120","mb-12","select-shipment-list2-icon","hint-text"],[1,"hint-text","mat-h1","select-shipment-list2-text"],["fxLayout","column",1,"profile-box","info-box","general"],[1,"accent"],[1,"title"],[1,"content"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line"],[1,"info"],[1,"cursor-pointer",3,"routerLink"],["fxFlex","100","fxFlex.gt-sm","50",1,"info-line"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"font-family","arial"]],template:function(e,t){1&e&&(B.Jc(0,ke,5,8,"div",0),B.Jc(1,Oe,95,37,"div",1)),2&e&&(B.pc("ngIf",!t.currentShipment),B.Db(1),B.pc("ngIf",t.currentShipment))},directives:[q.t,U.d,U.c,U.b,p.a,n.j,q.x,q.y],pipes:[q.f],styles:["shipment-list2-details{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow-y:auto;-webkit-overflow-scrolling:touch}shipment-list2-details .profile-box{border-radius:4px;overflow:hidden;margin-bottom:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}shipment-list2-details .profile-box header{padding:16px}shipment-list2-details .profile-box header .title{font-size:17px}shipment-list2-details .profile-box header .more{cursor:pointer}shipment-list2-details .profile-box .content{padding:16px}shipment-list2-details .profile-box .content .partner-table{font-size:12px}shipment-list2-details .profile-box .content .partner-table td,shipment-list2-details .profile-box .content .partner-table th{padding:8px!important}shipment-list2-details .profile-box footer{padding:8px;border-top:1px solid}shipment-list2-details .profile-box.info-box .info-line{margin-bottom:24px}shipment-list2-details .profile-box.info-box .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}shipment-list2-details .profile-box.info-box .info-line:last-child{margin-bottom:0}"],encapsulation:2,data:{animation:z.a}}),e})();var Pe=i("fE3o"),ze=i("JX91"),Re=i("lJxs");const Be=["formDirective"];function Ie(e,t){if(1&e&&(B.Xb(0,"mat-option",28),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Nc(" ",e.short_name," ")}}function Te(e,t){if(1&e&&(B.Xb(0,"mat-option",28),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Nc(" ",e.short_name," ")}}function Me(e,t){if(1&e&&(B.Xb(0,"mat-option",28),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Mc(e.name)}}function je(e,t){if(1&e&&(B.Xb(0,"mat-radio-button",29),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Mc(e.name)}}function Ne(e,t){if(1&e&&(B.Xb(0,"mat-option",28),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Nc(" ",e.name," ")}}function Je(e,t){if(1&e&&(B.Xb(0,"mat-option",28),B.Lc(1),B.Wb()),2&e){const e=t.$implicit;B.pc("value",e.id),B.Db(1),B.Nc(" ",e.name," ")}}let Ve=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.authService=t,this.commonService=i,this.changeType=new B.o,this.searchSelShipment=new B.o,this.form=this.formBuilder.group({customer:[null],agent:[null],owner:[null],process:["all"],pol:[null],pod:[null]}),this.process=[{id:0,name:"Booking"},{id:1,name:"Stuffing"},{id:2,name:"Ready to load"},{id:3,name:"Load"},{id:4,name:"Discharge"},{id:5,name:"Pick up"},{id:6,name:"Complete"}],this.now=new Date,this.height=560,this._unsubscribeAll=new A.a}ngOnInit(){switch(this.form.patchValue(this.filterData),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}this.authService.windowSizeChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-12}),this.authService.changeScreen.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12}),this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(ze.a)(""),Object(Re.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Re.a)(e=>e?this.commonService.filterData(e,"short_name",this.customer):[])),this.filteredSupplier=this.form.controls.agent.valueChanges.pipe(Object(ze.a)(""),Object(Re.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Re.a)(e=>e?this.commonService.filterData(e,"short_name",this.supplier):[])),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object(ze.a)(""),Object(Re.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Re.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object(ze.a)(""),Object(Re.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Re.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[]))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}setCheck(e){e.check=!e.check}resetForm(){switch(this.searchNgForm.resetForm(),this.form.controls.process.setValue("all"),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}}onSearchFormSubmit(e){"string"==typeof e.customer&&(this.form.controls.customer.setValue(null),e.customer=null),"string"==typeof e.agent&&(this.form.controls.agent.setValue(null),e.agent=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),e.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),e.pod=null),this.searchSelShipment.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(ve.d),B.Rb(J.a),B.Rb(N.a))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-sidebar"]],viewQuery:function(e,t){var i;1&e&&B.Sc(Be,!0),2&e&&B.wc(i=B.gc())&&(t.searchNgForm=i.first)},inputs:{module:"module",users:"users",customer:"customer",supplier:"supplier",seaport:"seaport",filterData:"filterData"},outputs:{changeType:"changeType",searchSelShipment:"searchSelShipment"},decls:61,vars:27,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","agent","matInput","","formControlName","agent",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["formControlName","owner"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","process"],["value","all",1,"mb-12"],["class","mb-12",3,"value",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete","readonly"],["autoSeaport1","matAutocomplete"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete","readonly"],["autoSeaport2","matAutocomplete"],[3,"value"],[1,"mb-12",3,"value"]],template:function(e,t){if(1&e&&(B.Xb(0,"form",0,1),B.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form.value)})),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Xb(4,"button",4),B.Lc(5," Submit "),B.Wb(),B.Xb(6,"button",5),B.fc("click",(function(e){return t.changeType.emit("filter")})),B.Lc(7," Filter "),B.Wb(),B.Wb(),B.Wb(),B.Xb(8,"div",6),B.Xb(9,"div",7),B.Xb(10,"div",8),B.Xb(11,"div",9),B.Xb(12,"div",10),B.Xb(13,"mat-form-field",11),B.Xb(14,"mat-label"),B.Lc(15,"Customer"),B.Wb(),B.Sb(16,"input",12),B.Xb(17,"mat-autocomplete",13,14),B.Jc(19,Ie,2,2,"mat-option",15),B.kc(20,"async"),B.Wb(),B.Wb(),B.Wb(),B.Xb(21,"div",16),B.Xb(22,"mat-form-field",11),B.Xb(23,"mat-label"),B.Lc(24,"Agent"),B.Wb(),B.Sb(25,"input",17),B.Xb(26,"mat-autocomplete",13,18),B.Jc(28,Te,2,2,"mat-option",15),B.kc(29,"async"),B.Wb(),B.Wb(),B.Wb(),B.Xb(30,"div",16),B.Xb(31,"mat-form-field",11),B.Xb(32,"mat-label"),B.Lc(33,"Owner"),B.Wb(),B.Xb(34,"mat-select",19),B.Jc(35,Me,2,2,"mat-option",15),B.Wb(),B.Wb(),B.Wb(),B.Xb(36,"div",20),B.Xb(37,"h2"),B.Lc(38,"Process"),B.Wb(),B.Xb(39,"mat-radio-group",21),B.Xb(40,"mat-radio-button",22),B.Lc(41,"All"),B.Wb(),B.Jc(42,je,2,2,"mat-radio-button",23),B.Wb(),B.Wb(),B.Xb(43,"div",16),B.Xb(44,"mat-form-field",11),B.Xb(45,"mat-label"),B.Lc(46,"POL"),B.Wb(),B.Sb(47,"input",24),B.Xb(48,"mat-autocomplete",13,25),B.Jc(50,Ne,2,2,"mat-option",15),B.kc(51,"async"),B.Wb(),B.Wb(),B.Wb(),B.Xb(52,"div",16),B.Xb(53,"mat-form-field",11),B.Xb(54,"mat-label"),B.Lc(55,"POD"),B.Wb(),B.Sb(56,"input",26),B.Xb(57,"mat-autocomplete",13,27),B.Jc(59,Je,2,2,"mat-option",15),B.kc(60,"async"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e){const e=B.xc(18),i=B.xc(27),n=B.xc(49),r=B.xc(58);B.pc("formGroup",t.form),B.Db(8),B.Ic("height",t.height,"px"),B.Db(8),B.pc("matAutocomplete",e),B.Db(1),B.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),B.Db(2),B.pc("ngForOf",B.lc(20,19,t.filteredCustomer)),B.Db(6),B.pc("matAutocomplete",i),B.Db(1),B.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.supplier)),B.Db(2),B.pc("ngForOf",B.lc(29,21,t.filteredSupplier)),B.Db(7),B.pc("ngForOf",t.users),B.Db(7),B.pc("ngForOf",t.process),B.Db(5),B.pc("matAutocomplete",n)("readonly","export"==t.type),B.Db(1),B.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),B.Db(2),B.pc("ngForOf",B.lc(51,23,t.filteredSeaport1)),B.Db(6),B.pc("matAutocomplete",r)("readonly","import"==t.type),B.Db(1),B.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),B.Db(2),B.pc("ngForOf",B.lc(60,25,t.filteredSeaport2))}},directives:[ve.A,ve.q,ve.h,U.d,U.c,c.b,U.b,xe.a,h.c,h.f,m.b,ve.b,s.c,ve.p,ve.g,s.a,q.s,u.a,f.b,f.a,W.n],pipes:[q.b],styles:["shipment-list2-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-list2-sidebar .navbar-scroll-container{background:#fff!important}shipment-list2-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-list2-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})();const qe=["formDirective"];let He=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.authService=t,this.commonService=i,this.changeType=new B.o,this.filterShipment=new B.o,this.form=this.formBuilder.group({code:[null],bill:[null]}),this.height=560,this._unsubscribeAll=new A.a}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-12}),this.authService.changeScreen.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12}),this.form.valueChanges.subscribe(e=>{this.filterShipment.emit(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}resetForm(){this.searchNgForm.resetForm()}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(ve.d),B.Rb(J.a),B.Rb(N.a))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2-sidebar-filter"]],viewQuery:function(e,t){var i;1&e&&B.Sc(qe,!0),2&e&&B.wc(i=B.gc())&&(t.searchNgForm=i.first)},inputs:{module:"module"},outputs:{changeType:"changeType",filterShipment:"filterShipment"},decls:22,vars:3,consts:[["name","form",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","code","matInput","","formControlName","code"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","bill","matInput","","formControlName","bill"]],template:function(e,t){1&e&&(B.Xb(0,"form",0,1),B.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Xb(4,"button",4),B.fc("click",(function(e){return t.changeType.emit("server")})),B.Lc(5," Server "),B.Wb(),B.Xb(6,"button",5),B.fc("click",(function(e){return t.resetForm()})),B.Lc(7," Reset "),B.Wb(),B.Wb(),B.Wb(),B.Xb(8,"div",6),B.Xb(9,"div",7),B.Xb(10,"div",8),B.Xb(11,"div",9),B.Xb(12,"div",10),B.Xb(13,"mat-form-field",11),B.Xb(14,"mat-label"),B.Lc(15,"Code"),B.Wb(),B.Sb(16,"input",12),B.Wb(),B.Wb(),B.Xb(17,"div",13),B.Xb(18,"mat-form-field",11),B.Xb(19,"mat-label"),B.Lc(20,"Bill"),B.Wb(),B.Sb(21,"input",14),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.pc("formGroup",t.form),B.Db(8),B.Ic("height",t.height,"px"))},directives:[ve.A,ve.q,ve.h,U.d,U.c,c.b,U.b,xe.a,h.c,h.f,m.b,ve.b,ve.p,ve.g],styles:["shipment-list2-sidebar-filter .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-list2-sidebar-filter .navbar-scroll-container{background:#fff!important}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content{padding-top:0}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-list2-sidebar-filter .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})();function Ee(e,t){if(1&e){const e=B.Yb();B.Xb(0,"shipment-list2-sidebar",11),B.fc("searchSelShipment",(function(t){return B.Bc(e),B.jc(2).searchSelShipment(t)}))("changeType",(function(t){return B.Bc(e),B.jc(2).changeType(t)})),B.Wb()}if(2&e){const e=B.jc(2);B.pc("module",e.module)("filterData",e.filterData)("customer",e.customer)("supplier",e.supplier)("users",e.users)("seaport",e.seaport)}}function Ue(e,t){if(1&e){const e=B.Yb();B.Xb(0,"shipment-list2-sidebar-filter",12),B.fc("filterShipment",(function(t){return B.Bc(e),B.jc(2).filterShipment(t)}))("changeType",(function(t){return B.Bc(e),B.jc(2).changeType(t)})),B.Wb()}if(2&e){const e=B.jc(2);B.pc("module",e.module)}}function Ge(e,t){if(1&e&&(B.Xb(0,"fuse-sidebar",8),B.Jc(1,Ee,1,6,"shipment-list2-sidebar",9),B.Jc(2,Ue,1,1,"shipment-list2-sidebar-filter",10),B.Wb()),2&e){const e=B.jc();B.Db(1),B.pc("ngIf","server"==e.type),B.Db(1),B.pc("ngIf","filter"==e.type)}}const Ye=function(e){return{"current-shipment-list2-selected":e}};let Qe=(()=>{class e{constructor(e,t,i,n,r,a){if(this._fuseSidebarService=e,this.shipmentService=t,this.router=i,this.authService=n,this._matDialog=r,this.datePipe=a,this.type="filter",this.shipments=[],this.currentShipment=null,this.sidebarPanel=!0,this.requestProcessing=!1,this.createData=[],this.module=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}this._unsubscribeAll=new A.a}ngOnInit(){this.authService.checkResolve()&&this.getShipments(),this.authService.urlChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{if(this.module=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.shipmentService.onShipmentsListChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e,this.shipmentService.searchText&&(this.searchText=this.shipmentService.searchText),this.filterData=this.shipmentService.currenSearch?this.shipmentService.currenSearch:JSON.parse(JSON.stringify(this.shipmentService.defaultSearch))}),this.shipmentService.onDataChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.supplier=this.shipmentService.supplier,this.customer=this.shipmentService.customer,this.seaport=this.shipmentService.seaport,this.users=this.shipmentService.user}),this.shipmentService.onDataItemChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.agent=this.shipmentService.agent,this.commodity=this.shipmentService.commodity,this.packageType=this.shipmentService.packageType,this.price=this.shipmentService.price,this.currency=this.shipmentService.currency,this.country=this.shipmentService.country}),this.shipmentService.onVoyageChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe(e=>{this.voyage=this.shipmentService.voyage})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getShipments(){this.requestProcessing=!0,this.shipmentService.getFilterShipments(this.shipmentService.currenSearch).then(e=>{this.requestProcessing=!1}).catch(e=>{this.requestProcessing=!1,console.error(e),alert("Error load data")})}deleteShipment(e){confirm("Do you want to delete this shipment?")&&(this.requestProcessing=!0,this.shipmentService.deleteSelShipment(e).then(e=>{this.requestProcessing=!1,1==e.selShipment.affectedRows?(alert("delete shipment success"),this.getShipments()):(console.error(e),alert("Error: No change"))}).catch(e=>{this.requestProcessing=!1,console.error(e),alert("Error: Server error")}))}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}selectShipment(e){this.shipmentService.getSelShipmentById(e.id).then(e=>{this.currentShipment=e}).catch(e=>{console.error(e),alert("error load data")})}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.shipmentService)}searchSelShipment(e){this.requestProcessing=!0,this.shipmentService.currenSearch=e,this.getShipments()}clearShipment(e){this.currentShipment=null}openShipmentModal(e){this.dialogRef=this._matDialog.open(R.a,{panelClass:"shipment-list2-modal-dialog",data:{label:"Add shipment",customer:this.customer,agent:this.agent,seaport:this.seaport,user:this.users,voyage:this.voyage,permission:this.permission,module:this.module}}),this.dialogRef.componentInstance.createItem.subscribe(e=>{this.authService.onRequestChanged.next(!0),console.log(e),this.shipmentService.createSelShipment(e).then(e=>{this.authService.onRequestChanged.next(!1),e.createShipment.insertId>0?(this.dialogRef.componentInstance.matDialogRef.close(e),this.router.navigate(["/apps/"+this.module+"/shipment/detail/"+e.createShipment.insertId+"/soa"])):(console.error(e),this.dialogRef.componentInstance.errorMessage="Error create")}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),this.dialogRef.componentInstance.errorMessage=e.error&&e.error.sqlMessage?e.error.sqlMessage:"Error create"})}),this.dialogRef.afterClosed().subscribe(e=>{})}goShipmentList(e){this.router.navigate(["/apps/"+this.module+"/shipment/"+e])}searchFilter(e){this.shipmentService.onSearchTextChanged.next(e)}filterShipment(e){this.shipmentService.onFilterChanged.next(e)}changeType(e){this.type=e}goDetails(e){this.router.navigate(["/apps/"+this.module+"/shipment/detail/"+e.id+"/soa"])}}return e.\u0275fac=function(t){return new(t||e)(B.Rb(I.a),B.Rb(V),B.Rb(n.g),B.Rb(J.a),B.Rb(g.b),B.Rb(q.f))},e.\u0275cmp=B.Lb({type:e,selectors:[["shipment-list2"]],decls:8,vars:12,consts:[["id","shipment",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-list2-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],[1,"center","mr-0","ml-0"],[3,"sidebarName","currentShipment","module","permission","searchText","showHideBar","refreshPage","toggleSidebar","newShipment","clearShipment","goShipmentList","searchFilter"],[1,"content-card",2,"border","none","border-radius","0",3,"ngClass"],["fxFlexAlign","row",1,"content","m-8",2,"border","1px solid #E0E0E0","border-radius","8px"],["fusePerfectScrollbar","","fxFlex","",3,"shipments","selectShipment","deleteShipment","goDetails"],["fusePerfectScrollbar","","fxFlex","",3,"modul","currentShipment"],["name","shipment-list2-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"module","filterData","customer","supplier","users","seaport","searchSelShipment","changeType",4,"ngIf"],[3,"module","filterShipment","changeType",4,"ngIf"],[3,"module","filterData","customer","supplier","users","seaport","searchSelShipment","changeType"],[3,"module","filterShipment","changeType"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Jc(1,Ge,3,2,"fuse-sidebar",1),B.Xb(2,"div",2),B.Xb(3,"shipment-list2-header",3),B.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newShipment",(function(e){return t.openShipmentModal(e)}))("clearShipment",(function(e){return t.clearShipment(e)}))("goShipmentList",(function(e){return t.goShipmentList(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),B.Wb(),B.Xb(4,"div",4),B.Xb(5,"div",5),B.Xb(6,"shipment-list2-table",6),B.fc("selectShipment",(function(e){return t.selectShipment(e)}))("deleteShipment",(function(e){return t.deleteShipment(e)}))("goDetails",(function(e){return t.goDetails(e)})),B.Wb(),B.Sb(7,"shipment-list2-details",7),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(1),B.pc("ngIf",t.sidebarPanel),B.Db(2),B.pc("sidebarName","shipment-list2-sidebar")("currentShipment",t.currentShipment)("module",t.module)("permission",t.permission)("searchText",t.searchText),B.Db(1),B.pc("ngClass",B.rc(10,Ye,t.currentShipment)),B.Db(2),B.pc("shipments",t.shipments),B.Db(1),B.pc("modul",t.module)("currentShipment",t.currentShipment))},directives:[H.a,q.t,ee,q.q,G.a,U.a,ge,xe.a,U.b,Ae,Pe.a,Ve,He],styles:["shipment-list2{width:100%}shipment-list2 .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){shipment-list2 .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}shipment-list2 .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-list2 .center .content-card shipment-list2{border-right:0}shipment-list2 .center .content-card shipment-details,shipment-list2 .center .content-card shipment-list2{-webkit-box-flex:1;flex:1 0 100%}shipment-list2 .center .content-card shipment-list2-details{display:none!important}shipment-list2 .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-list2 .center .content-card.current-shipment-selected .content shipment-list2,shipment-list2 .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-list2 .center .content-card.current-shipment-selected .content shipment-list2-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:z.a}}),e})();var $e=i("u+kU"),Ke=i("cfqv");i.d(t,"ShipmentListModule",(function(){return et}));const Ze=[{path:"",component:Qe,resolve:{data:V}}];let et=(()=>{class e{}return e.\u0275mod=B.Pb({type:e}),e.\u0275inj=B.Ob({factory:function(t){return new(t||e)},providers:[V],imports:[[n.k.forChild(Ze),a.b,r.a,s.b,o.c,c.c,l.b,h.e,p.b,b.b,m.c,d.c,u.b,f.c,g.e,x.b,v.b,S.b,w.d,y.e,X.b,k.b,_.b,L.k,D.c,W.t,C.a,$e.a,F.a,O.f,te.g,Ke.b]]}),e})()},cfqv:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return p}));var n=i("8LU1"),r=i("vxfF"),a=i("fXoL"),s=i("HDdC");class o{constructor(e=50){this._totalWeight=0,this._defaultItemSize=e,this._averageItemSize=e}getAverageItemSize(){return this._averageItemSize}addSample(e,t){const i=this._totalWeight+e.end-e.start;if(i){const e=(t+this._averageItemSize*this._totalWeight)/i;e&&(this._averageItemSize=e,this._totalWeight=i)}}reset(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}class c{constructor(e,t,i=new o){this.scrolledIndexChange=new s.a(()=>{throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")}),this._viewport=null,this._removalFailures=0,this._minBufferPx=e,this._maxBufferPx=t,this._averager=i}attach(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}detach(){this._viewport=null}onContentScrolled(){this._viewport&&this._updateRenderedContentAfterScroll()}onDataLengthChanged(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}onContentRendered(){this._viewport&&this._checkRenderedContentSize()}onRenderedOffsetChanged(){this._viewport&&this._checkRenderedContentOffset()}scrollToIndex(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}updateBufferSize(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}_updateRenderedContentAfterScroll(){const e=this._viewport,t=e.measureScrollOffset();let i=t-this._lastScrollOffset,n=Math.abs(i);const r=e.getRenderedRange();let a=0;if(i<0){const e=r.start*this._averager.getAverageItemSize();a=Math.round((e-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,n/(t+n)))),i-=a,n=Math.abs(i)}const s=this._lastScrollOffset-this._lastRenderedContentOffset,o=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),c=n+this._minBufferPx-(i<0?s:o);if(c>0)if(n>=e.getViewportSize())this._renderContentForCurrentOffset();else{const t=Math.max(0,Math.ceil((c-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),l=(i<0?o:s)-this._minBufferPx+n,h=Math.floor(l/this._averager.getAverageItemSize()/(this._removalFailures+1)),p=Math.min(r.end-r.start,Math.max(0,h)),b=this._expandRange(r,i<0?t:0,i>0?t:0);let m,d;if(i<0?b.end=Math.max(b.start+1,b.end-p):b.start=Math.min(b.end-1,b.start+p),i<0){let t=e.measureRangeSize({start:b.end,end:r.end});t<=l?(m=this._lastRenderedContentOffset+this._lastRenderedContentSize-t,this._removalFailures=0):(b.end=r.end,m=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),d="to-end"}else{const t=e.measureRangeSize({start:r.start,end:b.start});t<=l?(m=this._lastRenderedContentOffset+t,this._removalFailures=0):(b.start=r.start,m=this._lastRenderedContentOffset,this._removalFailures++),d="to-start"}e.setRenderedRange(b),e.setRenderedContentOffset(m+a,d)}else a&&e.setRenderedContentOffset(this._lastRenderedContentOffset+a);this._lastScrollOffset=t}_checkRenderedContentSize(){const e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}_checkRenderedContentOffset(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}_renderContentForCurrentOffset(){const e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;const i=this._averager.getAverageItemSize(),n=Math.min(e.getDataLength()-1,Math.floor(t/i)),r=Math.ceil(this._maxBufferPx/i),a=this._expandRange(this._getVisibleRangeForIndex(n),r,r);e.setRenderedRange(a),e.setRenderedContentOffset(i*a.start)}_getVisibleRangeForIndex(e){const t=this._viewport,i={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},n=i.end-t.getDataLength();return n>0&&(i.start=Math.max(0,i.start-n)),i}_expandRange(e,t,i){const n=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(n.getDataLength(),e.end+i)}}_updateTotalContentSize(e){const t=this._viewport,i=t.getRenderedRange(),n=e+(t.getDataLength()-(i.end-i.start))*this._averager.getAverageItemSize();t.setTotalContentSize(n)}}function l(e){return e._scrollStrategy}let h=(()=>{class e{constructor(){this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new c(this.minBufferPx,this.maxBufferPx)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Object(n.f)(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Object(n.f)(e)}ngOnChanges(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a.Cb([{provide:r.h,useFactory:l,deps:[Object(a.V)(()=>e)]}]),a.Bb()]}),e})(),p=(()=>{class e{}return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)}}),e})()}}]);