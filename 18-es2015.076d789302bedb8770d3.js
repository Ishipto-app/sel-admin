(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5S3l":function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var n=o("fXoL"),i=o("XNiG"),r=o("PVWW"),a=o("vxfF"),c=o("tyNb"),b=o("qXBG"),s=o("ofXK"),l=o("cfqv"),p=o("XiUz"),m=o("znSr");function d(e,t){1&e&&(n.Xb(0,"div",7),n.Xb(1,"span",8),n.Lc(2),n.Wb(),n.Wb()),2&e&&(n.Db(2),n.Mc("No Book"))}function u(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"th",9),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit;n.Db(2),n.Mc(e)}}function f(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",9),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc().$implicit;n.Db(2),n.Mc(o.book[e])}}const g=function(e){return{"text-strike red-A700-fg":e}};function h(e,t){if(1&e&&(n.Xb(0,"tr",12),n.Xb(1,"td"),n.Lc(2),n.Wb(),n.Xb(3,"td",13),n.Xb(4,"a",14),n.Lc(5),n.Wb(),n.Wb(),n.Xb(6,"td"),n.Lc(7),n.Wb(),n.Xb(8,"td"),n.Lc(9),n.Wb(),n.Jc(10,f,3,1,"ng-container",5),n.Xb(11,"td"),n.Lc(12),n.Wb(),n.Xb(13,"td"),n.Lc(14),n.kc(15,"date"),n.Wb(),n.Xb(16,"td"),n.Lc(17),n.Wb(),n.Xb(18,"td"),n.Lc(19),n.kc(20,"date"),n.Wb(),n.Xb(21,"td"),n.Lc(22),n.Wb(),n.Xb(23,"td"),n.Lc(24),n.Wb(),n.Xb(25,"td"),n.Lc(26),n.Wb(),n.Wb()),2&e){const e=t.$implicit,o=t.index,i=n.jc(2);n.pc("ngClass",n.rc(21,g,i.time>e.voyage.depart_time)),n.Db(2),n.Mc(o+1),n.Db(2),n.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+e.id+"/overview"),n.Db(1),n.Mc(e.book.code),n.Db(2),n.Mc(e.book.customer.short_name),n.Db(2),n.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),n.Db(1),n.pc("ngForOf",i.contType),n.Db(2),n.Mc(e.voyage.load_terminal_name),n.Db(2),n.Mc(n.mc(15,15,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),n.Db(3),n.Mc(e.voyage.discharge_terminal_name),n.Db(2),n.Mc(n.mc(20,18,e.voyage.arrive_time,"MM/dd/yyyy HH:mm")),n.Db(3),n.Mc(e.book.commodity),n.Db(2),n.Mc(e.name?e.name:e.user),n.Db(2),n.Mc(e.book.create_by?e.book.create_by.name:e.user)}}function v(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"tr"),n.Xb(2,"td",10),n.Lc(3),n.Wb(),n.Wb(),n.Jc(4,h,27,23,"tr",11),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Eb("colspan",2),n.Db(1),n.Mc(e),n.Db(1),n.pc("ngForOf",o.data[e])}}function k(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",15),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Mc(o.total[e])}}let x=(()=>{class e{constructor(e,t,o,r){this.router=e,this.route=t,this._activatedRoute=o,this.authService=r,this.openModal=new n.o,this.revenueVNOpen=!1,this.revenueNNOpen=!1,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(c.g),n.Rb(c.a),n.Rb(c.a),n.Rb(b.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-table"]],viewQuery:function(e,t){var o;1&e&&n.Sc(a.e,!0),2&e&&n.wc(o=n.gc())&&(t.viewPort=o.first)},inputs:{data:"data",dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul"},outputs:{openModal:"openModal"},decls:46,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],[1,"sticky-col1",2,"z-index","25"],[4,"ngFor","ngForOf"],[1,"sticky-col1","text-bold"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],[1,"text-center"],[1,"text-bold","row-router","sticky-col1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink"],[1,"text-center","text-bold"]],template:function(e,t){1&e&&(n.Jc(0,d,3,1,"div",0),n.Xb(1,"div",1),n.Xb(2,"cdk-virtual-scroll-viewport",2),n.Xb(3,"table",3),n.Xb(4,"thead"),n.Xb(5,"tr"),n.Xb(6,"th"),n.Lc(7,"No"),n.Wb(),n.Xb(8,"th",4),n.Lc(9,"Code"),n.Wb(),n.Xb(10,"th"),n.Lc(11,"Customer"),n.Wb(),n.Xb(12,"th"),n.Lc(13,"Voyage"),n.Wb(),n.Jc(14,u,3,1,"ng-container",5),n.Xb(15,"th"),n.Lc(16,"Load terminal"),n.Wb(),n.Xb(17,"th"),n.Lc(18,"ETD"),n.Wb(),n.Xb(19,"th"),n.Lc(20,"Discharge terminal"),n.Wb(),n.Xb(21,"th"),n.Lc(22,"ETA"),n.Wb(),n.Xb(23,"th"),n.Lc(24,"Commodity"),n.Wb(),n.Xb(25,"th"),n.Lc(26,"Owner"),n.Wb(),n.Xb(27,"th"),n.Lc(28,"Create by"),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"tbody"),n.Jc(30,v,5,3,"ng-container",5),n.Wb(),n.Xb(31,"tfoot"),n.Xb(32,"tr"),n.Sb(33,"td"),n.Xb(34,"td",6),n.Lc(35,"Total"),n.Wb(),n.Sb(36,"td"),n.Sb(37,"td"),n.Jc(38,k,3,1,"ng-container",5),n.Sb(39,"td"),n.Sb(40,"td"),n.Sb(41,"td"),n.Sb(42,"td"),n.Sb(43,"td"),n.Sb(44,"td"),n.Sb(45,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.pc("ngIf",0===t.sptRouter.length),n.Db(1),n.Ic("height",t.height,"px"),n.Db(1),n.Ic("height",t.height,"px"),n.Db(12),n.pc("ngForOf",t.contType),n.Db(16),n.pc("ngForOf",t.sptRouter),n.Db(8),n.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,p.d,s.s,p.c,p.e,s.q,m.a,c.j],pipes:[s.f],styles:["bookings-table .no-book-text{font-size:24px;font-weight:300}bookings-table cdk-virtual-scroll-viewport{width:100%}bookings-table .book-table{font-size:12px!important}bookings-table .book-table td,bookings-table .book-table th{padding:8px!important;white-space:nowrap}bookings-table .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-table .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-table .book-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background-color:#fff;right:0;z-index:20}bookings-table .book-table .sticky-right-col2{position:sticky;position:-webkit-sticky;background-color:#fff;right:47px;z-index:20}bookings-table .book-table .row-even{background-color:#e0e0e0!important}bookings-table .book-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:r.a}}),e})()},FDnR:function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("fXoL");let I=(()=>{class e{}return e.\u0275mod=C.Pb({type:e}),e.\u0275inj=C.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,D.t]]}),e})()},IOBc:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n=o("5HBU"),i=o("bTqV"),r=o("kmnG"),a=o("NFeN"),c=o("qFsG"),b=o("wZkO"),s=o("/t3+"),l=o("bSwM"),p=o("+0xr"),m=o("FKr1"),d=o("MutI"),u=o("fXoL");let f=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[n.a,i.c,r.e,a.b,c.c,b.c,s.b,l.b,m.t,d.c,p.k]]}),e})()},IZxC:function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o("fXoL"),i=o("XNiG"),r=o("qXBG"),a=o("0JVi"),c=o("/t3+"),b=o("XiUz"),s=o("bTqV"),l=o("znSr"),p=o("NFeN"),m=o("tyNb"),d=o("ofXK");function u(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",15),n.fc("click",(function(t){n.Bc(e);const o=n.jc();return t.stopPropagation(),o.changeScreen(!0)})),n.Xb(1,"mat-icon"),n.Lc(2,"flip_to_front"),n.Wb(),n.Wb()}}function f(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",15),n.fc("click",(function(t){n.Bc(e);const o=n.jc();return t.stopPropagation(),o.changeScreen(!1)})),n.Xb(1,"mat-icon"),n.Lc(2,"flip_to_back"),n.Wb(),n.Wb()}}let g=(()=>{class e{constructor(e,t){this.authService=e,this._fuseConfigService=t,this.fullScreen=!1,this.toggleSidebar=new n.o,this.showHideBar=new n.o,this.refreshPage=new n.o,this._unsubscribeAll=new i.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(r.a),n.Rb(a.b))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-header"]],inputs:{searchText:"searchText",modul:"modul",sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:40,vars:6,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button","w-128",3,"routerLink"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"]],template:function(e,t){1&e&&(n.Xb(0,"mat-toolbar",0),n.Xb(1,"div",1),n.Xb(2,"div",2),n.Xb(3,"div",3),n.Xb(4,"button",4),n.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),n.Xb(5,"mat-icon"),n.Lc(6,"menu"),n.Wb(),n.Wb(),n.Xb(7,"button",5),n.fc("click",(function(e){return t.showHideBar.emit()})),n.Xb(8,"mat-icon"),n.Lc(9,"menu"),n.Wb(),n.Wb(),n.Wb(),n.Xb(10,"button",6),n.Xb(11,"span",7),n.Lc(12,"Vessel"),n.Wb(),n.Xb(13,"mat-icon",8),n.Lc(14,"equalizer"),n.Wb(),n.Wb(),n.Xb(15,"button",6),n.Xb(16,"span",7),n.Lc(17,"Container"),n.Wb(),n.Xb(18,"mat-icon",8),n.Lc(19,"equalizer"),n.Wb(),n.Wb(),n.Xb(20,"button",6),n.Xb(21,"span",7),n.Lc(22,"Table"),n.Wb(),n.Xb(23,"mat-icon",8),n.Lc(24,"equalizer"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",9),n.Sb(26,"div",10),n.Xb(27,"button",11),n.Xb(28,"mat-icon",12),n.Lc(29,"add"),n.Wb(),n.Xb(30,"span",13),n.Lc(31,"Book"),n.Wb(),n.Wb(),n.Sb(32,"div",10),n.Jc(33,u,3,0,"button",14),n.Jc(34,f,3,0,"button",14),n.Sb(35,"div",10),n.Xb(36,"button",15),n.fc("click",(function(e){return t.toggleSidebar.emit("shipment-book-setting")})),n.Xb(37,"mat-icon"),n.Lc(38,"settings"),n.Wb(),n.Wb(),n.Sb(39,"div",10),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Db(10),n.pc("routerLink","/apps/"+t.modul+"/shipment/book/vessel"),n.Db(5),n.pc("routerLink","/apps/"+t.modul+"/shipment/book/container"),n.Db(5),n.pc("routerLink","/apps/"+t.modul+"/shipment/book/table"),n.Db(7),n.pc("routerLink","/apps/"+t.modul+"/shipment/book-form/form/0/overview"),n.Db(6),n.pc("ngIf",!t.fullScreen),n.Db(1),n.pc("ngIf",t.fullScreen))},directives:[c.a,b.b,b.e,b.d,b.c,s.b,l.b,p.a,m.i,m.h,d.t],styles:["bookings-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}bookings-header.below{z-index:2}bookings-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}bookings-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}bookings-header .logo .logo-icon{width:38px}bookings-header .chat-panel-toggle-button,bookings-header .language-button,bookings-header .quick-panel-toggle-button,bookings-header .user-button,bookings-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){bookings-header .chat-panel-toggle-button,bookings-header .language-button,bookings-header .quick-panel-toggle-button,bookings-header .user-button,bookings-header fuse-search-bar{height:56px}}bookings-header .navbar-toggle-button{min-width:56px;height:56px}bookings-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){bookings-header .toolbar-separator{height:56px}}"],encapsulation:2}),e})()},Mrpe:function(e,t,o){"use strict";o.d(t,"a",(function(){return N}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("IOBc"),I=o("fXoL");let N=(()=>{class e{}return e.\u0275mod=I.Pb({type:e}),e.\u0275inj=I.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,D.t,C.a]]}),e})()},"Pg/h":function(e,t,o){"use strict";o.d(t,"a",(function(){return L}));var n=o("fXoL"),i=o("XNiG"),r=o("1G5W"),a=o("3Pt+"),c=o("qXBG"),b=o("0Zc1"),s=o("XiUz"),l=o("bTqV"),p=o("EwFO"),m=o("kmnG"),d=o("qFsG"),u=o("d3UM"),f=o("FKr1"),g=o("ofXK"),h=o("znSr"),v=o("STbY"),k=o("iadO"),x=o("NFeN");const y=["formDirective"];function X(e,t){if(1&e&&(n.Xb(0,"mat-icon",29),n.Lc(1,"import_export"),n.Wb()),2&e){n.jc();const e=n.xc(38);n.pc("matMenuTriggerFor",e)}}function W(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",30),n.fc("click",(function(o){n.Bc(e);const i=t.$implicit;return n.jc().getPort(i)})),n.Lc(1),n.Wb()}if(2&e){const e=t.$implicit;n.Db(1),n.Nc(" ",e," ")}}const D=function(e){return{hide:e}};let L=(()=>{class e{constructor(e,t,o){this.formBuilder=e,this.authService=t,this.commonService=o,this.filterChanged=new n.o,this.form=this.formBuilder.group({code:[null],valid:["1"],customer:[null],pol:[null],pod:[null],booking_number:[null],vessel:[null],time_from:[null],time_to:[null]}),this.now=new Date,this.height=560,this._unsubscribeAll=new i.a}ngOnInit(){this.modul.includes("hochiminh")&&this.form.controls.pol.setValue("HOCHIMINH"),this.modul.includes("haiphong")&&this.form.controls.pol.setValue("HAIPHONG"),this.authService.windowSizeChanged.pipe(Object(r.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-12}),this.authService.changeScreen.pipe(Object(r.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12}),this.form.valueChanges.subscribe(e=>{this.filterChanged.emit(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}resetForm(){this.searchNgForm.resetForm(),this.modul.includes("hochiminh")&&this.form.controls.pol.setValue("HOCHIMINH"),this.modul.includes("haiphong")&&this.form.controls.pol.setValue("HAIPHONG"),this.form.controls.valid.setValue("1")}onSearchFormSubmit(e){}getPort(e){let t=e.split("-");this.form.controls.pol.setValue(t[0]),this.form.controls.pod.setValue(t[1])}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(a.d),n.Rb(c.a),n.Rb(b.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-sidebar"]],viewQuery:function(e,t){var o;1&e&&n.Sc(y,!0),2&e&&n.wc(o=n.gc())&&(t.searchNgForm=o.first)},inputs:{modul:"modul",portPair:"portPair"},outputs:{filterChanged:"filterChanged"},decls:71,vars:15,consts:[["name","form",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","matInput","","formControlName","code"],["fxFlex","100",1,"info-line"],["formControlName","valid"],[3,"value"],["inputCheck","","matInput","","formControlName","customer"],["fxFlex","100",1,"info-line",3,"ngClass"],["inputCheck","","matInput","","formControlName","pol"],["matSuffix","","class","cursor-pointer",3,"matMenuTriggerFor",4,"ngIf"],["moreMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["inputCheck","","matInput","","formControlName","pod"],["inputCheck","","matInput","","formControlName","booking_number"],["inputCheck","","matInput","","formControlName","vessel"],["inputCheck","","matInput","","name","time_from","formControlName","time_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["timeFromDatePicker",""],["inputCheck","","matInput","","name","time_to","formControlName","time_to",3,"matDatepicker","change"],["timeToDatePicker",""],["matSuffix","",1,"cursor-pointer",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(n.Xb(0,"form",0,1),n.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),n.Xb(2,"div",2),n.Xb(3,"div",3),n.Xb(4,"button",4),n.fc("click",(function(e){return t.resetForm()})),n.Lc(5," Reset "),n.Wb(),n.Wb(),n.Wb(),n.Xb(6,"div",5),n.Xb(7,"div",6),n.Xb(8,"div",7),n.Xb(9,"div",8),n.Xb(10,"div",9),n.Xb(11,"mat-form-field",10),n.Xb(12,"mat-label"),n.Lc(13,"Code"),n.Wb(),n.Sb(14,"input",11),n.Wb(),n.Wb(),n.Xb(15,"div",12),n.Xb(16,"mat-form-field",10),n.Xb(17,"mat-label"),n.Lc(18,"Valid"),n.Wb(),n.Xb(19,"mat-select",13),n.Xb(20,"mat-option",14),n.Lc(21,"All"),n.Wb(),n.Xb(22,"mat-option",14),n.Lc(23,"Valid"),n.Wb(),n.Xb(24,"mat-option",14),n.Lc(25,"Invalid"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(26,"div",12),n.Xb(27,"mat-form-field",10),n.Xb(28,"mat-label"),n.Lc(29,"Customer"),n.Wb(),n.Sb(30,"input",15),n.Wb(),n.Wb(),n.Xb(31,"div",16),n.Xb(32,"mat-form-field",10),n.Xb(33,"mat-label"),n.Lc(34,"POL"),n.Wb(),n.Sb(35,"input",17),n.Jc(36,X,2,1,"mat-icon",18),n.Wb(),n.Xb(37,"mat-menu",null,19),n.Jc(39,W,2,1,"button",20),n.Wb(),n.Wb(),n.Xb(40,"div",12),n.Xb(41,"mat-form-field",10),n.Xb(42,"mat-label"),n.Lc(43,"POD"),n.Wb(),n.Sb(44,"input",21),n.Wb(),n.Wb(),n.Xb(45,"div",12),n.Xb(46,"mat-form-field",10),n.Xb(47,"mat-label"),n.Lc(48,"Booking number"),n.Wb(),n.Sb(49,"input",22),n.Wb(),n.Wb(),n.Xb(50,"div",12),n.Xb(51,"mat-form-field",10),n.Xb(52,"mat-label"),n.Lc(53,"Vessel"),n.Wb(),n.Sb(54,"input",23),n.Wb(),n.Wb(),n.Xb(55,"div",12),n.Xb(56,"mat-form-field",10),n.Xb(57,"mat-label"),n.Lc(58,"Depart time from"),n.Wb(),n.Xb(59,"input",24),n.fc("change",(function(e){return t.commonService.setDateStr(e)})),n.Wb(),n.Sb(60,"mat-datepicker-toggle",25),n.Sb(61,"mat-datepicker",null,26),n.Wb(),n.Wb(),n.Xb(63,"div",12),n.Xb(64,"mat-form-field",10),n.Xb(65,"mat-label"),n.Lc(66,"Depart time to"),n.Wb(),n.Xb(67,"input",27),n.fc("change",(function(e){return t.commonService.setDateStr(e)})),n.Wb(),n.Sb(68,"mat-datepicker-toggle",25),n.Sb(69,"mat-datepicker",null,28),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e){const e=n.xc(62),o=n.xc(70);n.pc("formGroup",t.form),n.Db(6),n.Ic("height",t.height,"px"),n.Db(14),n.pc("value","all"),n.Db(2),n.pc("value","1"),n.Db(2),n.pc("value","0"),n.Db(7),n.pc("ngClass",n.rc(13,D,t.modul.includes("hochiminh")||t.modul.includes("haiphong"))),n.Db(5),n.pc("ngIf",!t.modul.includes("hochiminh")&&!t.modul.includes("haiphong")),n.Db(3),n.pc("ngForOf",t.portPair),n.Db(20),n.pc("matDatepicker",e),n.Db(1),n.pc("for",e),n.Db(7),n.pc("matDatepicker",o),n.Db(1),n.pc("for",o)}},directives:[a.A,a.q,a.h,s.d,s.c,l.b,s.b,p.a,m.c,m.f,d.b,a.b,a.p,a.g,u.a,f.n,g.q,h.a,g.t,v.d,g.s,k.b,k.d,m.h,k.a,x.a,v.c,v.a],styles:["bookings-sidebar{border-right:1px solid #a3a3a3}bookings-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}bookings-sidebar .navbar-scroll-container{background:#fff!important}bookings-sidebar .navbar-scroll-container .navbar-content{padding-top:0}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-11px;left:8px;margin:0;padding:0 8px;font-size:16px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})()},T3U3:function(e,t,o){"use strict";o.d(t,"a",(function(){return F}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("vxfF"),I=o("cfqv"),N=o("fXoL");let F=(()=>{class e{}return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,C.g,I.b,D.t]]}),e})()},X00z:function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("fXoL");let I=(()=>{class e{}return e.\u0275mod=C.Pb({type:e}),e.\u0275inj=C.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,D.t]]}),e})()},cfqv:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return p}));var n=o("8LU1"),i=o("vxfF"),r=o("fXoL"),a=o("HDdC");class c{constructor(e=50){this._totalWeight=0,this._defaultItemSize=e,this._averageItemSize=e}getAverageItemSize(){return this._averageItemSize}addSample(e,t){const o=this._totalWeight+e.end-e.start;if(o){const e=(t+this._averageItemSize*this._totalWeight)/o;e&&(this._averageItemSize=e,this._totalWeight=o)}}reset(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}class b{constructor(e,t,o=new c){this.scrolledIndexChange=new a.a(()=>{throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")}),this._viewport=null,this._removalFailures=0,this._minBufferPx=e,this._maxBufferPx=t,this._averager=o}attach(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}detach(){this._viewport=null}onContentScrolled(){this._viewport&&this._updateRenderedContentAfterScroll()}onDataLengthChanged(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}onContentRendered(){this._viewport&&this._checkRenderedContentSize()}onRenderedOffsetChanged(){this._viewport&&this._checkRenderedContentOffset()}scrollToIndex(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}updateBufferSize(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}_updateRenderedContentAfterScroll(){const e=this._viewport,t=e.measureScrollOffset();let o=t-this._lastScrollOffset,n=Math.abs(o);const i=e.getRenderedRange();let r=0;if(o<0){const e=i.start*this._averager.getAverageItemSize();r=Math.round((e-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,n/(t+n)))),o-=r,n=Math.abs(o)}const a=this._lastScrollOffset-this._lastRenderedContentOffset,c=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),b=n+this._minBufferPx-(o<0?a:c);if(b>0)if(n>=e.getViewportSize())this._renderContentForCurrentOffset();else{const t=Math.max(0,Math.ceil((b-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),s=(o<0?c:a)-this._minBufferPx+n,l=Math.floor(s/this._averager.getAverageItemSize()/(this._removalFailures+1)),p=Math.min(i.end-i.start,Math.max(0,l)),m=this._expandRange(i,o<0?t:0,o>0?t:0);let d,u;if(o<0?m.end=Math.max(m.start+1,m.end-p):m.start=Math.min(m.end-1,m.start+p),o<0){let t=e.measureRangeSize({start:m.end,end:i.end});t<=s?(d=this._lastRenderedContentOffset+this._lastRenderedContentSize-t,this._removalFailures=0):(m.end=i.end,d=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),u="to-end"}else{const t=e.measureRangeSize({start:i.start,end:m.start});t<=s?(d=this._lastRenderedContentOffset+t,this._removalFailures=0):(m.start=i.start,d=this._lastRenderedContentOffset,this._removalFailures++),u="to-start"}e.setRenderedRange(m),e.setRenderedContentOffset(d+r,u)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}_checkRenderedContentSize(){const e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}_checkRenderedContentOffset(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}_renderContentForCurrentOffset(){const e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;const o=this._averager.getAverageItemSize(),n=Math.min(e.getDataLength()-1,Math.floor(t/o)),i=Math.ceil(this._maxBufferPx/o),r=this._expandRange(this._getVisibleRangeForIndex(n),i,i);e.setRenderedRange(r),e.setRenderedContentOffset(o*r.start)}_getVisibleRangeForIndex(e){const t=this._viewport,o={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},n=o.end-t.getDataLength();return n>0&&(o.start=Math.max(0,o.start-n)),o}_expandRange(e,t,o){const n=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(n.getDataLength(),e.end+o)}}_updateTotalContentSize(e){const t=this._viewport,o=t.getRenderedRange(),n=e+(t.getDataLength()-(o.end-o.start))*this._averager.getAverageItemSize();t.setTotalContentSize(n)}}function s(e){return e._scrollStrategy}let l=(()=>{class e{constructor(){this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new b(this.minBufferPx,this.maxBufferPx)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Object(n.f)(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Object(n.f)(e)}ngOnChanges(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:i.h,useFactory:s,deps:[Object(r.V)(()=>e)]}]),r.Bb()]}),e})(),p=(()=>{class e{}return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e})()},eKfw:function(e,t,o){"use strict";o.d(t,"a",(function(){return F}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("vxfF"),I=o("cfqv"),N=o("fXoL");let F=(()=>{class e{}return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,C.g,I.b,D.t]]}),e})()},fUQu:function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("fXoL");let I=(()=>{class e{}return e.\u0275mod=C.Pb({type:e}),e.\u0275inj=C.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,D.t]]}),e})()},h3iT:function(e,t,o){"use strict";o.d(t,"a",(function(){return F}));var n=o("tyNb"),i=o("STbY"),r=o("/1cH"),a=o("iadO"),c=o("bTqV"),b=o("7EHt"),s=o("kmnG"),l=o("NFeN"),p=o("Qu3c"),m=o("qFsG"),d=o("wZkO"),u=o("d3UM"),f=o("QibW"),g=o("0IaG"),h=o("/t3+"),v=o("bSwM"),k=o("M9IT"),x=o("xHqg"),y=o("A5z7"),X=o("bv9b"),W=o("XhcP"),D=o("FKr1"),L=o("1jcm"),w=o("+0xr"),_=o("MutI"),O=o("f0Cb"),S=o("5HBU"),C=o("vxfF"),I=o("cfqv"),N=o("fXoL");let F=(()=>{class e{}return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,i.b,S.a,r.b,a.c,c.c,b.b,s.e,l.b,p.b,m.c,d.c,u.b,f.c,g.e,h.b,v.b,k.b,x.d,y.e,X.b,W.b,L.b,w.k,_.c,O.b,C.g,I.b,D.t]]}),e})()},qjGM:function(e,t,o){"use strict";o.d(t,"a",(function(){return A}));var n=o("fXoL"),i=o("XNiG"),r=o("PVWW"),a=o("vxfF"),c=o("tyNb"),b=o("qXBG"),s=o("ofXK"),l=o("cfqv"),p=o("XiUz"),m=o("NFeN"),d=o("znSr"),u=o("Qu3c"),f=o("STbY");function g(e,t){1&e&&(n.Xb(0,"div",12),n.Xb(1,"span",13),n.Lc(2),n.Wb(),n.Wb()),2&e&&(n.Db(2),n.Mc("No Book"))}function h(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"th",14),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(1),n.Ic("top",o.inverseOfTranslation),n.Db(1),n.Mc(e)}}function v(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"th",14),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(1),n.Ic("top",o.inverseOfTranslation),n.Db(1),n.Mc(e)}}function k(e,t){1&e&&(n.Xb(0,"mat-icon",15),n.Lc(1,"add"),n.Wb())}function x(e,t){1&e&&(n.Xb(0,"mat-icon",16),n.Lc(1,"removed"),n.Wb())}function y(e,t){1&e&&(n.Xb(0,"mat-icon",15),n.Lc(1,"add"),n.Wb())}function X(e,t){1&e&&(n.Xb(0,"mat-icon",16),n.Lc(1,"removed"),n.Wb())}function W(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",14),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc(3).$implicit,i=n.jc(2);n.Db(1),n.Eb("rowspan",i.dataVessel[o].shipment.length),n.Db(1),n.Mc(i.dataVessel[o][e])}}function D(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td"),n.Lc(2),n.Wb(),n.Xb(3,"td"),n.Lc(4),n.Wb(),n.Xb(5,"td"),n.Lc(6),n.kc(7,"date"),n.Wb(),n.Xb(8,"td"),n.Lc(9),n.kc(10,"date"),n.Wb(),n.Jc(11,W,3,2,"ng-container",4),n.Ub()),2&e){const e=n.jc().$implicit,t=n.jc(),o=t.$implicit,i=t.index,r=n.jc(2);n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length),n.Db(1),n.Mc(i+1),n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length),n.Db(1),n.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length),n.Db(1),n.Mc(n.mc(7,10,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),n.Db(2),n.Eb("rowspan",r.dataVessel[o].shipment.length),n.Db(1),n.Mc(n.mc(10,13,e.voyage.arrive_time,"MM/dd/yyyy HH:mm")),n.Db(2),n.pc("ngForOf",r.contType)}}function L(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",14),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc().$implicit;n.Db(2),n.Mc(o.book[e])}}function w(e,t){if(1&e&&(n.Xb(0,"td",30),n.Xb(1,"div",31),n.Xb(2,"span",32),n.Lc(3),n.Wb(),n.Xb(4,"span",33),n.Lc(5),n.kc(6,"number"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=n.jc().$implicit,t=n.jc(2).$implicit,o=n.jc(3);n.Db(1),n.pc("matTooltip",e.payment_center),n.Db(2),n.Oc("",e.code," ",e.currency,""),n.Db(2),n.Mc(n.mc(6,4,o.priceObj[t.id].revenueVNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function _(e,t){if(1&e&&(n.Vb(0),n.Jc(1,w,7,7,"td",29),n.Ub()),2&e){const e=t.$implicit,o=n.jc(2).$implicit,i=n.jc(3);n.Db(1),n.pc("ngIf",i.priceObj[o.id].revenueVNPrice[e.code+e.currency+e.payment_center])}}function O(e,t){if(1&e&&(n.Vb(0),n.Jc(1,_,2,1,"ng-container",4),n.Ub()),2&e){const e=n.jc(4);n.Db(1),n.pc("ngForOf",e.priceHeader)}}function S(e,t){if(1&e&&(n.Xb(0,"td",30),n.Xb(1,"div",31),n.Xb(2,"span",32),n.Lc(3),n.Wb(),n.Xb(4,"span",33),n.Lc(5),n.kc(6,"number"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=n.jc().$implicit,t=n.jc(2).$implicit,o=n.jc(3);n.Db(1),n.pc("matTooltip",e.payment_center),n.Db(2),n.Oc("",e.code," ",e.currency,""),n.Db(2),n.Mc(n.mc(6,4,o.priceObj[t.id].revenueNNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function C(e,t){if(1&e&&(n.Vb(0),n.Jc(1,S,7,7,"td",29),n.Ub()),2&e){const e=t.$implicit,o=n.jc(2).$implicit,i=n.jc(3);n.Db(1),n.pc("ngIf",i.priceObj[o.id].revenueNNPrice[e.code+e.currency+e.payment_center])}}function I(e,t){if(1&e&&(n.Vb(0),n.Jc(1,C,2,1,"ng-container",4),n.Ub()),2&e){const e=n.jc(4);n.Db(1),n.pc("ngForOf",e.priceHeader)}}function N(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",28),n.fc("click",(function(t){n.Bc(e);const o=n.jc().$implicit,i=n.jc(3);return t.stopPropagation(),i.saveShipment.emit(o)})),n.Xb(1,"mat-icon"),n.Lc(2,"save"),n.Wb(),n.Xb(3,"span"),n.Lc(4,"Save shipment"),n.Wb(),n.Wb()}}const F=function(e){return{"text-strike red-A700-fg":e}};function M(e,t){if(1&e){const e=n.Yb();n.Xb(0,"tr",18),n.Jc(1,D,12,16,"ng-container",19),n.Xb(2,"td",20),n.Xb(3,"a",21),n.Lc(4),n.Wb(),n.Wb(),n.Xb(5,"td",22),n.Lc(6),n.Wb(),n.Jc(7,L,3,1,"ng-container",4),n.Xb(8,"td"),n.Lc(9),n.Wb(),n.Xb(10,"td"),n.Lc(11),n.Wb(),n.Xb(12,"td"),n.Lc(13),n.Wb(),n.Xb(14,"td",23),n.Jc(15,O,2,1,"ng-container",19),n.Wb(),n.Xb(16,"td",23),n.Jc(17,I,2,1,"ng-container",19),n.Wb(),n.Xb(18,"td"),n.Lc(19),n.Wb(),n.Xb(20,"td"),n.Lc(21),n.Wb(),n.Xb(22,"td",11),n.Xb(23,"mat-icon",24),n.fc("click",(function(t){return n.Bc(e),t.stopPropagation()})),n.Lc(24,"more_vert"),n.Wb(),n.Xb(25,"mat-menu",null,25),n.Xb(27,"button",26),n.fc("click",(function(t){return n.Bc(e),t.stopPropagation()})),n.Xb(28,"mat-icon"),n.Lc(29,"edit"),n.Wb(),n.Xb(30,"span"),n.Lc(31,"Edit book"),n.Wb(),n.Wb(),n.Jc(32,N,5,0,"button",27),n.Xb(33,"button",28),n.fc("click",(function(o){n.Bc(e);const i=t.$implicit,r=n.jc(3);return o.stopPropagation(),r.copyBooking.emit(i)})),n.Xb(34,"mat-icon"),n.Lc(35,"plus_one"),n.Wb(),n.Xb(36,"span"),n.Lc(37,"Copy"),n.Wb(),n.Wb(),n.Xb(38,"button",28),n.fc("click",(function(o){n.Bc(e);const i=t.$implicit,r=n.jc(3);return o.stopPropagation(),r.deleteBookDraft.emit(i)})),n.Xb(39,"mat-icon"),n.Lc(40,"delete"),n.Wb(),n.Xb(41,"span"),n.Lc(42,"Remove"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&e){const e=t.$implicit,o=t.index,i=n.xc(26),r=n.jc(3);n.pc("ngClass",n.rc(17,F,r.time>e.voyage.depart_time)),n.Db(1),n.pc("ngIf",0==o),n.Db(2),n.pc("routerLink","/apps/"+r.modul+"/shipment/book-detail/id/"+e.id+"/overview"),n.Db(1),n.Mc(e.book.code),n.Db(1),n.pc("matTooltip",e.book.customer.full_name),n.Db(1),n.Mc(e.book.customer.short_name),n.Db(1),n.pc("ngForOf",r.contType),n.Db(2),n.Mc(e.voyage.load_terminal_name),n.Db(2),n.Mc(e.voyage.discharge_terminal_name),n.Db(2),n.Mc(e.book.commodity),n.Db(2),n.pc("ngIf",r.revenueVNOpen),n.Db(2),n.pc("ngIf",r.revenueNNOpen),n.Db(2),n.Mc(e.name?e.name:e.user),n.Db(2),n.Mc(e.book.create_by?e.book.create_by.name:e.user),n.Db(2),n.pc("matMenuTriggerFor",i),n.Db(4),n.pc("routerLink","/apps/"+r.modul+"/shipment/book-form/form/"+e.id+"/overview"),n.Db(5),n.pc("ngIf",r.permission.create)}}function V(e,t){if(1&e&&(n.Vb(0),n.Jc(1,M,43,19,"tr",17),n.Ub()),2&e){const e=t.$implicit,o=n.jc(2);n.Db(1),n.pc("ngForOf",o.dataVessel[e].shipment)}}function T(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"tr"),n.Xb(2,"td",10),n.Lc(3),n.Wb(),n.Wb(),n.Jc(4,V,2,1,"ng-container",4),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Eb("colspan",2),n.Db(1),n.Mc(e),n.Db(1),n.pc("ngForOf",o.voyage[e])}}function j(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",34),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Mc(o.total[e])}}let A=(()=>{class e{constructor(e,t,o,r,a){this.router=e,this.route=t,this._activatedRoute=o,this.authService=r,this._location=a,this.saveShipment=new n.o,this.copyBooking=new n.o,this.deleteBookDraft=new n.o,this.revenueVNOpen=!0,this.revenueNNOpen=!0,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(c.g),n.Rb(c.a),n.Rb(c.a),n.Rb(b.a),n.Rb(s.n))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-vessel"]],viewQuery:function(e,t){var o;1&e&&n.Sc(a.e,!0),2&e&&n.wc(o=n.gc())&&(t.viewPort=o.first)},inputs:{dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul"},outputs:{saveShipment:"saveShipment",copyBooking:"copyBooking",deleteBookDraft:"deleteBookDraft"},decls:63,vars:41,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"cursor-pointer",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],[1,"sticky-col1","text-bold"],[1,"w-40","p-0","sticky-right-col"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],[1,"text-center"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"sticky-col1",2,"padding","8px"],[1,"cursor-pointer",3,"routerLink"],[3,"matTooltip"],[2,"padding","0"],["aria-label","More",1,"cursor-pointer",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"routerLink","click"],["mat-menu-item","","aria-label","remove",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","remove",3,"click"],["style","padding: 4px","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-bold","text-center"]],template:function(e,t){1&e&&(n.Jc(0,g,3,1,"div",0),n.Xb(1,"div",1),n.Xb(2,"cdk-virtual-scroll-viewport",2),n.Xb(3,"table",3),n.Xb(4,"thead"),n.Xb(5,"tr"),n.Xb(6,"th"),n.Lc(7,"No"),n.Wb(),n.Xb(8,"th"),n.Lc(9,"Voyage"),n.Wb(),n.Xb(10,"th"),n.Lc(11,"ETD"),n.Wb(),n.Xb(12,"th"),n.Lc(13,"ETA"),n.Wb(),n.Jc(14,h,3,3,"ng-container",4),n.Xb(15,"th",5),n.Lc(16,"Code"),n.Wb(),n.Xb(17,"th"),n.Lc(18,"Customer"),n.Wb(),n.Jc(19,v,3,3,"ng-container",4),n.Xb(20,"th"),n.Lc(21,"Load terminal"),n.Wb(),n.Xb(22,"th"),n.Lc(23,"Discharge terminal"),n.Wb(),n.Xb(24,"th"),n.Lc(25,"Commodity"),n.Wb(),n.Xb(26,"th",6),n.fc("click",(function(e){return e.stopPropagation(),t.revenueVNOpen=!t.revenueVNOpen})),n.Xb(27,"div",7),n.Xb(28,"span"),n.Lc(29,"REV VN"),n.Wb(),n.Jc(30,k,2,0,"mat-icon",8),n.Jc(31,x,2,0,"mat-icon",9),n.Wb(),n.Wb(),n.Xb(32,"th",6),n.fc("click",(function(e){return e.stopPropagation(),t.revenueNNOpen=!t.revenueNNOpen})),n.Xb(33,"div",7),n.Xb(34,"span"),n.Lc(35,"REV NN"),n.Wb(),n.Jc(36,y,2,0,"mat-icon",8),n.Jc(37,X,2,0,"mat-icon",9),n.Wb(),n.Wb(),n.Xb(38,"th"),n.Lc(39,"Owner"),n.Wb(),n.Xb(40,"th"),n.Lc(41,"Create by"),n.Wb(),n.Sb(42,"th"),n.Wb(),n.Wb(),n.Xb(43,"tbody"),n.Jc(44,T,5,3,"ng-container",4),n.Wb(),n.Xb(45,"tfoot"),n.Xb(46,"tr"),n.Sb(47,"td"),n.Xb(48,"td",10),n.Lc(49,"Total"),n.Wb(),n.Sb(50,"td"),n.Sb(51,"td"),n.Jc(52,j,3,1,"ng-container",4),n.Sb(53,"td"),n.Sb(54,"td"),n.Sb(55,"td"),n.Sb(56,"td"),n.Sb(57,"td"),n.Sb(58,"td"),n.Sb(59,"td"),n.Sb(60,"td"),n.Sb(61,"td"),n.Sb(62,"td",11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.pc("ngIf",0===t.sptRouter.length),n.Db(1),n.Ic("height",t.height,"px"),n.Db(1),n.Ic("height",t.height,"px"),n.Db(4),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.pc("ngForOf",t.contType),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.pc("ngForOf",t.contType),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngIf",!t.revenueVNOpen),n.Db(1),n.pc("ngIf",t.revenueVNOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngIf",!t.revenueNNOpen),n.Db(1),n.pc("ngIf",t.revenueNNOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.pc("ngForOf",t.sptRouter),n.Db(8),n.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,p.d,s.s,p.c,p.e,m.a,s.q,d.a,c.j,u.a,f.c,f.d,f.a,c.h],pipes:[s.f,s.g],styles:["bookings-vessel .no-book-text{font-size:24px;font-weight:300}bookings-vessel cdk-virtual-scroll-viewport{width:100%}bookings-vessel .book-table{font-size:12px;border-collapse:collapse}bookings-vessel .book-table td,bookings-vessel .book-table th{padding:8px;white-space:nowrap}bookings-vessel .book-table td{border-top:1px solid #000!important;border-bottom:1px solid #000!important}bookings-vessel .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-vessel .book-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}bookings-vessel .book-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}bookings-vessel .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-vessel .book-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}bookings-vessel .book-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2,data:{animation:r.a}}),e})()},"t0+f":function(e,t,o){"use strict";var n=o("fXoL"),i=o("0IaG"),r=o("3Pt+");function a(e){if(e.value){if(11!=e.value.length)return{validConNum:!0};{let o,n,i=e.value,r=0;for(var t=0;t<i.length;t++){if(o=i.charAt(t),t<4){if(!isNaN(o))return{validConNum:!0};switch(o){case"A":o=10;break;case"B":o=12;break;case"C":o=13;break;case"D":o=14;break;case"E":o=15;break;case"F":o=16;break;case"G":o=17;break;case"H":o=18;break;case"I":o=19;break;case"J":o=20;break;case"K":o=21;break;case"L":o=23;break;case"M":o=24;break;case"N":o=25;break;case"O":o=26;break;case"P":o=27;break;case"Q":o=28;break;case"R":o=29;break;case"S":o=30;break;case"T":o=31;break;case"U":o=32;break;case"V":o=34;break;case"W":o=35;break;case"X":o=36;break;case"Y":o=37;break;case"Z":o=38}}else{if(isNaN(o))return{validConNum:!0};o=Number(o)}t==i.length-1?n=o:r+=o*Math.pow(2,t)}if((r%11==10?0:r%11)!=n)return{validConNum:!0}}}return null}var c=o("tyNb"),b=o("qXBG"),s=o("ofXK"),l=o("0Zc1"),p=o("/t3+"),m=o("XiUz"),d=o("bTqV"),u=o("NFeN"),f=o("EwFO"),g=o("kmnG"),h=o("qFsG"),v=o("d3UM"),k=o("FKr1"),x=o("znSr");o.d(t,"a",(function(){return S}));const y=["tref"];function X(e,t){1&e&&(n.Xb(0,"mat-error"),n.Lc(1," Container is required "),n.Wb())}function W(e,t){1&e&&(n.Xb(0,"mat-error"),n.Lc(1," Invalid container number "),n.Wb())}function D(e,t){1&e&&(n.Xb(0,"mat-error"),n.Lc(1," Type is required "),n.Wb())}function L(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",36),n.fc("click",(function(t){n.Bc(e);const o=n.jc().index;return n.jc().removeContainer(o)})),n.Xb(1,"mat-icon"),n.Lc(2,"delete"),n.Wb(),n.Wb()}}function w(e,t){if(1&e){const e=n.Yb();n.Xb(0,"button",37),n.fc("click",(function(t){return n.Bc(e),n.jc(2).addContainer()})),n.Xb(1,"mat-icon"),n.Lc(2,"add"),n.Wb(),n.Wb()}}const _=function(e){return{hide:e}};function O(e,t){if(1&e){const e=n.Yb();n.Xb(0,"div",14),n.Xb(1,"mat-form-field",15),n.Xb(2,"mat-label"),n.Lc(3,"Container"),n.Wb(),n.Sb(4,"input",16),n.Xb(5,"mat-icon",17),n.fc("click",(function(o){n.Bc(e);const i=t.index,r=n.jc();return r.viewNote[i]=!r.viewNote[i]})),n.Lc(6,"note"),n.Wb(),n.Jc(7,X,2,0,"mat-error",18),n.Jc(8,W,2,0,"mat-error",18),n.Wb(),n.Xb(9,"mat-form-field",19),n.Xb(10,"mat-label"),n.Lc(11,"Type"),n.Wb(),n.Xb(12,"mat-select",20),n.Xb(13,"mat-option",21),n.Lc(14,"20`"),n.Wb(),n.Xb(15,"mat-option",21),n.Lc(16,"40`"),n.Wb(),n.Wb(),n.Jc(17,D,2,0,"mat-error",18),n.Wb(),n.Xb(18,"mat-form-field",22),n.Xb(19,"mat-label"),n.Lc(20,"Seal"),n.Wb(),n.Sb(21,"input",23),n.Wb(),n.Xb(22,"div",24),n.Jc(23,L,3,0,"button",25),n.Jc(24,w,3,0,"button",26),n.Wb(),n.Xb(25,"mat-form-field",27),n.Xb(26,"mat-label"),n.Lc(27,"Remark"),n.Wb(),n.Xb(28,"mat-select",28),n.Sb(29,"mat-option",29),n.Xb(30,"mat-option",21),n.Lc(31,"H\xc0NG NGUY HI\u1ec2M"),n.Wb(),n.Xb(32,"mat-option",21),n.Lc(33,"Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"mat-form-field",30),n.Xb(35,"mat-label"),n.Lc(36,"Status"),n.Wb(),n.Xb(37,"mat-select",31),n.Sb(38,"mat-option",29),n.Xb(39,"mat-option",21),n.Lc(40,"Booking"),n.Wb(),n.Xb(41,"mat-option",21),n.Lc(42,"Release"),n.Wb(),n.Xb(43,"mat-option",21),n.Lc(44,"Pick-up"),n.Wb(),n.Wb(),n.Wb(),n.Xb(45,"mat-form-field",32),n.Xb(46,"mat-label"),n.Lc(47,"Description"),n.Wb(),n.Sb(48,"input",33),n.Wb(),n.Xb(49,"mat-form-field",30),n.Xb(50,"mat-label"),n.Lc(51,"Lift on"),n.Wb(),n.Sb(52,"input",34),n.Wb(),n.Xb(53,"mat-form-field",30),n.Xb(54,"mat-label"),n.Lc(55,"Lift off"),n.Wb(),n.Sb(56,"input",35),n.Wb(),n.Wb()}if(2&e){const e=t.index,o=n.jc();n.pc("formGroupName",e),n.Db(7),n.pc("ngIf",o.formLcv.controls.contArr.controls[e].get("container").hasError("required")),n.Db(1),n.pc("ngIf",o.formLcv.controls.contArr.controls[e].get("container").errors&&o.formLcv.controls.contArr.controls[e].get("container").dirty&&o.formLcv.controls.contArr.controls[e].get("container").errors.validConNum),n.Db(5),n.pc("value","20`"),n.Db(2),n.pc("value","40`"),n.Db(2),n.pc("ngIf",o.formLcv.controls.contArr.controls[e].get("type").hasError("required")),n.Db(6),n.pc("ngIf",e>0),n.Db(1),n.pc("ngIf",o.formLcv.controls.contArr.value.length==e+1),n.Db(1),n.pc("ngClass",n.rc(18,_,!o.viewNote[e])),n.Db(5),n.pc("value","H\xc0NG NGUY HI\u1ec2M"),n.Db(2),n.pc("value","Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),n.Db(2),n.pc("ngClass",n.rc(20,_,!o.viewNote[e])),n.Db(5),n.pc("value","Booking"),n.Db(2),n.pc("value","Release"),n.Db(2),n.pc("value","Pick-up"),n.Db(2),n.pc("ngClass",n.rc(22,_,!o.viewNote[e])),n.Db(4),n.pc("ngClass",n.rc(24,_,!o.viewNote[e])),n.Db(4),n.pc("ngClass",n.rc(26,_,!o.viewNote[e]))}}let S=(()=>{class e{constructor(e,t,o,n,i,c,b){this.router=e,this.matDialogRef=t,this._data=o,this.authService=n,this._formBuilder=i,this.datePipe=c,this.commonService=b,this.maxDate=null,this.depot=[],this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.seaTerminal=[],this.formLcv=this._formBuilder.group({contArr:this._formBuilder.array([this._formBuilder.group({container:[null,[r.y.required,a]],type:[null,r.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null]})])}),this.subject="",this.content="",this.viewNote=[],this.label=o.label,this.data=JSON.parse(JSON.stringify(o.data)),this.data.contArr&&this.data.contArr.length>0&&this.data.contArr.map((e,t)=>{t>0&&this.addContainer()}),this.formLcv.patchValue(this.data)}ngOnInit(){this.formLcv.valueChanges.subscribe(e=>{this.errorMessage=""}),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}setDateStr(e){e.target.value=""==e.target.value?null:new Date(e.target.value)}onLcvFormSubmit(e){e.valid&&this.matDialogRef.close(e.value)}get contAdd(){return this.formLcv.get("contArr")}addContainer(){this.contAdd.push(this._formBuilder.group({container:[null,[r.y.required,a]],type:[null,r.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null],vgm:[null]}))}removeContainer(e){this.contAdd.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(c.g),n.Rb(i.f),n.Rb(i.a),n.Rb(b.a),n.Rb(r.d),n.Rb(s.f),n.Rb(l.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-modal-dialog"]],viewQuery:function(e,t){var o;1&e&&n.Sc(y,!0,n.l),2&e&&n.wc(o=n.gc())&&(t.tref=o.first)},decls:21,vars:4,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-book-modal","fxLayout","column",1,"p-16","pb-0","m-0"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],["formArrayName","contArr","fxLayout","column"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName"],["appearance","outline","fxFlex","40",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","container","maxlength","11","required",""],["matSuffix","","color","accent",1,"cursor-pointer",3,"click"],[4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8"],["formControlName","type","required",""],[3,"value"],["appearance","outline","fxFlex","30",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","seal"],["fxFlex","10",1,"pr-8"],["mat-mini-fab","","color","warn","type","button",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent","type","button",3,"click",4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8",3,"ngClass"],["formControlName","note"],["value",""],["appearance","outline","fxFlex","15",1,"pr-8",3,"ngClass"],["formControlName","status"],["appearance","outline","fxFlex","35",1,"pr-8",3,"ngClass"],["inputCheck","","matInput","","type","text","formControlName","description"],["inputCheck","","matInput","","type","text","formControlName","lift_on"],["inputCheck","","matInput","","type","text","formControlName","lift_off"],["mat-mini-fab","","color","warn","type","button",3,"click"],["mat-mini-fab","","color","accent","type","button",3,"click"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"mat-toolbar",1),n.Xb(2,"mat-toolbar-row",2),n.Xb(3,"span",3),n.Lc(4),n.Wb(),n.Xb(5,"button",4),n.fc("click",(function(e){return t.matDialogRef.close()})),n.Xb(6,"mat-icon"),n.Lc(7,"close"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"div"),n.Xb(10,"form",6),n.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onLcvFormSubmit(t.formLcv)})),n.Xb(11,"div",7),n.Jc(12,O,57,28,"div",8),n.Wb(),n.Xb(13,"div",9),n.Xb(14,"div",10),n.Lc(15),n.Wb(),n.Wb(),n.Xb(16,"div",11),n.Xb(17,"button",12),n.Lc(18,"Submit"),n.Wb(),n.Xb(19,"button",13),n.fc("click",(function(e){return t.matDialogRef.close()})),n.Lc(20,"Cancel"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Db(4),n.Mc(t.label),n.Db(6),n.pc("formGroup",t.formLcv),n.Db(2),n.pc("ngForOf",t.contAdd.controls),n.Db(3),n.Mc(t.errorMessage))},directives:[p.a,p.c,m.b,m.d,m.c,d.b,u.a,i.d,f.a,r.A,r.q,r.h,r.c,s.s,r.i,g.c,g.f,h.b,r.b,r.p,r.g,r.k,r.w,g.h,s.t,v.a,k.n,s.q,x.a,g.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.bookings-modal-dialog{width:100%}}@media screen and (min-width:960px){.bookings-modal-dialog{width:1080px}}.bookings-modal-dialog .mat-dialog-container{padding:0}.bookings-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.bookings-modal-dialog #shipment-book-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.bookings-modal-dialog #shipment-book-modal .faq .item{padding:8px}.bookings-modal-dialog #shipment-book-modal .faq .item .title{font-weight:700;font-size:14px;margin-bottom:8px}.bookings-modal-dialog #shipment-book-modal .faq .item .info{font-size:12px;line-height:1.5}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper{margin:0;padding:0}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-header{padding:8px 20px;border-bottom:1px solid}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-header .example-viewer-title{font-weight:700}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content{background:#263238;color:#fff}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab{position:relative}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source-copy{position:absolute;top:0;right:8px}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab:hover .example-source-copy{display:inline-block}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source{padding:0;margin:0;min-height:150px;border-bottom:1px solid}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source>pre{width:100%}"],encapsulation:2}),e})()},wFrn:function(e,t,o){"use strict";o.d(t,"a",(function(){return E}));var n=o("0IaG"),i=o("3Pt+"),r=o("JX91"),a=o("lJxs"),c=o("fXoL"),b=o("tyNb"),s=o("qXBG"),l=o("0Zc1"),p=o("ofXK"),m=o("/t3+"),d=o("XiUz"),u=o("bTqV"),f=o("NFeN"),g=o("EwFO"),h=o("kmnG"),v=o("qFsG"),k=o("/1cH"),x=o("d3UM"),y=o("iadO"),X=o("FKr1");const W=["formDirective"];function D(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.name," ")}}function L(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Vessel is required "),c.Wb())}function w(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.full_name," ")}}function _(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Supplier is required "),c.Wb())}function O(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Name is required "),c.Wb())}function S(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.name," ")}}function C(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Load port is required "),c.Wb())}function I(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.name," ")}}function N(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Load terminal is required "),c.Wb())}function F(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Depart day is required "),c.Wb())}function M(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Date is too early! "),c.Wb())}function V(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Depart time is required "),c.Wb())}function T(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Closing time is required "),c.Wb())}function j(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.name," ")}}function A(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Discharge port is required "),c.Wb())}function R(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){const e=t.$implicit;c.pc("value",e.id),c.Db(1),c.Nc(" ",e.name," ")}}function q(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Discharge terminal is required "),c.Wb())}function P(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Arrive day is required "),c.Wb())}function B(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Date is too early! "),c.Wb())}function z(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Arrive time is required "),c.Wb())}function J(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div"),c.Xb(1,"form",7),c.fc("keydown.enter",(function(t){return c.Bc(e),"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){c.Bc(e);const o=c.jc();return o.onFormSubmit(o.formVoyage)})),c.Xb(2,"div",8),c.Sb(3,"input",9),c.Wb(),c.Xb(4,"div",10),c.Xb(5,"mat-form-field",11),c.Xb(6,"mat-label"),c.Lc(7,"Vessel"),c.Wb(),c.Sb(8,"input",12),c.Xb(9,"mat-autocomplete",13,14),c.Jc(11,D,2,2,"mat-option",15),c.kc(12,"async"),c.Wb(),c.Jc(13,L,2,0,"mat-error",6),c.Wb(),c.Xb(14,"mat-form-field",16),c.Xb(15,"mat-label"),c.Lc(16,"Supplier"),c.Wb(),c.Sb(17,"input",17),c.Xb(18,"mat-autocomplete",13,18),c.Jc(20,w,2,2,"mat-option",15),c.kc(21,"async"),c.Wb(),c.Jc(22,_,2,0,"mat-error",6),c.Wb(),c.Xb(23,"mat-form-field",11),c.Xb(24,"mat-label"),c.Lc(25,"Voyage"),c.Wb(),c.Sb(26,"input",19),c.Jc(27,O,2,0,"mat-error",6),c.Wb(),c.Xb(28,"mat-form-field",20),c.Xb(29,"mat-label"),c.Lc(30,"Load port"),c.Wb(),c.Sb(31,"input",21),c.Xb(32,"mat-autocomplete",13,22),c.Jc(34,S,2,2,"mat-option",15),c.kc(35,"async"),c.Wb(),c.Jc(36,C,2,0,"mat-error",6),c.Wb(),c.Xb(37,"mat-form-field",20),c.Xb(38,"mat-label"),c.Lc(39,"Load terminal"),c.Wb(),c.Xb(40,"mat-select",23),c.Jc(41,I,2,2,"mat-option",15),c.Wb(),c.Jc(42,N,2,0,"mat-error",6),c.Wb(),c.Xb(43,"mat-form-field",24),c.Xb(44,"mat-label"),c.Lc(45,"Depart day"),c.Wb(),c.Xb(46,"input",25),c.fc("change",(function(t){return c.Bc(e),c.jc().commonService.setDateStr(t)})),c.Wb(),c.Sb(47,"mat-datepicker-toggle",26),c.Sb(48,"mat-datepicker",null,27),c.Jc(50,F,2,0,"mat-error",6),c.Jc(51,M,2,0,"mat-error",6),c.Wb(),c.Xb(52,"mat-form-field",24),c.Xb(53,"mat-label"),c.Lc(54,"Depart time"),c.Wb(),c.Sb(55,"input",28),c.Jc(56,V,2,0,"mat-error",6),c.Wb(),c.Xb(57,"mat-form-field",29),c.Xb(58,"mat-label"),c.Lc(59,"Closing time(hours)"),c.Wb(),c.Sb(60,"input",30),c.Xb(61,"span",31),c.Lc(62),c.kc(63,"date"),c.Wb(),c.Jc(64,T,2,0,"mat-error",6),c.Wb(),c.Xb(65,"mat-form-field",20),c.Xb(66,"mat-label"),c.Lc(67,"Discharge port"),c.Wb(),c.Sb(68,"input",32),c.Xb(69,"mat-autocomplete",13,33),c.Jc(71,j,2,2,"mat-option",15),c.kc(72,"async"),c.Wb(),c.Jc(73,A,2,0,"mat-error",6),c.Wb(),c.Xb(74,"mat-form-field",20),c.Xb(75,"mat-label"),c.Lc(76,"Discharge terminal"),c.Wb(),c.Xb(77,"mat-select",34),c.Jc(78,R,2,2,"mat-option",15),c.Wb(),c.Jc(79,q,2,0,"mat-error",6),c.Wb(),c.Xb(80,"mat-form-field",24),c.Xb(81,"mat-label"),c.Lc(82,"Arrive day"),c.Wb(),c.Xb(83,"input",35),c.fc("change",(function(t){return c.Bc(e),c.jc().commonService.setDateStr(t)})),c.Wb(),c.Sb(84,"mat-datepicker-toggle",26),c.Sb(85,"mat-datepicker",null,36),c.Jc(87,P,2,0,"mat-error",6),c.Jc(88,B,2,0,"mat-error",6),c.Wb(),c.Xb(89,"mat-form-field",24),c.Xb(90,"mat-label"),c.Lc(91,"Arrive time"),c.Wb(),c.Sb(92,"input",37),c.Jc(93,z,2,0,"mat-error",6),c.Wb(),c.Xb(94,"mat-form-field",29),c.Xb(95,"mat-label"),c.Lc(96,"Update by"),c.Wb(),c.Sb(97,"input",38),c.Wb(),c.Xb(98,"mat-form-field",39),c.Xb(99,"mat-label"),c.Lc(100,"Info"),c.Wb(),c.Sb(101,"input",40),c.Wb(),c.Wb(),c.Xb(102,"div",41),c.Xb(103,"div",42),c.Lc(104),c.Wb(),c.Wb(),c.Xb(105,"div",43),c.Xb(106,"button",44),c.Lc(107,"Submit"),c.Wb(),c.Xb(108,"button",45),c.fc("click",(function(t){return c.Bc(e),c.jc().matDialogRef.close()})),c.Lc(109,"Cancel"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=c.xc(10),t=c.xc(19),o=c.xc(33),n=c.xc(49),i=c.xc(70),r=c.xc(86),a=c.jc();c.Db(1),c.pc("formGroup",a.formVoyage),c.Db(7),c.pc("matAutocomplete",e),c.Db(1),c.pc("displayWith",a.commonService.displayFn.bind(a,"name",a.vessel)),c.Db(2),c.pc("ngForOf",c.lc(12,39,a.filteredVessel)),c.Db(2),c.pc("ngIf",a.formVoyage.get("vessel_id").hasError("required")),c.Db(4),c.pc("matAutocomplete",t),c.Db(1),c.pc("displayWith",a.commonService.displayFn.bind(a,"full_name",a.supplier)),c.Db(2),c.pc("ngForOf",c.lc(21,41,a.filteredSupplier)),c.Db(2),c.pc("ngIf",a.formVoyage.get("supplier_id").hasError("required")),c.Db(5),c.pc("ngIf",a.formVoyage.get("name").hasError("required")),c.Db(4),c.pc("matAutocomplete",o),c.Db(1),c.pc("displayWith",a.commonService.displayFn.bind(a,"name",a.seaport)),c.Db(2),c.pc("ngForOf",c.lc(35,43,a.filteredSeaport1)),c.Db(2),c.pc("ngIf",a.formVoyage.get("load_port").hasError("required")),c.Db(4),c.pc("disabled",null==a.formVoyage.controls.load_port.value),c.Db(1),c.pc("ngForOf",a.filterLoadTerminal),c.Db(1),c.pc("ngIf",a.formVoyage.get("load_terminal").hasError("required")),c.Db(4),c.pc("matDatepicker",n),c.Db(1),c.pc("for",n),c.Db(3),c.pc("ngIf",a.formVoyage.get("depart_day").hasError("required")),c.Db(1),c.pc("ngIf",!a.formVoyage.get("depart_day").hasError("required")&&"INVALID"==a.formVoyage.get("depart_day").status),c.Db(5),c.pc("ngIf",a.formVoyage.get("depart_time").hasError("required")),c.Db(6),c.Nc("\xa0\xa0",c.mc(63,45,a.time,"MM/dd/yyyy HH:mm"),""),c.Db(2),c.pc("ngIf",a.formVoyage.get("closing_time").hasError("required")),c.Db(4),c.pc("matAutocomplete",i),c.Db(1),c.pc("displayWith",a.commonService.displayFn.bind(a,"name",a.seaport)),c.Db(2),c.pc("ngForOf",c.lc(72,48,a.filteredSeaport2)),c.Db(2),c.pc("ngIf",a.formVoyage.get("discharge_port").hasError("required")),c.Db(4),c.pc("disabled",null==a.formVoyage.controls.discharge_port.value),c.Db(1),c.pc("ngForOf",a.filterDischargeTerminal),c.Db(1),c.pc("ngIf",a.formVoyage.get("discharge_terminal").hasError("required")),c.Db(4),c.pc("matDatepicker",r)("min",a.minArriveDate),c.Db(1),c.pc("for",r),c.Db(3),c.pc("ngIf",a.formVoyage.get("arrive_day").hasError("required")),c.Db(1),c.pc("ngIf",!a.formVoyage.get("arrive_day").hasError("required")&&"INVALID"==a.formVoyage.get("arrive_day").status),c.Db(5),c.pc("ngIf",a.formVoyage.get("arrive_time").hasError("required")),c.Db(4),c.pc("readonly",!0),c.Db(7),c.Mc(a.errorMessage)}}function H(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div"),c.Xb(1,"form",7),c.fc("keydown.enter",(function(t){return c.Bc(e),"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){c.Bc(e);const o=c.jc();return o.onFormRemarkSubmit(o.formRemark)})),c.Xb(2,"div",10),c.Xb(3,"mat-form-field",39),c.Xb(4,"mat-label"),c.Lc(5,"Remark"),c.Wb(),c.Sb(6,"input",47),c.Wb(),c.Wb(),c.Xb(7,"div",41),c.Xb(8,"div",42),c.Lc(9),c.Wb(),c.Wb(),c.Xb(10,"div",43),c.Xb(11,"button",44),c.Lc(12,"Submit"),c.Wb(),c.Xb(13,"button",45),c.fc("click",(function(t){return c.Bc(e),c.jc().matDialogRef.close()})),c.Lc(14,"Cancel"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=c.jc();c.Db(1),c.pc("formGroup",e.formRemark),c.Db(8),c.Mc(e.errorMessage)}}let E=(()=>{class e{constructor(e,t,o,n,r,a,c){if(this.router=e,this.matDialogRef=t,this._data=o,this.authService=n,this.commonService=r,this.datePipe=a,this._formBuilder=c,this.filterLoadTerminal=[],this.filterDischargeTerminal=[],this.errorMessage="",this.formVoyage=this._formBuilder.group({id:[null],vessel_id:[null,i.y.required],supplier_id:[null,i.y.required],name:[null,i.y.required],load_port:[null,i.y.required],load_terminal:[null,i.y.required],depart_day:[null,i.y.required],depart_time:[null,i.y.required],closing_time:[null,i.y.required],discharge_port:[null,i.y.required],discharge_terminal:[null,i.y.required],arrive_day:[null,i.y.required],arrive_time:[null,i.y.required],info:[null],update_by:[this.authService.email,i.y.required]}),this.formRemark=this._formBuilder.group({remark:[null]}),this.label=o.label,"Edit Voyage"==this.label){this.vessel=o.vessel,this.supplier=o.supplier,this.seaport=o.seaport,this.seaTerminal=o.seaTerminal,this.voyage=JSON.parse(JSON.stringify(o.data));let e=this.vessel.find(e=>e.name==this.voyage.vessel_name);this.voyage.vessel_id=e.id,this.time=this.voyage.closing_time,this.voyage.closing_time=(this.voyage.depart_time-this.voyage.closing_time)/36e5,this.filterLoadTerminal=this.seaTerminal.filter(e=>e.seaport_id==this.voyage.load_port),this.filterDischargeTerminal=this.seaTerminal.filter(e=>e.seaport_id==this.voyage.discharge_port);let t=this.datePipe.transform(new Date(this.voyage.depart_time),"yyyy/MM/dd");this.voyage.depart_day=new Date(t),this.voyage.depart_time=this.datePipe.transform(new Date(this.voyage.depart_time),"HH:mm");let n=this.datePipe.transform(new Date(this.voyage.arrive_time),"yyyy/MM/dd");this.voyage.arrive_day=new Date(n),this.voyage.arrive_time=this.datePipe.transform(new Date(this.voyage.arrive_time),"HH:mm"),this.formVoyage.patchValue(this.voyage)}"Edit Remark"==this.label&&this.formRemark.controls.remark.setValue(o.data)}ngOnInit(){this.filteredVessel=this.formVoyage.controls.vessel_id.valueChanges.pipe(Object(r.a)(""),Object(a.a)(e=>e?"string"==typeof e?e:e.name:null),Object(a.a)(e=>e?this.commonService.filterData(e,"name",this.vessel):[])),this.filteredSupplier=this.formVoyage.controls.supplier_id.valueChanges.pipe(Object(r.a)(""),Object(a.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(a.a)(e=>e?this.commonService.filterData(e,"partner_name",this.supplier):[])),this.filteredSeaport1=this.formVoyage.controls.load_port.valueChanges.pipe(Object(r.a)(""),Object(a.a)(e=>e?"string"==typeof e?e:e.name:null),Object(a.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.filteredSeaport2=this.formVoyage.controls.discharge_port.valueChanges.pipe(Object(r.a)(""),Object(a.a)(e=>e?"string"==typeof e?e:e.name:null),Object(a.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.formVoyage.controls.load_port.valueChanges.subscribe(e=>{this.filterLoadTerminal="number"==typeof e?this.seaTerminal.filter(t=>t.seaport_id==e):[]}),this.formVoyage.controls.discharge_port.valueChanges.subscribe(e=>{this.filterDischargeTerminal="number"==typeof e?this.seaTerminal.filter(t=>t.seaport_id==e):[]}),this.formVoyage.controls.vessel_id.valueChanges.subscribe(e=>{if("string"!=typeof e){let t=this.vessel.find(t=>t.id==e);t&&this.formVoyage.controls.supplier_id.setValue(t.operator)}}),this.formVoyage.controls.depart_day.valueChanges.subscribe(e=>{this.minArriveDate=e}),this.formVoyage.valueChanges.subscribe(e=>{if(this.errorMessage="",e.depart_day&&e.depart_time&&e.closing_time>=0){let t=e.depart_time.toString().split(":"),o=new Date(e.depart_day),n=o.getFullYear(),i=o.getMonth(),r=o.getDate();this.time=new Date(n,i,r,parseInt(t[0])-e.closing_time,t[1])}})}onFormSubmit(e){if(e.valid){if("string"==typeof e.value.supplier_id)return void this.formVoyage.controls.supplier_id.setValue(null);if("string"==typeof e.value.load_port)return void this.formVoyage.controls.load_port.setValue(null);if("string"==typeof e.value.discharge_port)return void this.formVoyage.controls.discharge_port.setValue(null);let t=JSON.parse(JSON.stringify(e.value)),o=this.datePipe.transform(new Date(t.depart_day),"yyyy/MM/dd");o+=" "+t.depart_time+":00.0",delete t.depart_day,t.depart_time=o;let n=this.datePipe.transform(new Date(t.arrive_day),"yyyy/MM/dd");n+=" "+t.arrive_time+":00.0",delete t.arrive_day,t.arrive_time=n,this.matDialogRef.close(t)}}onFormRemarkSubmit(e){e.valid&&this.matDialogRef.close(e.value)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(b.g),c.Rb(n.f),c.Rb(n.a),c.Rb(s.a),c.Rb(l.a),c.Rb(p.f),c.Rb(i.d))},e.\u0275cmp=c.Lb({type:e,selectors:[["bookings-vessel-modal-dialog"]],viewQuery:function(e,t){var o;1&e&&c.Sc(W,!0),2&e&&c.wc(o=c.gc())&&(t.voyageListNgForm=o.first)},decls:11,vars:3,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-cost-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","","formControlName","vessel_id","required","",3,"matAutocomplete"],[3,"displayWith"],["autoVessel","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","60",1,"pr-8"],["inputCheck","","matInput","","formControlName","supplier_id","required","",3,"matAutocomplete"],["autoOnSup","matAutocomplete"],["inputCheck","","matInput","","formControlName","name","required",""],["appearance","outline","fxFlex","50","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","","formControlName","load_port","required","",3,"matAutocomplete"],["autoOnPol","matAutocomplete"],["formControlName","load_terminal","required","",3,"disabled"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","15",1,"pr-8"],["inputCheck","","matInput","","name","depart_day","formControlName","depart_day","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["departDayPicker",""],["inputCheck","","matInput","","type","time","formControlName","depart_time","required",""],["appearance","outline","fxFlex","100","fxFlex.gt-xs","30",1,"pr-8"],["inputCheck","","type","number","min","0","matInput","","formControlName","closing_time","required",""],["matSuffix",""],["inputCheck","","matInput","","formControlName","discharge_port","required","",3,"matAutocomplete"],["autoOnPod","matAutocomplete"],["formControlName","discharge_terminal","required","",3,"disabled"],["inputCheck","","matInput","","name","arrive_day","formControlName","arrive_day","required","",3,"matDatepicker","min","change"],["arriveDayPicker",""],["inputCheck","","matInput","","type","time","formControlName","arrive_time","required",""],["inputCheck","","matInput","","formControlName","update_by",3,"readonly"],["appearance","outline","fxFlex","100",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[3,"value"],["inputCheck","","matInput","","formControlName","remark"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"mat-toolbar",1),c.Xb(2,"mat-toolbar-row",2),c.Xb(3,"span",3),c.Lc(4),c.Wb(),c.Xb(5,"button",4),c.fc("click",(function(e){return t.matDialogRef.close()})),c.Xb(6,"mat-icon"),c.Lc(7,"close"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(8,"div",5),c.Jc(9,J,110,50,"div",6),c.Jc(10,H,15,2,"div",6),c.Wb(),c.Wb()),2&e&&(c.Db(4),c.Mc(t.label),c.Db(5),c.pc("ngIf","Edit Voyage"==t.label),c.Db(1),c.pc("ngIf","Edit Remark"==t.label))},directives:[m.a,m.c,d.b,d.d,d.c,u.b,f.a,n.d,g.a,p.t,i.A,i.q,i.h,i.b,i.p,i.g,h.c,h.f,v.b,k.c,i.w,k.a,p.s,x.a,y.b,y.d,h.h,y.a,i.u,X.n,h.b],pipes:[p.b,p.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.bookings-vessel-modal-dialog{width:100%}}@media screen and (min-width:960px){.bookings-vessel-modal-dialog{width:1080px}}.bookings-vessel-modal-dialog .mat-dialog-container{padding:0}.bookings-vessel-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.bookings-vessel-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.bookings-vessel-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),e})()},xmvJ:function(e,t,o){"use strict";o.d(t,"a",(function(){return $}));var n=o("fXoL"),i=o("XNiG"),r=o("PVWW"),a=o("vxfF"),c=o("tyNb"),b=o("qXBG"),s=o("ofXK"),l=o("cfqv"),p=o("XiUz"),m=o("NFeN"),d=o("znSr"),u=o("Qu3c");function f(e,t){1&e&&(n.Xb(0,"div",16),n.Xb(1,"span",17),n.Lc(2),n.Wb(),n.Wb()),2&e&&(n.Db(2),n.Mc("No Book"))}function g(e,t){if(1&e){const e=n.Yb();n.Xb(0,"mat-icon",18),n.fc("click",(function(t){n.Bc(e);const o=n.jc();return o.vesselOpen=!o.vesselOpen})),n.Lc(1,"add"),n.Wb()}}function h(e,t){if(1&e){const e=n.Yb();n.Xb(0,"mat-icon",19),n.fc("click",(function(t){n.Bc(e);const o=n.jc();return o.vesselOpen=!o.vesselOpen})),n.Lc(1,"removed"),n.Wb()}}function v(e,t){if(1&e&&(n.Xb(0,"th"),n.Lc(1,"ETA"),n.Wb()),2&e){const e=n.jc();n.Ic("top",e.inverseOfTranslation)}}function k(e,t){if(1&e&&(n.Xb(0,"th"),n.Lc(1,"Closing time"),n.Wb()),2&e){const e=n.jc();n.Ic("top",e.inverseOfTranslation)}}function x(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"th",20),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(1),n.Ic("top",o.inverseOfTranslation),n.Db(1),n.Mc(e)}}function y(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"th",20),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(1),n.Ic("top",o.inverseOfTranslation),n.Db(1),n.Mc(e)}}function X(e,t){1&e&&(n.Xb(0,"mat-icon",21),n.Lc(1,"add"),n.Wb())}function W(e,t){1&e&&(n.Xb(0,"mat-icon",22),n.Lc(1,"removed"),n.Wb())}function D(e,t){1&e&&(n.Xb(0,"mat-icon",21),n.Lc(1,"add"),n.Wb())}function L(e,t){1&e&&(n.Xb(0,"mat-icon",22),n.Lc(1,"removed"),n.Wb())}function w(e,t){if(1&e&&(n.Xb(0,"td"),n.Lc(1),n.kc(2,"date"),n.Wb()),2&e){const e=n.jc(3).$implicit,t=n.jc().$implicit,o=n.jc(2);n.Eb("rowspan",o.dataVessel[t].shipment.length+o.dataVessel[t].container),n.Db(1),n.Mc(n.mc(2,2,e.voyage.arrive_time,"MM/dd/yyyy HH:mm"))}}function _(e,t){if(1&e&&(n.Xb(0,"td"),n.Lc(1),n.kc(2,"date"),n.Wb()),2&e){const e=n.jc(3).$implicit,t=n.jc().$implicit,o=n.jc(2);n.Eb("rowspan",o.dataVessel[t].shipment.length+o.dataVessel[t].container),n.Db(1),n.Mc(n.mc(2,2,e.voyage.closing_time,"MM/dd/yyyy HH:mm"))}}function O(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",20),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc(4).$implicit,i=n.jc(2);n.Db(1),n.Eb("rowspan",i.dataVessel[o].shipment.length+i.dataVessel[o].container),n.Db(1),n.Mc(i.dataVessel[o][e])}}function S(e,t){if(1&e){const e=n.Yb();n.Vb(0),n.Xb(1,"td"),n.Lc(2),n.Wb(),n.Xb(3,"td"),n.Xb(4,"a",10),n.fc("click",(function(t){n.Bc(e);const o=n.jc(2).$implicit,i=n.jc().$implicit;return n.jc(2).openVessel.emit([o.voyage,i])})),n.Lc(5),n.Wb(),n.Wb(),n.Xb(6,"td"),n.Lc(7),n.kc(8,"date"),n.Wb(),n.Jc(9,w,3,5,"td",15),n.Jc(10,_,3,5,"td",15),n.Xb(11,"td"),n.Xb(12,"div",4),n.Xb(13,"span",26),n.Lc(14),n.Wb(),n.Xb(15,"mat-icon",18),n.fc("click",(function(t){n.Bc(e);const o=n.jc(2).$implicit,i=n.jc(3);return i.editRemark.emit([o.voyage,i.remarkVessel[o.voyage.id]])})),n.Lc(16,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Jc(17,O,3,2,"ng-container",8),n.Ub()}if(2&e){const e=n.jc(2).$implicit,t=n.jc(),o=t.$implicit,i=t.index,r=n.jc(2);n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length+r.dataVessel[o].container),n.Db(1),n.Mc(i+1),n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length+r.dataVessel[o].container),n.Db(2),n.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length+r.dataVessel[o].container),n.Db(1),n.Mc(n.mc(8,12,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),n.Db(2),n.pc("ngIf",r.vesselOpen),n.Db(1),n.pc("ngIf",r.vesselOpen),n.Db(1),n.Eb("rowspan",r.dataVessel[o].shipment.length+r.dataVessel[o].container),n.Db(3),n.Mc(r.remarkVessel[e.voyage.id]?r.remarkVessel[e.voyage.id]:" "),n.Db(3),n.pc("ngForOf",r.contType)}}function C(e,t){if(1&e){const e=n.Yb();n.Xb(0,"mat-icon",31),n.fc("click",(function(t){n.Bc(e);const o=n.jc(3).$implicit;return n.jc(3).openModal.emit(o)})),n.Lc(1,"add"),n.Wb()}2&e&&n.pc("matTooltip","Add container")}function I(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",20),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc(3).$implicit;n.Db(1),n.Eb("rowspan",o.bookConfirm.contArr.length),n.Db(1),n.Mc(o.book[e])}}function N(e,t){if(1&e&&(n.Xb(0,"td",33),n.Xb(1,"div",34),n.Xb(2,"span",35),n.Lc(3),n.Wb(),n.Xb(4,"span",36),n.Lc(5),n.kc(6,"number"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=n.jc().$implicit,t=n.jc(4).$implicit,o=n.jc(3);n.Db(1),n.pc("matTooltip",e.payment_center),n.Db(2),n.Oc("",e.code," ",e.currency,""),n.Db(2),n.Mc(n.mc(6,4,o.priceObj[t.id].revenueVNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function F(e,t){if(1&e&&(n.Vb(0),n.Jc(1,N,7,7,"td",32),n.Ub()),2&e){const e=t.$implicit,o=n.jc(4).$implicit,i=n.jc(3);n.Db(1),n.pc("ngIf",i.priceObj[o.id].revenueVNPrice[e.code+e.currency+e.payment_center])}}function M(e,t){if(1&e&&(n.Vb(0),n.Jc(1,F,2,1,"ng-container",8),n.Ub()),2&e){const e=n.jc(6);n.Db(1),n.pc("ngForOf",e.priceHeader)}}function V(e,t){if(1&e&&(n.Xb(0,"td",33),n.Xb(1,"div",34),n.Xb(2,"span",35),n.Lc(3),n.Wb(),n.Xb(4,"span",36),n.Lc(5),n.kc(6,"number"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=n.jc().$implicit,t=n.jc(4).$implicit,o=n.jc(3);n.Db(1),n.pc("matTooltip",e.payment_center),n.Db(2),n.Oc("",e.code," ",e.currency,""),n.Db(2),n.Mc(n.mc(6,4,o.priceObj[t.id].revenueNNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function T(e,t){if(1&e&&(n.Vb(0),n.Jc(1,V,7,7,"td",32),n.Ub()),2&e){const e=t.$implicit,o=n.jc(4).$implicit,i=n.jc(3);n.Db(1),n.pc("ngIf",i.priceObj[o.id].revenueNNPrice[e.code+e.currency+e.payment_center])}}function j(e,t){if(1&e&&(n.Vb(0),n.Jc(1,T,2,1,"ng-container",8),n.Ub()),2&e){const e=n.jc(6);n.Db(1),n.pc("ngForOf",e.priceHeader)}}function A(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",27),n.Xb(2,"div",4),n.Xb(3,"a",28),n.Lc(4),n.Wb(),n.Jc(5,C,2,1,"mat-icon",29),n.Wb(),n.Wb(),n.Xb(6,"td"),n.Lc(7),n.Wb(),n.Jc(8,I,3,2,"ng-container",8),n.Xb(9,"td"),n.Lc(10),n.Wb(),n.Xb(11,"td"),n.Lc(12),n.Wb(),n.Xb(13,"td"),n.Lc(14),n.Wb(),n.Xb(15,"td"),n.Lc(16),n.Wb(),n.Xb(17,"td"),n.Lc(18),n.Wb(),n.Xb(19,"td"),n.Lc(20),n.Wb(),n.Xb(21,"td"),n.Lc(22),n.Wb(),n.Xb(23,"td"),n.Lc(24),n.kc(25,"date"),n.Wb(),n.Xb(26,"td"),n.Lc(27),n.Wb(),n.Xb(28,"td",30),n.Jc(29,M,2,1,"ng-container",15),n.Wb(),n.Xb(30,"td",30),n.Jc(31,j,2,1,"ng-container",15),n.Wb(),n.Xb(32,"td"),n.Lc(33),n.Wb(),n.Xb(34,"td"),n.Lc(35),n.Wb(),n.Ub()),2&e){const e=n.jc().index,t=n.jc().$implicit,o=n.jc(3);n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(2),n.pc("routerLink","/apps/"+o.modul+"/shipment/book-detail/id/"+t.id+"/overview"),n.Db(1),n.Mc(t.book.code),n.Db(1),n.pc("ngIf",0==e),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.book.customer.short_name),n.Db(1),n.pc("ngForOf",o.contType),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.voyage.load_terminal_name),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.voyage.discharge_terminal_name),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.book.commodity),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(null==t.bookConfirm.empty_pick_up_depot?null:t.bookConfirm.empty_pick_up_depot.short_name),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.bookConfirm.code_company),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.bookConfirm.date),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.bookConfirm.book_number),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(n.mc(25,33,t.bookConfirm.closing_time_vgm,"MM/dd/yyyy HH:mm")),n.Db(2),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.bookConfirm.truck_name),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.pc("ngIf",o.revenueVNOpen),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.pc("ngIf",o.revenueNNOpen),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.name?t.name:t.user),n.Db(1),n.Eb("rowspan",t.bookConfirm.contArr.length),n.Db(1),n.Mc(t.book.create_by?t.book.create_by.name:t.user)}}const R=function(e){return{"text-strike red-A700-fg":e}};function q(e,t){if(1&e&&(n.Xb(0,"tr",25),n.Jc(1,S,18,15,"ng-container",15),n.Jc(2,A,36,36,"ng-container",15),n.Xb(3,"td"),n.Lc(4),n.Wb(),n.Xb(5,"td"),n.Lc(6),n.Wb(),n.Xb(7,"td"),n.Lc(8),n.Wb(),n.Xb(9,"td"),n.Lc(10),n.Wb(),n.Xb(11,"td"),n.Lc(12),n.Wb(),n.Xb(13,"td"),n.Lc(14),n.Wb(),n.Xb(15,"td",13),n.Xb(16,"a"),n.Lc(17),n.Wb(),n.Wb(),n.Xb(18,"td"),n.Lc(19),n.Wb(),n.Wb()),2&e){const e=t.$implicit,o=t.index,i=n.jc(),r=i.$implicit,a=i.index,c=n.jc(3);n.pc("ngClass",n.rc(11,R,c.time>r.voyage.depart_time)),n.Db(1),n.pc("ngIf",0==a&&0==o),n.Db(1),n.pc("ngIf",0==o),n.Db(2),n.Mc(e.seal),n.Db(2),n.Mc(e.note),n.Db(2),n.Mc(e.status),n.Db(2),n.Mc(e.description),n.Db(2),n.Mc(e.lift_on),n.Db(2),n.Mc(e.lift_off),n.Db(3),n.Mc(e.container),n.Db(2),n.Mc(e.type)}}function P(e,t){if(1&e&&(n.Vb(0),n.Jc(1,q,20,13,"tr",24),n.Ub()),2&e){const e=t.$implicit;n.Db(1),n.pc("ngForOf",e.bookConfirm.contArr)}}function B(e,t){if(1&e&&(n.Vb(0),n.Jc(1,P,2,1,"ng-container",8),n.Ub()),2&e){const e=t.$implicit,o=n.jc(2);n.Db(1),n.pc("ngForOf",o.dataVessel[e].shipment)}}function z(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"tr"),n.Xb(2,"td",23),n.Lc(3),n.Wb(),n.Wb(),n.Jc(4,B,2,1,"ng-container",8),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Eb("colspan",2),n.Db(1),n.Mc(e),n.Db(1),n.pc("ngForOf",o.voyage[e])}}function J(e,t){1&e&&n.Sb(0,"td")}function H(e,t){1&e&&n.Sb(0,"td")}function E(e,t){if(1&e&&(n.Vb(0),n.Xb(1,"td",37),n.Lc(2),n.Wb(),n.Ub()),2&e){const e=t.$implicit,o=n.jc();n.Db(2),n.Mc(o.total[e])}}let $=(()=>{class e{constructor(e,t,o,r){this.router=e,this.route=t,this._activatedRoute=o,this.authService=r,this.openModal=new n.o,this.editRemark=new n.o,this.openVessel=new n.o,this.revenueVNOpen=!1,this.revenueNNOpen=!1,this.vesselOpen=!1,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(c.g),n.Rb(c.a),n.Rb(c.a),n.Rb(b.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["bookings-container"]],viewQuery:function(e,t){var o;1&e&&n.Sc(a.e,!0),2&e&&n.wc(o=n.gc())&&(t.viewPort=o.first)},inputs:{dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul",remarkVessel:"remarkVessel"},outputs:{openModal:"openModal",editRemark:"editRemark",openVessel:"openVessel"},decls:99,vars:71,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"cursor-pointer",3,"click"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],[1,"sticky-right-col"],[1,"sticky-col1","text-bold"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[1,"text-center"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[1,"text-bold","sticky-col1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"mb-4"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink"],["class","cursor-pointer","color","accent",3,"matTooltip","click",4,"ngIf"],[2,"padding","0px !important"],["color","accent",1,"cursor-pointer",3,"matTooltip","click"],["style","padding: 4px !important; border: none","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px !important","border","none"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-bold","text-center"]],template:function(e,t){1&e&&(n.Jc(0,f,3,1,"div",0),n.Xb(1,"div",1),n.Xb(2,"cdk-virtual-scroll-viewport",2),n.Xb(3,"table",3),n.Xb(4,"thead"),n.Xb(5,"tr"),n.Xb(6,"th"),n.Lc(7,"No"),n.Wb(),n.Xb(8,"th"),n.Xb(9,"div",4),n.Xb(10,"span"),n.Lc(11,"Vessel Voyage"),n.Wb(),n.Jc(12,g,2,0,"mat-icon",5),n.Jc(13,h,2,0,"mat-icon",6),n.Wb(),n.Wb(),n.Xb(14,"th"),n.Lc(15,"ETD"),n.Wb(),n.Jc(16,v,2,2,"th",7),n.Jc(17,k,2,2,"th",7),n.Xb(18,"th"),n.Lc(19,"Remark"),n.Wb(),n.Jc(20,x,3,3,"ng-container",8),n.Xb(21,"th",9),n.Lc(22,"Code"),n.Wb(),n.Xb(23,"th"),n.Lc(24,"Customer"),n.Wb(),n.Jc(25,y,3,3,"ng-container",8),n.Xb(26,"th"),n.Lc(27,"Load terminal"),n.Wb(),n.Xb(28,"th"),n.Lc(29,"Discharge terminal"),n.Wb(),n.Xb(30,"th"),n.Lc(31,"Commodity"),n.Wb(),n.Xb(32,"th"),n.Lc(33,"Pick-up Depot"),n.Wb(),n.Xb(34,"th"),n.Lc(35,"Code company"),n.Wb(),n.Xb(36,"th"),n.Lc(37,"Date"),n.Wb(),n.Xb(38,"th"),n.Lc(39,"Booking Number"),n.Wb(),n.Xb(40,"th"),n.Lc(41,"Closing time(VGM)"),n.Wb(),n.Xb(42,"th"),n.Lc(43,"Truck Plate"),n.Wb(),n.Xb(44,"th",10),n.fc("click",(function(e){return e.stopPropagation(),t.revenueVNOpen=!t.revenueVNOpen})),n.Xb(45,"div",4),n.Xb(46,"span"),n.Lc(47,"REV VN"),n.Wb(),n.Jc(48,X,2,0,"mat-icon",11),n.Jc(49,W,2,0,"mat-icon",12),n.Wb(),n.Wb(),n.Xb(50,"th",10),n.fc("click",(function(e){return e.stopPropagation(),t.revenueNNOpen=!t.revenueNNOpen})),n.Xb(51,"div",4),n.Xb(52,"span"),n.Lc(53,"REV NN"),n.Wb(),n.Jc(54,D,2,0,"mat-icon",11),n.Jc(55,L,2,0,"mat-icon",12),n.Wb(),n.Wb(),n.Xb(56,"th"),n.Lc(57,"Owner"),n.Wb(),n.Xb(58,"th"),n.Lc(59,"Create by"),n.Wb(),n.Xb(60,"th"),n.Lc(61,"Seal"),n.Wb(),n.Xb(62,"th"),n.Lc(63,"Remark"),n.Wb(),n.Xb(64,"th"),n.Lc(65,"Status"),n.Wb(),n.Xb(66,"th"),n.Lc(67,"Description"),n.Wb(),n.Xb(68,"th"),n.Lc(69,"Lift_on"),n.Wb(),n.Xb(70,"th"),n.Lc(71,"Lift_off"),n.Wb(),n.Xb(72,"th",13),n.Lc(73,"Container"),n.Wb(),n.Xb(74,"th"),n.Lc(75,"Type"),n.Wb(),n.Wb(),n.Wb(),n.Xb(76,"tbody"),n.Jc(77,z,5,3,"ng-container",8),n.Wb(),n.Xb(78,"tfoot"),n.Xb(79,"tr"),n.Sb(80,"td"),n.Xb(81,"td",14),n.Lc(82,"Total"),n.Wb(),n.Sb(83,"td"),n.Jc(84,J,1,0,"td",15),n.Jc(85,H,1,0,"td",15),n.Sb(86,"td"),n.Jc(87,E,3,1,"ng-container",8),n.Sb(88,"td"),n.Sb(89,"td"),n.Sb(90,"td"),n.Sb(91,"td"),n.Sb(92,"td"),n.Sb(93,"td"),n.Sb(94,"td"),n.Sb(95,"td"),n.Sb(96,"td"),n.Sb(97,"td"),n.Sb(98,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.pc("ngIf",0===t.sptRouter.length),n.Db(1),n.Ic("height",t.height,"px"),n.Db(1),n.Ic("height",t.height,"px"),n.Db(4),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngIf",!t.vesselOpen),n.Db(1),n.pc("ngIf",t.vesselOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.pc("ngIf",t.vesselOpen),n.Db(1),n.pc("ngIf",t.vesselOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.pc("ngForOf",t.contType),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngForOf",t.contType),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngIf",!t.revenueVNOpen),n.Db(1),n.pc("ngIf",t.revenueVNOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(4),n.pc("ngIf",!t.revenueNNOpen),n.Db(1),n.pc("ngIf",t.revenueNNOpen),n.Db(1),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(2),n.Ic("top",t.inverseOfTranslation),n.Db(3),n.pc("ngForOf",t.sptRouter),n.Db(7),n.pc("ngIf",t.vesselOpen),n.Db(1),n.pc("ngIf",t.vesselOpen),n.Db(2),n.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,p.d,p.c,s.s,p.e,m.a,s.q,d.a,c.j,u.a],pipes:[s.f,s.g],styles:["bookings-container .no-book-text{font-size:24px;font-weight:300}bookings-container cdk-virtual-scroll-viewport{width:100%}bookings-container .book-table{font-size:12px;border-collapse:collapse}bookings-container .book-table td,bookings-container .book-table th{padding:8px!important;white-space:nowrap}bookings-container .book-table td{border-top:1px solid #000!important;border-bottom:1px solid #000!important}bookings-container .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-container .book-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}bookings-container .book-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}bookings-container .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-container .book-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}bookings-container .book-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2,data:{animation:r.a}}),e})()}}]);