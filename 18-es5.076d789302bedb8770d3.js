function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5S3l":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n("fXoL"),i=n("XNiG"),r=n("PVWW"),a=n("vxfF"),c=n("tyNb"),b=n("qXBG"),s=n("ofXK"),l=n("cfqv"),u=n("XiUz"),p=n("znSr");function f(e,t){1&e&&(o.Xb(0,"div",7),o.Xb(1,"span",8),o.Lc(2),o.Wb(),o.Wb()),2&e&&(o.Db(2),o.Mc("No Book"))}function m(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"th",9),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit;o.Db(2),o.Mc(n)}}function d(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",9),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc().$implicit;o.Db(2),o.Mc(i.book[n])}}var g=function(e){return{"text-strike red-A700-fg":e}};function h(e,t){if(1&e&&(o.Xb(0,"tr",12),o.Xb(1,"td"),o.Lc(2),o.Wb(),o.Xb(3,"td",13),o.Xb(4,"a",14),o.Lc(5),o.Wb(),o.Wb(),o.Xb(6,"td"),o.Lc(7),o.Wb(),o.Xb(8,"td"),o.Lc(9),o.Wb(),o.Jc(10,d,3,1,"ng-container",5),o.Xb(11,"td"),o.Lc(12),o.Wb(),o.Xb(13,"td"),o.Lc(14),o.kc(15,"date"),o.Wb(),o.Xb(16,"td"),o.Lc(17),o.Wb(),o.Xb(18,"td"),o.Lc(19),o.kc(20,"date"),o.Wb(),o.Xb(21,"td"),o.Lc(22),o.Wb(),o.Xb(23,"td"),o.Lc(24),o.Wb(),o.Xb(25,"td"),o.Lc(26),o.Wb(),o.Wb()),2&e){var n=t.$implicit,i=t.index,r=o.jc(2);o.pc("ngClass",o.rc(21,g,r.time>n.voyage.depart_time)),o.Db(2),o.Mc(i+1),o.Db(2),o.pc("routerLink","/apps/"+r.modul+"/shipment/book-detail/id/"+n.id+"/overview"),o.Db(1),o.Mc(n.book.code),o.Db(2),o.Mc(n.book.customer.short_name),o.Db(2),o.Oc("",n.voyage.vessel_name," ",n.voyage.name,""),o.Db(1),o.pc("ngForOf",r.contType),o.Db(2),o.Mc(n.voyage.load_terminal_name),o.Db(2),o.Mc(o.mc(15,15,n.voyage.depart_time,"MM/dd/yyyy HH:mm")),o.Db(3),o.Mc(n.voyage.discharge_terminal_name),o.Db(2),o.Mc(o.mc(20,18,n.voyage.arrive_time,"MM/dd/yyyy HH:mm")),o.Db(3),o.Mc(n.book.commodity),o.Db(2),o.Mc(n.name?n.name:n.user),o.Db(2),o.Mc(n.book.create_by?n.book.create_by.name:n.user)}}function v(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"tr"),o.Xb(2,"td",10),o.Lc(3),o.Wb(),o.Wb(),o.Jc(4,h,27,23,"tr",11),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Eb("colspan",2),o.Db(1),o.Mc(n),o.Db(1),o.pc("ngForOf",i.data[n])}}function k(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",15),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Mc(i.total[n])}}var y=function(){var e=function(){function e(t,n,r,a){_classCallCheck(this,e),this.router=t,this.route=n,this._activatedRoute=r,this.authService=a,this.openModal=new o.o,this.revenueVNOpen=!1,this.revenueNNOpen=!1,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(c.g),o.Rb(c.a),o.Rb(c.a),o.Rb(b.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["bookings-table"]],viewQuery:function(e,t){var n;1&e&&o.Sc(a.e,!0),2&e&&o.wc(n=o.gc())&&(t.viewPort=n.first)},inputs:{data:"data",dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul"},outputs:{openModal:"openModal"},decls:46,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],[1,"sticky-col1",2,"z-index","25"],[4,"ngFor","ngForOf"],[1,"sticky-col1","text-bold"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],[1,"text-center"],[1,"text-bold","row-router","sticky-col1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink"],[1,"text-center","text-bold"]],template:function(e,t){1&e&&(o.Jc(0,f,3,1,"div",0),o.Xb(1,"div",1),o.Xb(2,"cdk-virtual-scroll-viewport",2),o.Xb(3,"table",3),o.Xb(4,"thead"),o.Xb(5,"tr"),o.Xb(6,"th"),o.Lc(7,"No"),o.Wb(),o.Xb(8,"th",4),o.Lc(9,"Code"),o.Wb(),o.Xb(10,"th"),o.Lc(11,"Customer"),o.Wb(),o.Xb(12,"th"),o.Lc(13,"Voyage"),o.Wb(),o.Jc(14,m,3,1,"ng-container",5),o.Xb(15,"th"),o.Lc(16,"Load terminal"),o.Wb(),o.Xb(17,"th"),o.Lc(18,"ETD"),o.Wb(),o.Xb(19,"th"),o.Lc(20,"Discharge terminal"),o.Wb(),o.Xb(21,"th"),o.Lc(22,"ETA"),o.Wb(),o.Xb(23,"th"),o.Lc(24,"Commodity"),o.Wb(),o.Xb(25,"th"),o.Lc(26,"Owner"),o.Wb(),o.Xb(27,"th"),o.Lc(28,"Create by"),o.Wb(),o.Wb(),o.Wb(),o.Xb(29,"tbody"),o.Jc(30,v,5,3,"ng-container",5),o.Wb(),o.Xb(31,"tfoot"),o.Xb(32,"tr"),o.Sb(33,"td"),o.Xb(34,"td",6),o.Lc(35,"Total"),o.Wb(),o.Sb(36,"td"),o.Sb(37,"td"),o.Jc(38,k,3,1,"ng-container",5),o.Sb(39,"td"),o.Sb(40,"td"),o.Sb(41,"td"),o.Sb(42,"td"),o.Sb(43,"td"),o.Sb(44,"td"),o.Sb(45,"td"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.pc("ngIf",0===t.sptRouter.length),o.Db(1),o.Ic("height",t.height,"px"),o.Db(1),o.Ic("height",t.height,"px"),o.Db(12),o.pc("ngForOf",t.contType),o.Db(16),o.pc("ngForOf",t.sptRouter),o.Db(8),o.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,u.d,s.s,u.c,u.e,s.q,p.a,c.j],pipes:[s.f],styles:["bookings-table .no-book-text{font-size:24px;font-weight:300}bookings-table cdk-virtual-scroll-viewport{width:100%}bookings-table .book-table{font-size:12px!important}bookings-table .book-table td,bookings-table .book-table th{padding:8px!important;white-space:nowrap}bookings-table .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-table .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-table .book-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background-color:#fff;right:0;z-index:20}bookings-table .book-table .sticky-right-col2{position:sticky;position:-webkit-sticky;background-color:#fff;right:47px;z-index:20}bookings-table .book-table .row-even{background-color:#e0e0e0!important}bookings-table .book-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:r.a}}),e}()},FDnR:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=S.Pb({type:e}),e.\u0275inj=S.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,D.t]]}),e}()},IOBc:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("5HBU"),i=n("bTqV"),r=n("kmnG"),a=n("NFeN"),c=n("qFsG"),b=n("wZkO"),s=n("/t3+"),l=n("bSwM"),u=n("+0xr"),p=n("FKr1"),f=n("MutI"),m=n("fXoL"),d=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[o.a,i.c,r.e,a.b,c.c,b.c,s.b,l.b,p.t,f.c,u.k]]}),e}()},IZxC:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("fXoL"),i=n("XNiG"),r=n("qXBG"),a=n("0JVi"),c=n("/t3+"),b=n("XiUz"),s=n("bTqV"),l=n("znSr"),u=n("NFeN"),p=n("tyNb"),f=n("ofXK");function m(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",15),o.fc("click",(function(e){o.Bc(n);var t=o.jc();return e.stopPropagation(),t.changeScreen(!0)})),o.Xb(1,"mat-icon"),o.Lc(2,"flip_to_front"),o.Wb(),o.Wb()}}function d(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",15),o.fc("click",(function(e){o.Bc(n);var t=o.jc();return e.stopPropagation(),t.changeScreen(!1)})),o.Xb(1,"mat-icon"),o.Lc(2,"flip_to_back"),o.Wb(),o.Wb()}}var g=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=n,this.fullScreen=!1,this.toggleSidebar=new o.o,this.showHideBar=new o.o,this.refreshPage=new o.o,this._unsubscribeAll=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(r.a),o.Rb(a.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["bookings-header"]],inputs:{searchText:"searchText",modul:"modul",sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:40,vars:6,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button","w-128",3,"routerLink"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"]],template:function(e,t){1&e&&(o.Xb(0,"mat-toolbar",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"button",4),o.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),o.Xb(5,"mat-icon"),o.Lc(6,"menu"),o.Wb(),o.Wb(),o.Xb(7,"button",5),o.fc("click",(function(e){return t.showHideBar.emit()})),o.Xb(8,"mat-icon"),o.Lc(9,"menu"),o.Wb(),o.Wb(),o.Wb(),o.Xb(10,"button",6),o.Xb(11,"span",7),o.Lc(12,"Vessel"),o.Wb(),o.Xb(13,"mat-icon",8),o.Lc(14,"equalizer"),o.Wb(),o.Wb(),o.Xb(15,"button",6),o.Xb(16,"span",7),o.Lc(17,"Container"),o.Wb(),o.Xb(18,"mat-icon",8),o.Lc(19,"equalizer"),o.Wb(),o.Wb(),o.Xb(20,"button",6),o.Xb(21,"span",7),o.Lc(22,"Table"),o.Wb(),o.Xb(23,"mat-icon",8),o.Lc(24,"equalizer"),o.Wb(),o.Wb(),o.Wb(),o.Xb(25,"div",9),o.Sb(26,"div",10),o.Xb(27,"button",11),o.Xb(28,"mat-icon",12),o.Lc(29,"add"),o.Wb(),o.Xb(30,"span",13),o.Lc(31,"Book"),o.Wb(),o.Wb(),o.Sb(32,"div",10),o.Jc(33,m,3,0,"button",14),o.Jc(34,d,3,0,"button",14),o.Sb(35,"div",10),o.Xb(36,"button",15),o.fc("click",(function(e){return t.toggleSidebar.emit("shipment-book-setting")})),o.Xb(37,"mat-icon"),o.Lc(38,"settings"),o.Wb(),o.Wb(),o.Sb(39,"div",10),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(10),o.pc("routerLink","/apps/"+t.modul+"/shipment/book/vessel"),o.Db(5),o.pc("routerLink","/apps/"+t.modul+"/shipment/book/container"),o.Db(5),o.pc("routerLink","/apps/"+t.modul+"/shipment/book/table"),o.Db(7),o.pc("routerLink","/apps/"+t.modul+"/shipment/book-form/form/0/overview"),o.Db(6),o.pc("ngIf",!t.fullScreen),o.Db(1),o.pc("ngIf",t.fullScreen))},directives:[c.a,b.b,b.e,b.d,b.c,s.b,l.b,u.a,p.i,p.h,f.t],styles:["bookings-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}bookings-header.below{z-index:2}bookings-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}bookings-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}bookings-header .logo .logo-icon{width:38px}bookings-header .chat-panel-toggle-button,bookings-header .language-button,bookings-header .quick-panel-toggle-button,bookings-header .user-button,bookings-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){bookings-header .chat-panel-toggle-button,bookings-header .language-button,bookings-header .quick-panel-toggle-button,bookings-header .user-button,bookings-header fuse-search-bar{height:56px}}bookings-header .navbar-toggle-button{min-width:56px;height:56px}bookings-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){bookings-header .toolbar-separator{height:56px}}"],encapsulation:2}),e}()},Mrpe:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("IOBc"),I=n("fXoL"),N=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=I.Pb({type:e}),e.\u0275inj=I.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,D.t,S.a]]}),e}()},"Pg/h":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var o=n("fXoL"),i=n("XNiG"),r=n("1G5W"),a=n("3Pt+"),c=n("qXBG"),b=n("0Zc1"),s=n("XiUz"),l=n("bTqV"),u=n("EwFO"),p=n("kmnG"),f=n("qFsG"),m=n("d3UM"),d=n("FKr1"),g=n("ofXK"),h=n("znSr"),v=n("STbY"),k=n("iadO"),y=n("NFeN"),x=["formDirective"];function X(e,t){if(1&e&&(o.Xb(0,"mat-icon",29),o.Lc(1,"import_export"),o.Wb()),2&e){o.jc();var n=o.xc(38);o.pc("matMenuTriggerFor",n)}}function W(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",30),o.fc("click",(function(e){o.Bc(n);var i=t.$implicit;return o.jc().getPort(i)})),o.Lc(1),o.Wb()}if(2&e){var i=t.$implicit;o.Db(1),o.Nc(" ",i," ")}}var D=function(e){return{hide:e}},L=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.formBuilder=t,this.authService=n,this.commonService=r,this.filterChanged=new o.o,this.form=this.formBuilder.group({code:[null],valid:["1"],customer:[null],pol:[null],pod:[null],booking_number:[null],vessel:[null],time_from:[null],time_to:[null]}),this.now=new Date,this.height=560,this._unsubscribeAll=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.modul.includes("hochiminh")&&this.form.controls.pol.setValue("HOCHIMINH"),this.modul.includes("haiphong")&&this.form.controls.pol.setValue("HAIPHONG"),this.authService.windowSizeChanged.pipe(Object(r.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(r.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.form.valueChanges.subscribe((function(t){e.filterChanged.emit(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"resetForm",value:function(){this.searchNgForm.resetForm(),this.modul.includes("hochiminh")&&this.form.controls.pol.setValue("HOCHIMINH"),this.modul.includes("haiphong")&&this.form.controls.pol.setValue("HAIPHONG"),this.form.controls.valid.setValue("1")}},{key:"onSearchFormSubmit",value:function(e){}},{key:"getPort",value:function(e){var t=e.split("-");this.form.controls.pol.setValue(t[0]),this.form.controls.pod.setValue(t[1])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(a.d),o.Rb(c.a),o.Rb(b.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["bookings-sidebar"]],viewQuery:function(e,t){var n;1&e&&o.Sc(x,!0),2&e&&o.wc(n=o.gc())&&(t.searchNgForm=n.first)},inputs:{modul:"modul",portPair:"portPair"},outputs:{filterChanged:"filterChanged"},decls:71,vars:15,consts:[["name","form",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","matInput","","formControlName","code"],["fxFlex","100",1,"info-line"],["formControlName","valid"],[3,"value"],["inputCheck","","matInput","","formControlName","customer"],["fxFlex","100",1,"info-line",3,"ngClass"],["inputCheck","","matInput","","formControlName","pol"],["matSuffix","","class","cursor-pointer",3,"matMenuTriggerFor",4,"ngIf"],["moreMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["inputCheck","","matInput","","formControlName","pod"],["inputCheck","","matInput","","formControlName","booking_number"],["inputCheck","","matInput","","formControlName","vessel"],["inputCheck","","matInput","","name","time_from","formControlName","time_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["timeFromDatePicker",""],["inputCheck","","matInput","","name","time_to","formControlName","time_to",3,"matDatepicker","change"],["timeToDatePicker",""],["matSuffix","",1,"cursor-pointer",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(o.Xb(0,"form",0,1),o.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"button",4),o.fc("click",(function(e){return t.resetForm()})),o.Lc(5," Reset "),o.Wb(),o.Wb(),o.Wb(),o.Xb(6,"div",5),o.Xb(7,"div",6),o.Xb(8,"div",7),o.Xb(9,"div",8),o.Xb(10,"div",9),o.Xb(11,"mat-form-field",10),o.Xb(12,"mat-label"),o.Lc(13,"Code"),o.Wb(),o.Sb(14,"input",11),o.Wb(),o.Wb(),o.Xb(15,"div",12),o.Xb(16,"mat-form-field",10),o.Xb(17,"mat-label"),o.Lc(18,"Valid"),o.Wb(),o.Xb(19,"mat-select",13),o.Xb(20,"mat-option",14),o.Lc(21,"All"),o.Wb(),o.Xb(22,"mat-option",14),o.Lc(23,"Valid"),o.Wb(),o.Xb(24,"mat-option",14),o.Lc(25,"Invalid"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(26,"div",12),o.Xb(27,"mat-form-field",10),o.Xb(28,"mat-label"),o.Lc(29,"Customer"),o.Wb(),o.Sb(30,"input",15),o.Wb(),o.Wb(),o.Xb(31,"div",16),o.Xb(32,"mat-form-field",10),o.Xb(33,"mat-label"),o.Lc(34,"POL"),o.Wb(),o.Sb(35,"input",17),o.Jc(36,X,2,1,"mat-icon",18),o.Wb(),o.Xb(37,"mat-menu",null,19),o.Jc(39,W,2,1,"button",20),o.Wb(),o.Wb(),o.Xb(40,"div",12),o.Xb(41,"mat-form-field",10),o.Xb(42,"mat-label"),o.Lc(43,"POD"),o.Wb(),o.Sb(44,"input",21),o.Wb(),o.Wb(),o.Xb(45,"div",12),o.Xb(46,"mat-form-field",10),o.Xb(47,"mat-label"),o.Lc(48,"Booking number"),o.Wb(),o.Sb(49,"input",22),o.Wb(),o.Wb(),o.Xb(50,"div",12),o.Xb(51,"mat-form-field",10),o.Xb(52,"mat-label"),o.Lc(53,"Vessel"),o.Wb(),o.Sb(54,"input",23),o.Wb(),o.Wb(),o.Xb(55,"div",12),o.Xb(56,"mat-form-field",10),o.Xb(57,"mat-label"),o.Lc(58,"Depart time from"),o.Wb(),o.Xb(59,"input",24),o.fc("change",(function(e){return t.commonService.setDateStr(e)})),o.Wb(),o.Sb(60,"mat-datepicker-toggle",25),o.Sb(61,"mat-datepicker",null,26),o.Wb(),o.Wb(),o.Xb(63,"div",12),o.Xb(64,"mat-form-field",10),o.Xb(65,"mat-label"),o.Lc(66,"Depart time to"),o.Wb(),o.Xb(67,"input",27),o.fc("change",(function(e){return t.commonService.setDateStr(e)})),o.Wb(),o.Sb(68,"mat-datepicker-toggle",25),o.Sb(69,"mat-datepicker",null,28),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e){var n=o.xc(62),i=o.xc(70);o.pc("formGroup",t.form),o.Db(6),o.Ic("height",t.height,"px"),o.Db(14),o.pc("value","all"),o.Db(2),o.pc("value","1"),o.Db(2),o.pc("value","0"),o.Db(7),o.pc("ngClass",o.rc(13,D,t.modul.includes("hochiminh")||t.modul.includes("haiphong"))),o.Db(5),o.pc("ngIf",!t.modul.includes("hochiminh")&&!t.modul.includes("haiphong")),o.Db(3),o.pc("ngForOf",t.portPair),o.Db(20),o.pc("matDatepicker",n),o.Db(1),o.pc("for",n),o.Db(7),o.pc("matDatepicker",i),o.Db(1),o.pc("for",i)}},directives:[a.A,a.q,a.h,s.d,s.c,l.b,s.b,u.a,p.c,p.f,f.b,a.b,a.p,a.g,m.a,d.n,g.q,h.a,g.t,v.d,g.s,k.b,k.d,p.h,k.a,y.a,v.c,v.a],styles:["bookings-sidebar{border-right:1px solid #a3a3a3}bookings-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}bookings-sidebar .navbar-scroll-container{background:#fff!important}bookings-sidebar .navbar-scroll-container .navbar-content{padding-top:0}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-11px;left:8px;margin:0;padding:0 8px;font-size:16px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}bookings-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e}()},T3U3:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("vxfF"),I=n("cfqv"),N=n("fXoL"),F=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,S.g,I.b,D.t]]}),e}()},X00z:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=S.Pb({type:e}),e.\u0275inj=S.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,D.t]]}),e}()},cfqv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var o=n("8LU1"),i=n("vxfF"),r=n("fXoL"),a=n("HDdC"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;_classCallCheck(this,e),this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}return _createClass(e,[{key:"getAverageItemSize",value:function(){return this._averageItemSize}},{key:"addSample",value:function(e,t){var n=this._totalWeight+e.end-e.start;if(n){var o=(t+this._averageItemSize*this._totalWeight)/n;o&&(this._averageItemSize=o,this._totalWeight=n)}}},{key:"reset",value:function(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}]),e}(),b=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c;_classCallCheck(this,e),this.scrolledIndexChange=new a.a((function(){throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")})),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=n,this._averager=o}return _createClass(e,[{key:"attach",value:function(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}},{key:"detach",value:function(){this._viewport=null}},{key:"onContentScrolled",value:function(){this._viewport&&this._updateRenderedContentAfterScroll()}},{key:"onDataLengthChanged",value:function(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}},{key:"onContentRendered",value:function(){this._viewport&&this._checkRenderedContentSize()}},{key:"onRenderedOffsetChanged",value:function(){this._viewport&&this._checkRenderedContentOffset()}},{key:"scrollToIndex",value:function(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}},{key:"updateBufferSize",value:function(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}},{key:"_updateRenderedContentAfterScroll",value:function(){var e=this._viewport,t=e.measureScrollOffset(),n=t-this._lastScrollOffset,o=Math.abs(n),i=e.getRenderedRange(),r=0;if(n<0){var a=i.start*this._averager.getAverageItemSize();n-=r=Math.round((a-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,o/(t+o)))),o=Math.abs(n)}var c=this._lastScrollOffset-this._lastRenderedContentOffset,b=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),s=o+this._minBufferPx-(n<0?c:b);if(s>0)if(o>=e.getViewportSize())this._renderContentForCurrentOffset();else{var l,u,p=Math.max(0,Math.ceil((s-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),f=(n<0?b:c)-this._minBufferPx+o,m=Math.floor(f/this._averager.getAverageItemSize()/(this._removalFailures+1)),d=Math.min(i.end-i.start,Math.max(0,m)),g=this._expandRange(i,n<0?p:0,n>0?p:0);if(n<0?g.end=Math.max(g.start+1,g.end-d):g.start=Math.min(g.end-1,g.start+d),n<0){var h=e.measureRangeSize({start:g.end,end:i.end});h<=f?(l=this._lastRenderedContentOffset+this._lastRenderedContentSize-h,this._removalFailures=0):(g.end=i.end,l=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),u="to-end"}else{var v=e.measureRangeSize({start:i.start,end:g.start});v<=f?(l=this._lastRenderedContentOffset+v,this._removalFailures=0):(g.start=i.start,l=this._lastRenderedContentOffset,this._removalFailures++),u="to-start"}e.setRenderedRange(g),e.setRenderedContentOffset(l+r,u)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}},{key:"_checkRenderedContentSize",value:function(){var e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}},{key:"_checkRenderedContentOffset",value:function(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}},{key:"_renderContentForCurrentOffset",value:function(){var e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;var n=this._averager.getAverageItemSize(),o=Math.min(e.getDataLength()-1,Math.floor(t/n)),i=Math.ceil(this._maxBufferPx/n),r=this._expandRange(this._getVisibleRangeForIndex(o),i,i);e.setRenderedRange(r),e.setRenderedContentOffset(n*r.start)}},{key:"_getVisibleRangeForIndex",value:function(e){var t=this._viewport,n={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},o=n.end-t.getDataLength();return o>0&&(n.start=Math.max(0,n.start-o)),n}},{key:"_expandRange",value:function(e,t,n){var o=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(o.getDataLength(),e.end+n)}}},{key:"_updateTotalContentSize",value:function(e){var t=this._viewport,n=t.getRenderedRange(),o=e+(t.getDataLength()-(n.end-n.start))*this._averager.getAverageItemSize();t.setTotalContentSize(o)}}]),e}();function s(e){return e._scrollStrategy}var l=function(){var e=function(){function e(){_classCallCheck(this,e),this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new b(this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Object(o.f)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Object(o.f)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:i.h,useFactory:s,deps:[Object(r.V)((function(){return e}))]}]),r.Bb()]}),e}(),u=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e}()},eKfw:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("vxfF"),I=n("cfqv"),N=n("fXoL"),F=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,S.g,I.b,D.t]]}),e}()},fUQu:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=S.Pb({type:e}),e.\u0275inj=S.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,D.t]]}),e}()},h3iT:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var o=n("tyNb"),i=n("STbY"),r=n("/1cH"),a=n("iadO"),c=n("bTqV"),b=n("7EHt"),s=n("kmnG"),l=n("NFeN"),u=n("Qu3c"),p=n("qFsG"),f=n("wZkO"),m=n("d3UM"),d=n("QibW"),g=n("0IaG"),h=n("/t3+"),v=n("bSwM"),k=n("M9IT"),y=n("xHqg"),x=n("A5z7"),X=n("bv9b"),W=n("XhcP"),D=n("FKr1"),L=n("1jcm"),w=n("+0xr"),_=n("MutI"),C=n("f0Cb"),O=n("5HBU"),S=n("vxfF"),I=n("cfqv"),N=n("fXoL"),F=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[o.k,i.b,O.a,r.b,a.c,c.c,b.b,s.e,l.b,u.b,p.c,f.c,m.b,d.c,g.e,h.b,v.b,k.b,y.d,x.e,X.b,W.b,L.b,w.k,_.c,C.b,S.g,I.b,D.t]]}),e}()},qjGM:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var o=n("fXoL"),i=n("XNiG"),r=n("PVWW"),a=n("vxfF"),c=n("tyNb"),b=n("qXBG"),s=n("ofXK"),l=n("cfqv"),u=n("XiUz"),p=n("NFeN"),f=n("znSr"),m=n("Qu3c"),d=n("STbY");function g(e,t){1&e&&(o.Xb(0,"div",12),o.Xb(1,"span",13),o.Lc(2),o.Wb(),o.Wb()),2&e&&(o.Db(2),o.Mc("No Book"))}function h(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"th",14),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(1),o.Ic("top",i.inverseOfTranslation),o.Db(1),o.Mc(n)}}function v(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"th",14),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(1),o.Ic("top",i.inverseOfTranslation),o.Db(1),o.Mc(n)}}function k(e,t){1&e&&(o.Xb(0,"mat-icon",15),o.Lc(1,"add"),o.Wb())}function y(e,t){1&e&&(o.Xb(0,"mat-icon",16),o.Lc(1,"removed"),o.Wb())}function x(e,t){1&e&&(o.Xb(0,"mat-icon",15),o.Lc(1,"add"),o.Wb())}function X(e,t){1&e&&(o.Xb(0,"mat-icon",16),o.Lc(1,"removed"),o.Wb())}function W(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",14),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc(3).$implicit,r=o.jc(2);o.Db(1),o.Eb("rowspan",r.dataVessel[i].shipment.length),o.Db(1),o.Mc(r.dataVessel[i][n])}}function D(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td"),o.Lc(2),o.Wb(),o.Xb(3,"td"),o.Lc(4),o.Wb(),o.Xb(5,"td"),o.Lc(6),o.kc(7,"date"),o.Wb(),o.Xb(8,"td"),o.Lc(9),o.kc(10,"date"),o.Wb(),o.Jc(11,W,3,2,"ng-container",4),o.Ub()),2&e){var n=o.jc().$implicit,i=o.jc(),r=i.$implicit,a=i.index,c=o.jc(2);o.Db(1),o.Eb("rowspan",c.dataVessel[r].shipment.length),o.Db(1),o.Mc(a+1),o.Db(1),o.Eb("rowspan",c.dataVessel[r].shipment.length),o.Db(1),o.Oc("",n.voyage.vessel_name," ",n.voyage.name,""),o.Db(1),o.Eb("rowspan",c.dataVessel[r].shipment.length),o.Db(1),o.Mc(o.mc(7,10,n.voyage.depart_time,"MM/dd/yyyy HH:mm")),o.Db(2),o.Eb("rowspan",c.dataVessel[r].shipment.length),o.Db(1),o.Mc(o.mc(10,13,n.voyage.arrive_time,"MM/dd/yyyy HH:mm")),o.Db(2),o.pc("ngForOf",c.contType)}}function L(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",14),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc().$implicit;o.Db(2),o.Mc(i.book[n])}}function w(e,t){if(1&e&&(o.Xb(0,"td",30),o.Xb(1,"div",31),o.Xb(2,"span",32),o.Lc(3),o.Wb(),o.Xb(4,"span",33),o.Lc(5),o.kc(6,"number"),o.Wb(),o.Wb(),o.Wb()),2&e){var n=o.jc().$implicit,i=o.jc(2).$implicit,r=o.jc(3);o.Db(1),o.pc("matTooltip",n.payment_center),o.Db(2),o.Oc("",n.code," ",n.currency,""),o.Db(2),o.Mc(o.mc(6,4,r.priceObj[i.id].revenueVNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function _(e,t){if(1&e&&(o.Vb(0),o.Jc(1,w,7,7,"td",29),o.Ub()),2&e){var n=t.$implicit,i=o.jc(2).$implicit,r=o.jc(3);o.Db(1),o.pc("ngIf",r.priceObj[i.id].revenueVNPrice[n.code+n.currency+n.payment_center])}}function C(e,t){if(1&e&&(o.Vb(0),o.Jc(1,_,2,1,"ng-container",4),o.Ub()),2&e){var n=o.jc(4);o.Db(1),o.pc("ngForOf",n.priceHeader)}}function O(e,t){if(1&e&&(o.Xb(0,"td",30),o.Xb(1,"div",31),o.Xb(2,"span",32),o.Lc(3),o.Wb(),o.Xb(4,"span",33),o.Lc(5),o.kc(6,"number"),o.Wb(),o.Wb(),o.Wb()),2&e){var n=o.jc().$implicit,i=o.jc(2).$implicit,r=o.jc(3);o.Db(1),o.pc("matTooltip",n.payment_center),o.Db(2),o.Oc("",n.code," ",n.currency,""),o.Db(2),o.Mc(o.mc(6,4,r.priceObj[i.id].revenueNNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function S(e,t){if(1&e&&(o.Vb(0),o.Jc(1,O,7,7,"td",29),o.Ub()),2&e){var n=t.$implicit,i=o.jc(2).$implicit,r=o.jc(3);o.Db(1),o.pc("ngIf",r.priceObj[i.id].revenueNNPrice[n.code+n.currency+n.payment_center])}}function I(e,t){if(1&e&&(o.Vb(0),o.Jc(1,S,2,1,"ng-container",4),o.Ub()),2&e){var n=o.jc(4);o.Db(1),o.pc("ngForOf",n.priceHeader)}}function N(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",28),o.fc("click",(function(e){o.Bc(n);var t=o.jc().$implicit,i=o.jc(3);return e.stopPropagation(),i.saveShipment.emit(t)})),o.Xb(1,"mat-icon"),o.Lc(2,"save"),o.Wb(),o.Xb(3,"span"),o.Lc(4,"Save shipment"),o.Wb(),o.Wb()}}var F=function(e){return{"text-strike red-A700-fg":e}};function M(e,t){if(1&e){var n=o.Yb();o.Xb(0,"tr",18),o.Jc(1,D,12,16,"ng-container",19),o.Xb(2,"td",20),o.Xb(3,"a",21),o.Lc(4),o.Wb(),o.Wb(),o.Xb(5,"td",22),o.Lc(6),o.Wb(),o.Jc(7,L,3,1,"ng-container",4),o.Xb(8,"td"),o.Lc(9),o.Wb(),o.Xb(10,"td"),o.Lc(11),o.Wb(),o.Xb(12,"td"),o.Lc(13),o.Wb(),o.Xb(14,"td",23),o.Jc(15,C,2,1,"ng-container",19),o.Wb(),o.Xb(16,"td",23),o.Jc(17,I,2,1,"ng-container",19),o.Wb(),o.Xb(18,"td"),o.Lc(19),o.Wb(),o.Xb(20,"td"),o.Lc(21),o.Wb(),o.Xb(22,"td",11),o.Xb(23,"mat-icon",24),o.fc("click",(function(e){return o.Bc(n),e.stopPropagation()})),o.Lc(24,"more_vert"),o.Wb(),o.Xb(25,"mat-menu",null,25),o.Xb(27,"button",26),o.fc("click",(function(e){return o.Bc(n),e.stopPropagation()})),o.Xb(28,"mat-icon"),o.Lc(29,"edit"),o.Wb(),o.Xb(30,"span"),o.Lc(31,"Edit book"),o.Wb(),o.Wb(),o.Jc(32,N,5,0,"button",27),o.Xb(33,"button",28),o.fc("click",(function(e){o.Bc(n);var i=t.$implicit,r=o.jc(3);return e.stopPropagation(),r.copyBooking.emit(i)})),o.Xb(34,"mat-icon"),o.Lc(35,"plus_one"),o.Wb(),o.Xb(36,"span"),o.Lc(37,"Copy"),o.Wb(),o.Wb(),o.Xb(38,"button",28),o.fc("click",(function(e){o.Bc(n);var i=t.$implicit,r=o.jc(3);return e.stopPropagation(),r.deleteBookDraft.emit(i)})),o.Xb(39,"mat-icon"),o.Lc(40,"delete"),o.Wb(),o.Xb(41,"span"),o.Lc(42,"Remove"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){var i=t.$implicit,r=t.index,a=o.xc(26),c=o.jc(3);o.pc("ngClass",o.rc(17,F,c.time>i.voyage.depart_time)),o.Db(1),o.pc("ngIf",0==r),o.Db(2),o.pc("routerLink","/apps/"+c.modul+"/shipment/book-detail/id/"+i.id+"/overview"),o.Db(1),o.Mc(i.book.code),o.Db(1),o.pc("matTooltip",i.book.customer.full_name),o.Db(1),o.Mc(i.book.customer.short_name),o.Db(1),o.pc("ngForOf",c.contType),o.Db(2),o.Mc(i.voyage.load_terminal_name),o.Db(2),o.Mc(i.voyage.discharge_terminal_name),o.Db(2),o.Mc(i.book.commodity),o.Db(2),o.pc("ngIf",c.revenueVNOpen),o.Db(2),o.pc("ngIf",c.revenueNNOpen),o.Db(2),o.Mc(i.name?i.name:i.user),o.Db(2),o.Mc(i.book.create_by?i.book.create_by.name:i.user),o.Db(2),o.pc("matMenuTriggerFor",a),o.Db(4),o.pc("routerLink","/apps/"+c.modul+"/shipment/book-form/form/"+i.id+"/overview"),o.Db(5),o.pc("ngIf",c.permission.create)}}function V(e,t){if(1&e&&(o.Vb(0),o.Jc(1,M,43,19,"tr",17),o.Ub()),2&e){var n=t.$implicit,i=o.jc(2);o.Db(1),o.pc("ngForOf",i.dataVessel[n].shipment)}}function T(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"tr"),o.Xb(2,"td",10),o.Lc(3),o.Wb(),o.Wb(),o.Jc(4,V,2,1,"ng-container",4),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Eb("colspan",2),o.Db(1),o.Mc(n),o.Db(1),o.pc("ngForOf",i.voyage[n])}}function j(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",34),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Mc(i.total[n])}}var A=function(){var e=function(){function e(t,n,r,a,c){_classCallCheck(this,e),this.router=t,this.route=n,this._activatedRoute=r,this.authService=a,this._location=c,this.saveShipment=new o.o,this.copyBooking=new o.o,this.deleteBookDraft=new o.o,this.revenueVNOpen=!0,this.revenueNNOpen=!0,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(c.g),o.Rb(c.a),o.Rb(c.a),o.Rb(b.a),o.Rb(s.n))},e.\u0275cmp=o.Lb({type:e,selectors:[["bookings-vessel"]],viewQuery:function(e,t){var n;1&e&&o.Sc(a.e,!0),2&e&&o.wc(n=o.gc())&&(t.viewPort=n.first)},inputs:{dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul"},outputs:{saveShipment:"saveShipment",copyBooking:"copyBooking",deleteBookDraft:"deleteBookDraft"},decls:63,vars:41,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"cursor-pointer",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],[1,"sticky-col1","text-bold"],[1,"w-40","p-0","sticky-right-col"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],[1,"text-center"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"sticky-col1",2,"padding","8px"],[1,"cursor-pointer",3,"routerLink"],[3,"matTooltip"],[2,"padding","0"],["aria-label","More",1,"cursor-pointer",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"routerLink","click"],["mat-menu-item","","aria-label","remove",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","remove",3,"click"],["style","padding: 4px","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-bold","text-center"]],template:function(e,t){1&e&&(o.Jc(0,g,3,1,"div",0),o.Xb(1,"div",1),o.Xb(2,"cdk-virtual-scroll-viewport",2),o.Xb(3,"table",3),o.Xb(4,"thead"),o.Xb(5,"tr"),o.Xb(6,"th"),o.Lc(7,"No"),o.Wb(),o.Xb(8,"th"),o.Lc(9,"Voyage"),o.Wb(),o.Xb(10,"th"),o.Lc(11,"ETD"),o.Wb(),o.Xb(12,"th"),o.Lc(13,"ETA"),o.Wb(),o.Jc(14,h,3,3,"ng-container",4),o.Xb(15,"th",5),o.Lc(16,"Code"),o.Wb(),o.Xb(17,"th"),o.Lc(18,"Customer"),o.Wb(),o.Jc(19,v,3,3,"ng-container",4),o.Xb(20,"th"),o.Lc(21,"Load terminal"),o.Wb(),o.Xb(22,"th"),o.Lc(23,"Discharge terminal"),o.Wb(),o.Xb(24,"th"),o.Lc(25,"Commodity"),o.Wb(),o.Xb(26,"th",6),o.fc("click",(function(e){return e.stopPropagation(),t.revenueVNOpen=!t.revenueVNOpen})),o.Xb(27,"div",7),o.Xb(28,"span"),o.Lc(29,"REV VN"),o.Wb(),o.Jc(30,k,2,0,"mat-icon",8),o.Jc(31,y,2,0,"mat-icon",9),o.Wb(),o.Wb(),o.Xb(32,"th",6),o.fc("click",(function(e){return e.stopPropagation(),t.revenueNNOpen=!t.revenueNNOpen})),o.Xb(33,"div",7),o.Xb(34,"span"),o.Lc(35,"REV NN"),o.Wb(),o.Jc(36,x,2,0,"mat-icon",8),o.Jc(37,X,2,0,"mat-icon",9),o.Wb(),o.Wb(),o.Xb(38,"th"),o.Lc(39,"Owner"),o.Wb(),o.Xb(40,"th"),o.Lc(41,"Create by"),o.Wb(),o.Sb(42,"th"),o.Wb(),o.Wb(),o.Xb(43,"tbody"),o.Jc(44,T,5,3,"ng-container",4),o.Wb(),o.Xb(45,"tfoot"),o.Xb(46,"tr"),o.Sb(47,"td"),o.Xb(48,"td",10),o.Lc(49,"Total"),o.Wb(),o.Sb(50,"td"),o.Sb(51,"td"),o.Jc(52,j,3,1,"ng-container",4),o.Sb(53,"td"),o.Sb(54,"td"),o.Sb(55,"td"),o.Sb(56,"td"),o.Sb(57,"td"),o.Sb(58,"td"),o.Sb(59,"td"),o.Sb(60,"td"),o.Sb(61,"td"),o.Sb(62,"td",11),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.pc("ngIf",0===t.sptRouter.length),o.Db(1),o.Ic("height",t.height,"px"),o.Db(1),o.Ic("height",t.height,"px"),o.Db(4),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.pc("ngForOf",t.contType),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.pc("ngForOf",t.contType),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngIf",!t.revenueVNOpen),o.Db(1),o.pc("ngIf",t.revenueVNOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngIf",!t.revenueNNOpen),o.Db(1),o.pc("ngIf",t.revenueNNOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.pc("ngForOf",t.sptRouter),o.Db(8),o.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,u.d,s.s,u.c,u.e,p.a,s.q,f.a,c.j,m.a,d.c,d.d,d.a,c.h],pipes:[s.f,s.g],styles:["bookings-vessel .no-book-text{font-size:24px;font-weight:300}bookings-vessel cdk-virtual-scroll-viewport{width:100%}bookings-vessel .book-table{font-size:12px;border-collapse:collapse}bookings-vessel .book-table td,bookings-vessel .book-table th{padding:8px;white-space:nowrap}bookings-vessel .book-table td{border-top:1px solid #000!important;border-bottom:1px solid #000!important}bookings-vessel .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-vessel .book-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}bookings-vessel .book-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}bookings-vessel .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-vessel .book-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}bookings-vessel .book-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2,data:{animation:r.a}}),e}()},"t0+f":function(e,t,n){"use strict";var o=n("fXoL"),i=n("0IaG"),r=n("3Pt+");function a(e){if(e.value){if(11!=e.value.length)return{validConNum:!0};for(var t,n,o=e.value,i=0,r=0;r<o.length;r++){if(t=o.charAt(r),r<4){if(!isNaN(t))return{validConNum:!0};switch(t){case"A":t=10;break;case"B":t=12;break;case"C":t=13;break;case"D":t=14;break;case"E":t=15;break;case"F":t=16;break;case"G":t=17;break;case"H":t=18;break;case"I":t=19;break;case"J":t=20;break;case"K":t=21;break;case"L":t=23;break;case"M":t=24;break;case"N":t=25;break;case"O":t=26;break;case"P":t=27;break;case"Q":t=28;break;case"R":t=29;break;case"S":t=30;break;case"T":t=31;break;case"U":t=32;break;case"V":t=34;break;case"W":t=35;break;case"X":t=36;break;case"Y":t=37;break;case"Z":t=38}}else{if(isNaN(t))return{validConNum:!0};t=Number(t)}r==o.length-1?n=t:i+=t*Math.pow(2,r)}if((i%11==10?0:i%11)!=n)return{validConNum:!0}}return null}var c=n("tyNb"),b=n("qXBG"),s=n("ofXK"),l=n("0Zc1"),u=n("/t3+"),p=n("XiUz"),f=n("bTqV"),m=n("NFeN"),d=n("EwFO"),g=n("kmnG"),h=n("qFsG"),v=n("d3UM"),k=n("FKr1"),y=n("znSr");n.d(t,"a",(function(){return S}));var x=["tref"];function X(e,t){1&e&&(o.Xb(0,"mat-error"),o.Lc(1," Container is required "),o.Wb())}function W(e,t){1&e&&(o.Xb(0,"mat-error"),o.Lc(1," Invalid container number "),o.Wb())}function D(e,t){1&e&&(o.Xb(0,"mat-error"),o.Lc(1," Type is required "),o.Wb())}function L(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",36),o.fc("click",(function(e){o.Bc(n);var t=o.jc().index;return o.jc().removeContainer(t)})),o.Xb(1,"mat-icon"),o.Lc(2,"delete"),o.Wb(),o.Wb()}}function w(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",37),o.fc("click",(function(e){return o.Bc(n),o.jc(2).addContainer()})),o.Xb(1,"mat-icon"),o.Lc(2,"add"),o.Wb(),o.Wb()}}var _=function(e){return{hide:e}};function C(e,t){if(1&e){var n=o.Yb();o.Xb(0,"div",14),o.Xb(1,"mat-form-field",15),o.Xb(2,"mat-label"),o.Lc(3,"Container"),o.Wb(),o.Sb(4,"input",16),o.Xb(5,"mat-icon",17),o.fc("click",(function(e){o.Bc(n);var i=t.index,r=o.jc();return r.viewNote[i]=!r.viewNote[i]})),o.Lc(6,"note"),o.Wb(),o.Jc(7,X,2,0,"mat-error",18),o.Jc(8,W,2,0,"mat-error",18),o.Wb(),o.Xb(9,"mat-form-field",19),o.Xb(10,"mat-label"),o.Lc(11,"Type"),o.Wb(),o.Xb(12,"mat-select",20),o.Xb(13,"mat-option",21),o.Lc(14,"20`"),o.Wb(),o.Xb(15,"mat-option",21),o.Lc(16,"40`"),o.Wb(),o.Wb(),o.Jc(17,D,2,0,"mat-error",18),o.Wb(),o.Xb(18,"mat-form-field",22),o.Xb(19,"mat-label"),o.Lc(20,"Seal"),o.Wb(),o.Sb(21,"input",23),o.Wb(),o.Xb(22,"div",24),o.Jc(23,L,3,0,"button",25),o.Jc(24,w,3,0,"button",26),o.Wb(),o.Xb(25,"mat-form-field",27),o.Xb(26,"mat-label"),o.Lc(27,"Remark"),o.Wb(),o.Xb(28,"mat-select",28),o.Sb(29,"mat-option",29),o.Xb(30,"mat-option",21),o.Lc(31,"H\xc0NG NGUY HI\u1ec2M"),o.Wb(),o.Xb(32,"mat-option",21),o.Lc(33,"Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),o.Wb(),o.Wb(),o.Wb(),o.Xb(34,"mat-form-field",30),o.Xb(35,"mat-label"),o.Lc(36,"Status"),o.Wb(),o.Xb(37,"mat-select",31),o.Sb(38,"mat-option",29),o.Xb(39,"mat-option",21),o.Lc(40,"Booking"),o.Wb(),o.Xb(41,"mat-option",21),o.Lc(42,"Release"),o.Wb(),o.Xb(43,"mat-option",21),o.Lc(44,"Pick-up"),o.Wb(),o.Wb(),o.Wb(),o.Xb(45,"mat-form-field",32),o.Xb(46,"mat-label"),o.Lc(47,"Description"),o.Wb(),o.Sb(48,"input",33),o.Wb(),o.Xb(49,"mat-form-field",30),o.Xb(50,"mat-label"),o.Lc(51,"Lift on"),o.Wb(),o.Sb(52,"input",34),o.Wb(),o.Xb(53,"mat-form-field",30),o.Xb(54,"mat-label"),o.Lc(55,"Lift off"),o.Wb(),o.Sb(56,"input",35),o.Wb(),o.Wb()}if(2&e){var i=t.index,r=o.jc();o.pc("formGroupName",i),o.Db(7),o.pc("ngIf",r.formLcv.controls.contArr.controls[i].get("container").hasError("required")),o.Db(1),o.pc("ngIf",r.formLcv.controls.contArr.controls[i].get("container").errors&&r.formLcv.controls.contArr.controls[i].get("container").dirty&&r.formLcv.controls.contArr.controls[i].get("container").errors.validConNum),o.Db(5),o.pc("value","20`"),o.Db(2),o.pc("value","40`"),o.Db(2),o.pc("ngIf",r.formLcv.controls.contArr.controls[i].get("type").hasError("required")),o.Db(6),o.pc("ngIf",i>0),o.Db(1),o.pc("ngIf",r.formLcv.controls.contArr.value.length==i+1),o.Db(1),o.pc("ngClass",o.rc(18,_,!r.viewNote[i])),o.Db(5),o.pc("value","H\xc0NG NGUY HI\u1ec2M"),o.Db(2),o.pc("value","Y\xcaU C\u1ea6U \u0110\xd3NG TR\u01af\u1edaC"),o.Db(2),o.pc("ngClass",o.rc(20,_,!r.viewNote[i])),o.Db(5),o.pc("value","Booking"),o.Db(2),o.pc("value","Release"),o.Db(2),o.pc("value","Pick-up"),o.Db(2),o.pc("ngClass",o.rc(22,_,!r.viewNote[i])),o.Db(4),o.pc("ngClass",o.rc(24,_,!r.viewNote[i])),o.Db(4),o.pc("ngClass",o.rc(26,_,!r.viewNote[i]))}}var O,S=((O=function(){function e(t,n,o,i,c,b,s){var l=this;_classCallCheck(this,e),this.router=t,this.matDialogRef=n,this._data=o,this.authService=i,this._formBuilder=c,this.datePipe=b,this.commonService=s,this.maxDate=null,this.depot=[],this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.seaTerminal=[],this.formLcv=this._formBuilder.group({contArr:this._formBuilder.array([this._formBuilder.group({container:[null,[r.y.required,a]],type:[null,r.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null]})])}),this.subject="",this.content="",this.viewNote=[],this.label=o.label,this.data=JSON.parse(JSON.stringify(o.data)),this.data.contArr&&this.data.contArr.length>0&&this.data.contArr.map((function(e,t){t>0&&l.addContainer()})),this.formLcv.patchValue(this.data)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formLcv.valueChanges.subscribe((function(t){e.errorMessage=""})),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"setDateStr",value:function(e){e.target.value=""==e.target.value?null:new Date(e.target.value)}},{key:"onLcvFormSubmit",value:function(e){e.valid&&this.matDialogRef.close(e.value)}},{key:"addContainer",value:function(){this.contAdd.push(this._formBuilder.group({container:[null,[r.y.required,a]],type:[null,r.y.required],seal:[null],note:[null],status:[null],description:[null],lift_on:[null],lift_off:[null],vgm:[null]}))}},{key:"removeContainer",value:function(e){this.contAdd.removeAt(e)}},{key:"contAdd",get:function(){return this.formLcv.get("contArr")}}]),e}()).\u0275fac=function(e){return new(e||O)(o.Rb(c.g),o.Rb(i.f),o.Rb(i.a),o.Rb(b.a),o.Rb(r.d),o.Rb(s.f),o.Rb(l.a))},O.\u0275cmp=o.Lb({type:O,selectors:[["bookings-modal-dialog"]],viewQuery:function(e,t){var n;1&e&&o.Sc(x,!0,o.l),2&e&&o.wc(n=o.gc())&&(t.tref=n.first)},decls:21,vars:4,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-book-modal","fxLayout","column",1,"p-16","pb-0","m-0"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],["formArrayName","contArr","fxLayout","column"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName"],["appearance","outline","fxFlex","40",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","container","maxlength","11","required",""],["matSuffix","","color","accent",1,"cursor-pointer",3,"click"],[4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8"],["formControlName","type","required",""],[3,"value"],["appearance","outline","fxFlex","30",1,"pr-8"],["inputCheck","","matInput","","type","text","formControlName","seal"],["fxFlex","10",1,"pr-8"],["mat-mini-fab","","color","warn","type","button",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent","type","button",3,"click",4,"ngIf"],["appearance","outline","fxFlex","20",1,"pr-8",3,"ngClass"],["formControlName","note"],["value",""],["appearance","outline","fxFlex","15",1,"pr-8",3,"ngClass"],["formControlName","status"],["appearance","outline","fxFlex","35",1,"pr-8",3,"ngClass"],["inputCheck","","matInput","","type","text","formControlName","description"],["inputCheck","","matInput","","type","text","formControlName","lift_on"],["inputCheck","","matInput","","type","text","formControlName","lift_off"],["mat-mini-fab","","color","warn","type","button",3,"click"],["mat-mini-fab","","color","accent","type","button",3,"click"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"mat-toolbar",1),o.Xb(2,"mat-toolbar-row",2),o.Xb(3,"span",3),o.Lc(4),o.Wb(),o.Xb(5,"button",4),o.fc("click",(function(e){return t.matDialogRef.close()})),o.Xb(6,"mat-icon"),o.Lc(7,"close"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"div",5),o.Xb(9,"div"),o.Xb(10,"form",6),o.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onLcvFormSubmit(t.formLcv)})),o.Xb(11,"div",7),o.Jc(12,C,57,28,"div",8),o.Wb(),o.Xb(13,"div",9),o.Xb(14,"div",10),o.Lc(15),o.Wb(),o.Wb(),o.Xb(16,"div",11),o.Xb(17,"button",12),o.Lc(18,"Submit"),o.Wb(),o.Xb(19,"button",13),o.fc("click",(function(e){return t.matDialogRef.close()})),o.Lc(20,"Cancel"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(4),o.Mc(t.label),o.Db(6),o.pc("formGroup",t.formLcv),o.Db(2),o.pc("ngForOf",t.contAdd.controls),o.Db(3),o.Mc(t.errorMessage))},directives:[u.a,u.c,p.b,p.d,p.c,f.b,m.a,i.d,d.a,r.A,r.q,r.h,r.c,s.s,r.i,g.c,g.f,h.b,r.b,r.p,r.g,r.k,r.w,g.h,s.t,v.a,k.n,s.q,y.a,g.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.bookings-modal-dialog{width:100%}}@media screen and (min-width:960px){.bookings-modal-dialog{width:1080px}}.bookings-modal-dialog .mat-dialog-container{padding:0}.bookings-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.bookings-modal-dialog #shipment-book-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.bookings-modal-dialog #shipment-book-modal .faq .item{padding:8px}.bookings-modal-dialog #shipment-book-modal .faq .item .title{font-weight:700;font-size:14px;margin-bottom:8px}.bookings-modal-dialog #shipment-book-modal .faq .item .info{font-size:12px;line-height:1.5}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper{margin:0;padding:0}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-header{padding:8px 20px;border-bottom:1px solid}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-header .example-viewer-title{font-weight:700}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content{background:#263238;color:#fff}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab{position:relative}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source-copy{position:absolute;top:0;right:8px}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab:hover .example-source-copy{display:inline-block}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source{padding:0;margin:0;min-height:150px;border-bottom:1px solid}.bookings-modal-dialog #shipment-book-modal .example-viewer-wrapper .example-viewer-source .tab-content .tab .example-source>pre{width:100%}"],encapsulation:2}),O)},wFrn:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var o=n("0IaG"),i=n("3Pt+"),r=n("JX91"),a=n("lJxs"),c=n("fXoL"),b=n("tyNb"),s=n("qXBG"),l=n("0Zc1"),u=n("ofXK"),p=n("/t3+"),f=n("XiUz"),m=n("bTqV"),d=n("NFeN"),g=n("EwFO"),h=n("kmnG"),v=n("qFsG"),k=n("/1cH"),y=n("d3UM"),x=n("iadO"),X=n("FKr1"),W=["formDirective"];function D(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.name," ")}}function L(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Vessel is required "),c.Wb())}function w(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.full_name," ")}}function _(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Supplier is required "),c.Wb())}function C(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Name is required "),c.Wb())}function O(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.name," ")}}function S(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Load port is required "),c.Wb())}function I(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.name," ")}}function N(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Load terminal is required "),c.Wb())}function F(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Depart day is required "),c.Wb())}function M(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Date is too early! "),c.Wb())}function V(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Depart time is required "),c.Wb())}function T(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Closing time is required "),c.Wb())}function j(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.name," ")}}function A(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Discharge port is required "),c.Wb())}function R(e,t){if(1&e&&(c.Xb(0,"mat-option",46),c.Lc(1),c.Wb()),2&e){var n=t.$implicit;c.pc("value",n.id),c.Db(1),c.Nc(" ",n.name," ")}}function P(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Discharge terminal is required "),c.Wb())}function q(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Arrive day is required "),c.Wb())}function z(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Date is too early! "),c.Wb())}function J(e,t){1&e&&(c.Xb(0,"mat-error"),c.Lc(1," Arrive time is required "),c.Wb())}function B(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"form",7),c.fc("keydown.enter",(function(e){return c.Bc(n),"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){c.Bc(n);var t=c.jc();return t.onFormSubmit(t.formVoyage)})),c.Xb(2,"div",8),c.Sb(3,"input",9),c.Wb(),c.Xb(4,"div",10),c.Xb(5,"mat-form-field",11),c.Xb(6,"mat-label"),c.Lc(7,"Vessel"),c.Wb(),c.Sb(8,"input",12),c.Xb(9,"mat-autocomplete",13,14),c.Jc(11,D,2,2,"mat-option",15),c.kc(12,"async"),c.Wb(),c.Jc(13,L,2,0,"mat-error",6),c.Wb(),c.Xb(14,"mat-form-field",16),c.Xb(15,"mat-label"),c.Lc(16,"Supplier"),c.Wb(),c.Sb(17,"input",17),c.Xb(18,"mat-autocomplete",13,18),c.Jc(20,w,2,2,"mat-option",15),c.kc(21,"async"),c.Wb(),c.Jc(22,_,2,0,"mat-error",6),c.Wb(),c.Xb(23,"mat-form-field",11),c.Xb(24,"mat-label"),c.Lc(25,"Voyage"),c.Wb(),c.Sb(26,"input",19),c.Jc(27,C,2,0,"mat-error",6),c.Wb(),c.Xb(28,"mat-form-field",20),c.Xb(29,"mat-label"),c.Lc(30,"Load port"),c.Wb(),c.Sb(31,"input",21),c.Xb(32,"mat-autocomplete",13,22),c.Jc(34,O,2,2,"mat-option",15),c.kc(35,"async"),c.Wb(),c.Jc(36,S,2,0,"mat-error",6),c.Wb(),c.Xb(37,"mat-form-field",20),c.Xb(38,"mat-label"),c.Lc(39,"Load terminal"),c.Wb(),c.Xb(40,"mat-select",23),c.Jc(41,I,2,2,"mat-option",15),c.Wb(),c.Jc(42,N,2,0,"mat-error",6),c.Wb(),c.Xb(43,"mat-form-field",24),c.Xb(44,"mat-label"),c.Lc(45,"Depart day"),c.Wb(),c.Xb(46,"input",25),c.fc("change",(function(e){return c.Bc(n),c.jc().commonService.setDateStr(e)})),c.Wb(),c.Sb(47,"mat-datepicker-toggle",26),c.Sb(48,"mat-datepicker",null,27),c.Jc(50,F,2,0,"mat-error",6),c.Jc(51,M,2,0,"mat-error",6),c.Wb(),c.Xb(52,"mat-form-field",24),c.Xb(53,"mat-label"),c.Lc(54,"Depart time"),c.Wb(),c.Sb(55,"input",28),c.Jc(56,V,2,0,"mat-error",6),c.Wb(),c.Xb(57,"mat-form-field",29),c.Xb(58,"mat-label"),c.Lc(59,"Closing time(hours)"),c.Wb(),c.Sb(60,"input",30),c.Xb(61,"span",31),c.Lc(62),c.kc(63,"date"),c.Wb(),c.Jc(64,T,2,0,"mat-error",6),c.Wb(),c.Xb(65,"mat-form-field",20),c.Xb(66,"mat-label"),c.Lc(67,"Discharge port"),c.Wb(),c.Sb(68,"input",32),c.Xb(69,"mat-autocomplete",13,33),c.Jc(71,j,2,2,"mat-option",15),c.kc(72,"async"),c.Wb(),c.Jc(73,A,2,0,"mat-error",6),c.Wb(),c.Xb(74,"mat-form-field",20),c.Xb(75,"mat-label"),c.Lc(76,"Discharge terminal"),c.Wb(),c.Xb(77,"mat-select",34),c.Jc(78,R,2,2,"mat-option",15),c.Wb(),c.Jc(79,P,2,0,"mat-error",6),c.Wb(),c.Xb(80,"mat-form-field",24),c.Xb(81,"mat-label"),c.Lc(82,"Arrive day"),c.Wb(),c.Xb(83,"input",35),c.fc("change",(function(e){return c.Bc(n),c.jc().commonService.setDateStr(e)})),c.Wb(),c.Sb(84,"mat-datepicker-toggle",26),c.Sb(85,"mat-datepicker",null,36),c.Jc(87,q,2,0,"mat-error",6),c.Jc(88,z,2,0,"mat-error",6),c.Wb(),c.Xb(89,"mat-form-field",24),c.Xb(90,"mat-label"),c.Lc(91,"Arrive time"),c.Wb(),c.Sb(92,"input",37),c.Jc(93,J,2,0,"mat-error",6),c.Wb(),c.Xb(94,"mat-form-field",29),c.Xb(95,"mat-label"),c.Lc(96,"Update by"),c.Wb(),c.Sb(97,"input",38),c.Wb(),c.Xb(98,"mat-form-field",39),c.Xb(99,"mat-label"),c.Lc(100,"Info"),c.Wb(),c.Sb(101,"input",40),c.Wb(),c.Wb(),c.Xb(102,"div",41),c.Xb(103,"div",42),c.Lc(104),c.Wb(),c.Wb(),c.Xb(105,"div",43),c.Xb(106,"button",44),c.Lc(107,"Submit"),c.Wb(),c.Xb(108,"button",45),c.fc("click",(function(e){return c.Bc(n),c.jc().matDialogRef.close()})),c.Lc(109,"Cancel"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){var o=c.xc(10),i=c.xc(19),r=c.xc(33),a=c.xc(49),b=c.xc(70),s=c.xc(86),l=c.jc();c.Db(1),c.pc("formGroup",l.formVoyage),c.Db(7),c.pc("matAutocomplete",o),c.Db(1),c.pc("displayWith",l.commonService.displayFn.bind(l,"name",l.vessel)),c.Db(2),c.pc("ngForOf",c.lc(12,39,l.filteredVessel)),c.Db(2),c.pc("ngIf",l.formVoyage.get("vessel_id").hasError("required")),c.Db(4),c.pc("matAutocomplete",i),c.Db(1),c.pc("displayWith",l.commonService.displayFn.bind(l,"full_name",l.supplier)),c.Db(2),c.pc("ngForOf",c.lc(21,41,l.filteredSupplier)),c.Db(2),c.pc("ngIf",l.formVoyage.get("supplier_id").hasError("required")),c.Db(5),c.pc("ngIf",l.formVoyage.get("name").hasError("required")),c.Db(4),c.pc("matAutocomplete",r),c.Db(1),c.pc("displayWith",l.commonService.displayFn.bind(l,"name",l.seaport)),c.Db(2),c.pc("ngForOf",c.lc(35,43,l.filteredSeaport1)),c.Db(2),c.pc("ngIf",l.formVoyage.get("load_port").hasError("required")),c.Db(4),c.pc("disabled",null==l.formVoyage.controls.load_port.value),c.Db(1),c.pc("ngForOf",l.filterLoadTerminal),c.Db(1),c.pc("ngIf",l.formVoyage.get("load_terminal").hasError("required")),c.Db(4),c.pc("matDatepicker",a),c.Db(1),c.pc("for",a),c.Db(3),c.pc("ngIf",l.formVoyage.get("depart_day").hasError("required")),c.Db(1),c.pc("ngIf",!l.formVoyage.get("depart_day").hasError("required")&&"INVALID"==l.formVoyage.get("depart_day").status),c.Db(5),c.pc("ngIf",l.formVoyage.get("depart_time").hasError("required")),c.Db(6),c.Nc("\xa0\xa0",c.mc(63,45,l.time,"MM/dd/yyyy HH:mm"),""),c.Db(2),c.pc("ngIf",l.formVoyage.get("closing_time").hasError("required")),c.Db(4),c.pc("matAutocomplete",b),c.Db(1),c.pc("displayWith",l.commonService.displayFn.bind(l,"name",l.seaport)),c.Db(2),c.pc("ngForOf",c.lc(72,48,l.filteredSeaport2)),c.Db(2),c.pc("ngIf",l.formVoyage.get("discharge_port").hasError("required")),c.Db(4),c.pc("disabled",null==l.formVoyage.controls.discharge_port.value),c.Db(1),c.pc("ngForOf",l.filterDischargeTerminal),c.Db(1),c.pc("ngIf",l.formVoyage.get("discharge_terminal").hasError("required")),c.Db(4),c.pc("matDatepicker",s)("min",l.minArriveDate),c.Db(1),c.pc("for",s),c.Db(3),c.pc("ngIf",l.formVoyage.get("arrive_day").hasError("required")),c.Db(1),c.pc("ngIf",!l.formVoyage.get("arrive_day").hasError("required")&&"INVALID"==l.formVoyage.get("arrive_day").status),c.Db(5),c.pc("ngIf",l.formVoyage.get("arrive_time").hasError("required")),c.Db(4),c.pc("readonly",!0),c.Db(7),c.Mc(l.errorMessage)}}function H(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"form",7),c.fc("keydown.enter",(function(e){return c.Bc(n),"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){c.Bc(n);var t=c.jc();return t.onFormRemarkSubmit(t.formRemark)})),c.Xb(2,"div",10),c.Xb(3,"mat-form-field",39),c.Xb(4,"mat-label"),c.Lc(5,"Remark"),c.Wb(),c.Sb(6,"input",47),c.Wb(),c.Wb(),c.Xb(7,"div",41),c.Xb(8,"div",42),c.Lc(9),c.Wb(),c.Wb(),c.Xb(10,"div",43),c.Xb(11,"button",44),c.Lc(12,"Submit"),c.Wb(),c.Xb(13,"button",45),c.fc("click",(function(e){return c.Bc(n),c.jc().matDialogRef.close()})),c.Lc(14,"Cancel"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){var o=c.jc();c.Db(1),c.pc("formGroup",o.formRemark),c.Db(8),c.Mc(o.errorMessage)}}var E=function(){var e=function(){function e(t,n,o,r,a,c,b){var s=this;if(_classCallCheck(this,e),this.router=t,this.matDialogRef=n,this._data=o,this.authService=r,this.commonService=a,this.datePipe=c,this._formBuilder=b,this.filterLoadTerminal=[],this.filterDischargeTerminal=[],this.errorMessage="",this.formVoyage=this._formBuilder.group({id:[null],vessel_id:[null,i.y.required],supplier_id:[null,i.y.required],name:[null,i.y.required],load_port:[null,i.y.required],load_terminal:[null,i.y.required],depart_day:[null,i.y.required],depart_time:[null,i.y.required],closing_time:[null,i.y.required],discharge_port:[null,i.y.required],discharge_terminal:[null,i.y.required],arrive_day:[null,i.y.required],arrive_time:[null,i.y.required],info:[null],update_by:[this.authService.email,i.y.required]}),this.formRemark=this._formBuilder.group({remark:[null]}),this.label=o.label,"Edit Voyage"==this.label){this.vessel=o.vessel,this.supplier=o.supplier,this.seaport=o.seaport,this.seaTerminal=o.seaTerminal,this.voyage=JSON.parse(JSON.stringify(o.data));var l=this.vessel.find((function(e){return e.name==s.voyage.vessel_name}));this.voyage.vessel_id=l.id,this.time=this.voyage.closing_time,this.voyage.closing_time=(this.voyage.depart_time-this.voyage.closing_time)/36e5,this.filterLoadTerminal=this.seaTerminal.filter((function(e){return e.seaport_id==s.voyage.load_port})),this.filterDischargeTerminal=this.seaTerminal.filter((function(e){return e.seaport_id==s.voyage.discharge_port}));var u=this.datePipe.transform(new Date(this.voyage.depart_time),"yyyy/MM/dd");this.voyage.depart_day=new Date(u),this.voyage.depart_time=this.datePipe.transform(new Date(this.voyage.depart_time),"HH:mm");var p=this.datePipe.transform(new Date(this.voyage.arrive_time),"yyyy/MM/dd");this.voyage.arrive_day=new Date(p),this.voyage.arrive_time=this.datePipe.transform(new Date(this.voyage.arrive_time),"HH:mm"),this.formVoyage.patchValue(this.voyage)}"Edit Remark"==this.label&&this.formRemark.controls.remark.setValue(o.data)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.filteredVessel=this.formVoyage.controls.vessel_id.valueChanges.pipe(Object(r.a)(""),Object(a.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(a.a)((function(t){return t?e.commonService.filterData(t,"name",e.vessel):[]}))),this.filteredSupplier=this.formVoyage.controls.supplier_id.valueChanges.pipe(Object(r.a)(""),Object(a.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(a.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.supplier):[]}))),this.filteredSeaport1=this.formVoyage.controls.load_port.valueChanges.pipe(Object(r.a)(""),Object(a.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(a.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]}))),this.filteredSeaport2=this.formVoyage.controls.discharge_port.valueChanges.pipe(Object(r.a)(""),Object(a.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(a.a)((function(t){return t?e.commonService.filterData(t,"name",e.seaport):[]}))),this.formVoyage.controls.load_port.valueChanges.subscribe((function(t){e.filterLoadTerminal="number"==typeof t?e.seaTerminal.filter((function(e){return e.seaport_id==t})):[]})),this.formVoyage.controls.discharge_port.valueChanges.subscribe((function(t){e.filterDischargeTerminal="number"==typeof t?e.seaTerminal.filter((function(e){return e.seaport_id==t})):[]})),this.formVoyage.controls.vessel_id.valueChanges.subscribe((function(t){if("string"!=typeof t){var n=e.vessel.find((function(e){return e.id==t}));n&&e.formVoyage.controls.supplier_id.setValue(n.operator)}})),this.formVoyage.controls.depart_day.valueChanges.subscribe((function(t){e.minArriveDate=t})),this.formVoyage.valueChanges.subscribe((function(t){if(e.errorMessage="",t.depart_day&&t.depart_time&&t.closing_time>=0){var n=t.depart_time.toString().split(":"),o=new Date(t.depart_day),i=o.getFullYear(),r=o.getMonth(),a=o.getDate();e.time=new Date(i,r,a,parseInt(n[0])-t.closing_time,n[1])}}))}},{key:"onFormSubmit",value:function(e){if(e.valid){if("string"==typeof e.value.supplier_id)return void this.formVoyage.controls.supplier_id.setValue(null);if("string"==typeof e.value.load_port)return void this.formVoyage.controls.load_port.setValue(null);if("string"==typeof e.value.discharge_port)return void this.formVoyage.controls.discharge_port.setValue(null);var t=JSON.parse(JSON.stringify(e.value)),n=this.datePipe.transform(new Date(t.depart_day),"yyyy/MM/dd");n+=" "+t.depart_time+":00.0",delete t.depart_day,t.depart_time=n;var o=this.datePipe.transform(new Date(t.arrive_day),"yyyy/MM/dd");o+=" "+t.arrive_time+":00.0",delete t.arrive_day,t.arrive_time=o,this.matDialogRef.close(t)}}},{key:"onFormRemarkSubmit",value:function(e){e.valid&&this.matDialogRef.close(e.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Rb(b.g),c.Rb(o.f),c.Rb(o.a),c.Rb(s.a),c.Rb(l.a),c.Rb(u.f),c.Rb(i.d))},e.\u0275cmp=c.Lb({type:e,selectors:[["bookings-vessel-modal-dialog"]],viewQuery:function(e,t){var n;1&e&&c.Sc(W,!0),2&e&&c.wc(n=c.gc())&&(t.voyageListNgForm=n.first)},decls:11,vars:3,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-cost-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","","formControlName","vessel_id","required","",3,"matAutocomplete"],[3,"displayWith"],["autoVessel","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","60",1,"pr-8"],["inputCheck","","matInput","","formControlName","supplier_id","required","",3,"matAutocomplete"],["autoOnSup","matAutocomplete"],["inputCheck","","matInput","","formControlName","name","required",""],["appearance","outline","fxFlex","50","fxFlex.gt-xs","20",1,"pr-8"],["inputCheck","","matInput","","formControlName","load_port","required","",3,"matAutocomplete"],["autoOnPol","matAutocomplete"],["formControlName","load_terminal","required","",3,"disabled"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","15",1,"pr-8"],["inputCheck","","matInput","","name","depart_day","formControlName","depart_day","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["departDayPicker",""],["inputCheck","","matInput","","type","time","formControlName","depart_time","required",""],["appearance","outline","fxFlex","100","fxFlex.gt-xs","30",1,"pr-8"],["inputCheck","","type","number","min","0","matInput","","formControlName","closing_time","required",""],["matSuffix",""],["inputCheck","","matInput","","formControlName","discharge_port","required","",3,"matAutocomplete"],["autoOnPod","matAutocomplete"],["formControlName","discharge_terminal","required","",3,"disabled"],["inputCheck","","matInput","","name","arrive_day","formControlName","arrive_day","required","",3,"matDatepicker","min","change"],["arriveDayPicker",""],["inputCheck","","matInput","","type","time","formControlName","arrive_time","required",""],["inputCheck","","matInput","","formControlName","update_by",3,"readonly"],["appearance","outline","fxFlex","100",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[3,"value"],["inputCheck","","matInput","","formControlName","remark"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"mat-toolbar",1),c.Xb(2,"mat-toolbar-row",2),c.Xb(3,"span",3),c.Lc(4),c.Wb(),c.Xb(5,"button",4),c.fc("click",(function(e){return t.matDialogRef.close()})),c.Xb(6,"mat-icon"),c.Lc(7,"close"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(8,"div",5),c.Jc(9,B,110,50,"div",6),c.Jc(10,H,15,2,"div",6),c.Wb(),c.Wb()),2&e&&(c.Db(4),c.Mc(t.label),c.Db(5),c.pc("ngIf","Edit Voyage"==t.label),c.Db(1),c.pc("ngIf","Edit Remark"==t.label))},directives:[p.a,p.c,f.b,f.d,f.c,m.b,d.a,o.d,g.a,u.t,i.A,i.q,i.h,i.b,i.p,i.g,h.c,h.f,v.b,k.c,i.w,k.a,u.s,y.a,x.b,x.d,h.h,x.a,i.u,X.n,h.b],pipes:[u.b,u.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.bookings-vessel-modal-dialog{width:100%}}@media screen and (min-width:960px){.bookings-vessel-modal-dialog{width:1080px}}.bookings-vessel-modal-dialog .mat-dialog-container{padding:0}.bookings-vessel-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.bookings-vessel-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.bookings-vessel-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),e}()},xmvJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var o=n("fXoL"),i=n("XNiG"),r=n("PVWW"),a=n("vxfF"),c=n("tyNb"),b=n("qXBG"),s=n("ofXK"),l=n("cfqv"),u=n("XiUz"),p=n("NFeN"),f=n("znSr"),m=n("Qu3c");function d(e,t){1&e&&(o.Xb(0,"div",16),o.Xb(1,"span",17),o.Lc(2),o.Wb(),o.Wb()),2&e&&(o.Db(2),o.Mc("No Book"))}function g(e,t){if(1&e){var n=o.Yb();o.Xb(0,"mat-icon",18),o.fc("click",(function(e){o.Bc(n);var t=o.jc();return t.vesselOpen=!t.vesselOpen})),o.Lc(1,"add"),o.Wb()}}function h(e,t){if(1&e){var n=o.Yb();o.Xb(0,"mat-icon",19),o.fc("click",(function(e){o.Bc(n);var t=o.jc();return t.vesselOpen=!t.vesselOpen})),o.Lc(1,"removed"),o.Wb()}}function v(e,t){if(1&e&&(o.Xb(0,"th"),o.Lc(1,"ETA"),o.Wb()),2&e){var n=o.jc();o.Ic("top",n.inverseOfTranslation)}}function k(e,t){if(1&e&&(o.Xb(0,"th"),o.Lc(1,"Closing time"),o.Wb()),2&e){var n=o.jc();o.Ic("top",n.inverseOfTranslation)}}function y(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"th",20),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(1),o.Ic("top",i.inverseOfTranslation),o.Db(1),o.Mc(n)}}function x(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"th",20),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(1),o.Ic("top",i.inverseOfTranslation),o.Db(1),o.Mc(n)}}function X(e,t){1&e&&(o.Xb(0,"mat-icon",21),o.Lc(1,"add"),o.Wb())}function W(e,t){1&e&&(o.Xb(0,"mat-icon",22),o.Lc(1,"removed"),o.Wb())}function D(e,t){1&e&&(o.Xb(0,"mat-icon",21),o.Lc(1,"add"),o.Wb())}function L(e,t){1&e&&(o.Xb(0,"mat-icon",22),o.Lc(1,"removed"),o.Wb())}function w(e,t){if(1&e&&(o.Xb(0,"td"),o.Lc(1),o.kc(2,"date"),o.Wb()),2&e){var n=o.jc(3).$implicit,i=o.jc().$implicit,r=o.jc(2);o.Eb("rowspan",r.dataVessel[i].shipment.length+r.dataVessel[i].container),o.Db(1),o.Mc(o.mc(2,2,n.voyage.arrive_time,"MM/dd/yyyy HH:mm"))}}function _(e,t){if(1&e&&(o.Xb(0,"td"),o.Lc(1),o.kc(2,"date"),o.Wb()),2&e){var n=o.jc(3).$implicit,i=o.jc().$implicit,r=o.jc(2);o.Eb("rowspan",r.dataVessel[i].shipment.length+r.dataVessel[i].container),o.Db(1),o.Mc(o.mc(2,2,n.voyage.closing_time,"MM/dd/yyyy HH:mm"))}}function C(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",20),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc(4).$implicit,r=o.jc(2);o.Db(1),o.Eb("rowspan",r.dataVessel[i].shipment.length+r.dataVessel[i].container),o.Db(1),o.Mc(r.dataVessel[i][n])}}function O(e,t){if(1&e){var n=o.Yb();o.Vb(0),o.Xb(1,"td"),o.Lc(2),o.Wb(),o.Xb(3,"td"),o.Xb(4,"a",10),o.fc("click",(function(e){o.Bc(n);var t=o.jc(2).$implicit,i=o.jc().$implicit;return o.jc(2).openVessel.emit([t.voyage,i])})),o.Lc(5),o.Wb(),o.Wb(),o.Xb(6,"td"),o.Lc(7),o.kc(8,"date"),o.Wb(),o.Jc(9,w,3,5,"td",15),o.Jc(10,_,3,5,"td",15),o.Xb(11,"td"),o.Xb(12,"div",4),o.Xb(13,"span",26),o.Lc(14),o.Wb(),o.Xb(15,"mat-icon",18),o.fc("click",(function(e){o.Bc(n);var t=o.jc(2).$implicit,i=o.jc(3);return i.editRemark.emit([t.voyage,i.remarkVessel[t.voyage.id]])})),o.Lc(16,"edit"),o.Wb(),o.Wb(),o.Wb(),o.Jc(17,C,3,2,"ng-container",8),o.Ub()}if(2&e){var i=o.jc(2).$implicit,r=o.jc(),a=r.$implicit,c=r.index,b=o.jc(2);o.Db(1),o.Eb("rowspan",b.dataVessel[a].shipment.length+b.dataVessel[a].container),o.Db(1),o.Mc(c+1),o.Db(1),o.Eb("rowspan",b.dataVessel[a].shipment.length+b.dataVessel[a].container),o.Db(2),o.Oc("",i.voyage.vessel_name," ",i.voyage.name,""),o.Db(1),o.Eb("rowspan",b.dataVessel[a].shipment.length+b.dataVessel[a].container),o.Db(1),o.Mc(o.mc(8,12,i.voyage.depart_time,"MM/dd/yyyy HH:mm")),o.Db(2),o.pc("ngIf",b.vesselOpen),o.Db(1),o.pc("ngIf",b.vesselOpen),o.Db(1),o.Eb("rowspan",b.dataVessel[a].shipment.length+b.dataVessel[a].container),o.Db(3),o.Mc(b.remarkVessel[i.voyage.id]?b.remarkVessel[i.voyage.id]:" "),o.Db(3),o.pc("ngForOf",b.contType)}}function S(e,t){if(1&e){var n=o.Yb();o.Xb(0,"mat-icon",31),o.fc("click",(function(e){o.Bc(n);var t=o.jc(3).$implicit;return o.jc(3).openModal.emit(t)})),o.Lc(1,"add"),o.Wb()}2&e&&o.pc("matTooltip","Add container")}function I(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",20),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc(3).$implicit;o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.book[n])}}function N(e,t){if(1&e&&(o.Xb(0,"td",33),o.Xb(1,"div",34),o.Xb(2,"span",35),o.Lc(3),o.Wb(),o.Xb(4,"span",36),o.Lc(5),o.kc(6,"number"),o.Wb(),o.Wb(),o.Wb()),2&e){var n=o.jc().$implicit,i=o.jc(4).$implicit,r=o.jc(3);o.Db(1),o.pc("matTooltip",n.payment_center),o.Db(2),o.Oc("",n.code," ",n.currency,""),o.Db(2),o.Mc(o.mc(6,4,r.priceObj[i.id].revenueVNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function F(e,t){if(1&e&&(o.Vb(0),o.Jc(1,N,7,7,"td",32),o.Ub()),2&e){var n=t.$implicit,i=o.jc(4).$implicit,r=o.jc(3);o.Db(1),o.pc("ngIf",r.priceObj[i.id].revenueVNPrice[n.code+n.currency+n.payment_center])}}function M(e,t){if(1&e&&(o.Vb(0),o.Jc(1,F,2,1,"ng-container",8),o.Ub()),2&e){var n=o.jc(6);o.Db(1),o.pc("ngForOf",n.priceHeader)}}function V(e,t){if(1&e&&(o.Xb(0,"td",33),o.Xb(1,"div",34),o.Xb(2,"span",35),o.Lc(3),o.Wb(),o.Xb(4,"span",36),o.Lc(5),o.kc(6,"number"),o.Wb(),o.Wb(),o.Wb()),2&e){var n=o.jc().$implicit,i=o.jc(4).$implicit,r=o.jc(3);o.Db(1),o.pc("matTooltip",n.payment_center),o.Db(2),o.Oc("",n.code," ",n.currency,""),o.Db(2),o.Mc(o.mc(6,4,r.priceObj[i.id].revenueNNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function T(e,t){if(1&e&&(o.Vb(0),o.Jc(1,V,7,7,"td",32),o.Ub()),2&e){var n=t.$implicit,i=o.jc(4).$implicit,r=o.jc(3);o.Db(1),o.pc("ngIf",r.priceObj[i.id].revenueNNPrice[n.code+n.currency+n.payment_center])}}function j(e,t){if(1&e&&(o.Vb(0),o.Jc(1,T,2,1,"ng-container",8),o.Ub()),2&e){var n=o.jc(6);o.Db(1),o.pc("ngForOf",n.priceHeader)}}function A(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",27),o.Xb(2,"div",4),o.Xb(3,"a",28),o.Lc(4),o.Wb(),o.Jc(5,S,2,1,"mat-icon",29),o.Wb(),o.Wb(),o.Xb(6,"td"),o.Lc(7),o.Wb(),o.Jc(8,I,3,2,"ng-container",8),o.Xb(9,"td"),o.Lc(10),o.Wb(),o.Xb(11,"td"),o.Lc(12),o.Wb(),o.Xb(13,"td"),o.Lc(14),o.Wb(),o.Xb(15,"td"),o.Lc(16),o.Wb(),o.Xb(17,"td"),o.Lc(18),o.Wb(),o.Xb(19,"td"),o.Lc(20),o.Wb(),o.Xb(21,"td"),o.Lc(22),o.Wb(),o.Xb(23,"td"),o.Lc(24),o.kc(25,"date"),o.Wb(),o.Xb(26,"td"),o.Lc(27),o.Wb(),o.Xb(28,"td",30),o.Jc(29,M,2,1,"ng-container",15),o.Wb(),o.Xb(30,"td",30),o.Jc(31,j,2,1,"ng-container",15),o.Wb(),o.Xb(32,"td"),o.Lc(33),o.Wb(),o.Xb(34,"td"),o.Lc(35),o.Wb(),o.Ub()),2&e){var n=o.jc().index,i=o.jc().$implicit,r=o.jc(3);o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(2),o.pc("routerLink","/apps/"+r.modul+"/shipment/book-detail/id/"+i.id+"/overview"),o.Db(1),o.Mc(i.book.code),o.Db(1),o.pc("ngIf",0==n),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.book.customer.short_name),o.Db(1),o.pc("ngForOf",r.contType),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.voyage.load_terminal_name),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.voyage.discharge_terminal_name),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.book.commodity),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(null==i.bookConfirm.empty_pick_up_depot?null:i.bookConfirm.empty_pick_up_depot.short_name),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.bookConfirm.code_company),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.bookConfirm.date),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.bookConfirm.book_number),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(o.mc(25,33,i.bookConfirm.closing_time_vgm,"MM/dd/yyyy HH:mm")),o.Db(2),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.bookConfirm.truck_name),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.pc("ngIf",r.revenueVNOpen),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.pc("ngIf",r.revenueNNOpen),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.name?i.name:i.user),o.Db(1),o.Eb("rowspan",i.bookConfirm.contArr.length),o.Db(1),o.Mc(i.book.create_by?i.book.create_by.name:i.user)}}var R=function(e){return{"text-strike red-A700-fg":e}};function P(e,t){if(1&e&&(o.Xb(0,"tr",25),o.Jc(1,O,18,15,"ng-container",15),o.Jc(2,A,36,36,"ng-container",15),o.Xb(3,"td"),o.Lc(4),o.Wb(),o.Xb(5,"td"),o.Lc(6),o.Wb(),o.Xb(7,"td"),o.Lc(8),o.Wb(),o.Xb(9,"td"),o.Lc(10),o.Wb(),o.Xb(11,"td"),o.Lc(12),o.Wb(),o.Xb(13,"td"),o.Lc(14),o.Wb(),o.Xb(15,"td",13),o.Xb(16,"a"),o.Lc(17),o.Wb(),o.Wb(),o.Xb(18,"td"),o.Lc(19),o.Wb(),o.Wb()),2&e){var n=t.$implicit,i=t.index,r=o.jc(),a=r.$implicit,c=r.index,b=o.jc(3);o.pc("ngClass",o.rc(11,R,b.time>a.voyage.depart_time)),o.Db(1),o.pc("ngIf",0==c&&0==i),o.Db(1),o.pc("ngIf",0==i),o.Db(2),o.Mc(n.seal),o.Db(2),o.Mc(n.note),o.Db(2),o.Mc(n.status),o.Db(2),o.Mc(n.description),o.Db(2),o.Mc(n.lift_on),o.Db(2),o.Mc(n.lift_off),o.Db(3),o.Mc(n.container),o.Db(2),o.Mc(n.type)}}function q(e,t){if(1&e&&(o.Vb(0),o.Jc(1,P,20,13,"tr",24),o.Ub()),2&e){var n=t.$implicit;o.Db(1),o.pc("ngForOf",n.bookConfirm.contArr)}}function z(e,t){if(1&e&&(o.Vb(0),o.Jc(1,q,2,1,"ng-container",8),o.Ub()),2&e){var n=t.$implicit,i=o.jc(2);o.Db(1),o.pc("ngForOf",i.dataVessel[n].shipment)}}function J(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"tr"),o.Xb(2,"td",23),o.Lc(3),o.Wb(),o.Wb(),o.Jc(4,z,2,1,"ng-container",8),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Eb("colspan",2),o.Db(1),o.Mc(n),o.Db(1),o.pc("ngForOf",i.voyage[n])}}function B(e,t){1&e&&o.Sb(0,"td")}function H(e,t){1&e&&o.Sb(0,"td")}function E(e,t){if(1&e&&(o.Vb(0),o.Xb(1,"td",37),o.Lc(2),o.Wb(),o.Ub()),2&e){var n=t.$implicit,i=o.jc();o.Db(2),o.Mc(i.total[n])}}var $=function(){var e=function(){function e(t,n,r,a){_classCallCheck(this,e),this.router=t,this.route=n,this._activatedRoute=r,this.authService=a,this.openModal=new o.o,this.editRemark=new o.o,this.openVessel=new o.o,this.revenueVNOpen=!1,this.revenueNNOpen=!1,this.vesselOpen=!1,this.time=(new Date).getTime(),this._unsubscribeAll=new i.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(c.g),o.Rb(c.a),o.Rb(c.a),o.Rb(b.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["bookings-container"]],viewQuery:function(e,t){var n;1&e&&o.Sc(a.e,!0),2&e&&o.wc(n=o.gc())&&(t.viewPort=n.first)},inputs:{dataVessel:"dataVessel",voyage:"voyage",sptRouter:"sptRouter",contType:"contType",height:"height",permission:"permission",total:"total",priceHeader:"priceHeader",priceObj:"priceObj",modul:"modul",remarkVessel:"remarkVessel"},outputs:{openModal:"openModal",editRemark:"editRemark",openVessel:"openVessel"},decls:99,vars:71,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","book-table"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"cursor-pointer",3,"click"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],[1,"sticky-right-col"],[1,"sticky-col1","text-bold"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-book-text","hint-text"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[1,"text-center"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[1,"text-bold","sticky-col1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"mb-4"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink"],["class","cursor-pointer","color","accent",3,"matTooltip","click",4,"ngIf"],[2,"padding","0px !important"],["color","accent",1,"cursor-pointer",3,"matTooltip","click"],["style","padding: 4px !important; border: none","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px !important","border","none"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-bold","text-center"]],template:function(e,t){1&e&&(o.Jc(0,d,3,1,"div",0),o.Xb(1,"div",1),o.Xb(2,"cdk-virtual-scroll-viewport",2),o.Xb(3,"table",3),o.Xb(4,"thead"),o.Xb(5,"tr"),o.Xb(6,"th"),o.Lc(7,"No"),o.Wb(),o.Xb(8,"th"),o.Xb(9,"div",4),o.Xb(10,"span"),o.Lc(11,"Vessel Voyage"),o.Wb(),o.Jc(12,g,2,0,"mat-icon",5),o.Jc(13,h,2,0,"mat-icon",6),o.Wb(),o.Wb(),o.Xb(14,"th"),o.Lc(15,"ETD"),o.Wb(),o.Jc(16,v,2,2,"th",7),o.Jc(17,k,2,2,"th",7),o.Xb(18,"th"),o.Lc(19,"Remark"),o.Wb(),o.Jc(20,y,3,3,"ng-container",8),o.Xb(21,"th",9),o.Lc(22,"Code"),o.Wb(),o.Xb(23,"th"),o.Lc(24,"Customer"),o.Wb(),o.Jc(25,x,3,3,"ng-container",8),o.Xb(26,"th"),o.Lc(27,"Load terminal"),o.Wb(),o.Xb(28,"th"),o.Lc(29,"Discharge terminal"),o.Wb(),o.Xb(30,"th"),o.Lc(31,"Commodity"),o.Wb(),o.Xb(32,"th"),o.Lc(33,"Pick-up Depot"),o.Wb(),o.Xb(34,"th"),o.Lc(35,"Code company"),o.Wb(),o.Xb(36,"th"),o.Lc(37,"Date"),o.Wb(),o.Xb(38,"th"),o.Lc(39,"Booking Number"),o.Wb(),o.Xb(40,"th"),o.Lc(41,"Closing time(VGM)"),o.Wb(),o.Xb(42,"th"),o.Lc(43,"Truck Plate"),o.Wb(),o.Xb(44,"th",10),o.fc("click",(function(e){return e.stopPropagation(),t.revenueVNOpen=!t.revenueVNOpen})),o.Xb(45,"div",4),o.Xb(46,"span"),o.Lc(47,"REV VN"),o.Wb(),o.Jc(48,X,2,0,"mat-icon",11),o.Jc(49,W,2,0,"mat-icon",12),o.Wb(),o.Wb(),o.Xb(50,"th",10),o.fc("click",(function(e){return e.stopPropagation(),t.revenueNNOpen=!t.revenueNNOpen})),o.Xb(51,"div",4),o.Xb(52,"span"),o.Lc(53,"REV NN"),o.Wb(),o.Jc(54,D,2,0,"mat-icon",11),o.Jc(55,L,2,0,"mat-icon",12),o.Wb(),o.Wb(),o.Xb(56,"th"),o.Lc(57,"Owner"),o.Wb(),o.Xb(58,"th"),o.Lc(59,"Create by"),o.Wb(),o.Xb(60,"th"),o.Lc(61,"Seal"),o.Wb(),o.Xb(62,"th"),o.Lc(63,"Remark"),o.Wb(),o.Xb(64,"th"),o.Lc(65,"Status"),o.Wb(),o.Xb(66,"th"),o.Lc(67,"Description"),o.Wb(),o.Xb(68,"th"),o.Lc(69,"Lift_on"),o.Wb(),o.Xb(70,"th"),o.Lc(71,"Lift_off"),o.Wb(),o.Xb(72,"th",13),o.Lc(73,"Container"),o.Wb(),o.Xb(74,"th"),o.Lc(75,"Type"),o.Wb(),o.Wb(),o.Wb(),o.Xb(76,"tbody"),o.Jc(77,J,5,3,"ng-container",8),o.Wb(),o.Xb(78,"tfoot"),o.Xb(79,"tr"),o.Sb(80,"td"),o.Xb(81,"td",14),o.Lc(82,"Total"),o.Wb(),o.Sb(83,"td"),o.Jc(84,B,1,0,"td",15),o.Jc(85,H,1,0,"td",15),o.Sb(86,"td"),o.Jc(87,E,3,1,"ng-container",8),o.Sb(88,"td"),o.Sb(89,"td"),o.Sb(90,"td"),o.Sb(91,"td"),o.Sb(92,"td"),o.Sb(93,"td"),o.Sb(94,"td"),o.Sb(95,"td"),o.Sb(96,"td"),o.Sb(97,"td"),o.Sb(98,"td"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.pc("ngIf",0===t.sptRouter.length),o.Db(1),o.Ic("height",t.height,"px"),o.Db(1),o.Ic("height",t.height,"px"),o.Db(4),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngIf",!t.vesselOpen),o.Db(1),o.pc("ngIf",t.vesselOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.pc("ngIf",t.vesselOpen),o.Db(1),o.pc("ngIf",t.vesselOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.pc("ngForOf",t.contType),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngForOf",t.contType),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngIf",!t.revenueVNOpen),o.Db(1),o.pc("ngIf",t.revenueVNOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(4),o.pc("ngIf",!t.revenueNNOpen),o.Db(1),o.pc("ngIf",t.revenueNNOpen),o.Db(1),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(2),o.Ic("top",t.inverseOfTranslation),o.Db(3),o.pc("ngForOf",t.sptRouter),o.Db(7),o.pc("ngIf",t.vesselOpen),o.Db(1),o.pc("ngIf",t.vesselOpen),o.Db(2),o.pc("ngForOf",t.contType))},directives:[s.t,a.e,l.a,u.d,u.c,s.s,u.e,p.a,s.q,f.a,c.j,m.a],pipes:[s.f,s.g],styles:["bookings-container .no-book-text{font-size:24px;font-weight:300}bookings-container cdk-virtual-scroll-viewport{width:100%}bookings-container .book-table{font-size:12px;border-collapse:collapse}bookings-container .book-table td,bookings-container .book-table th{padding:8px!important;white-space:nowrap}bookings-container .book-table td{border-top:1px solid #000!important;border-bottom:1px solid #000!important}bookings-container .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}bookings-container .book-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}bookings-container .book-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}bookings-container .book-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}bookings-container .book-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}bookings-container .book-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2,data:{animation:r.a}}),e}()}}]);