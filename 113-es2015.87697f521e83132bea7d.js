(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{fY45:function(t,e,o){"use strict";o.r(e);var i=o("tyNb"),n=o("5HBU"),a=o("STbY"),r=o("/1cH"),c=o("iadO"),b=o("bTqV"),l=o("7EHt"),s=o("kmnG"),m=o("NFeN"),d=o("Qu3c"),p=o("qFsG"),u=o("wZkO"),h=o("d3UM"),f=o("QibW"),g=o("0IaG"),v=o("/t3+"),k=o("bSwM"),y=o("M9IT"),W=o("xHqg"),X=o("A5z7"),x=o("bv9b"),D=o("XhcP"),_=o("FKr1"),L=o("1jcm"),w=o("+0xr"),S=o("Dh3D"),C=o("IOBc"),B=o("212X"),O=o("vxfF"),F=o("cfqv"),A=o("LPQX"),I=o("XNiG"),M=o("1G5W"),j=o("PVWW"),q=o("fXoL"),P=o("HX77"),N=o("qXBG"),J=o("lJxs"),V=o("2Vo4"),T=o("tk/3"),E=o("I/3d");let z=(()=>{class t{constructor(t,e,o,i){this.router=t,this.db=e,this.authService=o,this._httpClient=i,this.modul="pacific-logistics-network",this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.onVoyageChanged=new V.a([]),this.onShipmentChanged=new V.a(null),this.onDataChanged=new V.a([]),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}resolve(t){return this.authService.routerData=t,new Promise((t,e)=>{Promise.all([this.getData(),this.getVoyage()]).then(([])=>{t()},e)})}getData(){let t={headers:new T.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,o)=>{this._httpClient.get(this.authService.apiUrl+"/pln/book/data",t).subscribe(t=>{this.partner=t[0],this.seaport=t[1],this.user=t[2],this.commodity=t[3],this.packageType=t[4],this.price=t[5],this.unit=t[6],this.currency=t[7],this.country=t[8],this.seaTerminal=t[9],this.onDataChanged.next(t),e(t)},o)})}getVoyage(t){let e={headers:new T.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},o="/pln/book/voyage/"+(t?1:0);return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+o,e).subscribe(e=>{this.voyage=e,this.onVoyageChanged.next(e),t(e)},i)})}writeDatabaseBooking(t,e){this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(t).set(e)}readDatabaseBooking(){return this.bookingCollection=this.db.collection("pln-booking-draft"),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(J.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))),this.booking}readDatabaseBookingByUser(t){return this.bookingCollection=this.db.collection("pln-booking-draft",e=>e.where("user","==",t)),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(J.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))),this.booking}getDatabaseBookingById(t){return this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(t).valueChanges()}updateDatabaseBookingById(t,e){this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(t).set(e)}deleteDatabaseBookingById(t){this.bookingDoc=this.db.doc("pln-booking-draft/"+t),this.bookingDoc.delete()}updateBookingConfirm(t,e){let o=e.book,i=e.voyage,n=o.volume.map(t=>t.commodity.name);n=n.filter((t,e,o)=>o.indexOf(t)===e);let a,r,c,b=n.join(",");i.closing_time||(i.closing_time=i.depart_time-864e5),a=null,r="All containers in clean, sound and cargo worthy condition",c="Vui l\xf2ng li\xean h\u1ec7 c\u1ea5p cont r\u1ed7ng qua mail legend@pln.vn v\xe0 com@pln.vn, l\u1ea5y seal t\u1ea1i b\xe3i c\u1ea5p v\u1ecf container";let l="";o.volume.map(t=>{l+=this.calculateTotal(t.cont_type.code,o.volume)+"x"+t.cont_type.code+" "}),i.closing_time||(i.closing_time=i.depart_time-864e5),e.bookConfirm={book_number:o.code,shipper:o.customer,agent:o.agent,volume:o.volume,commodity:b,empty_pick_up_depot:o.empty_pick_up_depot?o.empty_pick_up_depot:null,place_of_stuffing:o.place_of_stuffing?o.place_of_stuffing:null,closing_time_vgm:o.closing_time_vgm?o.closing_time_vgm:null,return_laden_cont:i.load_terminal_name,clcv:o.clcv?o.clcv:null,note:o.note?o.note:"All containers in clean, sound and cargo worthy condition",contact_note:o.contact_note?o.contact_note:"Vui l\xf2ng li\xean h\u1ec7 c\u1ea5p cont r\u1ed7ng qua mail legend@pln.vn v\xe0 com@pln.vn, l\u1ea5y seal t\u1ea1i b\xe3i c\u1ea5p v\u1ecf container",pol:o.pol,pot:o.pot?o.pot.name:null,pod:o.pod,voyage:{pol:i.load_port_name,pod:i.discharge_port_name,load_terminal:i.load_terminal_name,discharge_terminal:i.discharge_terminal_name,vessel:i.vessel_name,voyage:i.name,closing_time:i.closing_time,etd:i.depart_time,eta:i.arrive_time},lcv_note:o.lcv_note?o.lcv_note:null,lcv_volume:l,truck_name:o.truck_name?o.truck_name:null,truck_number:o.truck_number?o.truck_number:null,valid:o.valid?o.valid:null,valid_time:o.valid_time?o.valid_time:null,code_company:o.code_company?o.code_company:""},this.updateDatabaseBookingById(t,e)}calculateTotal(t,e){let o=0;return e.map(e=>{e.cont_type.code==t&&(o+=e.quantity)}),o}}return t.\u0275fac=function(e){return new(e||t)(q.bc(i.g),q.bc(E.a),q.bc(N.a),q.bc(T.a))},t.\u0275prov=q.Nb({token:t,factory:t.\u0275fac}),t})();var H=o("B9zo"),R=o("ofXK"),$=o("fE3o"),G=o("0JVi"),U=o("XiUz"),Y=o("znSr");function Q(t,e){if(1&t){const t=q.Yb();q.Xb(0,"button",8),q.fc("click",(function(e){q.Bc(t);const o=q.jc();return e.stopPropagation(),o.changeScreen(!0)})),q.Xb(1,"mat-icon"),q.Lc(2,"flip_to_front"),q.Wb(),q.Wb()}}function Z(t,e){if(1&t){const t=q.Yb();q.Xb(0,"button",8),q.fc("click",(function(e){q.Bc(t);const o=q.jc();return e.stopPropagation(),o.changeScreen(!1)})),q.Xb(1,"mat-icon"),q.Lc(2,"flip_to_back"),q.Wb(),q.Wb()}}let K=(()=>{class t{constructor(t,e){this.authService=t,this._fuseConfigService=e,this.fullScreen=!1,this.toggleSidebar=new q.o,this.showHideBar=new q.o,this.refreshPage=new q.o,this._unsubscribeAll=new I.a}ngOnInit(){}changeScreen(t){this.fullScreen=t,this.authService.changeScreen.next(t),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return t.\u0275fac=function(e){return new(e||t)(q.Rb(N.a),q.Rb(G.b))},t.\u0275cmp=q.Lb({type:t,selectors:[["shipment-book-form-header"]],inputs:{sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:23,vars:2,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"]],template:function(t,e){1&t&&(q.Xb(0,"mat-toolbar",0),q.Xb(1,"div",1),q.Xb(2,"div",2),q.Xb(3,"div",3),q.Xb(4,"button",4),q.fc("click",(function(t){return e.toggleSidebar.emit(e.sidebarName)})),q.Xb(5,"mat-icon"),q.Lc(6,"menu"),q.Wb(),q.Wb(),q.Xb(7,"button",5),q.fc("click",(function(t){return e.showHideBar.emit()})),q.Xb(8,"mat-icon"),q.Lc(9,"menu"),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Xb(10,"div",6),q.Sb(11,"div",7),q.Xb(12,"button",8),q.fc("click",(function(t){return t.stopPropagation(),e.refreshPage.emit()})),q.Xb(13,"mat-icon",9),q.Lc(14,"refresh"),q.Wb(),q.Wb(),q.Sb(15,"div",7),q.Jc(16,Q,3,0,"button",10),q.Jc(17,Z,3,0,"button",10),q.Sb(18,"div",7),q.Xb(19,"button",8),q.fc("click",(function(t){return e.toggleSidebar.emit("bookings-form-setting")})),q.Xb(20,"mat-icon"),q.Lc(21,"settings"),q.Wb(),q.Wb(),q.Sb(22,"div",7),q.Wb(),q.Wb(),q.Wb()),2&t&&(q.Db(16),q.pc("ngIf",!e.fullScreen),q.Db(1),q.pc("ngIf",e.fullScreen))},directives:[v.a,U.b,U.e,U.d,U.c,b.b,Y.b,m.a,R.t],styles:["shipment-book-form-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-book-form-header.below{z-index:2}shipment-book-form-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-book-form-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}shipment-book-form-header .logo .logo-icon{width:38px}shipment-book-form-header .chat-panel-toggle-button,shipment-book-form-header .language-button,shipment-book-form-header .quick-panel-toggle-button,shipment-book-form-header .user-button,shipment-book-form-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){shipment-book-form-header .chat-panel-toggle-button,shipment-book-form-header .language-button,shipment-book-form-header .quick-panel-toggle-button,shipment-book-form-header .user-button,shipment-book-form-header fuse-search-bar{height:56px}}shipment-book-form-header .navbar-toggle-button{min-width:56px;height:56px}shipment-book-form-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-book-form-header .toolbar-separator{height:56px}}"],encapsulation:2}),t})();var tt=o("3Pt+"),et=o("EwFO");const ot=["formDirective"];let it=(()=>{class t{constructor(t){this.formBuilder=t,this.form=this.formBuilder.group({valid:[null]})}ngOnInit(){}resetForm(){this.searchNgForm.resetForm()}onSearchFormSubmit(t){}}return t.\u0275fac=function(e){return new(e||t)(q.Rb(tt.d))},t.\u0275cmp=q.Lb({type:t,selectors:[["shipment-book-form-sidebar"]],viewQuery:function(t,e){var o;1&t&&q.Sc(ot,!0),2&t&&q.wc(o=q.gc())&&(e.searchNgForm=o.first)},inputs:{height:"height"},decls:19,vars:5,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["formControlName","valid"],[3,"value"]],template:function(t,e){1&t&&(q.Xb(0,"form",0,1),q.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onSearchFormSubmit(e.form.value)})),q.Xb(2,"div",2),q.Xb(3,"div",3),q.Xb(4,"button",4),q.fc("click",(function(t){return e.resetForm()})),q.Lc(5," Reset "),q.Wb(),q.Wb(),q.Wb(),q.Xb(6,"div",5),q.Xb(7,"div",6),q.Xb(8,"div",7),q.Xb(9,"div",8),q.Xb(10,"div",9),q.Xb(11,"mat-form-field",10),q.Xb(12,"mat-label"),q.Lc(13,"Valid"),q.Wb(),q.Xb(14,"mat-select",11),q.Xb(15,"mat-option",12),q.Lc(16,"Invalid"),q.Wb(),q.Xb(17,"mat-option",12),q.Lc(18,"Valid"),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t&&(q.pc("formGroup",e.form),q.Db(6),q.Ic("height",e.height,"px"),q.Db(9),q.pc("value",0),q.Db(2),q.pc("value",0))},directives:[tt.A,tt.q,tt.h,U.d,U.c,b.b,U.b,et.a,s.c,s.f,h.a,tt.p,tt.g,_.n],styles:["shipment-book-form-sidebar{border-right:1px solid #a3a3a3}shipment-book-form-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-book-form-sidebar .navbar-scroll-container{background:#fff!important}shipment-book-form-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-11px;left:8px;margin:0;padding:0 8px;font-size:16px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-book-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();function nt(t,e){if(1&t&&(q.Xb(0,"fuse-sidebar",8),q.Sb(1,"shipment-book-form-sidebar",9),q.Wb()),2&t){const t=q.jc();q.Db(1),q.pc("height",t.height)}}function at(t,e){1&t&&q.Sb(0,"router-outlet")}let rt=(()=>{class t{constructor(t,e,o,i,n){this._fuseSidebarService=t,this.route=e,this.router=o,this.authService=i,this.shipmentService=n,this.sidebarPanel=!1,this.height=560,this._unsubscribeAll=new I.a,this.bookId=this.shipmentService.bookId=this.route.snapshot.params.bookId,this._unsubscribeAll=new I.a,this.shipmentService.readDatabaseBooking().subscribe(t=>{this.bookingfb=t.slice(),0==this.bookId?this.shipmentService.onShipmentChanged.next(null):(this.data=this.bookingfb.find(t=>t.id==this.bookId),this.shipmentService.onShipmentChanged.next(this.data))})}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-12}),this.authService.changeScreen.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}refreshPage(t){this.authService.refreshData(this.shipmentService)}newContainer(t){this.router.navigate(["/apps/news/shipment-book-form/form/0"])}}return t.\u0275fac=function(e){return new(e||t)(q.Rb(P.a),q.Rb(i.a),q.Rb(i.g),q.Rb(N.a),q.Rb(z))},t.\u0275cmp=q.Lb({type:t,selectors:[["shipment-book-form"]],decls:9,vars:3,consts:[["id","shipment",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-book-form-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","shipment-book-form-setting","position","right",1,"sidebar"],[1,"content"],[1,"center","mr-0","ml-0"],[3,"sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content-card",2,"border","none","border-radius","0"],[4,"ngIf"],["name","shipment-book-form-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"height"]],template:function(t,e){1&t&&(q.Xb(0,"div",0),q.Jc(1,nt,2,1,"fuse-sidebar",1),q.Xb(2,"fuse-sidebar",2),q.Sb(3,"div",3),q.Wb(),q.Xb(4,"div",4),q.Xb(5,"shipment-book-form-header",5),q.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),q.Wb(),q.Xb(6,"div",6),q.Xb(7,"div",3),q.Jc(8,at,1,0,"router-outlet",7),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t&&(q.Db(1),q.pc("ngIf",e.sidebarPanel),q.Db(4),q.pc("sidebarName","shipment-book-form-sidebar"),q.Db(3),q.pc("ngIf",!0))},directives:[H.a,R.t,$.a,K,it,i.l],styles:["shipment-book-form{width:100%}shipment-book-form .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){shipment-book-form .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}shipment-book-form .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-book-form .center .content-card shipment-book-form{border-right:0}shipment-book-form .center .content-card shipment-book-form,shipment-book-form .center .content-card shipment-details{-webkit-box-flex:1;flex:1 0 100%}shipment-book-form .center .content-card shipment-details{display:none!important}shipment-book-form .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-book-form .center .content-card.current-shipment-selected .content shipment-book-form,shipment-book-form .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-book-form .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:j.a}}),t})();var ct=o("JX91"),bt=o("qPk3"),lt=o("0Zc1");const st=["formDirective"];function mt(t,e){1&t&&q.Lc(0,"Fill your info")}function dt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Booking number is required!"),q.Wb())}function pt(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Mc(t)}}function ut(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function ht(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," Owner is required "),q.Wb())}function ft(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function gt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," Create by by is required "),q.Wb())}function vt(t,e){if(1&t&&(q.Xb(0,"mat-option",54),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc("",t.full_name," ")}}function kt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Customer is required!"),q.Wb())}function yt(t,e){if(1&t&&(q.Xb(0,"mat-option",54),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc("",t.full_name," ")}}function Wt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Principal is required!"),q.Wb())}function Xt(t,e){if(1&t&&(q.Xb(0,"mat-option",54),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc("",t.full_name," ")}}function xt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Agent is required!"),q.Wb())}function Dt(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function _t(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Port of loading is required!"),q.Wb())}function Lt(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function wt(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function St(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1,"Port of discharge is required!"),q.Wb())}function Ct(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," From Date is required "),q.Wb())}function Bt(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," To Date is required "),q.Wb())}function Ot(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Nc(" ",t.name," ")}}function Ft(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," Commodity is required "),q.Wb())}function At(t,e){if(1&t&&(q.Xb(0,"mat-option",53),q.Lc(1),q.Wb()),2&t){const t=e.$implicit;q.pc("value",t),q.Db(1),q.Mc(t.code)}}function It(t,e){1&t&&(q.Xb(0,"mat-error"),q.Lc(1," Container type is required "),q.Wb())}function Mt(t,e){if(1&t){const t=q.Yb();q.Xb(0,"button",63),q.fc("click",(function(e){q.Bc(t);const o=q.jc().index;return q.jc().removeVolume(o)})),q.Xb(1,"mat-icon"),q.Lc(2,"delete"),q.Wb(),q.Wb()}}function jt(t,e){if(1&t){const t=q.Yb();q.Xb(0,"button",64),q.fc("click",(function(e){return q.Bc(t),q.jc(2).addVolume()})),q.Xb(1,"mat-icon"),q.Lc(2,"add"),q.Wb(),q.Wb()}}function qt(t,e){if(1&t&&(q.Xb(0,"div",55),q.Xb(1,"mat-form-field",21),q.Xb(2,"mat-label"),q.Lc(3,"Commodity"),q.Wb(),q.Sb(4,"input",56),q.Xb(5,"mat-autocomplete",17,57),q.Jc(7,Ot,2,2,"mat-option",15),q.kc(8,"async"),q.Wb(),q.Jc(9,Ft,2,0,"mat-error",12),q.Wb(),q.Xb(10,"mat-form-field",30),q.Xb(11,"mat-label"),q.Lc(12,"Qty"),q.Wb(),q.Sb(13,"input",58),q.Wb(),q.Xb(14,"mat-form-field",30),q.Xb(15,"mat-label"),q.Lc(16,"Container type"),q.Wb(),q.Xb(17,"mat-select",59),q.Jc(18,At,2,2,"mat-option",15),q.Wb(),q.Jc(19,It,2,0,"mat-error",12),q.Wb(),q.Xb(20,"div",60),q.Jc(21,Mt,3,0,"button",61),q.Jc(22,jt,3,0,"button",62),q.Wb(),q.Wb()),2&t){const t=e.index,o=q.xc(6),i=q.jc();q.pc("formGroupName",t),q.Db(4),q.pc("matAutocomplete",o),q.Db(1),q.pc("displayWith",i.commonService.displayObjFn.bind(i,"name")),q.Db(2),q.pc("ngForOf",q.lc(8,9,i.filteredCommodity[t])),q.Db(2),q.pc("ngIf",i.formBook.controls.volume.controls[t].get("commodity").hasError("required")),q.Db(9),q.pc("ngForOf",i.packageType),q.Db(1),q.pc("ngIf",i.formBook.controls.volume.controls[t].get("cont_type").hasError("required")),q.Db(2),q.pc("ngIf",t>0),q.Db(1),q.pc("ngIf",i.formBook.controls.volume.value.length==t+1)}}function Pt(t,e){1&t&&q.Lc(0,"Voyage")}function Nt(t,e){if(1&t){const t=q.Yb();q.Xb(0,"tr"),q.Xb(1,"td",71),q.Lc(2),q.Wb(),q.Xb(3,"td",72),q.Lc(4),q.Wb(),q.Xb(5,"td"),q.Lc(6),q.Wb(),q.Xb(7,"td"),q.Lc(8),q.kc(9,"date"),q.Wb(),q.Xb(10,"td"),q.Lc(11),q.kc(12,"date"),q.Wb(),q.Xb(13,"td"),q.Lc(14),q.Wb(),q.Xb(15,"td"),q.Lc(16),q.Wb(),q.Xb(17,"td"),q.Lc(18),q.kc(19,"date"),q.Wb(),q.Xb(20,"td"),q.Lc(21),q.Wb(),q.Xb(22,"td"),q.Lc(23),q.Wb(),q.Xb(24,"td"),q.Lc(25),q.Wb(),q.Xb(26,"td",69),q.Xb(27,"button",52),q.fc("click",(function(o){q.Bc(t);const i=e.$implicit,n=q.jc(2),a=q.xc(3);return n.getBook(a,i)})),q.Lc(28," Book "),q.Wb(),q.Wb(),q.Wb()}if(2&t){const t=e.$implicit,o=e.index;q.Db(2),q.Mc(o+1),q.Db(2),q.Oc("",t.vessel_name," ",t.name,""),q.Db(2),q.Mc(t.partner_short_name),q.Db(2),q.Mc(q.mc(9,12,t.closing_time,"MMM/dd HH:mm")),q.Db(3),q.Mc(q.mc(12,15,t.depart_time,"EEE MMM/dd/yyyy HH:mm")),q.Db(3),q.Mc(t.load_port_name),q.Db(2),q.Mc(t.load_terminal_name),q.Db(2),q.Mc(q.mc(19,18,t.arrive_time,"EEE MMM/dd/yyyy HH:mm")),q.Db(3),q.Mc(t.discharge_port_name),q.Db(2),q.Mc(t.discharge_terminal_name),q.Db(2),q.Mc(t.transit_time)}}function Jt(t,e){if(1&t&&(q.Xb(0,"div",65),q.Xb(1,"table",66),q.Xb(2,"thead"),q.Xb(3,"tr"),q.Xb(4,"th",67),q.Lc(5,"No"),q.Wb(),q.Xb(6,"th",68),q.Lc(7,"Vessel/Voyage"),q.Wb(),q.Xb(8,"th"),q.Lc(9,"Partner"),q.Wb(),q.Xb(10,"th"),q.Lc(11,"Closing time"),q.Wb(),q.Xb(12,"th"),q.Lc(13,"Depart time"),q.Wb(),q.Xb(14,"th"),q.Lc(15,"Port of Loading"),q.Wb(),q.Xb(16,"th"),q.Lc(17,"Load Terminal"),q.Wb(),q.Xb(18,"th"),q.Lc(19,"Arrive time"),q.Wb(),q.Xb(20,"th"),q.Lc(21,"Port of discharge"),q.Wb(),q.Xb(22,"th"),q.Lc(23,"Discharge terminal"),q.Wb(),q.Xb(24,"th"),q.Lc(25,"Transit time"),q.Wb(),q.Sb(26,"th",69),q.Wb(),q.Wb(),q.Xb(27,"tbody"),q.Jc(28,Nt,29,21,"tr",70),q.Wb(),q.Wb(),q.Wb()),2&t){const t=q.jc();q.Db(28),q.pc("ngForOf",t.filterVoyage)}}function Vt(t,e){1&t&&q.Lc(0,"Selling rate")}function Tt(t,e){if(1&t){const t=q.Yb();q.Xb(0,"tr"),q.Xb(1,"td",71),q.Lc(2),q.Wb(),q.Xb(3,"td",72),q.Lc(4),q.Wb(),q.Xb(5,"td"),q.Lc(6),q.Wb(),q.Xb(7,"td"),q.Lc(8),q.Wb(),q.Xb(9,"td"),q.Lc(10),q.kc(11,"number"),q.Wb(),q.Xb(12,"td"),q.Lc(13),q.Wb(),q.Xb(14,"td"),q.Lc(15),q.Wb(),q.Xb(16,"td"),q.Lc(17),q.kc(18,"number"),q.Wb(),q.Xb(19,"td"),q.Lc(20),q.Wb(),q.Xb(21,"td",69),q.Xb(22,"mat-icon",73),q.fc("click",(function(o){q.Bc(t);const i=e.$implicit,n=e.index;return q.jc(2).openModal([i,n])})),q.Lc(23,"edit"),q.Wb(),q.Xb(24,"mat-icon",74),q.fc("click",(function(o){q.Bc(t);const i=e.index;return q.jc(2).deleteRevenue(i)})),q.Lc(25,"delete"),q.Wb(),q.Wb(),q.Wb()}if(2&t){const t=e.$implicit,o=e.index;q.Db(2),q.Mc(o+1),q.Db(2),q.Mc(null==t.price?null:t.price.name),q.Db(2),q.Mc(null==t.price?null:t.price.unit_code),q.Db(2),q.Mc(t.volume),q.Db(2),q.Mc(q.mc(11,9,t.amount,"VND"!=t.currency.code?"1.2-2":"1.0-0")),q.Db(3),q.Mc(t.tax),q.Db(2),q.Mc(null==t.currency?null:t.currency.code),q.Db(2),q.Mc(q.mc(18,12,t.ex_rate,"1.2-2")),q.Db(3),q.Mc(null==t.payment_center?null:t.payment_center.name)}}function Et(t,e){if(1&t){const t=q.Yb();q.Xb(0,"div",65),q.Xb(1,"table",66),q.Xb(2,"thead"),q.Xb(3,"tr"),q.Xb(4,"th",71),q.Lc(5,"No"),q.Wb(),q.Xb(6,"th",72),q.Lc(7,"Price"),q.Wb(),q.Xb(8,"th"),q.Lc(9,"Unit"),q.Wb(),q.Xb(10,"th"),q.Lc(11,"Volume"),q.Wb(),q.Xb(12,"th"),q.Lc(13,"Amount"),q.Wb(),q.Xb(14,"th"),q.Lc(15,"Tax(%)"),q.Wb(),q.Xb(16,"th"),q.Lc(17,"Currency"),q.Wb(),q.Xb(18,"th"),q.Lc(19,"Ex rate"),q.Wb(),q.Xb(20,"th"),q.Lc(21,"Payment_center"),q.Wb(),q.Xb(22,"th",69),q.Xb(23,"mat-icon",73),q.fc("click",(function(e){return q.Bc(t),q.jc().openModal()})),q.Lc(24,"add"),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Xb(25,"tbody"),q.Jc(26,Tt,26,15,"tr",70),q.Wb(),q.Wb(),q.Wb()}if(2&t){const t=q.jc();q.Db(26),q.pc("ngForOf",t.booking.revenue.sell)}}function zt(t,e){1&t&&q.Lc(0,"Save booking")}function Ht(t,e){if(1&t&&(q.Xb(0,"div",75),q.Xb(1,"h2"),q.Lc(2,"Book info"),q.Wb(),q.Xb(3,"div",76),q.Xb(4,"div",77),q.Xb(5,"div",78),q.Xb(6,"div",79),q.Lc(7,"Booking number"),q.Wb(),q.Xb(8,"div",80),q.Lc(9),q.Wb(),q.Wb(),q.Wb(),q.Xb(10,"div",77),q.Xb(11,"div",78),q.Xb(12,"div",79),q.Lc(13,"Status"),q.Wb(),q.Xb(14,"div",80),q.Lc(15),q.Wb(),q.Wb(),q.Wb(),q.Xb(16,"div",81),q.Xb(17,"div",78),q.Xb(18,"div",79),q.Lc(19,"Customer"),q.Wb(),q.Xb(20,"div",80),q.Lc(21),q.Wb(),q.Wb(),q.Wb(),q.Xb(22,"div",81),q.Xb(23,"div",78),q.Xb(24,"div",79),q.Lc(25,"Principal"),q.Wb(),q.Xb(26,"div",80),q.Lc(27),q.Wb(),q.Wb(),q.Wb(),q.Xb(28,"div",81),q.Xb(29,"div",78),q.Xb(30,"div",79),q.Lc(31,"Agent"),q.Wb(),q.Xb(32,"div",80),q.Lc(33),q.Wb(),q.Wb(),q.Wb(),q.Xb(34,"div",77),q.Xb(35,"div",78),q.Xb(36,"div",79),q.Lc(37,"Port of loading"),q.Wb(),q.Xb(38,"div",80),q.Lc(39),q.Wb(),q.Wb(),q.Wb(),q.Xb(40,"div",77),q.Xb(41,"div",78),q.Xb(42,"div",79),q.Lc(43,"Port of transit"),q.Wb(),q.Xb(44,"div",80),q.Lc(45),q.Wb(),q.Wb(),q.Wb(),q.Xb(46,"div",81),q.Xb(47,"div",78),q.Xb(48,"div",79),q.Lc(49,"Port of discharge"),q.Wb(),q.Xb(50,"div",80),q.Lc(51),q.Wb(),q.Wb(),q.Wb(),q.Xb(52,"div",81),q.Xb(53,"div",78),q.Xb(54,"div",79),q.Lc(55,"Owner"),q.Wb(),q.Xb(56,"div",80),q.Lc(57),q.Wb(),q.Wb(),q.Wb(),q.Xb(58,"div",81),q.Xb(59,"div",78),q.Xb(60,"div",79),q.Lc(61,"Create_by"),q.Wb(),q.Xb(62,"div",80),q.Lc(63),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t){const t=q.jc();q.Db(9),q.Mc(t.booking.book.code),q.Db(6),q.Mc(0==t.booking.book.status?"Invalid":"Valid"),q.Db(6),q.Mc(t.booking.book.customer.full_name),q.Db(6),q.Mc(t.booking.book.principal.full_name),q.Db(6),q.Mc(t.booking.book.agent?t.booking.book.agent.full_name:""),q.Db(6),q.Mc(t.booking.book.pol.name),q.Db(6),q.Mc(t.booking.book.pot?t.booking.book.pot.name:""),q.Db(6),q.Mc(t.booking.book.pod.name),q.Db(6),q.Mc(t.booking.book.owner?t.booking.book.owner.name:""),q.Db(6),q.Mc(t.booking.book.create_by?t.booking.book.create_by.name:"")}}function Rt(t,e){if(1&t&&(q.Xb(0,"div",75),q.Xb(1,"h2"),q.Lc(2,"Voyage"),q.Wb(),q.Xb(3,"div",76),q.Xb(4,"div",82),q.Xb(5,"div",78),q.Xb(6,"div",79),q.Lc(7,"Partner"),q.Wb(),q.Xb(8,"div",80),q.Lc(9),q.Wb(),q.Wb(),q.Wb(),q.Xb(10,"div",83),q.Xb(11,"div",78),q.Xb(12,"div",79),q.Lc(13,"Vessel/Voyage"),q.Wb(),q.Xb(14,"div",80),q.Lc(15),q.Wb(),q.Wb(),q.Wb(),q.Xb(16,"div",83),q.Xb(17,"div",78),q.Xb(18,"div",79),q.Lc(19,"Load port"),q.Wb(),q.Xb(20,"div",80),q.Lc(21),q.Wb(),q.Wb(),q.Wb(),q.Xb(22,"div",83),q.Xb(23,"div",78),q.Xb(24,"div",79),q.Lc(25,"Load terminal"),q.Wb(),q.Xb(26,"div",80),q.Lc(27),q.Wb(),q.Wb(),q.Wb(),q.Xb(28,"div",83),q.Xb(29,"div",78),q.Xb(30,"div",79),q.Lc(31,"Depart time"),q.Wb(),q.Xb(32,"div",80),q.Lc(33),q.kc(34,"date"),q.Wb(),q.Wb(),q.Wb(),q.Xb(35,"div",83),q.Xb(36,"div",78),q.Xb(37,"div",79),q.Lc(38,"Arrive time"),q.Wb(),q.Xb(39,"div",80),q.Lc(40),q.kc(41,"date"),q.Wb(),q.Wb(),q.Wb(),q.Xb(42,"div",83),q.Xb(43,"div",78),q.Xb(44,"div",79),q.Lc(45,"Discharge port"),q.Wb(),q.Xb(46,"div",80),q.Lc(47),q.Wb(),q.Wb(),q.Wb(),q.Xb(48,"div",83),q.Xb(49,"div",78),q.Xb(50,"div",79),q.Lc(51,"Discharge terminal"),q.Wb(),q.Xb(52,"div",80),q.Lc(53),q.Wb(),q.Wb(),q.Wb(),q.Xb(54,"div",83),q.Xb(55,"div",78),q.Xb(56,"div",79),q.Lc(57,"Closing time"),q.Wb(),q.Xb(58,"div",80),q.Lc(59),q.kc(60,"date"),q.Wb(),q.Wb(),q.Wb(),q.Xb(61,"div",83),q.Xb(62,"div",78),q.Xb(63,"div",79),q.Lc(64,"Transit time"),q.Wb(),q.Xb(65,"div",80),q.Lc(66),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t){const t=q.jc();q.Db(9),q.Mc(t.booking.voyage.partner_name),q.Db(6),q.Mc(t.booking.voyage.vessel_full_name),q.Db(6),q.Mc(t.booking.voyage.load_port_name),q.Db(6),q.Mc(t.booking.voyage.load_terminal_name),q.Db(6),q.Mc(q.mc(34,10,t.booking.voyage.depart_time,"EEE MMM/dd/yyyy HH:mm")),q.Db(7),q.Mc(q.mc(41,13,t.booking.voyage.arrive_time,"EEE MMM/dd/yyyy HH:mm")),q.Db(7),q.Mc(t.booking.voyage.discharge_port_name),q.Db(6),q.Mc(t.booking.voyage.discharge_terminal_name),q.Db(6),q.Mc(q.mc(60,16,t.booking.voyage.closing_time,"MMM/dd HH:mm")),q.Db(7),q.Nc("",t.booking.voyage.transit_time," days")}}function $t(t,e){if(1&t&&(q.Xb(0,"tr"),q.Xb(1,"td"),q.Lc(2),q.Wb(),q.Xb(3,"td"),q.Lc(4),q.Wb(),q.Xb(5,"td"),q.Lc(6),q.Wb(),q.Xb(7,"td"),q.Lc(8),q.Wb(),q.Wb()),2&t){const t=e.$implicit,o=e.index;q.Db(2),q.Mc(o+1),q.Db(2),q.Mc(t.commodity.name),q.Db(2),q.Mc(t.quantity),q.Db(2),q.Mc(t.cont_type.code)}}function Gt(t,e){if(1&t&&(q.Xb(0,"div",75),q.Xb(1,"h2"),q.Lc(2,"Volume"),q.Wb(),q.Xb(3,"div",8),q.Xb(4,"table",66),q.Xb(5,"thead"),q.Xb(6,"tr"),q.Xb(7,"th"),q.Lc(8,"No"),q.Wb(),q.Xb(9,"th"),q.Lc(10,"Commodity"),q.Wb(),q.Xb(11,"th"),q.Lc(12,"Quantity"),q.Wb(),q.Xb(13,"th"),q.Lc(14,"Container type"),q.Wb(),q.Wb(),q.Wb(),q.Xb(15,"tbody"),q.Jc(16,$t,9,4,"tr",70),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t){const t=q.jc();q.Db(16),q.pc("ngForOf",t.booking.book.volume)}}function Ut(t,e){if(1&t&&(q.Xb(0,"tr"),q.Xb(1,"td",71),q.Lc(2),q.Wb(),q.Xb(3,"td",72),q.Lc(4),q.Wb(),q.Xb(5,"td"),q.Lc(6),q.Wb(),q.Xb(7,"td"),q.Lc(8),q.Wb(),q.Xb(9,"td",84),q.Lc(10),q.kc(11,"number"),q.Wb(),q.Xb(12,"td"),q.Lc(13),q.Wb(),q.Xb(14,"td"),q.Lc(15),q.Wb(),q.Xb(16,"td"),q.Lc(17),q.kc(18,"number"),q.Wb(),q.Xb(19,"td",84),q.Lc(20),q.kc(21,"number"),q.Wb(),q.Xb(22,"td"),q.Lc(23),q.Wb(),q.Wb()),2&t){const t=e.$implicit,o=e.index;q.Db(2),q.Mc(o+1),q.Db(2),q.Mc(t.price.name),q.Db(2),q.Mc(t.price.unit_code),q.Db(2),q.Mc(t.volume),q.Db(2),q.Mc(q.mc(11,10,t.amount,"VND"!=t.currency.code?"1.2-2":"1.0-0")),q.Db(3),q.Mc(t.tax),q.Db(2),q.Mc(t.currency.code),q.Db(2),q.Mc(t.ex_rate?q.mc(18,13,t.ex_rate,"1.2-2"):1),q.Db(3),q.Mc(q.mc(21,16,t.volume*(t.amount+t.amount*t.tax/100)*(t.ex_rate?t.ex_rate:1),"1.0-0")),q.Db(3),q.Mc(t.payment_center.name)}}function Yt(t,e){if(1&t&&(q.Xb(0,"div",75),q.Xb(1,"h2"),q.Lc(2,"Selling rate"),q.Wb(),q.Xb(3,"div",8),q.Xb(4,"table",66),q.Xb(5,"thead"),q.Xb(6,"tr"),q.Xb(7,"th",71),q.Lc(8,"No"),q.Wb(),q.Xb(9,"th",72),q.Lc(10,"Price"),q.Wb(),q.Xb(11,"th"),q.Lc(12,"Unit"),q.Wb(),q.Xb(13,"th"),q.Lc(14,"Volume"),q.Wb(),q.Xb(15,"th",84),q.Lc(16,"Amount"),q.Wb(),q.Xb(17,"th"),q.Lc(18,"Tax(%)"),q.Wb(),q.Xb(19,"th"),q.Lc(20,"Currency"),q.Wb(),q.Xb(21,"th"),q.Lc(22,"Ex rate"),q.Wb(),q.Xb(23,"th",84),q.Lc(24,"Total"),q.Wb(),q.Xb(25,"th"),q.Lc(26,"Payment center"),q.Wb(),q.Wb(),q.Wb(),q.Xb(27,"tbody"),q.Jc(28,Ut,24,19,"tr",70),q.Wb(),q.Wb(),q.Wb(),q.Wb()),2&t){const t=q.jc();q.Db(28),q.pc("ngForOf",t.booking.revenue.sell)}}let Qt=(()=>{class t{constructor(t,e,o,i,n,a,r,c){this.shipmentService=t,this.router=e,this.authService=o,this.route=i,this.datePipe=n,this._matDialog=a,this._formBuilder=r,this.commonService=c,this.modul="workflow",this.date=new Date,this.minDate=new Date((new Date).setMonth((new Date).getMonth()-1)),this.maxDate=new Date((new Date).setMonth((new Date).getMonth()+1)),this.filterVoyage=[],this.codeCompany=[],this.formBook=this._formBuilder.group({code:[null,tt.y.required],code_company:[""],owner:[null,tt.y.required],create_by:[null,tt.y.required],customer:[null,tt.y.required],principal:[null,tt.y.required],agent:[null,tt.y.required],pol:[null,tt.y.required],pot:[null],pod:[null,tt.y.required],from_date:[this.date,tt.y.required],to_date:[this.maxDate,tt.y.required],volume:this._formBuilder.array([this._formBuilder.group({commodity:[null,tt.y.required],quantity:[1,tt.y.required],cont_type:[null,tt.y.required]})])}),this.height=560,this.check=!1,this.filteredCommodity=[],this.filteredPrice=[],this.filteredCountry=[],this._unsubscribeAll=new I.a}ngOnInit(){this.modul=this.shipmentService.modul,this.shipmentService.onDataChanged.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.codeCompany=this.shipmentService.codeCompany,this.partner=this.shipmentService.partner,this.seaport=this.shipmentService.seaport,this.user=this.shipmentService.user,this.commodity=this.shipmentService.commodity,this.packageType=this.shipmentService.packageType,this.price=this.shipmentService.price,this.currency=this.shipmentService.currency,this.country=this.shipmentService.country;let e=this.user.find(t=>t.id==this.authService.user);e&&(this.formBook.controls.owner.setValue(e),this.formBook.controls.create_by.setValue(e))}),this.shipmentService.onVoyageChanged.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.voyage=this.shipmentService.voyage}),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2]),this.authService.windowSizeChanged.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-12-12-64-72}),this.authService.changeScreen.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-12-12-64-72:this.authService.screenHeight-64-12-12-64-72}),this.shipmentService.onShipmentChanged.pipe(Object(M.a)(this._unsubscribeAll)).subscribe(t=>{if(this.oldData=t,this.oldData){this.draftId=this.oldData.id;let t=this.oldData.book.volume.length;for(let e=0;e<t;e++)e>0&&this.addVolume(),this.oldData.book.volume[e].commodity=this.commodity.find(t=>t.id==this.oldData.book.volume[e].commodity.id),this.oldData.book.volume[e].cont_type=this.packageType.find(t=>t.id==this.oldData.book.volume[e].cont_type.id);this.formBook.patchValue(this.oldData.book),this.minDate=new Date(this.oldData.book.from_date)}else this.booking=null,this.draftId=null}),this.filteredPol=this.formBook.controls.pol.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.seaport):[])),this.filteredPot=this.formBook.controls.pot.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.seaport):[])),this.filteredPod=this.formBook.controls.pod.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.seaport):[])),this.filteredCustomer=this.formBook.controls.customer.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredAgent=this.formBook.controls.agent.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredPrincipal=this.formBook.controls.principal.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"partner_name",this.partner):[])),this.filteredUser=this.formBook.controls.owner.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.user):[])),this.filteredUser2=this.formBook.controls.create_by.valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.user):[])),this.commodityControl(0)}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get volumeAdd(){return this.formBook.get("volume")}addVolume(){this.volumeAdd.push(this._formBuilder.group({commodity:[null,tt.y.required],quantity:[1,tt.y.required],cont_type:[null,tt.y.required]})),this.commodityControl(this.volumeAdd.length-1)}removeVolume(t){this.volumeAdd.removeAt(t)}commodityControl(t){this.filteredCommodity[t]=this.volumeAdd.at(t).get("commodity").valueChanges.pipe(Object(ct.a)(""),Object(J.a)(t=>t?"string"==typeof t?t:t.name:null),Object(J.a)(t=>t?this.commonService.filterData(t,"name",this.commodity):[]))}updateBook(t){this.shipmentService.updateDatabaseBookingById(this.draftId,t)}onFormBookSubmit(t,e){if(this.filterVoyage=[],t.valid){let o=JSON.parse(JSON.stringify(t.value));if("string"==typeof o.pol)return void this.formBook.controls.pol.setValue(null);if("string"==typeof o.pod)return void this.formBook.controls.pod.setValue(null);if(o.pot&&"string"==typeof o.pot)return void this.formBook.controls.pot.setValue(null);if("string"==typeof o.customer&&this.formBook.controls.customer.setValue(null),"string"==typeof o.principal&&this.formBook.controls.principal.setValue(null),"string"==typeof o.agent)return void this.formBook.controls.agent.setValue(null);if("string"==typeof o.owner)return void this.formBook.controls.owner.setValue(null);if("string"==typeof o.create_by)return void this.formBook.controls.create_by.setValue(null);o.volume.map((t,e)=>{"string"!=typeof t.commodity||this.formBook.controls.volume.controls[e].controls.commodity.setValue(null)});let i=new Date(o.from_date).getTime()-864e5,n=new Date(o.to_date).getTime(),a=o.pot?o.pot.id:o.pod.id;this.filterVoyage=this.voyage.filter(t=>t.load_port==o.pol.id&&t.discharge_port==a&&t.depart_time>=i&&t.depart_time<=n),e.next()}}getBook(t,e){e.partner_name=e.partner_name;let o=JSON.parse(JSON.stringify(this.formBook.value)),i=(new Date(e.depart_time).getTime(),new Date(e.arrive_time).getTime(),o.volume.length),n=[],a={};for(let r=0;r<i;r++)o[o.volume[r].cont_type.code]?o[o.volume[r].cont_type.code]+=o.volume[r].quantity:o[o.volume[r].cont_type.code]=o.volume[r].quantity,n.includes(o.volume[r].commodity.name)||n.push(o.volume[r].commodity.name),a[o.volume[r].cont_type.code]||(a[o.volume[r].cont_type.code]=0),a.PCS||(a.PCS=0),a.SPT||(a.SPT=1),a[o.volume[r].cont_type.code]+=o.volume[r].quantity,a.PCS+=o.volume[r].quantity;if(o.commodity=n.join(", "),this.booking={user:o.owner.id,name:o.owner.name,book:o,voyage:e,vol:a},this.draftId){for(let t in this.oldData.book)this.booking.book[t]||(this.booking.book[t]=this.oldData.book[t]);this.booking.revenue=this.oldData.revenue,this.booking.party=this.oldData.party}else this.booking.revenue={sell:[]},this.booking.party=[];t.next()}openModal(t){this.dialogRef=this._matDialog.open(bt.a,{panelClass:"shipment-book-soa-modal-dialog",data:{label:t?"Edit selling rate":"Create selling rate",price:this.price,currency:this.currency,partner:this.partner,customer:this.formBook.value.customer,country:this.country,data:t?t[0]:null}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(t?this.booking.revenue.sell[t[1]]=e:this.booking.revenue.sell.push(e))})}deleteRevenue(t){this.booking.revenue.sell.splice(t,1)}saveBook(){let t;this.booking.book.code_company||(this.booking.book.code_company=""),this.updateBookingConfirm(this.booking.book,this.booking.voyage),this.draftId?this.shipmentService.updateDatabaseBookingById(this.draftId,this.booking):(t=Date.now().toString(),this.shipmentService.writeDatabaseBooking(t,this.booking)),setTimeout(()=>{this.draftId=this.draftId?this.draftId:t,this.router.navigate(["/apps/pacific-logistics-network/shipment/book/table"])},3e3)}updateBookingConfirm(t,e){let o,i,n;o=null,i="All containers in clean, sound and cargo worthy condition",n="Vui l\xf2ng li\xean h\u1ec7 c\u1ea5p cont r\u1ed7ng qua mail legend@pln.vn v\xe0 com@pln.vn, l\u1ea5y seal t\u1ea1i b\xe3i c\u1ea5p v\u1ecf container";let a=t.volume.map(t=>t.commodity.name);a=a.filter((t,e,o)=>o.indexOf(t)===e);let r=a.join(","),c="";t.volume.map(e=>{c+=this.shipmentService.calculateTotal(e.cont_type.code,t.volume)+"x"+e.cont_type.code+" "}),e.closing_time||(e.closing_time=e.depart_time-864e5),this.booking.bookConfirm={book_number:t.code,shipper:t.customer,agent:t.agent,volume:t.volume,commodity:r,empty_pick_up_depot:this.oldData?this.oldData.bookConfirm.empty_pick_up_depot:null,place_of_stuffing:this.oldData?this.oldData.bookConfirm.place_of_stuffing:null,closing_time_vgm:this.oldData?this.oldData.bookConfirm.closing_time_vgm:null,return_laden_cont:e.load_terminal_name,clcv:this.oldData?this.oldData.bookConfirm.clcv:null,note:this.oldData?this.oldData.bookConfirm.note:"All containers in clean, sound and cargo worthy condition",contact_note:this.oldData?this.oldData.bookConfirm.contact_note:"Vui l\xf2ng li\xean h\u1ec7 c\u1ea5p cont r\u1ed7ng qua mail legend@pln.vn v\xe0 com@pln.vn, l\u1ea5y seal t\u1ea1i b\xe3i c\u1ea5p v\u1ecf container",pol:this.formBook.value.pol,pot:this.formBook.value.pot?this.formBook.value.pot.name:null,pod:this.formBook.value.pod,voyage:{pol:e.load_port_name,pod:e.discharge_port_name,load_terminal:e.load_terminal_name,discharge_terminal:e.discharge_terminal_name,vessel:e.vessel_name,voyage:e.name,closing_time:e.closing_time,etd:e.depart_time,eta:e.arrive_time},lcv_note:this.oldData?this.oldData.bookConfirm.lcv_note:null,lcv_volume:c,truck_name:this.oldData?this.oldData.bookConfirm.truck_name:null,truck_number:this.oldData?this.oldData.bookConfirm.truck_number:null,valid:this.oldData?this.oldData.bookConfirm.valid:null,valid_time:this.oldData?this.oldData.bookConfirm.valid_time:null,code_company:this.oldData?this.oldData.bookConfirm.code_company:""}}goBookList(){}}return t.\u0275fac=function(e){return new(e||t)(q.Rb(z),q.Rb(i.g),q.Rb(N.a),q.Rb(i.a),q.Rb(R.f),q.Rb(g.b),q.Rb(tt.d),q.Rb(lt.a))},t.\u0275cmp=q.Lb({type:t,selectors:[["shipment-book-form-overview"]],viewQuery:function(t,e){var o;1&t&&q.Sc(st,!0),2&t&&q.wc(o=q.gc())&&(e.bookNgForm=o.first)},decls:145,vars:75,consts:[["fxLayout","column"],["fxLayout","row wrap"],["fxFlex","100",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[2,"overflow","auto"],["fxFlex","1 0 auto","fxLayout","row wrap"],["fxFlex","25",1,"pr-8"],["inputCheck","","matInput","","formControlName","code","required",""],[4,"ngIf"],["inputCheck","","type","text","matInput","","formControlName","code_company",3,"matAutocomplete"],["autoCode","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","type","text","matInput","","formControlName","owner","required","",3,"matAutocomplete"],[3,"displayWith"],["autoOwner","matAutocomplete"],["inputCheck","","type","text","matInput","","formControlName","create_by","required","",3,"matAutocomplete"],["autoCreateby","matAutocomplete"],["fxFlex","50",1,"pr-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer","required","",3,"matAutocomplete"],["autoCus","matAutocomplete"],["style","font-size: 12px",3,"value",4,"ngFor","ngForOf"],["inputCheck","","aria-label","principal","matInput","","formControlName","principal","required","",3,"matAutocomplete"],["autoPrincipal","matAutocomplete"],["fxFlex","40",1,"pr-8"],["inputCheck","","matInput","","formControlName","agent","required","",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["fxFlex","20",1,"pr-8"],["inputCheck","","type","text","aria-label","Port of Loading","matInput","","formControlName","pol","required","",3,"matAutocomplete"],["autoPOL","matAutocomplete"],["inputCheck","","type","text","aria-label","Port of Transit","matInput","","formControlName","pol",3,"matAutocomplete"],["autoPOT","matAutocomplete"],["inputCheck","","type","text","aria-label","Port of discharge","matInput","","formControlName","pod","required","",3,"matAutocomplete"],["autoPOD","matAutocomplete"],["inputCheck","","matInput","","name","date","formControlName","from_date","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["fromDatePicker",""],["fxFlex","80",1,"pr-8"],["inputCheck","","matInput","","name","date","formControlName","to_date","required","",3,"matDatepicker","change"],["toDatePicker",""],["formArrayName","volume","fxFlex","1 0 auto","fxLayout","column"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","type","ngSubmit","color","accent"],["fxFlex","100",4,"ngIf"],["mat-raised-button","","matStepperPrevious","","type","button","color","accent"],["fxLayout","row"],["mat-raised-button","","matStepperPrevious","","type","button","color","accent",1,"mr-8"],["mat-raised-button","","matStepperNext","","type","button","color","accent",3,"disabled"],["class","group mb-12 mt-12",4,"ngIf"],["mat-raised-button","","type","button","color","accent",1,"mr-8",3,"click"],[3,"value"],[2,"font-size","12px",3,"value"],["fxFlex","1 0 auto","fxLayout","row wrap",3,"formGroupName"],["inputCheck","","aria-label","commodity","matInput","","formControlName","commodity","required","",3,"matAutocomplete"],["autoCommodity","matAutocomplete"],["inputCheck","","matInput","","type","number","formControlName","quantity"],["formControlName","cont_type","required",""],["fxFlex","10",1,"pr-8"],["mat-mini-fab","","color","warn","type","button",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent","type","button",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn","type","button",3,"click"],["mat-mini-fab","","color","accent","type","button",3,"click"],["fxFlex","100"],[1,"simple","book-table"],[1,"sticky-left-col1",2,"z-index","30"],[1,"sticky-left-col2",2,"z-index","30"],[1,"sticky-right-col"],[4,"ngFor","ngForOf"],[1,"sticky-left-col1"],[1,"sticky-left-col2"],["color","accent",1,"cursor-pointer","mr-8",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[1,"group","mb-12","mt-12"],["fxLayout","row wrap","fxLayoutAlign","start",1,"p-16"],["fxFlex","25",1,"pb-8"],["fxLayout","column","fxLayoutAlign","start"],[1,"text-bold"],[1,"mt-8"],["fxFlex","50",1,"pb-8"],["fxFlex","50","fxFlex.gt-xs","75",1,"pb-8"],["fxFlex","50","fxFlex.gt-xs","25",1,"pb-8"],[1,"text-right"]],template:function(t,e){if(1&t){const t=q.Yb();q.Xb(0,"div",0),q.Xb(1,"div",1),q.Xb(2,"mat-horizontal-stepper",2,3),q.Xb(4,"mat-step",4),q.Jc(5,mt,1,0,"ng-template",5),q.Xb(6,"form",6,7),q.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(o){q.Bc(t);const i=q.xc(3);return e.onFormBookSubmit(e.formBook,i)})),q.Xb(8,"div",8),q.Xb(9,"div",0),q.Xb(10,"div",9),q.Xb(11,"mat-form-field",10),q.Xb(12,"mat-label"),q.Lc(13,"Booking number"),q.Wb(),q.Sb(14,"input",11),q.Jc(15,dt,2,0,"mat-error",12),q.Wb(),q.Xb(16,"mat-form-field",10),q.Xb(17,"mat-label"),q.Lc(18,"Code"),q.Wb(),q.Sb(19,"input",13),q.Xb(20,"mat-autocomplete",null,14),q.Jc(22,pt,2,2,"mat-option",15),q.Wb(),q.Wb(),q.Xb(23,"mat-form-field",10),q.Xb(24,"mat-label"),q.Lc(25,"Owner"),q.Wb(),q.Sb(26,"input",16),q.Xb(27,"mat-autocomplete",17,18),q.Jc(29,ut,2,2,"mat-option",15),q.kc(30,"async"),q.Wb(),q.Jc(31,ht,2,0,"mat-error",12),q.Wb(),q.Xb(32,"mat-form-field",10),q.Xb(33,"mat-label"),q.Lc(34,"Create by"),q.Wb(),q.Sb(35,"input",19),q.Xb(36,"mat-autocomplete",17,20),q.Jc(38,ft,2,2,"mat-option",15),q.kc(39,"async"),q.Wb(),q.Jc(40,gt,2,0,"mat-error",12),q.Wb(),q.Xb(41,"mat-form-field",21),q.Xb(42,"mat-label"),q.Lc(43,"Customer"),q.Wb(),q.Sb(44,"input",22),q.Xb(45,"mat-autocomplete",17,23),q.Jc(47,vt,2,2,"mat-option",24),q.kc(48,"async"),q.Wb(),q.Jc(49,kt,2,0,"mat-error",12),q.Wb(),q.Xb(50,"mat-form-field",21),q.Xb(51,"mat-label"),q.Lc(52,"Principal"),q.Wb(),q.Sb(53,"input",25),q.Xb(54,"mat-autocomplete",17,26),q.Jc(56,yt,2,2,"mat-option",24),q.kc(57,"async"),q.Wb(),q.Jc(58,Wt,2,0,"mat-error",12),q.Wb(),q.Xb(59,"mat-form-field",27),q.Xb(60,"mat-label"),q.Lc(61,"Agent"),q.Wb(),q.Sb(62,"input",28),q.Xb(63,"mat-autocomplete",17,29),q.Jc(65,Xt,2,2,"mat-option",24),q.kc(66,"async"),q.Wb(),q.Jc(67,xt,2,0,"mat-error",12),q.Wb(),q.Xb(68,"mat-form-field",30),q.Xb(69,"mat-label"),q.Lc(70,"Port of loading"),q.Wb(),q.Sb(71,"input",31),q.Xb(72,"mat-autocomplete",17,32),q.Jc(74,Dt,2,2,"mat-option",15),q.kc(75,"async"),q.Wb(),q.Jc(76,_t,2,0,"mat-error",12),q.Wb(),q.Xb(77,"mat-form-field",30),q.Xb(78,"mat-label"),q.Lc(79,"Port of transit"),q.Wb(),q.Sb(80,"input",33),q.Xb(81,"mat-autocomplete",17,34),q.Jc(83,Lt,2,2,"mat-option",15),q.kc(84,"async"),q.Wb(),q.Wb(),q.Xb(85,"mat-form-field",30),q.Xb(86,"mat-label"),q.Lc(87,"Port of discharge"),q.Wb(),q.Sb(88,"input",35),q.Xb(89,"mat-autocomplete",17,36),q.Jc(91,wt,2,2,"mat-option",15),q.kc(92,"async"),q.Wb(),q.Jc(93,St,2,0,"mat-error",12),q.Wb(),q.Xb(94,"mat-form-field",30),q.Xb(95,"mat-label"),q.Lc(96,"From Date"),q.Wb(),q.Xb(97,"input",37),q.fc("change",(function(t){return e.commonService.setDateStr(t)})),q.Wb(),q.Sb(98,"mat-datepicker-toggle",38),q.Sb(99,"mat-datepicker",null,39),q.Jc(101,Ct,2,0,"mat-error",12),q.Wb(),q.Xb(102,"mat-form-field",40),q.Xb(103,"mat-label"),q.Lc(104,"To Date"),q.Wb(),q.Xb(105,"input",41),q.fc("change",(function(t){return e.commonService.setDateStr(t)})),q.Wb(),q.Sb(106,"mat-datepicker-toggle",38),q.Sb(107,"mat-datepicker",null,42),q.Jc(109,Bt,2,0,"mat-error",12),q.Wb(),q.Xb(110,"div",43),q.Jc(111,qt,23,11,"div",44),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Xb(112,"div"),q.Xb(113,"button",45),q.Lc(114," Next "),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Xb(115,"mat-step"),q.Jc(116,Pt,1,0,"ng-template",5),q.Xb(117,"div",8),q.Xb(118,"div",1),q.Jc(119,Jt,29,1,"div",46),q.Wb(),q.Wb(),q.Xb(120,"div"),q.Xb(121,"button",47),q.Lc(122," Back "),q.Wb(),q.Wb(),q.Wb(),q.Xb(123,"mat-step"),q.Jc(124,Vt,1,0,"ng-template",5),q.Xb(125,"div",8),q.Xb(126,"div",1),q.Jc(127,Et,27,1,"div",46),q.Wb(),q.Wb(),q.Xb(128,"div",48),q.Xb(129,"button",49),q.Lc(130," Back "),q.Wb(),q.Xb(131,"button",50),q.Lc(132," Next "),q.Wb(),q.Wb(),q.Wb(),q.Xb(133,"mat-step"),q.Jc(134,zt,1,0,"ng-template",5),q.Xb(135,"div",8),q.Jc(136,Ht,64,10,"div",51),q.Jc(137,Rt,67,19,"div",51),q.Jc(138,Gt,17,1,"div",51),q.Jc(139,Yt,29,1,"div",51),q.Wb(),q.Xb(140,"div",48),q.Xb(141,"button",49),q.Lc(142," Previous "),q.Wb(),q.Xb(143,"button",52),q.fc("click",(function(t){return e.saveBook()})),q.Lc(144," Save "),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb(),q.Wb()}if(2&t){const t=q.xc(21),o=q.xc(28),i=q.xc(37),n=q.xc(46),a=q.xc(55),r=q.xc(64),c=q.xc(73),b=q.xc(82),l=q.xc(90),s=q.xc(100),m=q.xc(108);q.Db(2),q.pc("linear",!0),q.Db(2),q.pc("stepControl",e.formBook),q.Db(2),q.pc("formGroup",e.formBook),q.Db(2),q.Ic("height",e.height-48,"px"),q.Db(7),q.pc("ngIf",e.formBook.get("code").hasError("required")),q.Db(4),q.pc("matAutocomplete",t),q.Db(3),q.pc("ngForOf",e.codeCompany),q.Db(4),q.pc("matAutocomplete",o),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),q.Db(2),q.pc("ngForOf",q.lc(30,59,e.filteredUser)),q.Db(2),q.pc("ngIf",e.formBook.get("owner").hasError("required")),q.Db(4),q.pc("matAutocomplete",i),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),q.Db(2),q.pc("ngForOf",q.lc(39,61,e.filteredUser2)),q.Db(2),q.pc("ngIf",e.formBook.get("create_by").hasError("required")),q.Db(4),q.pc("matAutocomplete",n),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"full_name")),q.Db(2),q.pc("ngForOf",q.lc(48,63,e.filteredCustomer)),q.Db(2),q.pc("ngIf",e.formBook.get("customer").hasError("required")),q.Db(4),q.pc("matAutocomplete",a),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"full_name")),q.Db(2),q.pc("ngForOf",q.lc(57,65,e.filteredPrincipal)),q.Db(2),q.pc("ngIf",e.formBook.get("principal").hasError("required")),q.Db(4),q.pc("matAutocomplete",r),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"full_name")),q.Db(2),q.pc("ngForOf",q.lc(66,67,e.filteredAgent)),q.Db(2),q.pc("ngIf",e.formBook.get("agent").hasError("required")),q.Db(4),q.pc("matAutocomplete",c),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),q.Db(2),q.pc("ngForOf",q.lc(75,69,e.filteredPol)),q.Db(2),q.pc("ngIf",e.formBook.get("pol").hasError("required")),q.Db(4),q.pc("matAutocomplete",b),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),q.Db(2),q.pc("ngForOf",q.lc(84,71,e.filteredPot)),q.Db(5),q.pc("matAutocomplete",l),q.Db(1),q.pc("displayWith",e.commonService.displayObjFn.bind(e,"name")),q.Db(2),q.pc("ngForOf",q.lc(92,73,e.filteredPod)),q.Db(2),q.pc("ngIf",e.formBook.get("pod").hasError("required")),q.Db(4),q.pc("matDatepicker",s),q.Db(1),q.pc("for",s),q.Db(3),q.pc("ngIf",e.formBook.get("from_date").hasError("required")),q.Db(4),q.pc("matDatepicker",m),q.Db(1),q.pc("for",m),q.Db(3),q.pc("ngIf",e.formBook.get("to_date").hasError("required")),q.Db(2),q.pc("ngForOf",e.volumeAdd.controls),q.Db(6),q.Ic("height",e.height-48,"px"),q.Db(2),q.pc("ngIf",e.formBook.valid),q.Db(6),q.Ic("height",e.height-48,"px"),q.Db(2),q.pc("ngIf",e.formBook.valid&&e.booking&&e.booking.revenue),q.Db(4),q.pc("disabled",!e.booking||!e.booking.revenue||0==e.booking.revenue.length),q.Db(4),q.Ic("height",e.height-48,"px"),q.Db(1),q.pc("ngIf",e.booking&&e.booking.book),q.Db(1),q.pc("ngIf",e.booking&&e.booking.voyage),q.Db(1),q.pc("ngIf",e.booking&&e.booking.book),q.Db(1),q.pc("ngIf",e.booking&&e.booking.revenue)}},directives:[U.d,W.a,U.b,W.b,W.c,tt.A,tt.q,tt.h,s.c,s.f,p.b,tt.b,tt.p,tt.g,tt.w,R.t,r.c,r.a,R.s,c.b,c.d,s.h,c.a,tt.c,b.b,W.f,W.e,s.b,_.n,tt.i,tt.u,h.a,m.a,U.c],pipes:[R.b,R.f,R.g],styles:["shipment-book-form-overview .group{margin-left:0;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12);padding:16px 0 8px}shipment-book-form-overview .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:20}shipment-book-form-overview .border-black{border:1px solid #000!important}shipment-book-form-overview .book-table{font-size:12px}shipment-book-form-overview .book-table td,shipment-book-form-overview .book-table th{padding:8px;font-size:12px;white-space:nowrap}shipment-book-form-overview .book-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:20}shipment-book-form-overview .book-table tfoot td{font-weight:600}shipment-book-form-overview .book-table .sticky-left-col1{position:sticky;min-width:36px;position:-webkit-sticky;left:0;background-color:#fff;z-index:10}shipment-book-form-overview .book-table .sticky-left-col2{position:sticky;position:-webkit-sticky;left:36px;background-color:#fff;z-index:20}shipment-book-form-overview .book-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;padding:0;text-align:center;background:#fff}shipment-book-form-overview .book-table tfoot td.sticky-row2{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:25;font-weight:bolder}shipment-book-form-overview .book-table tfoot td.sticky-row1{position:sticky;position:-webkit-sticky;bottom:32px;background:#fff;z-index:25}"],encapsulation:2,data:{animation:j.a}}),t})();var Zt=o("eZn4");o.d(e,"ShipmentBookFormModule",(function(){return te}));const Kt=[{path:"form/:bookId",component:rt,resolve:{data:z},children:[{path:"overview",component:Qt}]}];let te=(()=>{class t{}return t.\u0275mod=q.Pb({type:t}),t.\u0275inj=q.Ob({factory:function(e){return new(e||t)},providers:[z],imports:[[i.k.forChild(Kt),a.b,n.a,r.b,c.c,b.c,l.b,s.e,m.b,d.b,p.c,u.c,h.b,f.c,g.e,v.b,k.b,y.b,W.d,X.e,x.b,D.b,L.b,w.k,S.c,_.t,C.a,B.a,A.f,O.g,F.b,Zt.a]]}),t})()}}]);