function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,a=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(o=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(s){a=!0,i=s}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{jD4G:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"filterArrayByString",value:function(t,e){var n=this;return""===e?t:(e=e.toLowerCase(),t.filter((function(t){return n.searchInObj(t,e)})))}},{key:"searchInObj",value:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if("string"==typeof o){if(this.searchInString(o,e))return!0}else if(Array.isArray(o)&&this.searchInArray(o,e))return!0;if("object"==typeof o&&this.searchInObj(o,e))return!0}}},{key:"searchInArray",value:function(t,e){var n=!0,o=!1,a=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var c=i.value;if("string"==typeof c&&this.searchInString(c,e))return!0;if("object"==typeof c&&this.searchInObj(c,e))return!0}}catch(s){o=!0,a=s}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}}},{key:"searchInString",value:function(t,e){return t.toLowerCase().includes(e)}},{key:"generateGUID",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()}},{key:"toggleInArray",value:function(t,e){-1===e.indexOf(t)?e.push(t):e.splice(e.indexOf(t),1)}},{key:"handleize",value:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}]),t}()},rPBI:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o=n("fXoL"),a=n("XNiG"),i=n("1G5W"),r=n("3Pt+"),c=n("Kj3r"),s=n("/uUt"),b=n("0JVi"),l=n("ofXK"),d=n("znSr"),p=n("XiUz"),h=n("bTqV"),u=n("NFeN");function m(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",7),o.fc("click",(function(t){return o.Bc(n),o.jc().expand()})),o.Xb(1,"mat-icon",8),o.Lc(2,"search"),o.Wb(),o.Wb()}if(2&t){var a=o.jc();o.Db(1),o.pc("color",a.searchText&&""!==a.searchText?"accent":"")}}var f=function(t){return{expanded:t}},g=function(){var t=function(){function t(e){_classCallCheck(this,t),this._fuseConfigService=e,this.inputValue=new o.o,this.collapsed=!0,this.searchInput=new r.e(""),this._unsubscribeAll=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._fuseConfigService.config.pipe(Object(i.a)(this._unsubscribeAll)).subscribe((function(e){t.fuseConfig=e})),this.searchInput.valueChanges.pipe(Object(i.a)(this._unsubscribeAll),Object(c.a)(300),Object(s.a)()).subscribe((function(e){t.searchText=e,t.inputValue.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(t){t.searchText&&(t.searchText.currentValue||null==t.searchText.currentValue)&&(this.searchText=t.searchText.currentValue,this.searchInput.setValue(this.searchText))}},{key:"collapse",value:function(){this.collapsed=!0}},{key:"expand",value:function(){this.collapsed=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(b.b))},t.\u0275cmp=o.Lb({type:t,selectors:[["filter-search-bar"]],inputs:{searchText:"searchText"},outputs:{inputValue:"inputValue"},features:[o.Bb()],decls:8,vars:5,consts:[[1,"filter-search-bar",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"filter-search-bar-content"],["for","filter-search-bar-input"],["mat-icon-button","","class","filter-search-bar-expander","aria-label","Expand Search Bar",3,"click",4,"ngIf"],["id","filter-search-bar-input","type","text","placeholder","Search","fxFlex","",1,"ml-24",3,"formControl"],["mat-icon-button","","aria-label","Collapse Search Bar",1,"filter-search-bar-collapser",3,"click"],[1,"s-24","secondary-text"],["mat-icon-button","","aria-label","Expand Search Bar",1,"filter-search-bar-expander",3,"click"],[1,"s-24","secondary-text",3,"color"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"label",2),o.Jc(3,m,3,1,"button",3),o.Wb(),o.Sb(4,"input",4),o.Xb(5,"button",5),o.fc("click",(function(t){return e.collapse()})),o.Xb(6,"mat-icon",6),o.Lc(7,"close"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.pc("ngClass",o.rc(3,f,!e.collapsed)),o.Db(3),o.pc("ngIf",e.collapsed),o.Db(1),o.pc("formControl",e.searchInput))},directives:[l.q,d.a,p.d,p.c,l.t,r.b,p.b,r.p,r.f,h.b,u.a],styles:["[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;min-width:64px;height:64px;font-size:13px}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]{height:56px}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-expander[_ngcontent-%COMP%]{cursor:pointer;padding:0 20px;margin:0;width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-expander[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-loader[_ngcontent-%COMP%]{width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-loader[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   #filter-search-bar-input[_ngcontent-%COMP%]{display:none;-webkit-box-flex:1;flex:1 0 auto;min-height:64px;font-size:16px;background-color:transparent;color:currentColor}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;background:#f5f5f5}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   #filter-search-bar-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%]{display:block}"]}),t}()},vckx:function(t,e,n){"use strict";n.r(e);var o,a,i=n("tyNb"),r=n("STbY"),c=n("/1cH"),s=n("iadO"),b=n("bTqV"),l=n("7EHt"),d=n("kmnG"),p=n("NFeN"),h=n("Qu3c"),u=n("qFsG"),m=n("wZkO"),f=n("d3UM"),g=n("QibW"),v=n("0IaG"),y=n("/t3+"),k=n("bSwM"),x=n("M9IT"),D=n("xHqg"),w=n("A5z7"),W=n("vxfF"),_=n("cfqv"),X=n("LPQX"),S=n("FKr1"),C=n("MutI"),L=n("bv9b"),O=n("XhcP"),M=n("212X"),T=n("5HBU"),j=n("0Zc1"),I=n("2Vo4"),P=n("XNiG"),V=n("jD4G"),A=n("tk/3"),F=n("fXoL"),J=n("qXBG"),R=n("0JVi"),N=((o=function(){function t(e,n,o,a){_classCallCheck(this,t),this.router=e,this._httpClient=n,this.authService=o,this._fuseConfigService=a,this.dashboard=[],this.searchText=null,this.fullScreen=!1,this.arrType=[],this.portPair=[],this.priceHeader=[],this.priceObj={},this.defaultSearch={formFilter:{code:null,customer:null,owner:null,pay_customer:null},formSearch:{customer:null,supplier:null,owner:null,pol:null,pod:null,date_from:((new Date).getFullYear()-1).toString()+"-"+((new Date).getMonth()+1<10?"0":"")+((new Date).getMonth()+1).toString()+"-01",date_to:null}},this.total={shipment:0,load_shipment:0,revenue:0,cost:0,revenuePaydate:0,revenueBank:0,costPaydate:0,costBank:0,revenueComplete:0,costComplete:0,teu:0,load_teu:0},this.totalMonth={},this.arrMonth=[],this.arrYear=[],this.headerType=[],this.containerMovement={LOAD:[],FULIM:[],TRIM:[],EMPTY:[],TREXP:[],FULEX:[]},this.onDashboardChanged=new I.a([]),this.onDataChanged=new I.a({}),this.onDataItemChanged=new I.a({}),this.onOverviewChanged=new I.a([]),this.onBookOverviewChanged=new I.a([]),this.onShipmentChanged=new I.a([]),this.onVesselChanged=new I.a([]),this.onContainersMovementChanged=new I.a([]),this.onSearchTextChanged=new P.a,this.onFilterChanged=new P.a,this.onMonthChanged=new P.a}return _createClass(t,[{key:"resolve",value:function(t){var e=this;return this.modul=t.params.modul,this.authService.routerData=t,this.authService.back&&(this.authService.back=!1),(!this.currenSearch||this.currenSearch&&!this.currenSearch.formSearch)&&(this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch)),(this.modul.includes("hochiminh")||this.modul.includes("haiphong"))&&(this.currenSearch.formSearch.date_from=null,this.currenSearch.formSearch.date_to=null),this.currenSearch.formSearch.pol=this.checkModule(this.modul).pol,this.currenSearch.formSearch.pod=this.checkModule(this.modul).pod),new Promise((function(t,n){Promise.all([e.getFilterShipment(e.currenSearch.formSearch),e.getContainerMovement(),e.getData(),e.getItemData()]).then((function(){e.onSearchTextChanged.subscribe((function(t){e.searchText=t;var n=JSON.parse(JSON.stringify(e.shipment));e.searchText&&""!==e.searchText&&(n=V.a.filterArrayByString(n,e.searchText)),e.buildDataBoardOverview(n),e.buildVesselOverview(n)})),t()}),n)}))}},{key:"getFilterShipment",value:function(t){var e=this;this.currenSearch.formSearch=t;var n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel/shipment/filter-module/"+e.modul,t,n).subscribe((function(t){e.shipment=t.shipment,e.price=t.price;var n=JSON.parse(JSON.stringify(e.shipment));e.searchText&&""!==e.searchText&&(n=V.a.filterArrayByString(n,e.searchText)),e.buildDataBoardOverview(n),e.buildVesselOverview(n),e.book&&e.buildBookOverview(),o(t)}),a)}))}},{key:"getContainerMovement",value:function(){var t=this,e={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/container-movement/"+t.modul,e).subscribe((function(e){t.headerType=e[0],t.containerMovement=e[1],t.onContainersMovementChanged.next(e),n(e)}),o)}))}},{key:"getData",value:function(){var t=this,e={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/data",e).subscribe((function(e){t.customer=e[0],t.supplier=e[1],t.seaport=e[2],t.user=e[3],t.onDataChanged.next(e),n(e)}),o)}))}},{key:"getItemData",value:function(){var t=this,e={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,o){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/item-data",e).subscribe((function(e){t.commodity=e[5],t.packageType=e[6],t.onDataItemChanged.next(e),n(e)}),o)}))}},{key:"buildDataBoardOverview",value:function(t){var e=this;this.total={shipment:0,load_shipment:0,revenue:0,cost:0,revenuePaydate:0,revenueBank:0,costPaydate:0,costBank:0,revenueComplete:0,costComplete:0,teu:0,load_teu:0},this.totalMonth={},this.arrMonth=[],this.arrYear=[],this.portPair=[],this.typeColumnView={},this.routeData={total:{}};var n=[];t.map((function(t){var o={pol:t.pol,pol_lat:t.pol_info&&t.pol_info.coords&&t.pol_info.coords.lat?t.pol_info.coords.lat:null,pol_lng:t.pol_info&&t.pol_info.coords&&t.pol_info.coords.lng?t.pol_info.coords.lng:null,pol_name:t.pol_name,pod:t.pod,pod_lat:t.pod_info&&t.pod_info.coords&&t.pod_info.coords.lat?t.pod_info.coords.lat:null,pod_lng:t.pod_info&&t.pod_info.coords&&t.pod_info.coords.lng?t.pod_info.coords.lng:null,pod_name:t.pod_name,type:"VIETNAM"==t.load_country_name?"import":"export",name:t.pol_name+" - "+t.pod_name};n.includes(o.name)||(e.portPair.push(o),n.push(o.name),e.routeData[o.name]={}),e.arrType=t.package,t.profit={revenue:0,cost:0};var a=new Date(t.depart_time).getMonth().toString();parseInt(a)<10&&(a="0"+a);var i=(new Date(t.depart_time).getMonth()+1).toString();parseInt(i)<10&&(i="0"+i);var r=new Date(t.depart_time).getFullYear();e.totalMonth[r+"-"+a]||(e.totalMonth[r+"-"+a]=function(t,e){return{month:parseInt(t)+1,year:e,teu:0,count_shipment:0,revenueComplete:0,costComplete:0,load_teu:0,count_load_shipment:0,revenue:0,cost:0,revenuePaydate:0,revenueBank:0,costPaydate:0,costBank:0}}(a,r),e.arrMonth.push({name:r+"-"+a,year:r,month:a,monthValue:i}),e.typeColumnView[r+"-"+a]=0),e.arrYear.includes(r)||e.arrYear.push(r),e.totalMonth[r+"-"+a].count_shipment++,e.total.shipment++,"Yes"==t.cont_move&&(e.totalMonth[r+"-"+a].count_load_shipment++,e.total.load_shipment++);var c=!0;t.revenue.map((function(n){t.profit.revenue+=n.total_vnd,e.totalMonth[r+"-"+a].revenue+=n.total_vnd,e.total.revenue+=n.total_vnd,n.pay_date&&(e.totalMonth[r+"-"+a].revenuePaydate+=n.total_vnd,e.total.revenuePaydate+=n.total_vnd,t.profit.revenuePaydate+=n.total_vnd),n.bank?(e.totalMonth[r+"-"+a].revenueBank+=n.total_vnd,e.total.revenueBank+=n.total_vnd,t.profit.revenueBank+=n.total_vnd):c=!1})),c&&(e.totalMonth[r+"-"+a].revenueComplete++,e.total.revenueComplete++);var s=!0;t.cost.map((function(n){t.profit.cost+=n.total_vnd,e.totalMonth[r+"-"+a].cost+=n.total_vnd,e.total.cost+=n.total_vnd,n.pay_date&&(e.totalMonth[r+"-"+a].costPaydate+=n.total_vnd,e.total.costPaydate+=n.total_vnd,t.profit.costPaydate+=n.total_vnd),n.bank?(e.totalMonth[r+"-"+a].costBank+=n.total_vnd,e.total.costBank+=n.total_vnd,t.profit.costBank+=n.total_vnd):s=!1})),s&&(e.totalMonth[r+"-"+a].costComplete++,e.total.costComplete++),e.arrType.map((function(t){e.totalMonth[r+"-"+a][t]||(e.totalMonth[r+"-"+a][t]=0),e.totalMonth[r+"-"+a]["load_"+t]||(e.totalMonth[r+"-"+a]["load_"+t]=0)})),t.volume.map((function(t){e.totalMonth[r+"-"+a][t.cont_type_code]+=t.volume,e.total[t.cont_type_code]||(e.total[t.cont_type_code]=0),e.total[t.cont_type_code]+=t.volume,e.routeData[o.name]||(e.routeData[o.name]={}),e.routeData[o.name][r+"-"+a]||(e.routeData[o.name][r+"-"+a]={}),e.routeData[o.name][r+"-"+a][t.cont_type_code]||(e.routeData[o.name][r+"-"+a][t.cont_type_code]=0),e.routeData[o.name][r+"-"+a].teu||(e.routeData[o.name][r+"-"+a].teu=0),e.routeData.total[r+"-"+a]||(e.routeData.total[r+"-"+a]={}),e.routeData.total[r+"-"+a][t.cont_type_code]||(e.routeData.total[r+"-"+a][t.cont_type_code]=0),e.routeData.total[r+"-"+a].teu||(e.routeData.total[r+"-"+a].teu=0),e.routeData[o.name][r+"-"+a][t.cont_type_code]+=t.volume,e.routeData.total[r+"-"+a][t.cont_type_code]+=t.volume,t.cont_type_code.includes("20")&&(e.totalMonth[r+"-"+a].teu+=t.volume,e.total.teu+=t.volume,e.routeData[o.name][r+"-"+a].teu+=t.volume,e.routeData.total[r+"-"+a].teu+=t.volume),t.cont_type_code.includes("40")&&(e.totalMonth[r+"-"+a].teu+=2*t.volume,e.total.teu+=2*t.volume,e.routeData[o.name][r+"-"+a].teu+=2*t.volume,e.routeData.total[r+"-"+a].teu+=2*t.volume)})),t.container.map((function(t){t.cont_type&&(e.totalMonth[r+"-"+a]["load_"+t.cont_type]++,e.total["load_"+t.cont_type]||(e.total["load_"+t.cont_type]=0),e.total["load_"+t.cont_type]++,t.cont_type.includes("20")&&(e.totalMonth[r+"-"+a].load_teu+=1,e.total.load_teu+=1),t.cont_type.includes("40")&&(e.totalMonth[r+"-"+a].load_teu+=2,e.total.load_teu+=2))}))})),this.arrMonth.sort((function(t,e){var n=t.year,o=e.year,a=t.month,i=e.month;return n>o?-1:n<o?1:a>i?-1:a<i?1:0})),this.portPair.sort((function(t,e){var n=t.name,o=e.name;return n<o?-1:n>o?1:0})),this.arrYear.sort();var o={},a={},i={};this.arrYear.map((function(t){a[t]||(a[t]=[0,0,0,0,0,0,0,0,0,0,0,0]),i[t]||(i[t]=[0,0,0,0,0,0,0,0,0,0,0,0]);for(var n=0;n<12;++n){var r=t.toString()+"-"+(n<10?"0":"")+n.toString();a[t][n]=e.totalMonth[r]&&e.totalMonth[r].teu?e.totalMonth[r].teu:0,i[t][n]=e.totalMonth[r]&&e.totalMonth[r].count_shipment?e.totalMonth[r].count_shipment:0}o[t]=[{label:"Shipment",data:i[t],fill:"start"},{label:"Teu",data:a[t],fill:"start"}]})),this.arrMonth.map((function(t){e.arrType.map((function(n){e.portPair.map((function(o){e.routeData[o.name]||(e.routeData[o.name]={}),e.routeData[o.name][t.name]||(e.routeData[o.name][t.name]={}),e.routeData[o.name][t.name][n]||(e.routeData[o.name][t.name][n]=0),e.routeData[o.name][t.name].teu||(e.routeData[o.name][t.name].teu=0),e.routeData.total[t.name]||(e.routeData.total[t.name]={}),e.routeData.total[t.name][n]||(e.routeData.total[t.name][n]=0),e.routeData.total[t.name].teu||(e.routeData.total[t.name].teu=0)})),e.routeData.total[t.name][n]||e.typeColumnView[t.name]++}))})),this.report=o,this.onShipmentChanged.next({shipment:t,total:this.total}),this.onOverviewChanged.next([this.totalMonth,this.arrMonth,this.arrType])}},{key:"changeScreen",value:function(t){this.fullScreen=t,this._fuseConfigService.config=t?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}},{key:"buildBookOverview",value:function(){var t=this,e=(new Date).getTime()-432e5,n=[],o=[],a={},i={book:0,teu:0,revenue:0,cost:0},r=this.book.slice(),c=JSON.parse(JSON.stringify(this.currenSearch.formSearch));if(c.customer&&(r=r.filter((function(t){return t.book.customer.id==c.customer}))),c.supplier&&(r=r.filter((function(t){return t.book.agent.id==c.supplier}))),c.owner&&(r=r.filter((function(t){return t.user==c.owner}))),c.pol&&(r=r.filter((function(t){return t.voyage.load_port==c.pol}))),c.pod&&(r=r.filter((function(t){return t.voyage.discharge_port==c.pod}))),c.date_from){var s=c.date_from.split("-");s[1]=parseInt(s[1])-1;var b=new Date(s[0],s[1],s[2]).getTime();r=r.filter((function(t){return t.voyage.depart_time>=b}))}if(c.date_to){var l=c.date_to.split("-");l[1]=parseInt(l[1])-1;var d=new Date(l[0],l[1],l[2]).getTime();r=r.filter((function(t){return t.voyage.depart_time<=d}))}this.filterBook=r;var p=[],h=[];this.priceObj={},this.filterBook.map((function(r){if(t.priceObj[r.id]={},e<r.voyage.depart_time){var c=t.getWeek(new Date(r.voyage.depart_time)),s=new Date(r.voyage.depart_time).getFullYear(),b=s.toString()+"-"+(c<10?"0":"")+c.toString();n.includes(b)||(n.push(b),a[b]={week:b,year:s,teu:0,revenue:0,cost:0,count_book:0,data:[],type:!0}),r.book.volume.map((function(t){o.includes(t.cont_type.code)||o.push(t.cont_type.code),a[b][t.cont_type.code]||(a[b][t.cont_type.code]=0),a[b][t.cont_type.code]+=t.quantity,a[b].teu+=t.quantity*(t.cont_type.code.includes("20")?1:2),r[t.cont_type.code]||(r[t.cont_type.code]=0),r[t.cont_type.code]+=t.quantity,i[t.cont_type.code]||(i[t.cont_type.code]=0),i[t.cont_type.code]+=t.quantity,i.teu+=t.quantity*(t.cont_type.code.includes("20")?1:2)})),r.revenue.sell.map((function(t){var e=5.26==t.tax?.05/.95*100:t.tax/100;a[b].revenue+=t.volume*t.amount*t.ex_rate+t.volume*t.amount*e*t.ex_rate,i.revenue+=t.volume*t.amount*t.ex_rate+t.volume*t.amount*e*t.ex_rate})),a[b].count_book++,i.book++,r.type=!0,a[b].data.push(r)}else r.type=!1;t.priceObj[r.id].revenueVNPrice||(t.priceObj[r.id].revenueVNPrice={}),t.priceObj[r.id].revenueNNPrice||(t.priceObj[r.id].revenueNNPrice={}),r.revenue.sell.map((function(e){p.includes(e.price.code+e.currency.code+e.payment_center.name)||(p.push(e.price.code+e.currency.code+e.payment_center.name),h.push({id:e.price.id,code:e.price.code,name:e.price.name,unit_code:e.price.unit_code,currency:e.currency.code,payment_center:e.payment_center.name})),"VIETNAM"==e.payment_center.name?t.priceObj[r.id].revenueVNPrice[e.price.code+e.currency.code+e.payment_center.name]=e.amount:t.priceObj[r.id].revenueNNPrice[e.price.code+e.currency.code+e.payment_center.name]=e.amount}))})),this.buildPrice(h),n.reverse(),o.sort(),this.onBookOverviewChanged.next([a,n,o,i])}},{key:"getWeek",value:function(t){t.getDay();var e=t.valueOf();t.setMonth(0,1);var n=2;return 1!=t.getDay()&&(n=1,t.setMonth(0,1+(1-t.getDay()+7)%7)),n+=1+Math.floor((e-t)/6048e5)}},{key:"buildVesselOverview",value:function(t){var e=this;this.arrType=[],this.voyage=[],this.shipmentVessel={},this.shipmentError=[],t.map((function(t){var n=t.depart_time+"-"+t.vessel_name+"-"+t.voyage;e.shipmentVessel[n]||(e.shipmentVessel[n]={voyage_name:t.voyage_name,vessel_id:t.vessel_id,vessel_full_name:t.vessel_full_name,pol:t.pol,pod:t.pod,pol_name:t.pol_name,pod_name:t.pod_name,load_country:t.load_country,discharge_country:t.discharge_country,depart_time:t.depart_time,arrive_time:t.arrive_time,closing_time:t.closing_time,shipment:[],container:0},e.voyage.push({key:n,vessel:t.vessel_name,voyage_id:t.voyage,voyage_name:t.voyage_name,depart_time:t.depart_time})),e.shipmentVessel[n].shipment.push(t),t.volume.map((function(t){e.shipmentVessel[n][t.cont_type_code]?e.shipmentVessel[n][t.cont_type_code]+=t.volume:e.shipmentVessel[n][t.cont_type_code]=t.volume,e.arrType.includes(t.cont_type_code)||e.arrType.push(t.cont_type_code)})),e.shipmentVessel[n].container+=t.container.length,e.shipmentVessel[n].revenue={},e.shipmentVessel[n].cost={},e.price.map((function(t){e.shipmentVessel[n].revenue[t.code+t.currency+t.payment_center]=0,e.shipmentVessel[n].cost[t.code+t.currency+t.payment_center]=0})),e.shipmentVessel[n].shipment.map((function(t){t.revenue.map((function(t){e.shipmentVessel[n].revenue[t.price_code+t.currency_code+t.country_name]=t.amount})),t.cost.map((function(t){e.shipmentVessel[n].cost[t.price_code+t.currency_code+t.country_name]=t.amount}))}))})),this.voyage.sort((function(t,e){return t.key<e.key?1:e.key<t.key?-1:0})),this.arrType.sort(),this.shipmentError=t.filter((function(t){return t.error})),this.onVesselChanged.next([this.shipmentVessel,this.voyage,this.arrType,this.shipmentError])}},{key:"buildPrice",value:function(t){var e=t.filter((function(t){return"VIETNAM"==t.payment_center})),n=t.filter((function(t){return"VIETNAM"!=t.payment_center})),o=["OF","EBS","EFF","RR","BILL","LTHC","SEAL","DO","DTHC","DCIC","VS","AMS","ENS"];e.sort((function(t,e){var n=t.unit_code,o=e.unit_code,a=t.currency,i=e.currency,r=t.code,c=e.code;return n>o?1:n<o?-1:a>i?1:a<i?-1:r>c?1:r<c?-1:0}));var a,i,r=e.filter((function(t){return t.unit_code.includes("20")})),c=e.filter((function(t){return t.unit_code.includes("40")})),s=e.filter((function(t){return!t.unit_code.includes("20")&&!t.unit_code.includes("40")})),b=[],l=[],d=[],p=[],h=[],u=[];o.map((function(t,e){p[e]=r.filter((function(e){return e.code.includes(t)})),p[e].length>0&&p[e].map((function(t){(i=r.indexOf(t))>=0&&(a=r.splice(i,1),b.push(a[0]))})),h[e]=c.filter((function(e){return e.code.includes(t)})),h[e].length>0&&h[e].map((function(t){(i=c.indexOf(t))>=0&&(a=c.splice(i,1),l.push(a[0]))})),u[e]=s.filter((function(e){return e.code.includes(t)})),u[e].length>0&&u[e].map((function(t){(i=s.indexOf(t))>=0&&(a=s.splice(i,1),d.push(a[0]))}))})),n.sort((function(t,e){var n=t.unit_code,o=e.unit_code,a=t.currency,i=e.currency,r=t.code,c=e.code;return n>o?1:n<o?-1:a>i?1:a<i?-1:r>c?1:r<c?-1:0}));var m,f,g=n.filter((function(t){return t.unit_code.includes("20")})),v=n.filter((function(t){return t.unit_code.includes("40")})),y=n.filter((function(t){return!t.unit_code.includes("20")&&!t.unit_code.includes("40")})),k=[],x=[],D=[],w=[],W=[],_=[];o.map((function(t,e){w[e]=g.filter((function(e){return e.code.includes(t)})),w[e].length>0&&w[e].map((function(t){(f=g.indexOf(t))>=0&&(m=g.splice(f,1),k.push(m[0]))})),W[e]=v.filter((function(e){return e.code.includes(t)})),W[e].length>0&&W[e].map((function(t){(f=v.indexOf(t))>=0&&(m=v.splice(f,1),x.push(m[0]))})),_[e]=y.filter((function(e){return e.code.includes(t)})),_[e].length>0&&_[e].map((function(t){(f=y.indexOf(t))>=0&&(m=y.splice(f,1),D.push(m[0]))}))})),this.priceHeader=[].concat(b,_toConsumableArray(r),l,_toConsumableArray(c),d,_toConsumableArray(s),k,_toConsumableArray(g),x,_toConsumableArray(v),D,_toConsumableArray(y))}},{key:"checkModule",value:function(t){var e=t.split("-"),n={haiphong:3,hochiminh:4,singapore:12},o={pol:null,pod:null};return"import"==e[0]&&(o.pod=n[e[1]]),"export"==e[0]&&(o.pol=n[e[1]]),o}},{key:"getPermissionById",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.get(e.authService.apiUrl+"/permission/id/"+t,n).subscribe((function(t){o(t)}),a)}))}},{key:"createSelParty",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel/sel-party",t,n).subscribe((function(t){o(t)}),a)}))}},{key:"updateSelShipment",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.put(e.authService.apiUrl+"/sel/shipment",t,n).subscribe((function(t){o(t)}),a)}))}},{key:"createSelBill",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel/bill",t,n).subscribe((function(t){o(t)}),a)}))}},{key:"createBillContainer",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel/bill-container",t,n).subscribe((function(t){o(t)}),a)}))}},{key:"getMovementByContNumber",value:function(t,e){var n=this,o={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){n._httpClient.get(n.authService.apiUrl+"/sel-move/cont-num/"+t+"/"+e,o).subscribe((function(t){a(t)}),i)}))}},{key:"createSelMove",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel-move/",t,n).subscribe((function(t){o(t)}),a)}))}},{key:"createSelVolume",value:function(t){var e=this,n={headers:new A.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,a){e._httpClient.post(e.authService.apiUrl+"/sel-volume",t,n).subscribe((function(t){o(t)}),a)}))}}]),t}()).\u0275fac=function(t){return new(t||o)(F.bc(i.g),F.bc(A.a),F.bc(J.a),F.bc(R.b))},o.\u0275prov=F.Nb({token:o,factory:o.\u0275fac}),o),B=n("lJxs"),$=n("I/3d"),z=((a=function(){function t(e,n,o){if(_classCallCheck(this,t),this.router=e,this.db=n,this.authService=o,this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.onPermissionChanged=new I.a([]),this.onSelDocumentChanged=new I.a([]),this.onDataChanged=new I.a([]),this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var a=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(a)}}return _createClass(t,[{key:"writeDatabaseBooking",value:function(t,e){this.bookingCollection=this.db.collection("booking-draft"),this.bookingCollection.doc(t).set(e)}},{key:"readDatabaseBooking",value:function(){return this.bookingCollection=this.db.collection("booking-draft"),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(B.a)((function(t){return t.map((function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))}))),this.booking}},{key:"readDatabaseBookingByUser",value:function(t){return this.bookingCollection=this.db.collection("booking-draft",(function(e){return e.where("user","==",t)})),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(B.a)((function(t){return t.map((function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))}))),this.booking}},{key:"getDatabaseBookingById",value:function(t){return this.bookingCollection=this.db.collection("booking-draft"),this.bookingCollection.doc(t).valueChanges()}},{key:"updateDatabaseBookingById",value:function(t,e){this.bookingCollection=this.db.collection("booking-draft"),this.bookingCollection.doc(t).set(e)}},{key:"deleteDatabaseBookingById",value:function(t){this.bookingDoc=this.db.doc("booking-draft/"+t),this.bookingDoc.delete()}}]),t}()).\u0275fac=function(t){return new(t||a)(F.bc(i.g),F.bc($.a),F.bc(J.a))},a.\u0275prov=F.Nb({token:a,factory:a.\u0275fac}),a),E=n("yrbL"),H=n("JX91"),U=n("3Pt+"),Y=n("ofXK"),q=n("XiUz"),G=n("EwFO"),Q=n("znSr"),K=["formDirective"];function Z(t,e){if(1&t&&(F.Xb(0,"mat-option",41),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n.id)("matTooltip",n.full_name),F.Db(1),F.Nc(" ",n.short_name," ")}}function tt(t,e){if(1&t&&(F.Xb(0,"mat-option",41),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n.id)("matTooltip",n.full_name),F.Db(1),F.Nc(" ",n.short_name," ")}}function et(t,e){if(1&t&&(F.Xb(0,"mat-option",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n.id),F.Db(1),F.Mc(n.name)}}function nt(t,e){if(1&t&&(F.Xb(0,"mat-icon",42),F.Lc(1,"import_export"),F.Wb()),2&t){F.jc();var n=F.xc(47);F.pc("matMenuTriggerFor",n)}}function ot(t,e){if(1&t&&(F.Xb(0,"mat-option",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n.id),F.Db(1),F.Nc(" ",n.name," ")}}function at(t,e){if(1&t){var n=F.Yb();F.Xb(0,"button",43),F.fc("click",(function(t){F.Bc(n);var o=e.$implicit;return F.jc().getPort(o)})),F.Lc(1),F.Wb()}if(2&t){var o=e.$implicit;F.Db(1),F.Nc(" ",o.name," ")}}function it(t,e){if(1&t&&(F.Xb(0,"mat-option",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n.id),F.Db(1),F.Nc(" ",n.name," ")}}function rt(t,e){if(1&t&&(F.Xb(0,"mat-option",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n),F.Db(1),F.Mc(n)}}var ct,st=function(t){return{hide:t}},bt=function(){return[null,1,2,3,4,5,6,7,8,9,10,11,12]},lt=((ct=function(){function t(e,n,o,a){_classCallCheck(this,t),this.formBuilder=e,this.authService=n,this.commonService=o,this.datePipe=a,this.fitlerShipment=new F.o,this.year=(new Date).getFullYear(),this.monthList=[],this.monthView={},this.form=this.formBuilder.group({customer:[null],supplier:[null],owner:[null],pol:[null],pod:[null],month:[null],year:[null],date_from:[null],date_to:[null],button:[null]}),this.searchChange=!0,this._unsubscribeAll=new P.a}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(t.modul&&t.modul.currentValue&&(this.modul=t.modul.currentValue),t.formSearch&&t.formSearch.currentValue){if(this.form.patchValue(this.formSearch),this.formSearch=t.formSearch.currentValue,this.formSearch&&this.formSearch.date_from&&"string"==typeof this.formSearch.date_from){var e=this.formSearch.date_from.split("-"),n=new Date(e[0],parseInt(e[1])-1,e[2]);this.form.controls.date_from.setValue(n)}if(this.formSearch&&this.formSearch.date_to&&"string"==typeof this.formSearch.date_to){var o=this.formSearch.date_to.split("-"),a=new Date(o[0],parseInt(o[1])-1,o[2]);this.form.controls.date_to.setValue(a)}}}},{key:"ngOnInit",value:function(){var t=this;this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(H.a)(""),Object(B.a)((function(t){return t?"string"==typeof t?t:t.partner_name:null})),Object(B.a)((function(e){return e?t.commonService.filterData(e,"partner_name",t.customer):[]}))),this.filteredSupplier=this.form.controls.supplier.valueChanges.pipe(Object(H.a)(""),Object(B.a)((function(t){return t?"string"==typeof t?t:t.partner_name:null})),Object(B.a)((function(e){return e?t.commonService.filterData(e,"partner_name",t.supplier):[]}))),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object(H.a)(""),Object(B.a)((function(t){return t?"string"==typeof t?t:t.name:null})),Object(B.a)((function(e){return e?t.commonService.filterData(e,"name",t.seaport):[]}))),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object(H.a)(""),Object(B.a)((function(t){return t?"string"==typeof t?t:t.name:null})),Object(B.a)((function(e){return e?t.commonService.filterData(e,"name",t.seaport):[]}))),this.form.controls.button.valueChanges.subscribe((function(e){e&&t.getMonthTime(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getMonthTime",value:function(t){var e,n,o=this.form.controls.year.value,a=this.form.controls.month.value,i=new Date,r=i.getMonth(),c=i.getFullYear();t&&"M"!=t?"Y"==t?(e=new Date(o,a?a-1:0,1),n=new Date(o,a||12,0)):"TM"==t?(this.form.controls.month.setValue(null),e=new Date(c,r,1),n=new Date(c,r+1,0)):"TY"==t&&(this.form.controls.month.setValue(null),e=new Date(c,0,1),n=new Date(c,12,0)):o&&(e=new Date(o,a?a-1:0,1),n=new Date(o,a||12,0)),this.form.controls.date_from.setValue(e),this.form.controls.date_to.setValue(n)}},{key:"clearForm",value:function(){if(this.searchNgForm.resetForm(),this.modul.includes("hochiminh"))this.form.controls.pol.setValue(4);else if(this.modul.includes("haiphong"))this.form.controls.pol.setValue(3);else{var t=new Date;t.setFullYear(t.getFullYear()-1,t.getMonth(),1),this.form.controls.date_from.setValue(t)}}},{key:"onSearchFormSubmit",value:function(t){var e=JSON.parse(JSON.stringify(t.value));"string"==typeof t.customer&&(this.form.controls.customer.setValue(null),e.customer=null),"string"==typeof t.supplier&&(this.form.controls.supplier.setValue(null),e.supplier=null),"string"==typeof t.owner&&(this.form.controls.owner.setValue(null),e.owner=null),"string"==typeof t.pol&&(this.form.controls.pol.setValue(null),e.pol=null),"string"==typeof t.pod&&(this.form.controls.pod.setValue(null),e.pod=null),e.date_from=e.date_from?this.datePipe.transform(e.date_from,"yyyy-MM-dd"):null,e.date_to=e.date_to?this.datePipe.transform(e.date_to,"yyyy-MM-dd"):null,this.fitlerShipment.emit(e)}},{key:"getPort",value:function(t){this.form.controls.pol.setValue(t.pol),this.form.controls.pod.setValue(t.pod)}},{key:"setData",value:function(t){this.form.patchValue(t)}},{key:"setMonth",value:function(t){var e=this;this.form.controls.month.setValue(parseInt(t.month)+1),this.form.controls.year.setValue(t.year),this.getMonthTime("M"),setTimeout((function(){e.onSearchFormSubmit(e.form)}),100)}}]),t}()).\u0275fac=function(t){return new(t||ct)(F.Rb(U.d),F.Rb(J.a),F.Rb(j.a),F.Rb(Y.f))},ct.\u0275cmp=F.Lb({type:ct,selectors:[["dashboard-sidebar"]],viewQuery:function(t,e){var n;1&t&&F.Sc(K,!0),2&t&&F.wc(n=F.gc())&&(e.searchNgForm=n.first)},inputs:{modul:"modul",height:"height",customer:"customer",supplier:"supplier",seaport:"seaport",user:"user",portPair:"portPair",formSearch:"formSearch"},outputs:{fitlerShipment:"fitlerShipment"},features:[F.Bb()],decls:105,vars:47,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2","pb-4"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","agent","matInput","","formControlName","supplier",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["formControlName","owner"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line",3,"ngClass"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete"],["matSuffix","","class","cursor-pointer",3,"matMenuTriggerFor",4,"ngIf"],["autoSeaport1","matAutocomplete"],["moreMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete"],["autoSeaport2","matAutocomplete"],["inputCheck","","matInput","","name","date_from","formControlName","date_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["inputCheck","","matInput","","name","date_to","formControlName","date_to",3,"matDatepicker","change"],["dateTo",""],["formControlName","month",3,"selectionChange"],["formControlName","year",3,"selectionChange"],[3,"value"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","button"],["value","TM",1,"mb-12"],["value","TY",1,"mb-12"],[3,"value","matTooltip"],["matSuffix","",1,"cursor-pointer",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(F.Xb(0,"form",0,1),F.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onSearchFormSubmit(e.form)})),F.Xb(2,"div",2),F.Xb(3,"div",3),F.Xb(4,"button",4),F.Lc(5," Submit "),F.Wb(),F.Xb(6,"button",5),F.fc("click",(function(t){return e.clearForm()})),F.Lc(7," Clear "),F.Wb(),F.Wb(),F.Wb(),F.Xb(8,"div",6),F.Xb(9,"div",7),F.Xb(10,"div",8),F.Xb(11,"div",9),F.Xb(12,"div",10),F.Xb(13,"mat-form-field",11),F.Xb(14,"mat-label"),F.Lc(15,"Customer"),F.Wb(),F.Sb(16,"input",12),F.Xb(17,"mat-autocomplete",13,14),F.Jc(19,Z,2,3,"mat-option",15),F.kc(20,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(21,"div",16),F.Xb(22,"mat-form-field",11),F.Xb(23,"mat-label"),F.Lc(24,"Agent"),F.Wb(),F.Sb(25,"input",17),F.Xb(26,"mat-autocomplete",13,18),F.Jc(28,tt,2,3,"mat-option",15),F.kc(29,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(30,"div",16),F.Xb(31,"mat-form-field",11),F.Xb(32,"mat-label"),F.Lc(33,"Owner"),F.Wb(),F.Xb(34,"mat-select",19),F.Jc(35,et,2,2,"mat-option",20),F.Wb(),F.Wb(),F.Wb(),F.Xb(36,"div",21),F.Xb(37,"mat-form-field",11),F.Xb(38,"mat-label"),F.Lc(39,"POL"),F.Wb(),F.Sb(40,"input",22),F.Jc(41,nt,2,1,"mat-icon",23),F.Xb(42,"mat-autocomplete",13,24),F.Jc(44,ot,2,2,"mat-option",20),F.kc(45,"async"),F.Wb(),F.Wb(),F.Xb(46,"mat-menu",null,25),F.Jc(48,at,2,1,"button",26),F.Wb(),F.Wb(),F.Xb(49,"div",16),F.Xb(50,"mat-form-field",11),F.Xb(51,"mat-label"),F.Lc(52,"POD"),F.Wb(),F.Sb(53,"input",27),F.Xb(54,"mat-autocomplete",13,28),F.Jc(56,it,2,2,"mat-option",20),F.kc(57,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(58,"div",16),F.Xb(59,"mat-form-field",11),F.Xb(60,"mat-label"),F.Lc(61,"ETD from"),F.Wb(),F.Xb(62,"input",29),F.fc("change",(function(t){return e.commonService.setDateStr(t)})),F.Wb(),F.Sb(63,"mat-datepicker-toggle",30),F.Sb(64,"mat-datepicker",null,31),F.Wb(),F.Wb(),F.Xb(66,"div",16),F.Xb(67,"mat-form-field",11),F.Xb(68,"mat-label"),F.Lc(69,"ETD to"),F.Wb(),F.Xb(70,"input",32),F.fc("change",(function(t){return e.commonService.setDateStr(t)})),F.Wb(),F.Sb(71,"mat-datepicker-toggle",30),F.Sb(72,"mat-datepicker",null,33),F.Wb(),F.Wb(),F.Xb(74,"div",16),F.Xb(75,"mat-form-field",11),F.Xb(76,"mat-label"),F.Lc(77,"Month"),F.Wb(),F.Xb(78,"mat-select",34),F.fc("selectionChange",(function(t){return e.getMonthTime("M")})),F.Jc(79,rt,2,2,"mat-option",20),F.Wb(),F.Wb(),F.Wb(),F.Xb(80,"div",16),F.Xb(81,"mat-form-field",11),F.Xb(82,"mat-label"),F.Lc(83,"Year"),F.Wb(),F.Xb(84,"mat-select",35),F.fc("selectionChange",(function(t){return e.getMonthTime("Y")})),F.Xb(85,"mat-option",36),F.Lc(86),F.Wb(),F.Xb(87,"mat-option",36),F.Lc(88),F.Wb(),F.Xb(89,"mat-option",36),F.Lc(90),F.Wb(),F.Xb(91,"mat-option",36),F.Lc(92),F.Wb(),F.Xb(93,"mat-option",36),F.Lc(94),F.Wb(),F.Xb(95,"mat-option",36),F.Lc(96),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(97,"div",37),F.Xb(98,"h2"),F.Lc(99,"Time option"),F.Wb(),F.Xb(100,"mat-radio-group",38),F.Xb(101,"mat-radio-button",39),F.Lc(102,"This month"),F.Wb(),F.Xb(103,"mat-radio-button",40),F.Lc(104,"This year"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.xc(18),o=F.xc(27),a=F.xc(43),i=F.xc(55),r=F.xc(65),c=F.xc(73);F.pc("formGroup",e.form),F.Db(8),F.Ic("height",e.height,"px"),F.Db(8),F.pc("matAutocomplete",n),F.Db(1),F.pc("displayWith",e.commonService.displayFn.bind(e,"short_name",e.customer)),F.Db(2),F.pc("ngForOf",F.lc(20,36,e.filteredCustomer)),F.Db(6),F.pc("matAutocomplete",o),F.Db(1),F.pc("displayWith",e.commonService.displayFn.bind(e,"short_name",e.supplier)),F.Db(2),F.pc("ngForOf",F.lc(29,38,e.filteredSupplier)),F.Db(7),F.pc("ngForOf",e.user),F.Db(1),F.pc("ngClass",F.rc(44,st,!e.modul.includes("workflow"))),F.Db(4),F.pc("matAutocomplete",a),F.Db(1),F.pc("ngIf",!e.modul.includes("hochiminh")&&!e.modul.includes("haiphong")),F.Db(1),F.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.seaport)),F.Db(2),F.pc("ngForOf",F.lc(45,40,e.filteredSeaport1)),F.Db(4),F.pc("ngForOf",e.portPair),F.Db(5),F.pc("matAutocomplete",i),F.Db(1),F.pc("displayWith",e.commonService.displayFn.bind(e,"name",e.seaport)),F.Db(2),F.pc("ngForOf",F.lc(57,42,e.filteredSeaport2)),F.Db(6),F.pc("matDatepicker",r),F.Db(1),F.pc("for",r),F.Db(7),F.pc("matDatepicker",c),F.Db(1),F.pc("for",c),F.Db(8),F.pc("ngForOf",F.qc(46,bt)),F.Db(6),F.pc("value",e.year-4),F.Db(1),F.Mc(e.year-4),F.Db(1),F.pc("value",e.year-3),F.Db(1),F.Mc(e.year-3),F.Db(1),F.pc("value",e.year-2),F.Db(1),F.Mc(e.year-2),F.Db(1),F.pc("value",e.year-1),F.Db(1),F.Mc(e.year-1),F.Db(1),F.pc("value",e.year),F.Db(1),F.Mc(e.year),F.Db(1),F.pc("value",e.year+1),F.Db(1),F.Mc(e.year+1)}},directives:[U.A,U.q,U.h,q.d,q.c,b.b,q.b,G.a,d.c,d.f,u.b,U.b,c.c,U.p,U.g,c.a,Y.s,f.a,Y.q,Q.a,Y.t,r.d,s.b,s.d,d.h,s.a,S.n,g.b,g.a,h.a,p.a,r.c,r.a],pipes:[Y.b],styles:["dashboard-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}dashboard-sidebar .navbar-scroll-container{background:#fff!important}dashboard-sidebar .navbar-scroll-container .navbar-content{padding-top:0}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer .search-customer-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}dashboard-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer .search-customer-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),ct),dt=n("HX77"),pt=n("B9zo"),ht=n("rPBI");function ut(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"button",15),F.Xb(2,"span",16),F.Lc(3),F.Wb(),F.Xb(4,"mat-icon",17),F.Lc(5),F.Wb(),F.Wb(),F.Ub()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.pc("routerLink",o.link[n].route),F.Db(2),F.Mc(o.link[n].name),F.Db(2),F.Mc(o.link[n].icon)}}function mt(t,e){if(1&t&&(F.Vb(0),F.Jc(1,ut,6,3,"ng-container",14),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.pc("ngIf","workflow"==o.modul||"workflow"!=o.modul&&"stock"!=n)}}function ft(t,e){if(1&t){var n=F.Yb();F.Xb(0,"button",18),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.changeScreen.emit(!0)})),F.Xb(1,"mat-icon"),F.Lc(2,"flip_to_front"),F.Wb(),F.Wb()}}function gt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"button",18),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.changeScreen.emit(!1)})),F.Xb(1,"mat-icon"),F.Lc(2,"flip_to_back"),F.Wb(),F.Wb()}}var vt,yt=((vt=function(){function t(){_classCallCheck(this,t),this.toggleSidebar=new F.o,this.showHideBar=new F.o,this.refreshPage=new F.o,this.searchFilter=new F.o,this.changeScreen=new F.o,this.link={overview:{name:"Overview",route:"",icon:"equalizer"},stock:{name:"Stock",route:"",icon:"view_carousel"},shipment:{name:"Shipment",route:"",icon:"equalizer"},book:{name:"Book",route:"",icon:"view_carousel"},vessel:{name:"Vessel",route:"",icon:"view_carousel"},container:{name:"Container",route:"",icon:"equalizer"},check:{name:"Checking",route:"",icon:"view_carousel"}},this.arrLink=["overview","stock","shipment","book","vessel","container","check"]}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this;t.modul&&t.modul.currentValue&&(this.modul=t.modul.currentValue,this.arrLink.map((function(t){e.link[t].route="/apps/"+e.modul+"/dashboard/board/"+t})))}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||vt)},vt.\u0275cmp=F.Lb({type:vt,selectors:[["dashboard-header"]],inputs:{modul:"modul",searchText:"searchText",sidebarName:"sidebarName",fullScreen:"fullScreen"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",searchFilter:"searchFilter",changeScreen:"changeScreen"},features:[F.Bb()],decls:23,vars:4,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-8",3,"click"],[4,"ngFor","ngForOf"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],[4,"ngIf"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(t,e){1&t&&(F.Xb(0,"mat-toolbar",0),F.Xb(1,"div",1),F.Xb(2,"div",2),F.Xb(3,"div",3),F.Xb(4,"button",4),F.fc("click",(function(t){return e.toggleSidebar.emit(e.sidebarName)})),F.Xb(5,"mat-icon"),F.Lc(6,"menu"),F.Wb(),F.Wb(),F.Xb(7,"button",5),F.fc("click",(function(t){return e.showHideBar.emit()})),F.Xb(8,"mat-icon"),F.Lc(9,"menu"),F.Wb(),F.Wb(),F.Wb(),F.Jc(10,mt,2,1,"ng-container",6),F.Wb(),F.Xb(11,"div",7),F.Sb(12,"div",8),F.Xb(13,"filter-search-bar",9),F.fc("inputValue",(function(t){return e.searchFilter.emit(t)})),F.Wb(),F.Sb(14,"div",8),F.Xb(15,"button",10),F.fc("click",(function(t){return t.stopPropagation(),e.refreshPage.emit()})),F.Xb(16,"mat-icon",11),F.Lc(17,"refresh"),F.Wb(),F.Wb(),F.Sb(18,"div",8),F.Jc(19,ft,3,0,"button",12),F.Jc(20,gt,3,0,"button",12),F.Sb(21,"div",13),F.Sb(22,"div",13),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(10),F.pc("ngForOf",e.arrLink),F.Db(3),F.pc("searchText",e.searchText),F.Db(6),F.pc("ngIf",!e.fullScreen),F.Db(1),F.pc("ngIf",e.fullScreen))},directives:[y.a,q.b,q.e,q.d,q.c,b.b,Q.b,p.a,Y.s,ht.a,Y.t,i.i,i.h],styles:["dashboard-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}dashboard-header.below{z-index:2}dashboard-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}dashboard-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}dashboard-header .logo .logo-icon{width:38px}dashboard-header .chat-panel-toggle-button,dashboard-header .language-button,dashboard-header .quick-panel-toggle-button,dashboard-header .user-button,dashboard-header fuse-search-bar{width:80px;height:64px}@media screen and (max-width:599px){dashboard-header .chat-panel-toggle-button,dashboard-header .language-button,dashboard-header .quick-panel-toggle-button,dashboard-header .user-button,dashboard-header fuse-search-bar{width:40px;height:56px}}dashboard-header .navbar-toggle-button{min-width:56px;height:56px}dashboard-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){dashboard-header .toolbar-separator{height:56px}}"],encapsulation:2}),vt),kt=n("fE3o");function xt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"fuse-sidebar",6),F.Xb(1,"div",7),F.Xb(2,"dashboard-sidebar",8),F.fc("fitlerShipment",(function(t){return F.Bc(n),F.jc().getFilterShipment(t)})),F.Wb(),F.Wb(),F.Wb()}if(2&t){var o=F.jc();F.Db(2),F.pc("modul",o.modul)("height",o.height)("customer",o.customer)("supplier",o.supplier)("seaport",o.seaport)("user",o.user)("portPair",o.portPair)("formSearch",o.formSearch)}}function Dt(t,e){1&t&&F.Sb(0,"router-outlet")}var wt,Wt=((wt=function(){function t(e,n,o){_classCallCheck(this,t),this._fuseSidebarService=e,this.dashboardService=n,this.authService=o,this.sidebarPanel=!0,this.fullScreen=!1,this.height=560,this.modul=this.authService.modul,this._unsubscribeAll=new P.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.modul=t.authService.modul})),this.authService.windowSizeChanged.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-12})),this.authService.changeScreen.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-12:t.authService.screenHeight-64-64-12})),this.dashboardService.onOverviewChanged.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.portPair=t.dashboardService.portPair,t.searchText=t.dashboardService.searchText,t.formSearch=t.dashboardService.currenSearch.formSearch})),this.dashboardService.onDataChanged.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.customer=t.dashboardService.customer,t.supplier=t.dashboardService.supplier,t.seaport=t.dashboardService.seaport,t.user=t.dashboardService.user})),this.dashboardService.onMonthChanged.pipe(Object(E.takeUntil)(this._unsubscribeAll)).subscribe((function(e){t.dashboardSidebarComponent.setMonth(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(t){this.fullScreen=t,this.authService.changeScreen.next(t),this.dashboardService.changeScreen(t)}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}},{key:"showHideBar",value:function(t){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(t){this.authService.refreshData(this.dashboardService)}},{key:"getFilterShipment",value:function(t){var e=this;console.log(t),this.authService.onRequestChanged.next(!0),this.dashboardService.getFilterShipment(t).then((function(n){e.dashboardService.currenSearch.formSearch=t,e.authService.onRequestChanged.next(!1)})).catch((function(t){e.authService.onRequestChanged.next(!1),console.error(t),alert("Submit fail")}))}},{key:"searchFilter",value:function(t){this.dashboardService.onSearchTextChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||wt)(F.Rb(dt.a),F.Rb(N),F.Rb(J.a))},wt.\u0275cmp=F.Lb({type:wt,selectors:[["dashboard"]],viewQuery:function(t,e){var n;1&t&&F.Sc(lt,!0),2&t&&F.wc(n=F.gc())&&(e.dashboardSidebarComponent=n.first)},decls:6,vars:6,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","dashboard-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"modul","searchText","fullScreen","sidebarName","showHideBar","refreshPage","toggleSidebar","changeScreen","searchFilter"],[1,"content","pl-8","pt-8","pb-8"],[4,"ngIf"],["name","dashboard-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"modul","height","customer","supplier","seaport","user","portPair","formSearch","fitlerShipment"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Jc(1,xt,3,8,"fuse-sidebar",1),F.Xb(2,"div",2),F.Xb(3,"dashboard-header",3),F.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)}))("changeScreen",(function(t){return e.changeScreen(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)}))("searchFilter",(function(t){return e.searchFilter(t)})),F.Wb(),F.Xb(4,"div",4),F.Jc(5,Dt,1,0,"router-outlet",5),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(1),F.pc("ngIf",e.sidebarPanel),F.Db(2),F.pc("modul",e.modul)("searchText",e.searchText)("fullScreen",e.fullScreen)("sidebarName","dashboard-sidebar"),F.Db(2),F.pc("ngIf",!0))},directives:[pt.a,Y.t,G.a,yt,kt.a,lt,i.l],styles:[""]}),wt),_t=n("PVWW"),Xt=n("1G5W");function St(t,e){if(1&t&&(F.Xb(0,"th",10),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Ic("top",o.inverseOfTranslation),F.Db(1),F.Mc(n)}}function Ct(t,e){if(1&t&&(F.Vb(0),F.Jc(1,St,2,3,"th",9),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.pc("ngIf",o.total[n]>0)}}var Lt=function(t){return{"red-400-bg":t}};function Ot(t,e){if(1&t&&(F.Xb(0,"td",20),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit;F.pc("ngClass",F.rc(2,Lt,o.process>0&&o[n]!=o["move"+n])),F.Db(1),F.Mc(o[n])}}function Mt(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Ot,2,4,"td",19),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2);F.Db(1),F.pc("ngIf",o.total[n]>0)}}function Tt(t,e){1&t&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function jt(t,e){1&t&&(F.Xb(0,"mat-chip",21),F.Lc(1,"Stuffing"),F.Wb())}function It(t,e){1&t&&(F.Xb(0,"mat-chip",22),F.Lc(1,"Ready to load"),F.Wb())}function Pt(t,e){1&t&&(F.Xb(0,"mat-chip",23),F.Lc(1,"Loaded"),F.Wb())}function Vt(t,e){1&t&&(F.Xb(0,"mat-chip",21),F.Lc(1,"Discharge"),F.Wb())}function At(t,e){1&t&&(F.Xb(0,"mat-chip",22),F.Lc(1,"Pick up"),F.Wb())}function Ft(t,e){1&t&&(F.Xb(0,"mat-chip",23),F.Lc(1,"Complete"),F.Wb())}var Jt=function(t){return{"error-cell":t}};function Rt(t,e){if(1&t&&(F.Xb(0,"tr"),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",11),F.Xb(4,"a",12),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Xb(8,"td"),F.Lc(9),F.Wb(),F.Jc(10,Mt,2,1,"ng-container",3),F.Xb(11,"td",13),F.Lc(12),F.Wb(),F.Xb(13,"td",13),F.Lc(14),F.Wb(),F.Xb(15,"td"),F.Xb(16,"mat-chip-list",14),F.Jc(17,Tt,2,0,"mat-chip",15),F.Jc(18,jt,2,0,"mat-chip",16),F.Jc(19,It,2,0,"mat-chip",17),F.Jc(20,Pt,2,0,"mat-chip",18),F.Jc(21,Vt,2,0,"mat-chip",16),F.Jc(22,At,2,0,"mat-chip",17),F.Jc(23,Ft,2,0,"mat-chip",18),F.Wb(),F.Wb(),F.Xb(24,"td"),F.Lc(25),F.Wb(),F.Xb(26,"td"),F.Lc(27),F.Wb(),F.Xb(28,"td"),F.Lc(29),F.Wb(),F.Xb(30,"td"),F.Lc(31),F.Wb(),F.Xb(32,"td"),F.Lc(33),F.kc(34,"date"),F.Wb(),F.Xb(35,"td",4),F.Lc(36),F.kc(37,"number"),F.Wb(),F.Xb(38,"td",4),F.Lc(39),F.kc(40,"number"),F.Wb(),F.Xb(41,"td"),F.Lc(42),F.Wb(),F.Xb(43,"td"),F.Lc(44),F.Wb(),F.Xb(45,"td"),F.Lc(46),F.Wb(),F.Wb()),2&t){var n=e.$implicit,o=e.index,a=F.jc();F.Db(2),F.Mc(o+1),F.Db(1),F.pc("matTooltip",n.volume_check?"":"Thi\u1ebfu container so v\u1edbi volume")("ngClass",F.rc(39,Jt,!n.volume_check)),F.Db(1),F.pc("routerLink","/apps/"+a.modul+"/shipment/detail/"+n.id+"/soa"),F.Db(1),F.Mc(n.code),F.Db(2),F.Mc(n.bill),F.Db(2),F.Mc(n.vessel_full_name),F.Db(1),F.pc("ngForOf",a.package),F.Db(1),F.pc("matTooltip",n.customer_name),F.Db(1),F.Mc(n.customer_short_name),F.Db(1),F.pc("matTooltip",n.agent_name),F.Db(1),F.Mc(n.agent_short_name),F.Db(2),F.pc("ngSwitch",n.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6),F.Db(2),F.Mc(n.pol_name),F.Db(2),F.Mc(n.load_terminal_name),F.Db(2),F.Mc(n.pod_name),F.Db(2),F.Mc(n.discharge_terminal_name),F.Db(2),F.Mc(F.mc(34,30,n.depart_time,"MM/dd/yyyy HH:mm")),F.Db(3),F.Mc(F.mc(37,33,n.revenueTotal,"1.0-0")),F.Db(3),F.Mc(F.mc(40,36,n.costTotal,"1.0-0")),F.Db(3),F.Mc(n.cont_move),F.Db(2),F.Mc(n.owner_last_name),F.Db(2),F.Mc(n.create_by_last_name)}}function Nt(t,e){if(1&t&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Ic("bottom",o.inverseOfTranslation2),F.Db(1),F.Mc(o.total[n])}}function Bt(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Nt,2,3,"td",24),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.pc("ngIf",o.total[n]>0)}}var $t,zt,Et=((zt=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.shipment&&(t.shipment.currentValue||null==t.shipment.currentValue)&&(this.shipment=t.shipment.currentValue)}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),t}()).\u0275fac=function(t){return new(t||zt)(F.Rb(J.a))},zt.\u0275cmp=F.Lb({type:zt,selectors:[["dashboard-shipment-list"]],viewQuery:function(t,e){var n;1&t&&F.Sc(W.e,!0),2&t&&F.wc(n=F.gc())&&(e.viewPort=n.first)},inputs:{shipment:"shipment",total:"total",package:"package",permission:"permission",height:"height",modul:"modul"},features:[F.Bb()],decls:67,vars:82,consts:[["fxLayout","column"],["itemSize","43",1,"h-100-p"],[1,"simple","dashboard-table"],[4,"ngFor","ngForOf"],[1,"text-right"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"text-bold"],["colspan","2",1,"text-bold"],[1,"text-right","text-bold"],["class","text-center",3,"top",4,"ngIf"],[1,"text-center"],[3,"matTooltip","ngClass"],[1,"cursor-pointer",3,"routerLink"],[3,"matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],["class","text-center",3,"ngClass",4,"ngIf"],[1,"text-center",3,"ngClass"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""],["class","text-bold text-center",3,"bottom",4,"ngIf"],[1,"text-bold","text-center"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"cdk-virtual-scroll-viewport",1),F.Xb(2,"table",2),F.Xb(3,"thead"),F.Xb(4,"tr"),F.Xb(5,"th"),F.Lc(6,"No"),F.Wb(),F.Xb(7,"th"),F.Lc(8,"Code"),F.Wb(),F.Xb(9,"th"),F.Lc(10,"Bill"),F.Wb(),F.Xb(11,"th"),F.Lc(12,"Voyage"),F.Wb(),F.Jc(13,Ct,2,1,"ng-container",3),F.Xb(14,"th"),F.Lc(15,"Customer"),F.Wb(),F.Xb(16,"th"),F.Lc(17,"Agent"),F.Wb(),F.Xb(18,"th"),F.Lc(19,"Process"),F.Wb(),F.Xb(20,"th"),F.Lc(21,"POL"),F.Wb(),F.Xb(22,"th"),F.Lc(23,"Load terminal"),F.Wb(),F.Xb(24,"th"),F.Lc(25,"POD"),F.Wb(),F.Xb(26,"th"),F.Lc(27,"Discharge terminal"),F.Wb(),F.Xb(28,"th"),F.Lc(29,"ETD"),F.Wb(),F.Xb(30,"th",4),F.Lc(31,"Revenue"),F.Wb(),F.Xb(32,"th",4),F.Lc(33,"Cost"),F.Wb(),F.Xb(34,"th"),F.Lc(35,"Cont/Move"),F.Wb(),F.Xb(36,"th"),F.Lc(37,"Owner"),F.Wb(),F.Xb(38,"th"),F.Lc(39,"Create by"),F.Wb(),F.Wb(),F.Wb(),F.Xb(40,"tbody"),F.Jc(41,Rt,47,41,"tr",5),F.Wb(),F.Xb(42,"tfoot"),F.Xb(43,"tr"),F.Xb(44,"td",6),F.Lc(45,"Total"),F.Wb(),F.Xb(46,"td",7),F.Lc(47),F.Wb(),F.Sb(48,"td"),F.Jc(49,Bt,2,1,"ng-container",3),F.Sb(50,"td"),F.Sb(51,"td"),F.Sb(52,"td"),F.Sb(53,"td"),F.Sb(54,"td"),F.Sb(55,"td"),F.Sb(56,"td"),F.Sb(57,"td"),F.Xb(58,"td",8),F.Lc(59),F.kc(60,"number"),F.Wb(),F.Xb(61,"td",8),F.Lc(62),F.kc(63,"number"),F.Wb(),F.Sb(64,"td"),F.Sb(65,"td"),F.Sb(66,"td"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Ic("height",e.height,"px"),F.Db(5),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.pc("ngForOf",e.package),F.Db(1),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(3),F.pc("cdkVirtualForOf",e.shipment),F.Db(3),F.Ic("bottom",e.inverseOfTranslation2),F.Db(2),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Pc("",e.total.teu," Teus of ",e.shipment.length," Shipment",e.shipment.length>0?"s":"",""),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.pc("ngForOf",e.package),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(60,76,e.total.revenue,"1.0-0")),F.Db(2),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(63,79,e.total.cost,"1.0-0")),F.Db(2),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2),F.Db(1),F.Ic("bottom",e.inverseOfTranslation2))},directives:[q.d,W.e,W.a,Y.s,W.d,Y.t,h.a,Y.q,Q.a,i.j,w.c,Y.x,Y.y,w.a],pipes:[Y.g,Y.f],styles:["dashboard-shipment-list .dashboard-table{font-size:12px}dashboard-shipment-list .dashboard-table td,dashboard-shipment-list .dashboard-table th{padding:8px!important;white-space:nowrap}dashboard-shipment-list .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-shipment-list .dashboard-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-shipment-list .dashboard-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-shipment-list .dashboard-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-shipment-list .dashboard-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}dashboard-shipment-list .dashboard-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}"],encapsulation:2,data:{animation:_t.a}}),zt),Ht=(($t=function(){function t(e,n,o,a,i){if(_classCallCheck(this,t),this.router=e,this.route=n,this._activatedRoute=o,this.authService=a,this.dashboardService=i,this.package=[],this.height=560,this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var r=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(r)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-16-4:t.authService.screenHeight-64-64-16-4})),this.dashboardService.onShipmentChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.shipment=e.shipment,t.total=e.total,t.package=t.shipment.length>0?t.shipment[0].package:[]}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||$t)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(J.a),F.Rb(N))},$t.\u0275cmp=F.Lb({type:$t,selectors:[["dashboard-list"]],decls:1,vars:6,consts:[[3,"modul","shipment","total","package","permission","height"]],template:function(t,e){1&t&&F.Sb(0,"dashboard-shipment-list",0),2&t&&F.pc("modul",e.modul)("shipment",e.shipment)("total",e.total)("package",e.package)("permission",e.permission)("height",e.height)},directives:[Et],styles:[""],encapsulation:2,data:{animation:_t.a}}),$t);function Ut(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",9),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function Yt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",10),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueVNOpen=!e.revenueVNOpen})),F.Lc(1,"add"),F.Wb()}}function qt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueVNOpen=!e.revenueVNOpen})),F.Lc(1,"removed"),F.Wb()}}function Gt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",10),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueNNOpen=!e.revenueNNOpen})),F.Lc(1,"add"),F.Wb()}}function Qt(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueNNOpen=!e.revenueNNOpen})),F.Lc(1,"removed"),F.Wb()}}function Kt(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",9),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit;F.Db(2),F.Mc(o[n])}}function Zt(t,e){if(1&t&&(F.Xb(0,"td",18),F.Xb(1,"div",19),F.Xb(2,"span",20),F.Lc(3),F.Wb(),F.Xb(4,"span",21),F.Lc(5),F.kc(6,"number"),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Oc("",n.code," ",n.currency,""),F.Db(2),F.Mc(F.mc(6,4,a.priceObj[o.id].revenueVNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function te(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Zt,7,7,"td",17),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.priceObj[o.id].revenueVNPrice[n.code+n.currency+n.payment_center])}}function ee(t,e){if(1&t&&(F.Vb(0),F.Jc(1,te,2,1,"ng-container",3),F.Ub()),2&t){var n=F.jc(2);F.Db(1),F.pc("ngForOf",n.priceHeader)}}function ne(t,e){if(1&t&&(F.Xb(0,"td",18),F.Xb(1,"div",19),F.Xb(2,"span",20),F.Lc(3),F.Wb(),F.Xb(4,"span",21),F.Lc(5),F.kc(6,"number"),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Oc("",n.code," ",n.currency,""),F.Db(2),F.Mc(F.mc(6,4,a.priceObj[o.id].revenueNNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function oe(t,e){if(1&t&&(F.Vb(0),F.Jc(1,ne,7,7,"td",17),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.priceObj[o.id].revenueNNPrice[n.code+n.currency+n.payment_center])}}function ae(t,e){if(1&t&&(F.Vb(0),F.Jc(1,oe,2,1,"ng-container",3),F.Ub()),2&t){var n=F.jc(2);F.Db(1),F.pc("ngForOf",n.priceHeader)}}var ie=function(t){return{"text-strike red-A700-fg":t}};function re(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr",12),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",13),F.Xb(4,"a",14),F.fc("click",(function(t){return F.Bc(n),F.jc().matDialogRef.close()})),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Xb(8,"td"),F.Lc(9),F.Wb(),F.Xb(10,"td"),F.Lc(11),F.Wb(),F.Xb(12,"td"),F.Lc(13),F.Wb(),F.Xb(14,"td"),F.Lc(15),F.Wb(),F.Xb(16,"td"),F.Lc(17),F.Wb(),F.Xb(18,"td"),F.Lc(19),F.kc(20,"date"),F.Wb(),F.Xb(21,"td"),F.Lc(22),F.kc(23,"date"),F.Wb(),F.Jc(24,Kt,3,1,"ng-container",3),F.Xb(25,"td"),F.Lc(26),F.Wb(),F.Xb(27,"td"),F.Lc(28),F.Wb(),F.Xb(29,"td"),F.Lc(30),F.Wb(),F.Xb(31,"td",15),F.Jc(32,ee,2,1,"ng-container",16),F.Wb(),F.Xb(33,"td",15),F.Jc(34,ae,2,1,"ng-container",16),F.Wb(),F.Wb()}if(2&t){var o=e.$implicit,a=e.index,i=F.jc();F.pc("ngClass",F.rc(25,ie,!o.type)),F.Db(2),F.Mc(a+1),F.Db(2),F.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+o.id+"/overview"),F.Db(1),F.Mc(o.book.code),F.Db(2),F.Mc(o.book.customer.short_name),F.Db(2),F.Oc("",o.voyage.vessel_name," ",o.voyage.name,""),F.Db(2),F.Mc(o.voyage.load_port_name),F.Db(2),F.Mc(o.voyage.load_terminal_name),F.Db(2),F.Mc(o.voyage.discharge_port_name),F.Db(2),F.Mc(o.voyage.discharge_terminal_name),F.Db(2),F.Mc(F.mc(20,19,o.voyage.depart_time,"MM/dd/yyyy HH:mm")),F.Db(3),F.Mc(F.mc(23,22,o.voyage.arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngForOf",i.bookType),F.Db(2),F.Mc(o.book.commodity),F.Db(2),F.Mc(o.name?o.name:o.user),F.Db(2),F.Mc(o.book.create_by?o.book.create_by.name:o.user),F.Db(2),F.pc("ngIf",i.revenueVNOpen),F.Db(2),F.pc("ngIf",i.revenueNNOpen)}}function ce(t,e){if(1&t&&(F.Xb(0,"td",23),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(o.total[n])}}function se(t,e){if(1&t&&(F.Vb(0),F.Jc(1,ce,2,1,"td",22),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.pc("ngIf",o.total[n]>0)}}var be,le,de=((le=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.revenueVNOpen=!0,this.revenueNNOpen=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.filterBook&&(t.filterBook.currentValue||null==t.filterBook.currentValue)&&(this.filterBook=t.filterBook.currentValue)}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),t}()).\u0275fac=function(t){return new(t||le)(F.Rb(J.a))},le.\u0275cmp=F.Lb({type:le,selectors:[["dashboard-book-list"]],viewQuery:function(t,e){var n;1&t&&F.Sc(W.e,!0),2&t&&F.wc(n=F.gc())&&(e.viewPort=n.first)},inputs:{filterBook:"filterBook",bookWeek:"bookWeek",bookType:"bookType",package:"package",price:"price",priceHeader:"priceHeader",priceObj:"priceObj",permission:"permission",height:"height",contType:"contType",total:"total",modul:"modul"},features:[F.Bb()],decls:64,vars:9,consts:[[2,"overflow","auto"],[1,"simple","dashboard-table"],[1,"sticky-col1",2,"z-index","25"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"sticky-col1","text-bold"],[1,"text-center"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[3,"ngClass"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink","click"],[2,"padding","0"],[4,"ngIf"],["style","padding: 4px","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],["class","text-center text-bold",4,"ngIf"],[1,"text-center","text-bold"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"table",1),F.Xb(2,"thead"),F.Xb(3,"tr"),F.Xb(4,"th"),F.Lc(5,"No"),F.Wb(),F.Xb(6,"th",2),F.Lc(7,"Code"),F.Wb(),F.Xb(8,"th"),F.Lc(9,"Customer"),F.Wb(),F.Xb(10,"th"),F.Lc(11,"Voyage"),F.Wb(),F.Xb(12,"th"),F.Lc(13,"Load port"),F.Wb(),F.Xb(14,"th"),F.Lc(15,"Load terminal"),F.Wb(),F.Xb(16,"th"),F.Lc(17,"Discharge port"),F.Wb(),F.Xb(18,"th"),F.Lc(19,"Discharge terminal"),F.Wb(),F.Xb(20,"th"),F.Lc(21,"ETD"),F.Wb(),F.Xb(22,"th"),F.Lc(23,"ETA"),F.Wb(),F.Jc(24,Ut,3,1,"ng-container",3),F.Xb(25,"th"),F.Lc(26,"Commodity"),F.Wb(),F.Xb(27,"th"),F.Lc(28,"Owner"),F.Wb(),F.Xb(29,"th"),F.Lc(30,"Create by"),F.Wb(),F.Xb(31,"th"),F.Xb(32,"div",4),F.Xb(33,"span"),F.Lc(34,"REV VN"),F.Wb(),F.Jc(35,Yt,2,0,"mat-icon",5),F.Jc(36,qt,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Xb(37,"th"),F.Xb(38,"div",4),F.Xb(39,"span"),F.Lc(40,"REV NN"),F.Wb(),F.Jc(41,Gt,2,0,"mat-icon",5),F.Jc(42,Qt,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(43,"tbody"),F.Jc(44,re,35,27,"tr",7),F.Wb(),F.Xb(45,"tfoot"),F.Xb(46,"tr"),F.Sb(47,"td"),F.Xb(48,"td",8),F.Lc(49,"Total"),F.Wb(),F.Sb(50,"td"),F.Sb(51,"td"),F.Sb(52,"td"),F.Sb(53,"td"),F.Sb(54,"td"),F.Sb(55,"td"),F.Sb(56,"td"),F.Sb(57,"td"),F.Jc(58,se,2,1,"ng-container",3),F.Sb(59,"td"),F.Sb(60,"td"),F.Sb(61,"td"),F.Sb(62,"td"),F.Sb(63,"td"),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Ic("height",e.height,"px"),F.Db(24),F.pc("ngForOf",e.bookType),F.Db(11),F.pc("ngIf",!e.revenueVNOpen),F.Db(1),F.pc("ngIf",e.revenueVNOpen),F.Db(5),F.pc("ngIf",!e.revenueNNOpen),F.Db(1),F.pc("ngIf",e.revenueNNOpen),F.Db(2),F.pc("ngForOf",e.filterBook),F.Db(14),F.pc("ngForOf",e.bookType))},directives:[Y.s,q.d,q.c,Y.t,p.a,Y.q,Q.a,i.j,h.a],pipes:[Y.f,Y.g],styles:["dashboard-book-list .dashboard-table{font-size:12px}dashboard-book-list .dashboard-table td,dashboard-book-list .dashboard-table th{padding:8px!important;white-space:nowrap}dashboard-book-list .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-book-list .dashboard-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-book-list .dashboard-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-book-list .dashboard-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-book-list .dashboard-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}dashboard-book-list .dashboard-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}"],encapsulation:2,data:{animation:_t.a}}),le),pe=((be=function(){function t(e,n,o,a,i){if(_classCallCheck(this,t),this.router=e,this.route=n,this._activatedRoute=o,this.authService=a,this.dashboardService=i,this.package=[],this.price=[],this.priceHeader=[],this.priceObj={},this.height=560,this.contType=[],this.total={},this.revenueVNOpen=!0,this.revenueNNOpen=!0,this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var r=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(r)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-16-4:t.authService.screenHeight-64-64-16-4})),this.dashboardService.onBookOverviewChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){e.length>0&&(t.filterBook=t.dashboardService.filterBook,t.priceHeader=t.dashboardService.priceHeader,t.priceObj=t.dashboardService.priceObj,t.bookWeek=e[1],t.bookType=e[2],t.contType=[],t.total={},t.filterBook.map((function(e){e.book.volume&&e.book.volume.map((function(e){t.contType.includes(e.cont_type.code)||(t.contType.push(e.cont_type.code),t.total[e.cont_type.code]=0),t.total[e.cont_type.code]+=e.quantity}))})),t.contType.sort())}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||be)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(J.a),F.Rb(N))},be.\u0275cmp=F.Lb({type:be,selectors:[["dashboard-book"]],decls:1,vars:12,consts:[[3,"modul","filterBook","bookWeek","bookType","package","price","priceHeader","priceObj","contType","total","permission","height"]],template:function(t,e){1&t&&F.Sb(0,"dashboard-book-list",0),2&t&&F.pc("modul",e.modul)("filterBook",e.filterBook)("bookWeek",e.bookWeek)("bookType",e.bookType)("package",e.package)("price",e.price)("priceHeader",e.priceHeader)("priceObj",e.priceObj)("contType",e.contType)("total",e.total)("permission",e.permission)("height",e.height)},directives:[de],styles:["dashboard-book .dashboard-table{font-size:12px}dashboard-book .dashboard-table td,dashboard-book .dashboard-table th{padding:8px;white-space:nowrap}dashboard-book .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-book .dashboard-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-book .dashboard-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-book .dashboard-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-book .dashboard-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}dashboard-book .dashboard-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}"],encapsulation:2,data:{animation:_t.a}}),be),he=n("zK0N");function ue(t,e){if(1&t&&(F.Xb(0,"mat-option",7),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("value",n),F.Db(1),F.Mc(n)}}function me(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function fe(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function ge(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc(3).$implicit,a=F.jc(2);F.Db(1),F.Eb("rowspan",a.dataVessel[o].shipment.length),F.Db(1),F.Mc(a.dataVessel[o][n])}}function ve(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td"),F.Lc(4),F.Wb(),F.Xb(5,"td"),F.Lc(6),F.kc(7,"date"),F.Wb(),F.Xb(8,"td"),F.Lc(9),F.kc(10,"date"),F.Wb(),F.Jc(11,ge,3,2,"ng-container",15),F.Ub()),2&t){var n=F.jc().$implicit,o=F.jc(),a=o.$implicit,i=o.index,r=F.jc(2);F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length),F.Db(1),F.Mc(i+1),F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length),F.Db(1),F.Oc("",n.voyage.vessel_name," ",n.voyage.name,""),F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length),F.Db(1),F.Mc(F.mc(7,10,n.voyage.depart_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.Eb("rowspan",r.dataVessel[a].shipment.length),F.Db(1),F.Mc(F.mc(10,13,n.voyage.arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngForOf",r.contType)}}function ye(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit;F.Db(2),F.Mc(o[n])}}function ke(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr"),F.Jc(1,ve,12,16,"ng-container",26),F.Xb(2,"td",27),F.Xb(3,"a",28),F.fc("click",(function(t){return F.Bc(n),F.jc(3).matDialogRef.close()})),F.Lc(4),F.Wb(),F.Wb(),F.Xb(5,"td"),F.Lc(6),F.Wb(),F.Jc(7,ye,3,1,"ng-container",15),F.Xb(8,"td"),F.Lc(9),F.Wb(),F.Xb(10,"td"),F.Lc(11),F.Wb(),F.Xb(12,"td"),F.Lc(13),F.Wb(),F.Xb(14,"td"),F.Lc(15),F.Wb(),F.Xb(16,"td"),F.Lc(17),F.Wb(),F.Wb()}if(2&t){var o=e.$implicit,a=e.index,i=F.jc(3);F.Db(1),F.pc("ngIf",0==a),F.Db(2),F.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+o.id+"/overview"),F.Db(1),F.Mc(o.book.code),F.Db(2),F.Mc(o.book.customer.short_name),F.Db(1),F.pc("ngForOf",i.contType),F.Db(2),F.Mc(o.voyage.load_terminal_name),F.Db(2),F.Mc(o.voyage.discharge_terminal_name),F.Db(2),F.Mc(o.book.commodity),F.Db(2),F.Mc(o.name?o.name:o.user),F.Db(2),F.Mc(o.book.create_by?o.book.create_by.name:o.user)}}function xe(t,e){if(1&t&&(F.Vb(0),F.Jc(1,ke,18,10,"tr",15),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2);F.Db(1),F.pc("ngForOf",o.dataVessel[n].shipment)}}function De(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"tr"),F.Xb(2,"td",25),F.Lc(3),F.Wb(),F.Wb(),F.Jc(4,xe,2,1,"ng-container",15),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Eb("colspan",12+o.contType.length),F.Db(1),F.Mc(n),F.Db(1),F.pc("ngForOf",o.voyage[n])}}function we(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",29),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Mc(o.total[n])}}function We(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function _e(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function Xe(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",30),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueVNOpen=!e.revenueVNOpen})),F.Lc(1,"add"),F.Wb()}}function Se(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",31),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueVNOpen=!e.revenueVNOpen})),F.Lc(1,"removed"),F.Wb()}}function Ce(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",30),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueNNOpen=!e.revenueNNOpen})),F.Lc(1,"add"),F.Wb()}}function Le(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",31),F.fc("click",(function(t){F.Bc(n);var e=F.jc();return t.stopPropagation(),e.revenueNNOpen=!e.revenueNNOpen})),F.Lc(1,"removed"),F.Wb()}}function Oe(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc(4).$implicit,a=F.jc(2);F.Db(1),F.Eb("rowspan",a.dataVessel[o].shipment.length+a.dataVessel[o].container),F.Db(1),F.Mc(a.dataVessel[o][n])}}function Me(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td"),F.Lc(4),F.Wb(),F.Xb(5,"td"),F.Lc(6),F.kc(7,"date"),F.Wb(),F.Xb(8,"td"),F.Lc(9),F.kc(10,"date"),F.Wb(),F.Jc(11,Oe,3,2,"ng-container",15),F.Ub()),2&t){var n=F.jc(2).$implicit,o=F.jc(),a=o.$implicit,i=o.index,r=F.jc(2);F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length+r.dataVessel[a].container),F.Db(1),F.Mc(i+1),F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length+r.dataVessel[a].container),F.Db(1),F.Oc("",n.voyage.vessel_name," ",n.voyage.name,""),F.Db(1),F.Eb("rowspan",r.dataVessel[a].shipment.length+r.dataVessel[a].container),F.Db(1),F.Mc(F.mc(7,10,n.voyage.depart_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.Eb("rowspan",r.dataVessel[a].shipment.length+r.dataVessel[a].container),F.Db(1),F.Mc(F.mc(10,13,n.voyage.arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngForOf",r.contType)}}function Te(t,e){if(1&t){var n=F.Yb();F.Xb(0,"mat-icon",35),F.fc("click",(function(t){F.Bc(n);var e=F.jc(3).$implicit;return F.jc(3).openModal(e)})),F.Lc(1,"add"),F.Wb()}2&t&&F.pc("matTooltip","Add container")}function je(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc(3).$implicit;F.Db(1),F.Eb("rowspan",o.bookConfirm.contArr.length),F.Db(1),F.Mc(o[n])}}function Ie(t,e){if(1&t&&(F.Xb(0,"td",37),F.Xb(1,"div",38),F.Xb(2,"span",39),F.Lc(3),F.Wb(),F.Xb(4,"span",40),F.Lc(5),F.kc(6,"number"),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(4).$implicit,a=F.jc(3);F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Oc("",n.code," ",n.currency,""),F.Db(2),F.Mc(F.mc(6,4,a.priceObj[o.id].revenueVNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function Pe(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Ie,7,7,"td",36),F.Ub()),2&t){var n=e.$implicit,o=F.jc(4).$implicit,a=F.jc(3);F.Db(1),F.pc("ngIf",a.priceObj[o.id].revenueVNPrice[n.code+n.currency+n.payment_center])}}function Ve(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Pe,2,1,"ng-container",15),F.Ub()),2&t){var n=F.jc(6);F.Db(1),F.pc("ngForOf",n.priceHeader)}}function Ae(t,e){if(1&t&&(F.Xb(0,"td",37),F.Xb(1,"div",38),F.Xb(2,"span",39),F.Lc(3),F.Wb(),F.Xb(4,"span",40),F.Lc(5),F.kc(6,"number"),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(5).$implicit,a=F.jc(3);F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Oc("",n.code," ",n.currency,""),F.Db(2),F.Mc(F.mc(6,4,a.priceObj[o.id].revenueNNPrice[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function Fe(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Ae,7,7,"td",36),F.Ub()),2&t){var n=e.$implicit,o=F.jc(5).$implicit,a=F.jc(3);F.Db(1),F.pc("ngIf",a.priceObj[o.id].revenueNNPrice[n.code+n.currency+n.payment_center])}}function Je(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Fe,2,1,"ng-container",15),F.Ub()),2&t){var n=F.jc(7);F.Db(1),F.pc("ngForOf",n.priceHeader)}}function Re(t,e){if(1&t&&(F.Xb(0,"td",33),F.Jc(1,Je,2,1,"ng-container",26),F.Wb()),2&t){var n=F.jc(3).$implicit,o=F.jc(3);F.Eb("rowspan",n.bookConfirm.contArr.length),F.Db(1),F.pc("ngIf",o.revenueNNOpen)}}function Ne(t,e){if(1&t){var n=F.Yb();F.Vb(0),F.Xb(1,"td",27),F.Xb(2,"div",20),F.Xb(3,"a",28),F.fc("click",(function(t){return F.Bc(n),F.jc(5).matDialogRef.close()})),F.Lc(4),F.Wb(),F.Jc(5,Te,2,1,"mat-icon",32),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Jc(8,je,3,2,"ng-container",15),F.Xb(9,"td"),F.Lc(10),F.Wb(),F.Xb(11,"td"),F.Lc(12),F.Wb(),F.Xb(13,"td"),F.Lc(14),F.Wb(),F.Xb(15,"td"),F.Lc(16),F.Wb(),F.Xb(17,"td"),F.Lc(18),F.Wb(),F.Xb(19,"td",33),F.Jc(20,Ve,2,1,"ng-container",26),F.Wb(),F.Jc(21,Re,2,2,"td",34),F.Ub()}if(2&t){var o=F.jc().index,a=F.jc().$implicit,i=F.jc(3);F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(2),F.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+a.id+"/overview"),F.Db(1),F.Mc(a.book.code),F.Db(1),F.pc("ngIf",0==o),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.book.customer.short_name),F.Db(1),F.pc("ngForOf",i.contType),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.voyage.load_terminal_name),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.voyage.discharge_terminal_name),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.book.commodity),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.name?a.name:a.user),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.Mc(a.book.create_by?a.book.create_by.name:a.user),F.Db(1),F.Eb("rowspan",a.bookConfirm.contArr.length),F.Db(1),F.pc("ngIf",i.revenueVNOpen),F.Db(1),F.pc("ngIf",i.revenueNNOpen)}}function Be(t,e){if(1&t&&(F.Xb(0,"tr"),F.Jc(1,Me,12,16,"ng-container",26),F.Jc(2,Ne,22,20,"ng-container",26),F.Xb(3,"td",23),F.Lc(4),F.Wb(),F.Xb(5,"td"),F.Lc(6),F.Wb(),F.Wb()),2&t){var n=e.$implicit,o=e.index,a=F.jc().index;F.Db(1),F.pc("ngIf",0==a&&0==o),F.Db(1),F.pc("ngIf",0==o),F.Db(2),F.Mc(n.container),F.Db(2),F.Mc(n.type)}}function $e(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Be,7,4,"tr",15),F.Ub()),2&t){var n=e.$implicit;F.Db(1),F.pc("ngForOf",n.bookConfirm.contArr)}}function ze(t,e){if(1&t&&(F.Vb(0),F.Jc(1,$e,2,1,"ng-container",15),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2);F.Db(1),F.pc("ngForOf",o.dataVessel[n].shipment)}}function Ee(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"tr"),F.Xb(2,"td",25),F.Lc(3),F.Wb(),F.Wb(),F.Jc(4,ze,2,1,"ng-container",15),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Eb("colspan",15+o.contType.length),F.Db(1),F.Mc(n),F.Db(1),F.pc("ngForOf",o.voyage[n])}}function He(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",29),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Mc(o.total[n])}}function Ue(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(2),F.Mc(n)}}function Ye(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",24),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit;F.Db(2),F.Mc(o[n])}}function qe(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr"),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",27),F.Xb(4,"a",28),F.fc("click",(function(t){return F.Bc(n),F.jc(2).matDialogRef.close()})),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Xb(8,"td"),F.Lc(9),F.Wb(),F.Jc(10,Ye,3,1,"ng-container",15),F.Xb(11,"td"),F.Lc(12),F.Wb(),F.Xb(13,"td"),F.Lc(14),F.kc(15,"date"),F.Wb(),F.Xb(16,"td"),F.Lc(17),F.Wb(),F.Xb(18,"td"),F.Lc(19),F.kc(20,"date"),F.Wb(),F.Xb(21,"td"),F.Lc(22),F.Wb(),F.Xb(23,"td"),F.Lc(24),F.Wb(),F.Xb(25,"td"),F.Lc(26),F.Wb(),F.Wb()}if(2&t){var o=e.$implicit,a=e.index,i=F.jc(2);F.Db(2),F.Mc(a+1),F.Db(2),F.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+o.id+"/overview"),F.Db(1),F.Mc(o.book.code),F.Db(2),F.Mc(o.book.customer.short_name),F.Db(2),F.Oc("",o.voyage.vessel_name," ",o.voyage.name,""),F.Db(1),F.pc("ngForOf",i.contType),F.Db(2),F.Mc(o.voyage.load_terminal_name),F.Db(2),F.Mc(F.mc(15,14,o.voyage.depart_time,"MM/dd/yyyy HH:mm")),F.Db(3),F.Mc(o.voyage.discharge_terminal_name),F.Db(2),F.Mc(F.mc(20,17,o.voyage.arrive_time,"MM/dd/yyyy HH:mm")),F.Db(3),F.Mc(o.book.commodity),F.Db(2),F.Mc(o.name?o.name:o.user),F.Db(2),F.Mc(o.book.create_by?o.book.create_by.name:o.user)}}function Ge(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"tr"),F.Xb(2,"td",25),F.Lc(3),F.Wb(),F.Wb(),F.Jc(4,qe,27,20,"tr",15),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Eb("colspan",12+o.contType.length),F.Db(1),F.Mc(n),F.Db(1),F.pc("ngForOf",o.data[n])}}function Qe(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",41),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(2),F.Mc(o.total[n])}}var Ke,Ze=((Ke=function(){function t(e,n,o,a,i,r,c){var s=this;_classCallCheck(this,t),this.router=e,this.matDialogRef=n,this._data=o,this.authService=a,this.commonService=i,this._matDialog=r,this.datePipe=c,this.vessel=[],this.data={},this.dataVessel={},this.voyage={},this.sptRouter=[],this.book=[],this.filterBook=[],this.selected=0,this.total={},this.priceHeader=[],this.priceObj={},this.selectedVessel="all",this.revenueVNOpen=!0,this.revenueNNOpen=!0,this.height=500,this.label=o.label,this.book=o.data,this.contType=o.contType,this.priceHeader=o.priceHeader,this.priceObj=o.priceObj,this.height=o.height,this.modul=o.modul,this.bookFirebaseService=o.bookFirebaseService,this.vessel=[],this.book.map((function(t){s.vessel.includes(t.voyage.vessel_name+" "+t.voyage.name)||s.vessel.push(t.voyage.vessel_name+" "+t.voyage.name)})),this.filterBook=this.book.slice(),this.buildReport()}return _createClass(t,[{key:"ngOnInit",value:function(){this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"selectedChanged",value:function(t){this.filterBook="all"!=t.value?this.book.filter((function(e){return e.voyage.vessel_name+" "+e.voyage.name==t.value})):this.book.slice(),this.buildReport()}},{key:"buildReport",value:function(){var t=this;this.sptRouter=[],this.data={},this.voyage={},this.dataVessel={},this.total={},this.filterBook.map((function(e){e.bookConfirm.contArr&&0!=e.bookConfirm.contArr.length||(e.bookConfirm.contArr=[{container:null,type:null}]);var n=e.voyage.load_port_name+"-"+e.voyage.discharge_port_name;t.sptRouter.includes(n)?t.data[n].push(e):(t.sptRouter.push(n),t.data[n]=[e])})),this.sptRouter.map((function(e){t.voyage[e]=[],t.data[e].map((function(n){var o=n.voyage,a=o.depart_time+"-"+o.vessel_name+"-"+o.name;t.dataVessel[a]||(t.dataVessel[a]={voyage_name:o.name,vessel_name:o.vessel_name,pol_name:o.load_port_name,pod_name:o.discharge_port_name,depart_time:o.depart_time,arrive_time:o.arrive_time,closing_time:o.closing_time,shipment:[],container:0},t.voyage[e].push(a)),t.dataVessel[a].shipment.push(n),t.dataVessel[a].container+=n.bookConfirm.contArr.length-1,n.book.volume.map((function(e){t.dataVessel[a][e.cont_type.code]?t.dataVessel[a][e.cont_type.code]+=e.quantity:t.dataVessel[a][e.cont_type.code]=e.quantity,t.total[e.cont_type.code]?t.total[e.cont_type.code]+=e.quantity:t.total[e.cont_type.code]=e.quantity}))}))})),console.log(this.dataVessel)}},{key:"openModal",value:function(t){var e=this;this.dialogRef=this._matDialog.open(he.a,{panelClass:"bookings-details-container-modal-dialog",data:{label:"Add/Remove container",data:t.bookConfirm}}),this.dialogRef.afterClosed().subscribe((function(n){n&&(t.bookConfirm.contArr=n.contArr?n.contArr:[],e.bookFirebaseService.updateDatabaseBookingById(t.id,t),e.filterBook=e.book.slice(),e.buildReport())}))}}]),t}()).\u0275fac=function(t){return new(t||Ke)(F.Rb(i.g),F.Rb(v.f),F.Rb(v.a),F.Rb(J.a),F.Rb(j.a),F.Rb(v.b),F.Rb(Y.f))},Ke.\u0275cmp=F.Lb({type:Ke,selectors:[["dashboard-modal-dialog"]],decls:183,vars:25,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-button","",3,"color","click"],["mat-button","",1,"ml-8",3,"color","click"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["mat-icon-button","","aria-label","Close dialog",3,"click"],[1,"p-16","pb-0","m-0",2,"overflow","auto"],[1,"header-less-tabs",3,"selectedIndex"],[1,"viewer-panel"],[1,"simple","dashboard-table"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"sticky-col1","text-bold"],[1,"w-40","p-0","sticky-right-col"],[1,"simple","dashboard-table2"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[1,"sticky-right-col"],[1,"text-center"],[1,"text-bold","row-router"],[4,"ngIf"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink","click"],[1,"text-bold","text-center"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],["class","cursor-pointer","color","accent",3,"matTooltip","click",4,"ngIf"],[2,"padding","0"],["style","padding: 0",4,"ngIf"],["color","accent",1,"cursor-pointer",3,"matTooltip","click"],["style","padding: 4px","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-center","text-bold"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"mat-toolbar",1),F.Xb(2,"mat-toolbar-row",2),F.Xb(3,"div"),F.Xb(4,"span",3),F.Lc(5),F.Wb(),F.Xb(6,"button",4),F.fc("click",(function(t){return e.selected=0})),F.Lc(7,"Vessel"),F.Wb(),F.Xb(8,"button",4),F.fc("click",(function(t){return e.selected=1})),F.Lc(9,"Container"),F.Wb(),F.Xb(10,"button",5),F.fc("click",(function(t){return e.selected=2})),F.Lc(11,"Router"),F.Wb(),F.Wb(),F.Xb(12,"div"),F.Xb(13,"mat-form-field"),F.Xb(14,"mat-select",6),F.fc("ngModelChange",(function(t){return e.selectedVessel=t}))("selectionChange",(function(t){return e.selectedChanged(t)})),F.Xb(15,"mat-option",7),F.Lc(16,"All"),F.Wb(),F.Jc(17,ue,2,2,"mat-option",8),F.Wb(),F.Xb(18,"span",9),F.Lc(19,"Vessel:\xa0"),F.Wb(),F.Wb(),F.Xb(20,"button",10),F.fc("click",(function(t){return e.matDialogRef.close()})),F.Xb(21,"mat-icon"),F.Lc(22,"close"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(23,"div",11),F.Xb(24,"mat-tab-group",12),F.Xb(25,"mat-tab"),F.Xb(26,"div",13),F.Xb(27,"table",14),F.Xb(28,"thead"),F.Xb(29,"tr"),F.Xb(30,"th"),F.Lc(31,"No"),F.Wb(),F.Xb(32,"th"),F.Lc(33,"Voyage"),F.Wb(),F.Xb(34,"th"),F.Lc(35,"ETD"),F.Wb(),F.Xb(36,"th"),F.Lc(37,"ETA"),F.Wb(),F.Jc(38,me,3,1,"ng-container",15),F.Xb(39,"th",16),F.Lc(40,"Code"),F.Wb(),F.Xb(41,"th"),F.Lc(42,"Customer"),F.Wb(),F.Jc(43,fe,3,1,"ng-container",15),F.Xb(44,"th"),F.Lc(45,"Load terminal"),F.Wb(),F.Xb(46,"th"),F.Lc(47,"Discharge terminal"),F.Wb(),F.Xb(48,"th"),F.Lc(49,"Commodity"),F.Wb(),F.Xb(50,"th"),F.Lc(51,"Owner"),F.Wb(),F.Xb(52,"th"),F.Lc(53,"Create by"),F.Wb(),F.Wb(),F.Wb(),F.Xb(54,"tbody"),F.Jc(55,De,5,3,"ng-container",15),F.Wb(),F.Xb(56,"tfoot"),F.Xb(57,"tr"),F.Sb(58,"td"),F.Xb(59,"td",17),F.Lc(60,"Total"),F.Wb(),F.Sb(61,"td"),F.Sb(62,"td"),F.Jc(63,we,3,1,"ng-container",15),F.Sb(64,"td"),F.Sb(65,"td"),F.Sb(66,"td"),F.Sb(67,"td"),F.Sb(68,"td"),F.Sb(69,"td"),F.Sb(70,"td"),F.Sb(71,"td",18),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(72,"mat-tab"),F.Xb(73,"div",13),F.Xb(74,"table",19),F.Xb(75,"thead"),F.Xb(76,"tr"),F.Xb(77,"th"),F.Lc(78,"No"),F.Wb(),F.Xb(79,"th"),F.Lc(80,"Voyage"),F.Wb(),F.Xb(81,"th"),F.Lc(82,"ETD"),F.Wb(),F.Xb(83,"th"),F.Lc(84,"ETA"),F.Wb(),F.Jc(85,We,3,1,"ng-container",15),F.Xb(86,"th",16),F.Lc(87,"Code"),F.Wb(),F.Xb(88,"th"),F.Lc(89,"Customer"),F.Wb(),F.Jc(90,_e,3,1,"ng-container",15),F.Xb(91,"th"),F.Lc(92,"Load terminal"),F.Wb(),F.Xb(93,"th"),F.Lc(94,"Discharge terminal"),F.Wb(),F.Xb(95,"th"),F.Lc(96,"Commodity"),F.Wb(),F.Xb(97,"th"),F.Lc(98,"Owner"),F.Wb(),F.Xb(99,"th"),F.Lc(100,"Create by"),F.Wb(),F.Xb(101,"th"),F.Xb(102,"div",20),F.Xb(103,"span"),F.Lc(104,"REV VN"),F.Wb(),F.Jc(105,Xe,2,0,"mat-icon",21),F.Jc(106,Se,2,0,"mat-icon",22),F.Wb(),F.Wb(),F.Xb(107,"th"),F.Xb(108,"div",20),F.Xb(109,"span"),F.Lc(110,"REV NN"),F.Wb(),F.Jc(111,Ce,2,0,"mat-icon",21),F.Jc(112,Le,2,0,"mat-icon",22),F.Wb(),F.Wb(),F.Xb(113,"th",23),F.Lc(114,"Container"),F.Wb(),F.Xb(115,"th"),F.Lc(116,"Type"),F.Wb(),F.Wb(),F.Wb(),F.Xb(117,"tbody"),F.Jc(118,Ee,5,3,"ng-container",15),F.Wb(),F.Xb(119,"tfoot"),F.Xb(120,"tr"),F.Sb(121,"td"),F.Xb(122,"td",17),F.Lc(123,"Total"),F.Wb(),F.Sb(124,"td"),F.Sb(125,"td"),F.Jc(126,He,3,1,"ng-container",15),F.Sb(127,"td"),F.Sb(128,"td"),F.Sb(129,"td"),F.Sb(130,"td"),F.Sb(131,"td"),F.Sb(132,"td"),F.Sb(133,"td"),F.Sb(134,"td"),F.Sb(135,"td"),F.Sb(136,"td"),F.Sb(137,"td"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(138,"mat-tab"),F.Xb(139,"div",13),F.Xb(140,"table",14),F.Xb(141,"thead"),F.Xb(142,"tr"),F.Xb(143,"th"),F.Lc(144,"No"),F.Wb(),F.Xb(145,"th",16),F.Lc(146,"Code"),F.Wb(),F.Xb(147,"th"),F.Lc(148,"Customer"),F.Wb(),F.Xb(149,"th"),F.Lc(150,"Voyage"),F.Wb(),F.Jc(151,Ue,3,1,"ng-container",15),F.Xb(152,"th"),F.Lc(153,"Load terminal"),F.Wb(),F.Xb(154,"th"),F.Lc(155,"ETD"),F.Wb(),F.Xb(156,"th"),F.Lc(157,"Discharge terminal"),F.Wb(),F.Xb(158,"th"),F.Lc(159,"ETA"),F.Wb(),F.Xb(160,"th"),F.Lc(161,"Commodity"),F.Wb(),F.Xb(162,"th"),F.Lc(163,"Owner"),F.Wb(),F.Xb(164,"th"),F.Lc(165,"Create by"),F.Wb(),F.Wb(),F.Wb(),F.Xb(166,"tbody"),F.Jc(167,Ge,5,3,"ng-container",15),F.Wb(),F.Xb(168,"tfoot"),F.Xb(169,"tr"),F.Sb(170,"td"),F.Xb(171,"td",17),F.Lc(172,"Total"),F.Wb(),F.Sb(173,"td"),F.Sb(174,"td"),F.Jc(175,Qe,3,1,"ng-container",15),F.Sb(176,"td"),F.Sb(177,"td"),F.Sb(178,"td"),F.Sb(179,"td"),F.Sb(180,"td"),F.Sb(181,"td"),F.Sb(182,"td"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(5),F.Mc(e.label),F.Db(1),F.pc("color",0==e.selected?"primary":""),F.Db(2),F.pc("color",1==e.selected?"primary":""),F.Db(2),F.pc("color",2==e.selected?"primary":""),F.Db(4),F.pc("ngModel",e.selectedVessel),F.Db(1),F.pc("value","all"),F.Db(2),F.pc("ngForOf",e.vessel),F.Db(6),F.Ic("height",e.height,"px"),F.Db(1),F.pc("selectedIndex",e.selected),F.Db(14),F.pc("ngForOf",e.contType),F.Db(5),F.pc("ngForOf",e.contType),F.Db(12),F.pc("ngForOf",e.sptRouter),F.Db(8),F.pc("ngForOf",e.contType),F.Db(22),F.pc("ngForOf",e.contType),F.Db(5),F.pc("ngForOf",e.contType),F.Db(15),F.pc("ngIf",!e.revenueVNOpen),F.Db(1),F.pc("ngIf",e.revenueVNOpen),F.Db(5),F.pc("ngIf",!e.revenueNNOpen),F.Db(1),F.pc("ngIf",e.revenueNNOpen),F.Db(6),F.pc("ngForOf",e.sptRouter),F.Db(8),F.pc("ngForOf",e.contType),F.Db(25),F.pc("ngForOf",e.contType),F.Db(16),F.pc("ngForOf",e.sptRouter),F.Db(8),F.pc("ngForOf",e.contType))},directives:[y.a,y.c,q.b,q.d,q.c,b.b,d.c,f.a,U.p,U.s,S.n,Y.s,d.g,p.a,m.b,m.a,Y.t,i.j,h.a],pipes:[Y.f,Y.g],styles:["@media screen and (min-width:600px)and (max-width:959px){.dashboard-modal-dialog{width:100%}}@media screen and (min-width:960px){.dashboard-modal-dialog{width:1080px}}.dashboard-modal-dialog .mat-dialog-container{padding:0}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel{height:100%}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table{overflow:auto}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table td,.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table th{padding:8px;font-size:12px!important;white-space:nowrap}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .row-router{background-color:#e0e0e0}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2{overflow:auto}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 td,.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 th{padding:8px;font-size:12px!important;white-space:nowrap}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 td{border-bottom:1px solid #000!important}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 .row-router{background-color:#e0e0e0}.dashboard-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table2 .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.dashboard-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.dashboard-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.dashboard-modal-dialog .header-less-tabs.mat-tab-group .mat-tab-header{display:none}"],encapsulation:2}),Ke),tn=n("LPYB"),en=function(t){return{"blue-700":t}};function nn(t,e){if(1&t){var n=F.Yb();F.Xb(0,"div",15),F.fc("click",(function(t){F.Bc(n);var o=e.$implicit;return F.jc().selectedYear=o})),F.Lc(1),F.Wb()}if(2&t){var o=e.$implicit,a=F.jc();F.pc("ngClass",F.rc(2,en,a.selectedYear===o)),F.Db(1),F.Nc(" ",o," ")}}var on,an=function(t){return{"p-0 ":t}},rn=((on=function(){function t(){_classCallCheck(this,t),this.selectedYear=(new Date).getFullYear(),this._registerCustomChartJSPlugin(),this.labels=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.options={spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,tooltips:{position:"nearest",mode:"index",intersect:!1},layout:{padding:{left:8,right:8}},elements:{point:{radius:4,borderWidth:2,hoverRadius:4,hoverBorderWidth:2}},scales:{xAxes:[{gridLines:{display:!1},ticks:{fontColor:"rgba(0,0,0,0.54)"}}],yAxes:[{gridLines:{tickMarkLength:16},ticks:{stepSize:100}}]},plugins:{filler:{propagate:!1}}},this.colors=[{borderColor:"#3949ab",backgroundColor:"#3949ab",pointBackgroundColor:"#3949ab",pointHoverBackgroundColor:"#3949ab",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"},{borderColor:"rgba(30, 136, 229, 0.87)",backgroundColor:"rgba(30, 136, 229, 0.87)",pointBackgroundColor:"rgba(30, 136, 229, 0.87)",pointHoverBackgroundColor:"rgba(30, 136, 229, 0.87)",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"_registerCustomChartJSPlugin",value:function(){window.Chart.plugins.register({afterDatasetsDraw:function(t,e){if(t.options.plugins.xLabelsOnTop&&(!t.options.plugins.xLabelsOnTop||!1!==t.options.plugins.xLabelsOnTop.active)){var n=t.ctx;t.data.datasets.forEach((function(e,o){var a=t.getDatasetMeta(o);a.hidden||a.data.forEach((function(t,o){n.fillStyle="rgba(255, 255, 255, 0.7)",n.font=window.Chart.helpers.fontString(13,"normal","Roboto, Helvetica Neue, Arial");var a=Math.round(e.data[o]).toString();n.textAlign="center",n.textBaseline="middle";var i=t.tooltipPosition();n.fillText(a,i.x,24),n.save(),n.beginPath(),n.setLineDash([5,3]),n.moveTo(i.x,39),n.lineTo(i.x,i.y-15),n.strokeStyle="rgba(255,255,255,0.12)",n.stroke(),n.restore()}))}))}}})}}]),t}()).\u0275fac=function(t){return new(t||on)},on.\u0275cmp=F.Lb({type:on,selectors:[["dashboard-chart"]],inputs:{data:"data",label:"label",arrYear:"arrYear"},decls:18,vars:10,consts:[[1,"group","mb-12","mt-12","mr-16",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"content"],["id","dashboard-analytics",1,"page-layout","blank"],[1,"main-widget"],["fxLayout","row","fxLayoutAlign","space-between center",1,"position-relative","p-8"],["fxLayout","column","fxLayoutAlign","start start"],[1,"h2"],["fxLayout","row","fxLayoutAlign","start center"],["class","py-8 px-12 border-radius-2 line-height-1 mr-8 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"position-relative","h-256","pb-8"],["baseChart","","chartType","line",3,"datasets","labels","colors","options"],[1,"py-8","px-12","border-radius-2","line-height-1","mr-8","cursor-pointer",3,"ngClass","click"]],template:function(t,e){if(1&t){var n=F.Yb();F.Xb(0,"div",0),F.Xb(1,"h2",1),F.fc("click",(function(t){return F.Bc(n),F.xc(6).toggle()})),F.Xb(2,"span"),F.Lc(3,"Chart"),F.Wb(),F.Wb(),F.Xb(4,"div",2),F.Xb(5,"mat-expansion-panel",3,4),F.Xb(7,"div",5),F.Xb(8,"div",6),F.Xb(9,"div",7),F.Xb(10,"div",8),F.Xb(11,"div",9),F.Xb(12,"span",10),F.Lc(13),F.Wb(),F.Wb(),F.Xb(14,"div",11),F.Jc(15,nn,2,4,"div",12),F.Wb(),F.Wb(),F.Xb(16,"div",13),F.Sb(17,"canvas",14),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()}if(2&t){var o=F.xc(6);F.pc("ngClass",F.rc(8,an,!o.expanded)),F.Db(5),F.pc("expanded",!1),F.Db(8),F.Mc(e.label?e.label:"Shipment & Teu"),F.Db(2),F.pc("ngForOf",e.arrYear),F.Db(2),F.pc("datasets",e.data[e.selectedYear])("labels",e.labels)("colors",e.colors)("options",e.options)}},directives:[Y.q,Q.a,l.c,q.d,q.c,Y.s,tn.a],styles:["dashboard-chart .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}dashboard-chart .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}dashboard-chart .group .viewer-content{overflow:auto;width:100%}dashboard-chart .group .viewer-content .mat-expansion-panel-header{height:48px!important}dashboard-chart .group .viewer-content .mat-expansion-panel-body{padding:0!important}dashboard-chart .group .viewer-content #dashboard-analytics .main-widget{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}dashboard-chart .group .viewer-content #dashboard-analytics .content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding:32px;min-width:0}@media screen and (max-width:1279px){dashboard-chart .group .viewer-content #dashboard-analytics .content{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}dashboard-chart .group .viewer-content #dashboard-analytics .content .left{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;min-width:0}dashboard-chart .group .viewer-content #dashboard-analytics .content .left .widget{-webkit-box-flex:1;flex:1 1 auto;min-width:0}dashboard-chart .group .viewer-content #dashboard-analytics .content .right{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;width:320px;min-width:320px;max-width:320px}@media screen and (max-width:1279px){dashboard-chart .group .viewer-content #dashboard-analytics .content .right{-webkit-box-flex:1;flex:1 0 100%;margin-top:32px;width:100%;min-width:0;max-width:none}}@media screen and (max-width:1279px){dashboard-chart .group .viewer-content #dashboard-analytics .content .right .fuse-card{width:100%;min-width:0;max-width:none}}"],encapsulation:2}),on);function cn(t,e){if(1&t&&(F.Xb(0,"th",15),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Eb("colspan",1+o.arrType.length-o.typeColumnView[n.name]),F.Db(1),F.Oc("",n.monthValue,"/",n.year,"")}}function sn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,cn,2,3,"th",14),F.Ub()),2&t){var n=e.index,o=F.jc();F.Db(1),F.pc("ngIf",n<6||o.routeOpen)}}function bn(t,e){1&t&&(F.Xb(0,"mat-icon",16),F.Lc(1,"add"),F.Wb())}function ln(t,e){1&t&&(F.Xb(0,"mat-icon",17),F.Lc(1,"removed"),F.Wb())}var dn=function(t){return{"text-bold":t}};function pn(t,e){if(1&t&&(F.Xb(0,"th",20),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit;F.pc("ngClass",F.rc(2,dn,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(n)}}function hn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,pn,2,4,"th",19),F.Ub()),2&t){var n=e.$implicit,o=F.jc(),a=o.$implicit,i=o.index,r=F.jc();F.Db(1),F.pc("ngIf",r.routeData.total[a.name][n]&&(i<6||r.routeOpen))}}function un(t,e){1&t&&(F.Xb(0,"th",21),F.Lc(1,"Teu"),F.Wb())}function mn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,hn,2,1,"ng-container",7),F.Jc(2,un,2,0,"th",18),F.Ub()),2&t){var n=e.index,o=F.jc();F.Db(1),F.pc("ngForOf",o.arrType),F.Db(1),F.pc("ngIf",n<6||o.routeOpen)}}function fn(t,e){if(1&t&&(F.Xb(0,"td",27),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit,a=F.jc().$implicit,i=F.jc();F.Db(1),F.Mc(i.routeData[a.name][o.name][n]?i.routeData[a.name][o.name][n]:"")}}function gn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,fn,2,1,"td",26),F.Ub()),2&t){var n=e.$implicit,o=F.jc(),a=o.$implicit,i=o.index,r=F.jc(2);F.Db(1),F.pc("ngIf",r.routeData.total[a.name][n]&&(i<6||r.routeOpen))}}function vn(t,e){if(1&t&&(F.Xb(0,"td",28),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit,a=F.jc();F.Db(1),F.Mc(a.routeData[o.name][n.name].teu?a.routeData[o.name][n.name].teu:"")}}function yn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,gn,2,1,"ng-container",7),F.Jc(2,vn,2,1,"td",25),F.Ub()),2&t){var n=e.index,o=F.jc(2);F.Db(1),F.pc("ngForOf",o.arrType),F.Db(1),F.pc("ngIf",n<6||o.routeOpen)}}var kn=function(t,e){return{"grey-100-bg":t,"white-100-bg":e}};function xn(t,e){if(1&t&&(F.Xb(0,"tr",22),F.Xb(1,"td",23),F.Lc(2),F.Wb(),F.Jc(3,yn,3,2,"ng-container",7),F.Sb(4,"td",24),F.Wb()),2&t){var n=e.$implicit,o=e.index,a=F.jc();F.pc("ngClass",F.sc(3,kn,o%2==1,o%2==0)),F.Db(2),F.Mc(n.name),F.Db(1),F.pc("ngForOf",a.arrMonth)}}var Dn,wn=function(t){return{"p-0 ":t}},Wn=((Dn=function(){function t(e){_classCallCheck(this,t),this.changeDetector=e,this.routeOpen=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){this.changeDetector.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||Dn)(F.Rb(F.h))},Dn.\u0275cmp=F.Lb({type:Dn,selectors:[["dashboard-route"]],inputs:{routeData:"routeData",portPair:"portPair",arrMonth:"arrMonth",arrType:"arrType",typeColumnView:"typeColumnView"},decls:23,vars:9,consts:[[1,"group","mb-12","mt-12","mr-16",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",2,"overflow","auto",3,"expanded"],["itemPanel",""],[1,"simple","total-table","mr-8"],[1,"sticky-col1","sticky-header-1","text-center",2,"z-index","25px"],[4,"ngFor","ngForOf"],[1,"sticky-header-1","sticky-right-col",2,"z-index","25px",3,"click"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],[1,"sticky-col1","sticky-header-2","text-center",2,"z-index","25px"],[1,"sticky-header-2","sticky-right-col",2,"z-index","25px"],[3,"ngClass",4,"ngFor","ngForOf"],["class","sticky-header-1",4,"ngIf"],[1,"sticky-header-1"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],["class","sticky-header-2 text-center text-bold accent-100-bg",4,"ngIf"],["class","sticky-header-2 text-right",3,"ngClass",4,"ngIf"],[1,"sticky-header-2","text-right",3,"ngClass"],[1,"sticky-header-2","text-center","text-bold","accent-100-bg"],[3,"ngClass"],[1,"sticky-col1"],[1,"sticky-right-col"],["class","text-center text-bold accent-100-bg",4,"ngIf"],["class","text-right",4,"ngIf"],[1,"text-right"],[1,"text-center","text-bold","accent-100-bg"]],template:function(t,e){if(1&t){var n=F.Yb();F.Xb(0,"div",0),F.Xb(1,"h2",1),F.fc("click",(function(t){return F.Bc(n),F.xc(6).toggle()})),F.Xb(2,"span"),F.Lc(3,"Route"),F.Wb(),F.Wb(),F.Xb(4,"div",2),F.Xb(5,"mat-expansion-panel",3,4),F.Xb(7,"table",5),F.Xb(8,"thead"),F.Xb(9,"tr"),F.Xb(10,"th",6),F.Lc(11,"Month"),F.Wb(),F.Jc(12,sn,2,1,"ng-container",7),F.Xb(13,"th",8),F.fc("click",(function(t){return t.stopPropagation(),e.routeOpen=!e.routeOpen})),F.Jc(14,bn,2,0,"mat-icon",9),F.Jc(15,ln,2,0,"mat-icon",10),F.Wb(),F.Wb(),F.Xb(16,"tr"),F.Xb(17,"th",11),F.Lc(18,"Type"),F.Wb(),F.Jc(19,mn,3,2,"ng-container",7),F.Sb(20,"th",12),F.Wb(),F.Wb(),F.Xb(21,"tbody"),F.Jc(22,xn,5,6,"tr",13),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()}if(2&t){var o=F.xc(6);F.pc("ngClass",F.rc(7,wn,!o.expanded)),F.Db(5),F.pc("expanded",!0),F.Db(7),F.pc("ngForOf",e.arrMonth),F.Db(2),F.pc("ngIf",!e.routeOpen),F.Db(1),F.pc("ngIf",e.routeOpen),F.Db(4),F.pc("ngForOf",e.arrMonth),F.Db(3),F.pc("ngForOf",e.portPair)}},directives:[Y.q,Q.a,l.c,Y.s,Y.t,p.a],styles:["dashboard-route .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}dashboard-route .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}dashboard-route .group .viewer-content{overflow:auto;width:100%}dashboard-route .group .viewer-content .mat-expansion-panel-header{height:48px!important}dashboard-route .group .viewer-content .mat-expansion-panel-body{padding:0!important;overflow:auto;width:100%}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table{font-size:12px}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table .border-right{border-right:1px solid rgba(0,0,0,.12)}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table td,dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table th{padding:8px!important;white-space:nowrap}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table thead th.sticky-header-1{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table thead th.sticky-header-2{position:sticky;position:-webkit-sticky;top:32px;background:#fff;z-index:10}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;z-index:20}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-route .group .viewer-content .mat-expansion-panel-body .total-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2}),Dn),_n=function(t){return{"text-bold":t}};function Xn(t,e){if(1&t&&(F.Xb(0,"th",19),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("ngClass",F.rc(2,_n,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(n)}}function Sn(t,e){if(1&t&&(F.Xb(0,"td",22),F.Lc(1),F.Wb()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc(2);F.pc("ngClass",F.rc(2,_n,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(a.bookData[o][n])}}function Cn(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr"),F.Xb(1,"td"),F.Xb(2,"span",20),F.fc("click",(function(t){F.Bc(n);var o=e.$implicit,a=F.jc(2);return a.openModal.emit(a.bookData[o].data)})),F.Lc(3),F.Wb(),F.Wb(),F.Xb(4,"td",15),F.Lc(5),F.Wb(),F.Jc(6,Sn,2,4,"td",21),F.Xb(7,"td",16),F.Lc(8),F.Wb(),F.Xb(9,"td",17),F.Lc(10),F.kc(11,"number"),F.Wb(),F.Xb(12,"td",17),F.Lc(13),F.kc(14,"number"),F.Wb(),F.Xb(15,"td",18),F.Lc(16),F.kc(17,"number"),F.Wb(),F.Wb()}if(2&t){var o=e.$implicit,a=F.jc(2);F.Db(3),F.Mc(o),F.Db(2),F.Mc(a.bookData[o].count_book),F.Db(1),F.pc("ngForOf",a.bookType),F.Db(2),F.Mc(a.bookData[o].teu),F.Db(2),F.Mc(F.mc(11,7,a.bookData[o].revenue,"1.0-0")),F.Db(3),F.Mc(F.mc(14,10,a.bookData[o].cost,"1.0-0")),F.Db(3),F.Mc(F.mc(17,13,a.bookData[o].revenue-a.bookData[o].cost,"1.0-0"))}}function Ln(t,e){if(1&t&&(F.Xb(0,"td",22),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(2);F.pc("ngClass",F.rc(2,_n,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(o.bookTotal[n])}}function On(t,e){if(1&t&&(F.Xb(0,"mat-icon",25),F.Lc(1,"error"),F.Wb()),2&t){var n=F.jc(2).$implicit;F.pc("matTooltip",n+" r\xf4\u0303ng kh\xf4ng \u0111u\u0309 d\xea\u0309 c\xe2\u0301p")}}var Mn=function(t,e){return{"text-bold":t,"red-700-fg text-bold":e}};function Tn(t,e){if(1&t&&(F.Xb(0,"td",22),F.Jc(1,On,2,1,"mat-icon",24),F.Lc(2),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(2);F.pc("ngClass",F.sc(3,Mn,"20DC"==n||"40HC"==n,o.bookTotal[n]>o.total[n])),F.Db(1),F.pc("ngIf",o.bookTotal[n]>o.total[n]),F.Db(1),F.Nc(" ",o.bookTotal[n]," ")}}function jn(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Ln,2,4,"td",23),F.Jc(2,Tn,3,6,"td",23),F.Ub()),2&t){var n=F.jc(2);F.Db(1),F.pc("ngIf","workflow"==n.modul),F.Db(1),F.pc("ngIf","workflow"!=n.modul)}}function In(t,e){if(1&t&&(F.Xb(0,"table",3),F.Xb(1,"thead"),F.Xb(2,"tr"),F.Xb(3,"th",4),F.Lc(4,"Week"),F.Wb(),F.Xb(5,"th",5),F.Lc(6,"Book"),F.Wb(),F.Xb(7,"th",6),F.Lc(8,"Container"),F.Wb(),F.Xb(9,"th",5),F.Lc(10,"Teu"),F.Wb(),F.Xb(11,"th",7),F.Lc(12,"Revenue"),F.Wb(),F.Xb(13,"th",7),F.Lc(14,"Cost"),F.Wb(),F.Xb(15,"th",8),F.Lc(16,"Net Revenue"),F.Wb(),F.Wb(),F.Xb(17,"tr"),F.Sb(18,"th",9),F.Sb(19,"th",9),F.Jc(20,Xn,2,4,"th",10),F.Sb(21,"th",11),F.Sb(22,"th",12),F.Sb(23,"th",12),F.Sb(24,"th",13),F.Wb(),F.Wb(),F.Xb(25,"tbody"),F.Jc(26,Cn,18,16,"tr",14),F.Wb(),F.Xb(27,"tfoot"),F.Xb(28,"tr"),F.Xb(29,"td"),F.Lc(30,"Total"),F.Wb(),F.Xb(31,"td",15),F.Lc(32),F.Wb(),F.Jc(33,jn,3,2,"ng-container",14),F.Xb(34,"td",16),F.Lc(35),F.Wb(),F.Xb(36,"td",17),F.Lc(37),F.kc(38,"number"),F.Wb(),F.Xb(39,"td",17),F.Lc(40),F.kc(41,"number"),F.Wb(),F.Xb(42,"td",18),F.Lc(43),F.kc(44,"number"),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc();F.Db(7),F.Eb("colspan",n.bookType.length),F.Db(13),F.pc("ngForOf",n.bookType),F.Db(6),F.pc("ngForOf",n.bookWeek),F.Db(6),F.Mc(n.bookTotal.book),F.Db(1),F.pc("ngForOf",n.bookType),F.Db(2),F.Mc(n.bookTotal.teu),F.Db(2),F.Mc(F.mc(38,9,n.bookTotal.revenue,"1.0-0")),F.Db(3),F.Mc(F.mc(41,12,n.bookTotal.cost,"1.0-0")),F.Db(3),F.Mc(F.mc(44,15,n.bookTotal.revenue-n.bookTotal.cost,"1.0-0"))}}var Pn,Vn=((Pn=function(){function t(){_classCallCheck(this,t),this.openModal=new F.o,this.total={}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){var e=this;t.bookWeek&&t.bookWeek.currentValue&&(this.bookWeek=t.bookWeek.currentValue,this.bookWeek&&(this.total={},this.empty&&this.empty.map((function(t){e.bookType.map((function(n){e.total[n]||(e.total[n]=0),t[n]&&(e.total[n]+=t[n].length)}))}))))}}]),t}()).\u0275fac=function(t){return new(t||Pn)},Pn.\u0275cmp=F.Lb({type:Pn,selectors:[["dashboard-bookings"]],inputs:{bookWeek:"bookWeek",bookType:"bookType",bookData:"bookData",bookTotal:"bookTotal",empty:"empty",modul:"modul"},outputs:{openModal:"openModal"},features:[F.Bb()],decls:6,vars:1,consts:[[1,"group","mb-12","mt-12","mr-16"],[1,"viewer-content"],["class","simple total-table mr-8",4,"ngIf"],[1,"simple","total-table","mr-8"],[1,"sticky-header-1"],[1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-right"],[1,"sticky-header-1","text-right"],[1,"sticky-header-2"],["class","sticky-header-2 text-right","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"sticky-header-2","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right"],[1,"sticky-header-2","text-right"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center","text-bold"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],[1,"text-right","mr-8"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right",3,"ngClass"],[1,"accent","p-4","cursor-pointer",3,"click"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8",3,"ngClass"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngIf"],["class","cursor-pointer","color","warn",3,"matTooltip",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"matTooltip"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"h2"),F.Xb(2,"span"),F.Lc(3,"Booking"),F.Wb(),F.Wb(),F.Xb(4,"div",1),F.Jc(5,In,45,18,"table",2),F.Wb(),F.Wb()),2&t&&(F.Db(5),F.pc("ngIf",e.bookWeek))},directives:[Y.t,Q.b,Y.s,Y.q,Q.a,p.a,h.a],pipes:[Y.g],styles:["dashboard-bookings .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}dashboard-bookings .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}dashboard-bookings .group .viewer-content{overflow:auto;width:100%}dashboard-bookings .group .viewer-content .total-table{font-size:12px}dashboard-bookings .group .viewer-content .total-table .border-right{border-right:1px solid rgba(0,0,0,.12)}dashboard-bookings .group .viewer-content .total-table td,dashboard-bookings .group .viewer-content .total-table th{padding:8px!important;white-space:nowrap}dashboard-bookings .group .viewer-content .total-table thead th.sticky-header-1{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-bookings .group .viewer-content .total-table thead th.sticky-header-2{position:sticky;position:-webkit-sticky;top:32px;background:#fff;z-index:10}dashboard-bookings .group .viewer-content .total-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-bookings .group .viewer-content .total-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}dashboard-bookings .group .viewer-content .total-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-bookings .group .viewer-content .total-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-bookings .group .viewer-content .total-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2}),Pn);function An(t,e){1&t&&(F.Xb(0,"mat-icon",27),F.Lc(1,"add"),F.Wb())}function Fn(t,e){1&t&&(F.Xb(0,"mat-icon",28),F.Lc(1,"removed"),F.Wb())}function Jn(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"SPT complete"),F.Wb())}function Rn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Complete %"),F.Wb())}function Nn(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"Pay Date"),F.Wb())}function Bn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Pay Date %"),F.Wb())}function $n(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"Bank"),F.Wb())}function zn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Bank %"),F.Wb())}function En(t,e){1&t&&(F.Xb(0,"mat-icon",27),F.Lc(1,"add"),F.Wb())}function Hn(t,e){1&t&&(F.Xb(0,"mat-icon",28),F.Lc(1,"removed"),F.Wb())}function Un(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"SPT complete"),F.Wb())}function Yn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Complete %"),F.Wb())}function qn(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"Pay Date"),F.Wb())}function Gn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Pay Date %"),F.Wb())}function Qn(t,e){1&t&&(F.Xb(0,"th",29),F.Lc(1,"Bank"),F.Wb())}function Kn(t,e){1&t&&(F.Xb(0,"th",30),F.Lc(1,"Bank %"),F.Wb())}var Zn=function(t){return{"text-bold":t}};function to(t,e){if(1&t&&(F.Xb(0,"th",31),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("ngClass",F.rc(2,Zn,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(n)}}function eo(t,e){if(1&t&&(F.Xb(0,"th",31),F.Lc(1),F.Wb()),2&t){var n=e.$implicit;F.pc("ngClass",F.rc(2,Zn,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(n)}}function no(t,e){if(1&t&&(F.Xb(0,"td",35),F.Lc(1),F.Wb()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc();F.pc("ngClass",F.rc(2,Zn,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(a.totalMonth[o.name][n])}}function oo(t,e){if(1&t&&(F.Xb(0,"td",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc();F.Db(1),F.Mc(a.totalMonth[o.name]["load_"+n])}}function ao(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenueComplete,"1.0-0"))}}function io(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenueComplete/o.totalMonth[n.name].count_shipment,"1.0-2"))}}function ro(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenuePaydate,"1.2-2"))}}function co(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenuePaydate/o.totalMonth[n.name].revenue,"1.0-2"))}}function so(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenueBank,"1.2-2"))}}function bo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].revenueBank/o.totalMonth[n.name].revenue,"1.0-2"))}}function lo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costComplete,"1.0-0"))}}function po(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costComplete/o.totalMonth[n.name].count_shipment,"1.0-2"))}}function ho(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costPaydate,"1.2-2"))}}function uo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costPaydate/o.totalMonth[n.name].cost,"1.0-2"))}}function mo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costBank,"1.2-2"))}}function fo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc();F.Db(1),F.Mc(F.mc(2,1,o.totalMonth[n.name].costBank/o.totalMonth[n.name].cost,"1.0-2"))}}var go=function(t,e){return{accent:t,"red-400-bg fuse-white-fg":e}};function vo(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr"),F.Xb(1,"td",32),F.fc("click",(function(t){F.Bc(n);var o=e.$implicit,a=F.jc();return t.stopPropagation(),a.filterMonth.emit(o)})),F.Xb(2,"span",33),F.Lc(3),F.Wb(),F.Wb(),F.Xb(4,"td",18),F.Lc(5),F.Wb(),F.Jc(6,no,2,4,"td",19),F.Xb(7,"td",20),F.Lc(8),F.Wb(),F.Xb(9,"td",21),F.Lc(10),F.Wb(),F.Jc(11,oo,2,1,"td",22),F.Xb(12,"td",34),F.Lc(13),F.Wb(),F.Xb(14,"td",23),F.Lc(15),F.kc(16,"number"),F.Wb(),F.Jc(17,ao,3,4,"td",24),F.Jc(18,io,3,4,"td",25),F.Jc(19,ro,3,4,"td",24),F.Jc(20,co,3,4,"td",25),F.Jc(21,so,3,4,"td",24),F.Jc(22,bo,3,4,"td",25),F.Xb(23,"td",23),F.Lc(24),F.kc(25,"number"),F.Wb(),F.Jc(26,lo,3,4,"td",24),F.Jc(27,po,3,4,"td",25),F.Jc(28,ho,3,4,"td",24),F.Jc(29,uo,3,4,"td",25),F.Jc(30,mo,3,4,"td",24),F.Jc(31,fo,3,4,"td",25),F.Xb(32,"td",26),F.Lc(33),F.kc(34,"number"),F.Wb(),F.Wb()}if(2&t){var o=e.$implicit,a=F.jc();F.Db(2),F.pc("ngClass",F.sc(33,go,a.totalMonth[o.name].teu==a.totalMonth[o.name].load_teu,a.totalMonth[o.name].teu!=a.totalMonth[o.name].load_teu)),F.Db(1),F.Oc("",a.totalMonth[o.name].month,"/",a.totalMonth[o.name].year,""),F.Db(2),F.Mc(a.totalMonth[o.name].count_shipment),F.Db(1),F.pc("ngForOf",a.arrType),F.Db(2),F.Mc(a.totalMonth[o.name].teu),F.Db(2),F.Mc(a.totalMonth[o.name].count_load_shipment),F.Db(1),F.pc("ngForOf",a.arrType),F.Db(2),F.Mc(a.totalMonth[o.name].load_teu),F.Db(2),F.Mc(F.mc(16,24,a.totalMonth[o.name].revenue,"1.0-0")),F.Db(2),F.pc("ngIf",a.revenueOpen),F.Db(1),F.pc("ngIf",a.revenueOpen),F.Db(1),F.pc("ngIf",a.revenueOpen),F.Db(1),F.pc("ngIf",a.revenueOpen),F.Db(1),F.pc("ngIf",a.revenueOpen),F.Db(1),F.pc("ngIf",a.revenueOpen),F.Db(2),F.Mc(F.mc(25,27,a.totalMonth[o.name].cost,"1.0-0")),F.Db(2),F.pc("ngIf",a.costOpen),F.Db(1),F.pc("ngIf",a.costOpen),F.Db(1),F.pc("ngIf",a.costOpen),F.Db(1),F.pc("ngIf",a.costOpen),F.Db(1),F.pc("ngIf",a.costOpen),F.Db(1),F.pc("ngIf",a.costOpen),F.Db(2),F.Nc(" ",F.mc(34,30,a.totalMonth[o.name].revenue-a.totalMonth[o.name].cost,"1.0-0")," ")}}function yo(t,e){if(1&t&&(F.Xb(0,"td",35),F.Lc(1),F.Wb()),2&t){var n=e.$implicit,o=F.jc();F.pc("ngClass",F.rc(2,Zn,"20DC"==n||"40HC"==n)),F.Db(1),F.Mc(o.shipmentTotal[n])}}function ko(t,e){if(1&t&&(F.Xb(0,"td",36),F.Lc(1),F.Wb()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.Mc(o.shipmentTotal["load_"+n])}}function xo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenueComplete,"1.0-0"))}}function Do(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenueComplete/n.shipmentTotal.shipment,"0.3-5"))}}function wo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenuePaydate,"1.2-2"))}}function Wo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenuePaydate/n.shipmentTotal.revenue,"0.3-5"))}}function _o(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenueBank,"1.2-2"))}}function Xo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.revenueBank/n.shipmentTotal.revenue,"0.3-5"))}}function So(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costComplete,"1.0-0"))}}function Co(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costComplete/n.shipmentTotal.shipment,"0.3-5"))}}function Lo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costPaydate,"1.2-2"))}}function Oo(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costPaydate/n.shipmentTotal.cost,"0.3-5"))}}function Mo(t,e){if(1&t&&(F.Xb(0,"td",37),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costBank,"1.2-2"))}}function To(t,e){if(1&t&&(F.Xb(0,"td",38),F.Lc(1),F.kc(2,"percent"),F.Wb()),2&t){var n=F.jc();F.Db(1),F.Mc(F.mc(2,1,n.shipmentTotal.costBank/n.shipmentTotal.cost,"4.3-5"))}}var jo,Io=((jo=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.filterMonth=new F.o,this.revenueOpen=!1,this.costOpen=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.viewProfit=[1,15].includes(this.authService.user)}}]),t}()).\u0275fac=function(t){return new(t||jo)(F.Rb(J.a))},jo.\u0275cmp=F.Lb({type:jo,selectors:[["dashboard-shipment"]],inputs:{modul:"modul",arrType:"arrType",arrMonth:"arrMonth",totalMonth:"totalMonth",shipmentTotal:"shipmentTotal"},outputs:{filterMonth:"filterMonth"},decls:92,vars:51,consts:[[1,"group","mb-12","mt-12","mr-16"],[1,"viewer-content"],[1,"simple","total-table","mr-8"],[1,"sticky-header-1"],[1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-right","cursor-pointer",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],["class","sticky-header-1 text-right accent-200-bg",4,"ngIf"],["class","sticky-header-1 text-center accent-200-bg",4,"ngIf"],[1,"sticky-header-1","text-right"],[1,"sticky-header-2"],["class","sticky-header-2 text-right","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"sticky-header-2","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right"],[1,"sticky-header-2","text-right"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center","text-bold"],[1,"text-center","accent-400-fg","text-bold"],["class","text-right mr-8 accent-400-fg text-bold","fxHide","","fxShow.gt-sm","",4,"ngFor","ngForOf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],["class","text-right accent-200-bg",4,"ngIf"],["class","text-center accent-200-bg",4,"ngIf"],[1,"text-right","mr-8"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[1,"sticky-header-1","text-right","accent-200-bg"],[1,"sticky-header-1","text-center","accent-200-bg"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"p-4",3,"ngClass"],[1,"text-center","text-bold","accent-400-fg"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8",3,"ngClass"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8","accent-400-fg","text-bold"],[1,"text-right","accent-200-bg"],[1,"text-center","accent-200-bg"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"h2"),F.Xb(2,"span"),F.Lc(3,"Shipment"),F.Wb(),F.Wb(),F.Xb(4,"div",1),F.Xb(5,"table",2),F.Xb(6,"thead"),F.Xb(7,"tr"),F.Xb(8,"th",3),F.Lc(9,"Time"),F.Wb(),F.Xb(10,"th",4),F.Lc(11,"Booking Shipment"),F.Wb(),F.Xb(12,"th",4),F.Lc(13,"Shipment Load Container"),F.Wb(),F.Xb(14,"th",5),F.fc("click",(function(t){return t.stopPropagation(),e.revenueOpen=!e.revenueOpen})),F.Xb(15,"div",6),F.Xb(16,"span"),F.Lc(17,"Revenue"),F.Wb(),F.Jc(18,An,2,0,"mat-icon",7),F.Jc(19,Fn,2,0,"mat-icon",8),F.Wb(),F.Wb(),F.Jc(20,Jn,2,0,"th",9),F.Jc(21,Rn,2,0,"th",10),F.Jc(22,Nn,2,0,"th",9),F.Jc(23,Bn,2,0,"th",10),F.Jc(24,$n,2,0,"th",9),F.Jc(25,zn,2,0,"th",10),F.Xb(26,"th",5),F.fc("click",(function(t){return t.stopPropagation(),e.costOpen=!e.costOpen})),F.Xb(27,"div",6),F.Xb(28,"span"),F.Lc(29,"Cost"),F.Wb(),F.Jc(30,En,2,0,"mat-icon",7),F.Jc(31,Hn,2,0,"mat-icon",8),F.Wb(),F.Wb(),F.Jc(32,Un,2,0,"th",9),F.Jc(33,Yn,2,0,"th",10),F.Jc(34,qn,2,0,"th",9),F.Jc(35,Gn,2,0,"th",10),F.Jc(36,Qn,2,0,"th",9),F.Jc(37,Kn,2,0,"th",10),F.Xb(38,"th",11),F.Lc(39,"Net revenue"),F.Wb(),F.Wb(),F.Xb(40,"tr"),F.Sb(41,"th",12),F.Xb(42,"th",12),F.Lc(43,"Total"),F.Wb(),F.Jc(44,to,2,4,"th",13),F.Xb(45,"th",14),F.Lc(46,"Teu"),F.Wb(),F.Xb(47,"th",14),F.Lc(48,"Total"),F.Wb(),F.Jc(49,eo,2,4,"th",13),F.Xb(50,"th",4),F.Lc(51,"Teu"),F.Wb(),F.Sb(52,"th",15),F.Sb(53,"th",15),F.Sb(54,"th",16),F.Wb(),F.Wb(),F.Xb(55,"tbody"),F.Jc(56,vo,35,36,"tr",17),F.Wb(),F.Xb(57,"tfoot"),F.Xb(58,"tr"),F.Xb(59,"td"),F.Lc(60,"Total"),F.Wb(),F.Xb(61,"td",18),F.Lc(62),F.Wb(),F.Jc(63,yo,2,4,"td",19),F.Xb(64,"td",20),F.Lc(65),F.Wb(),F.Xb(66,"td",21),F.Lc(67),F.Wb(),F.Jc(68,ko,2,1,"td",22),F.Xb(69,"td",21),F.Lc(70),F.Wb(),F.Xb(71,"td",23),F.Lc(72),F.kc(73,"number"),F.Wb(),F.Jc(74,xo,3,4,"td",24),F.Jc(75,Do,3,4,"td",25),F.Jc(76,wo,3,4,"td",24),F.Jc(77,Wo,3,4,"td",25),F.Jc(78,_o,3,4,"td",24),F.Jc(79,Xo,3,4,"td",25),F.Xb(80,"td",23),F.Lc(81),F.kc(82,"number"),F.Wb(),F.Jc(83,So,3,4,"td",24),F.Jc(84,Co,3,4,"td",25),F.Jc(85,Lo,3,4,"td",24),F.Jc(86,Oo,3,4,"td",25),F.Jc(87,Mo,3,4,"td",24),F.Jc(88,To,3,4,"td",25),F.Xb(89,"td",26),F.Lc(90),F.kc(91,"number"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(10),F.Eb("colspan",2+e.arrType.length),F.Db(2),F.Eb("colspan",2+e.arrType.length),F.Db(6),F.pc("ngIf",!e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(5),F.pc("ngIf",!e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(7),F.pc("ngForOf",e.arrType),F.Db(5),F.pc("ngForOf",e.arrType),F.Db(7),F.pc("ngForOf",e.arrMonth),F.Db(6),F.Mc(e.shipmentTotal.shipment),F.Db(1),F.pc("ngForOf",e.arrType),F.Db(2),F.Mc(e.shipmentTotal.teu),F.Db(2),F.Mc(e.shipmentTotal.load_shipment),F.Db(1),F.pc("ngForOf",e.arrType),F.Db(2),F.Mc(e.shipmentTotal.load_teu),F.Db(2),F.Mc(F.mc(73,42,e.shipmentTotal.revenue,"1.0-0")),F.Db(2),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(1),F.pc("ngIf",e.revenueOpen),F.Db(2),F.Mc(F.mc(82,45,e.shipmentTotal.cost,"1.0-0")),F.Db(2),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(1),F.pc("ngIf",e.costOpen),F.Db(2),F.Mc(F.mc(91,48,e.shipmentTotal.revenue-e.shipmentTotal.cost,"1.0-0")))},directives:[Q.b,q.d,q.c,Y.t,Y.s,p.a,Y.q,Q.a],pipes:[Y.g,Y.C],styles:["dashboard-shipment .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}dashboard-shipment .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}dashboard-shipment .group .viewer-content{overflow:auto;width:100%}dashboard-shipment .group .viewer-content .total-table{font-size:12px}dashboard-shipment .group .viewer-content .total-table .border-right{border-right:1px solid rgba(0,0,0,.12)}dashboard-shipment .group .viewer-content .total-table td,dashboard-shipment .group .viewer-content .total-table th{padding:8px!important;white-space:nowrap}dashboard-shipment .group .viewer-content .total-table thead th.sticky-header-1{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-shipment .group .viewer-content .total-table thead th.sticky-header-2{position:sticky;position:-webkit-sticky;top:32px;background:#fff;z-index:10}dashboard-shipment .group .viewer-content .total-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-shipment .group .viewer-content .total-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}dashboard-shipment .group .viewer-content .total-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-shipment .group .viewer-content .total-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-shipment .group .viewer-content .total-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2}),jo),Po=n("pxUr"),Vo=["AgmMap"];function Ao(t,e){if(1&t&&(F.Xb(0,"agm-marker",6),F.Xb(1,"agm-info-window"),F.Xb(2,"strong"),F.Lc(3),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc();F.pc("latitude",n.pol.pol_lat)("longitude",n.pol.pol_lng),F.Db(3),F.Mc(n.pol.name)}}function Fo(t,e){if(1&t&&(F.Xb(0,"agm-marker",6),F.Xb(1,"agm-info-window"),F.Xb(2,"strong"),F.Lc(3),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc();F.pc("latitude",n.pod.pod_lat)("longitude",n.pod.pod_lng),F.Db(3),F.Mc(n.pod.name)}}function Jo(t,e){if(1&t&&(F.Xb(0,"agm-polyline",8),F.Sb(1,"agm-icon-sequence",9),F.Sb(2,"agm-polyline-point",6),F.Sb(3,"agm-polyline-point",6),F.Wb()),2&t){var n=F.jc().$implicit;F.pc("strokeColor","import"==n.type?"red":"#2196f3")("editable",!0),F.Db(1),F.pc("fixedRotation",!1)("offset",1)("path","FORWARD_CLOSED_ARROW"),F.Db(1),F.pc("latitude",n.pol_lat)("longitude",n.pol_lng),F.Db(1),F.pc("latitude",n.pod_lat)("longitude",n.pod_lng)}}function Ro(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Jo,4,9,"agm-polyline",7),F.Ub()),2&t){var n=e.$implicit;F.Db(1),F.pc("ngIf",n.pol_lat&&n.pod_lat&&n.pol_lng&&n.pod_lng)}}var No,Bo=((No=function(){function t(e,n,o,a,i){_classCallCheck(this,t),this.router=e,this.authService=n,this.route=o,this.datePipe=a,this._matDialog=i,this.x=16.12116922405386,this.y=108.21703878264134,this._unsubscribeAll=new P.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.filterData&&this.filterData.pod&&this.filterData.pol?(this.pol=this.portPair.find((function(e){return e.pol==t.filterData.pol})),this.pod=this.portPair.find((function(e){return e.pod==t.filterData.pod})),this.x=(this.pol.pol_lat+this.pod.pod_lat)/2,this.y=(this.pod.pol_lng+this.pod.pod_lng)/2):(this.pol=null,this.pod=null),this.line=this.portPair[0]}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(t){var e=this;t.filterData&&(t.filterData.currentValue||null==t.filterData.currentValue)&&(this.filterData=t.filterData.currentValue,this.filterData&&this.filterData.pod&&this.filterData.pol?(this.pol=this.portPair.find((function(t){return t.pol==e.filterData.pol})),this.pod=this.portPair.find((function(t){return t.pod==e.filterData.pod})),this.x=(this.pol.pol_lat+this.pod.pod_lat)/2,this.y=(this.pod.pol_lng+this.pod.pod_lng)/2):(this.pol=null,this.pod=null))}},{key:"ngAfterViewInit",value:function(){var t=this;this.agmMap.mapReady.subscribe((function(e){t.map=e}))}},{key:"rad",value:function(t){return t*Math.PI/180}},{key:"getDistance",value:function(t,e){var n=this.rad(e.lat-t.lat),o=this.rad(e.lng-t.lng),a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this.rad(t.lat))*Math.cos(this.rad(e.lat))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6378137}}]),t}()).\u0275fac=function(t){return new(t||No)(F.Rb(i.g),F.Rb(J.a),F.Rb(i.a),F.Rb(Y.f),F.Rb(v.b))},No.\u0275cmp=F.Lb({type:No,selectors:[["dashboard-map"]],viewQuery:function(t,e){var n;1&t&&F.Sc(Vo,!0),2&t&&F.wc(n=F.gc())&&(e.agmMap=n.first)},inputs:{filterData:"filterData",portPair:"portPair"},features:[F.Bb()],decls:9,vars:15,consts:[[1,"group","mb-12","mt-12","mr-16"],[2,"height","420px"],[1,"h-100-p","w-100-p",3,"minZoom","maxZoom","fullscreenControl","rotateControl","zoomControl","scaleControl","streetViewControl","scrollwheel","zoom","usePanning","latitude","longitude"],["AgmMap",""],[3,"latitude","longitude",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"latitude","longitude"],[3,"strokeColor","editable",4,"ngIf"],[3,"strokeColor","editable"],[3,"fixedRotation","offset","path"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"h2"),F.Lc(2,"Map"),F.Wb(),F.Xb(3,"div",1),F.Xb(4,"agm-map",2,3),F.Jc(6,Ao,4,3,"agm-marker",4),F.Jc(7,Fo,4,3,"agm-marker",4),F.Jc(8,Ro,2,1,"ng-container",5),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(4),F.pc("minZoom",1)("maxZoom",20)("fullscreenControl",!1)("rotateControl",!1)("zoomControl",!0)("scaleControl",!0)("streetViewControl",!1)("scrollwheel",!1)("zoom",5)("usePanning",!0)("latitude",e.x)("longitude",e.y),F.Db(2),F.pc("ngIf",e.pol),F.Db(1),F.pc("ngIf",e.pod),F.Db(1),F.pc("ngForOf",e.portPair))},directives:[Po.d,Y.t,Y.s,Po.e,Po.c,Po.f,Po.g,Po.h],styles:["shipment-detail-map .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}shipment-detail-map .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}shipment-detail-map .group .shipment-detail-party-table{font-size:12px}shipment-detail-map .group .shipment-detail-party-table td,shipment-detail-map .group .shipment-detail-party-table th{padding:8px;font-size:12px}shipment-detail-map .group .shipment-detail-party-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:20}shipment-detail-map .group .shipment-detail-party-table tfoot td{font-weight:600}shipment-detail-map .group .shipment-detail-party-table .sticky-left-col1{position:sticky;min-width:36px;position:-webkit-sticky;left:0;background-color:#fff;z-index:10}shipment-detail-map .group .shipment-detail-party-table .sticky-left-col2{position:sticky;position:-webkit-sticky;left:36px;background-color:#fff;z-index:20}shipment-detail-map .group .shipment-detail-party-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;padding:0;text-align:center;background-color:#b3e5fc}shipment-detail-map .group .shipment-detail-party-table tfoot td.sticky-row2{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:25;font-weight:bolder}shipment-detail-map .group .shipment-detail-party-table tfoot td.sticky-row1{position:sticky;position:-webkit-sticky;bottom:32px;background:#fff;z-index:25}"],encapsulation:2,data:{animation:_t.a}}),No),$o=function(t){return{"red-600-fg":t}};function zo(t,e){if(1&t&&(F.Xb(0,"tr"),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td"),F.Lc(4),F.Wb(),F.Xb(5,"td"),F.Lc(6),F.Wb(),F.Xb(7,"td"),F.Lc(8),F.Wb(),F.Xb(9,"td"),F.Lc(10),F.Wb(),F.Xb(11,"td"),F.Lc(12),F.kc(13,"date"),F.Wb(),F.Xb(14,"td",9),F.Lc(15),F.Wb(),F.Xb(16,"td",9),F.Lc(17),F.Wb(),F.Wb()),2&t){var n=e.$implicit,o=e.index;F.Db(2),F.Mc(o+1),F.Db(2),F.Mc(n.place_name),F.Db(2),F.Mc(n.container_info.cont_number),F.Db(2),F.Mc(n.container_info.lease_code),F.Db(2),F.Mc(n.move_code),F.Db(2),F.Mc(F.mc(13,10,n.date,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngClass",F.rc(13,$o,n.over>0)),F.Db(1),F.Mc(n.over),F.Db(1),F.pc("ngClass",F.rc(15,$o,n.day>30)),F.Db(1),F.Mc(n.day)}}var Eo,Ho=((Eo=function(){function t(e,n){_classCallCheck(this,t),this.matDialogRef=e,this._data=n,this.data=n.data}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Eo)(F.Rb(v.f),F.Rb(v.a))},Eo.\u0275cmp=F.Lb({type:Eo,selectors:[["dashboard-movement-empty-modal-dialog"]],decls:31,vars:1,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","",1,"p-0","m-0",2,"overflow","auto"],[1,"viewer-panel"],[1,"dashboard-table","simple"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"mat-toolbar",1),F.Xb(2,"mat-toolbar-row",2),F.Xb(3,"span",3),F.Lc(4,"Container List"),F.Wb(),F.Xb(5,"button",4),F.fc("click",(function(t){return e.matDialogRef.close()})),F.Xb(6,"mat-icon"),F.Lc(7,"close"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(8,"div",5),F.Xb(9,"div",6),F.Xb(10,"table",7),F.Xb(11,"thead"),F.Xb(12,"tr"),F.Xb(13,"th"),F.Lc(14,"No"),F.Wb(),F.Xb(15,"th"),F.Lc(16,"Place"),F.Wb(),F.Xb(17,"th"),F.Lc(18,"Container"),F.Wb(),F.Xb(19,"th"),F.Lc(20,"Lease"),F.Wb(),F.Xb(21,"th"),F.Lc(22,"Move"),F.Wb(),F.Xb(23,"th"),F.Lc(24,"Date"),F.Wb(),F.Xb(25,"th"),F.Lc(26,"Over"),F.Wb(),F.Xb(27,"th"),F.Lc(28,"Unuse"),F.Wb(),F.Wb(),F.Wb(),F.Xb(29,"tbody"),F.Jc(30,zo,18,17,"tr",8),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.Db(30),F.pc("ngForOf",e.data))},directives:[y.a,y.c,q.b,q.d,q.c,b.b,p.a,v.d,Y.s,Y.q,Q.a],pipes:[Y.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.dashboard-movement-empty-modal-dialog{width:100%}}@media screen and (min-width:960px){.dashboard-movement-empty-modal-dialog{width:1080px}}.dashboard-movement-empty-modal-dialog .mat-dialog-container{padding:0}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel{height:100%}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table{overflow:auto}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table td,.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table th{padding:8px;font-size:12px!important;white-space:nowrap}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .row-router{background-color:#e0e0e0}.dashboard-movement-empty-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.dashboard-movement-empty-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.dashboard-movement-empty-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.dashboard-movement-empty-modal-dialog .header-less-tabs.mat-tab-group .mat-tab-header{display:none}"],encapsulation:2}),Eo);function Uo(t,e){if(1&t){var n=F.Yb();F.Xb(0,"tr"),F.Xb(1,"td",10),F.Lc(2),F.Wb(),F.Xb(3,"td",7),F.Lc(4),F.Wb(),F.Xb(5,"td",7),F.Lc(6),F.Wb(),F.Xb(7,"td",7),F.Lc(8),F.Wb(),F.Xb(9,"td",7),F.Xb(10,"a",11),F.fc("click",(function(t){F.Bc(n);var e=F.jc().$implicit,o=F.jc().$implicit;return F.jc(3).openModal(o[e])})),F.Lc(11),F.Wb(),F.Wb(),F.Wb()}if(2&t){var o=F.jc().$implicit,a=F.jc().$implicit;F.Db(1),F.pc("matTooltip",a.place_name)("matTooltipPosition","left"),F.Db(1),F.Mc(a.place_short_name),F.Db(2),F.Mc(a.pol_name),F.Db(2),F.Mc(a.pod_name),F.Db(2),F.Mc(o),F.Db(3),F.Mc(0==a[o].length?"":a[o].length)}}function Yo(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Uo,12,7,"tr",8),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit;F.Db(1),F.pc("ngIf",o[n])}}function qo(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Yo,2,1,"ng-container",9),F.Ub()),2&t){var n=F.jc(3);F.Db(1),F.pc("ngForOf",n.headerType)}}function Go(t,e){if(1&t&&(F.Xb(0,"tbody"),F.Jc(1,qo,2,1,"ng-container",9),F.Wb()),2&t){var n=F.jc(2);F.Db(1),F.pc("ngForOf",n.data)}}function Qo(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"div",3),F.Xb(2,"h2"),F.Xb(3,"span",4),F.Lc(4),F.Wb(),F.Wb(),F.Xb(5,"div",5),F.Xb(6,"table",6),F.Xb(7,"thead"),F.Xb(8,"tr"),F.Xb(9,"th"),F.Lc(10,"Place"),F.Wb(),F.Xb(11,"th",7),F.Lc(12,"Pol"),F.Wb(),F.Xb(13,"th",7),F.Lc(14,"Pod"),F.Wb(),F.Xb(15,"th",7),F.Lc(16,"Type"),F.Wb(),F.Xb(17,"th",7),F.Lc(18,"LOAD"),F.Wb(),F.Wb(),F.Wb(),F.Jc(19,Go,2,1,"tbody",8),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&t){var n=F.jc();F.Db(4),F.Mc(n.label),F.Db(15),F.pc("ngIf",n.data.length>0)}}function Ko(t,e){if(1&t&&(F.Xb(0,"th"),F.Lc(1,"PORT"),F.Wb()),2&t){var n=F.jc(3);F.Eb("colspan",n.col.p)}}function Zo(t,e){if(1&t&&(F.Xb(0,"th"),F.Lc(1,"DEPOT"),F.Wb()),2&t){var n=F.jc(3);F.Eb("colspan",n.col.d)}}function ta(t,e){if(1&t&&(F.Xb(0,"th"),F.Lc(1,"NOSCOPE"),F.Wb()),2&t){var n=F.jc(3);F.Eb("colspan",n.col.a)}}function ea(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",16),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit;F.Db(1),F.pc("matTooltip",n.place_name),F.Db(1),F.Mc(n.place_short_name)}}function na(t,e){if(1&t){var n=F.Yb();F.Vb(0),F.Xb(1,"td"),F.Xb(2,"a",11),F.fc("click",(function(t){F.Bc(n);var o=e.$implicit,a=F.jc(2).$implicit;return F.jc(3).openModal(o[a])})),F.Lc(3),F.Wb(),F.Wb(),F.Ub()}if(2&t){var o=e.$implicit,a=F.jc(2).$implicit;F.Db(3),F.Mc(null==o[a]?null:o[a].length)}}function oa(t,e){if(1&t&&(F.Xb(0,"tr"),F.Xb(1,"td",17),F.Lc(2),F.Wb(),F.Xb(3,"td",18),F.Lc(4),F.Wb(),F.Jc(5,na,4,1,"ng-container",9),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc(3);F.Db(2),F.Mc(n),F.Db(2),F.Mc(o.total[n]),F.Db(1),F.pc("ngForOf",o.data)}}function aa(t,e){if(1&t&&(F.Vb(0),F.Jc(1,oa,6,3,"tr",8),F.Ub()),2&t){var n=e.$implicit,o=F.jc(3);F.Db(1),F.pc("ngIf",o.total[n])}}function ia(t,e){if(1&t&&(F.Xb(0,"table",13),F.Xb(1,"thead"),F.Xb(2,"tr"),F.Sb(3,"th",14),F.Sb(4,"th",14),F.Jc(5,Ko,2,1,"th",8),F.Jc(6,Zo,2,1,"th",8),F.Jc(7,ta,2,1,"th",8),F.Wb(),F.Xb(8,"tr"),F.Xb(9,"th",15),F.Lc(10,"Type"),F.Wb(),F.Xb(11,"th",14),F.Lc(12,"Total"),F.Wb(),F.Jc(13,ea,3,2,"ng-container",9),F.Wb(),F.Wb(),F.Xb(14,"tbody"),F.Jc(15,aa,2,1,"ng-container",9),F.Wb(),F.Wb()),2&t){var n=F.jc(2);F.Db(5),F.pc("ngIf",n.col.p>0),F.Db(1),F.pc("ngIf",n.col.d>0),F.Db(1),F.pc("ngIf",n.col.a>0),F.Db(6),F.pc("ngForOf",n.data),F.Db(2),F.pc("ngForOf",n.headerType)}}function ra(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"div",3),F.Xb(2,"h2"),F.Xb(3,"span",4),F.Lc(4),F.Wb(),F.Wb(),F.Xb(5,"div",5),F.Jc(6,ia,16,5,"table",12),F.Wb(),F.Wb(),F.Ub()),2&t){var n=F.jc();F.Db(4),F.Mc(n.label),F.Db(2),F.pc("ngIf",n.data.length>0)}}var ca,sa=((ca=function(){function t(e){_classCallCheck(this,t),this._matDialog=e,this.dataFulim={},this.arrRoute=[],this.col={p:0,d:0,a:0}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getData()}},{key:"ngOnChanges",value:function(t){t.data&&(t.data.currentValue||null==t.data.currentValue)&&this.getData()}},{key:"getData",value:function(){var t=this;this.col={p:0,d:0,a:0},this.total={},this.data?(this.dataFulim={},this.arrRoute=[],this.data.map((function(e){switch(!0){case e.scope.includes("P"):t.col.p++;break;case e.scope.includes("D"):t.col.d++;break;default:t.col.a++}t.headerType.map((function(n){if(t.total[n]||(t.total[n]=0),e[n]&&(t.total[n]+=e[n].length),"FULIM"==t.label){var o=e.pol_name+"-"+e.pod_name;t.arrRoute.includes(o)||t.arrRoute.push(o),t.dataFulim[n]||(t.dataFulim[n]={}),t.dataFulim[n][o]||(t.dataFulim[n][o]={cont:[]}),t.dataFulim[n][o].pol_name=e.pol_name,t.dataFulim[n][o].pod_name=e.pod_name,e[n]&&e[n].map((function(e){t.dataFulim[n][o].cont.push(e)}))}}))}))):this.data=[]}},{key:"openModal",value:function(t){this.dialogRef=this._matDialog.open(Ho,{panelClass:"dashboard-movement-empty-modal-dialog",data:{data:t,label:this.label}})}}]),t}()).\u0275fac=function(t){return new(t||ca)(F.Rb(v.b))},ca.\u0275cmp=F.Lb({type:ca,selectors:[["dashboard-stock-movement"]],inputs:{label:"label",headerType:"headerType",data:"data"},features:[F.Bb()],decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"group","mb-12","mt-12"],[1,"text-bold"],[2,"overflow","auto"],[1,"simple","report-table"],[1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"matTooltip","matTooltipPosition"],[1,"cursor-pointer",3,"click"],["class","simple report-table mr-8",4,"ngIf"],[1,"simple","report-table","mr-8"],[1,"w-40"],[1,"sticky-col1","w-40"],[3,"matTooltip"],[1,"sticky-col1"],[1,"sticky-col1","text-bold"]],template:function(t,e){1&t&&(F.Vb(0,0),F.Jc(1,Qo,20,2,"ng-container",1),F.Jc(2,ra,7,2,"ng-container",2),F.Ub()),2&t&&(F.pc("ngSwitch",!0),F.Db(1),F.pc("ngSwitchCase","INBOUND ONBOARD"==e.label))},directives:[Y.x,Y.y,Y.z,Y.t,Y.s,h.a],styles:["dashboard-stock-movement .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}dashboard-stock-movement .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}dashboard-stock-movement .group .report-table{font-size:12px}dashboard-stock-movement .group .report-table td,dashboard-stock-movement .group .report-table th{white-space:nowrap}@media screen and (max-width:599px){dashboard-stock-movement .group .report-table td,dashboard-stock-movement .group .report-table th{padding:8px 4px!important}}@media screen and (min-width:600px){dashboard-stock-movement .group .report-table td,dashboard-stock-movement .group .report-table th{padding:8px!important}}"],encapsulation:2}),ca);function ba(t,e){if(1&t&&F.Sb(0,"dashboard-stock-movement",8),2&t){var n=F.jc();F.pc("label","EMPTY")("headerType",n.headerType)("data",n.containerMovement.EMPTY)}}var la,da,pa=((da=function(){function t(e,n,o,a,i,r){var c=this;if(_classCallCheck(this,t),this.authService=e,this.dashboardService=n,this._matDialog=o,this.commonService=a,this.bookFirebaseService=i,this.router=r,this.firstLoad=!0,this.height=560,this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var s=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(s)}this.permission&&!this.permission.data?this.dashboardService.getPermissionById(this.permission.id).then((function(t){c.permission=t,c.bookFirebaseService.readDatabaseBooking().subscribe((function(t){t.map((function(t){t.voyage.depart_time=new Date(t.voyage.depart_time).getTime()})),t.sort((function(t,e){return t.voyage.depart_time<e.voyage.depart_time?1:e.voyage.depart_time<t.voyage.depart_time?-1:0})),c.dashboardService.book=t.filter((function(t){return c.permission.owner.includes(t.user)||(t.book.create_by?c.permission.owner.includes(t.book.create_by.id):null)||!!t.share&&t.share.map((function(t){return t.id})).includes(c.authService.user)})),c.dashboardService.buildBookOverview()}))})):this.bookFirebaseService.readDatabaseBooking().subscribe((function(t){t.map((function(t){t.voyage.depart_time=new Date(t.voyage.depart_time).getTime()})),t.sort((function(t,e){return t.voyage.depart_time<e.voyage.depart_time?1:e.voyage.depart_time<t.voyage.depart_time?-1:0})),c.dashboardService.book=t,c.dashboardService.buildBookOverview()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.dashboardService.changeScreen(this.dashboardService.fullScreen),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.width<600?e.height-16:e.height-64-64-16})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){var n=e?64:0;t.height=t.authService.screenWidth<600?t.authService.screenHeight-16+n:t.authService.screenHeight-64-64-16+n})),this.dashboardService.onOverviewChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.totalMonth=t.dashboardService.totalMonth,t.arrMonth=t.dashboardService.arrMonth,t.arrType=t.dashboardService.arrType,t.shipmentTotal=t.dashboardService.total,t.filterData=t.dashboardService.currenSearch.formSearch,t.portPair=t.dashboardService.portPair,t.routeData=t.dashboardService.routeData,t.typeColumnView=t.dashboardService.typeColumnView})),this.dashboardService.onBookOverviewChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){e.length>0&&(t.bookData=e[0],t.bookWeek=e[1],t.bookType=e[2],t.bookTotal=e[3],t.priceHeader=t.dashboardService.priceHeader,t.priceObj=t.dashboardService.priceObj),t.data=t.dashboardService.report,t.arrYear=t.dashboardService.arrYear})),this.dashboardService.onContainersMovementChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.headerType=t.dashboardService.headerType,t.containerMovement=t.dashboardService.containerMovement}))}},{key:"ngOnChanges",value:function(t){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"openModal",value:function(t){this.dialogRef=this._matDialog.open(Ze,{panelClass:"dashboard-modal-dialog",data:{label:"Book list",data:t,contType:this.bookType,priceHeader:this.priceHeader,priceObj:this.priceObj,height:this.height,modul:this.modul,bookFirebaseService:this.bookFirebaseService}}),this.dialogRef.afterClosed().subscribe((function(t){}))}},{key:"filterMonth",value:function(t){this.dashboardService.onMonthChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||da)(F.Rb(J.a),F.Rb(N),F.Rb(v.b),F.Rb(j.a),F.Rb(z),F.Rb(i.g))},da.\u0275cmp=F.Lb({type:da,selectors:[["dashboard-overview"]],features:[F.Bb()],decls:8,vars:20,consts:[["fxLayout","column",1,"w-100-p"],["fusePerfectScrollbar","",2,"overflow","auto"],[3,"data","arrYear"],[3,"routeData","portPair","arrMonth","arrType","typeColumnView"],[3,"label","headerType","data",4,"ngIf"],[3,"bookWeek","bookType","bookData","bookTotal","openModal"],[3,"arrType","arrMonth","totalMonth","shipmentTotal","filterMonth"],[3,"filterData","portPair"],[3,"label","headerType","data"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"div",1),F.Sb(2,"dashboard-chart",2),F.Sb(3,"dashboard-route",3),F.Jc(4,ba,1,3,"dashboard-stock-movement",4),F.Xb(5,"dashboard-bookings",5),F.fc("openModal",(function(t){return e.openModal(t)})),F.Wb(),F.Xb(6,"dashboard-shipment",6),F.fc("filterMonth",(function(t){return e.filterMonth(t)})),F.Wb(),F.Sb(7,"dashboard-map",7),F.Wb(),F.Wb()),2&t&&(F.Db(1),F.Ic("height",e.height,"px"),F.Db(1),F.pc("data",e.data)("arrYear",e.arrYear),F.Db(1),F.pc("routeData",e.routeData)("portPair",e.portPair)("arrMonth",e.arrMonth)("arrType",e.arrType)("typeColumnView",e.typeColumnView),F.Db(1),F.pc("ngIf",e.modul.includes("export")),F.Db(1),F.pc("bookWeek",e.bookWeek)("bookType",e.bookType)("bookData",e.bookData)("bookTotal",e.bookTotal),F.Db(1),F.pc("arrType",e.arrType)("arrMonth",e.arrMonth)("totalMonth",e.totalMonth)("shipmentTotal",e.shipmentTotal),F.Db(1),F.pc("filterData",e.filterData)("portPair",e.portPair))},directives:[q.d,G.a,rn,Wn,Y.t,Vn,Io,Bo,sa],styles:[""],encapsulation:2}),da),ha=((la=function(){function t(e,n,o){_classCallCheck(this,t),this.authService=e,this.commonService=n,this.dashboardService=o,this.height=560,this.total={},this._unsubscribeAll=new P.a,this.modul=this.authService.modul}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.modul=t.authService.modul})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.width<600?e.height-16:e.height-64-64-16})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){var n=e?64:0;t.height=t.authService.screenWidth<600?t.authService.screenHeight-16+n:t.authService.screenHeight-64-64-16+n})),this.dashboardService.onContainersMovementChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.headerType=t.dashboardService.headerType,t.containerMovement=t.dashboardService.containerMovement}))}},{key:"ngOnChanges",value:function(t){}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setFilter",value:function(t){}},{key:"getData",value:function(){}},{key:"openModal",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||la)(F.Rb(J.a),F.Rb(j.a),F.Rb(N))},la.\u0275cmp=F.Lb({type:la,selectors:[["dashboard-stock"]],features:[F.Bb()],decls:8,vars:20,consts:[["fxLayout","column",1,"w-100-p"],["fusePerfectScrollbar","",2,"overflow","auto"],[3,"label","headerType","data"]],template:function(t,e){1&t&&(F.Xb(0,"div",0),F.Xb(1,"div",1),F.Sb(2,"dashboard-stock-movement",2),F.Sb(3,"dashboard-stock-movement",2),F.Sb(4,"dashboard-stock-movement",2),F.Sb(5,"dashboard-stock-movement",2),F.Sb(6,"dashboard-stock-movement",2),F.Sb(7,"dashboard-stock-movement",2),F.Wb(),F.Wb()),2&t&&(F.Db(1),F.Ic("height",e.height,"px"),F.Db(1),F.pc("label","INBOUND ONBOARD")("headerType",e.headerType)("data",e.containerMovement.LOAD),F.Db(1),F.pc("label","FULIM")("headerType",e.headerType)("data",e.containerMovement.FULIM),F.Db(1),F.pc("label","TRIM")("headerType",e.headerType)("data",e.containerMovement.TRIMP),F.Db(1),F.pc("label","EMPTY")("headerType",e.headerType)("data",e.containerMovement.EMPTY),F.Db(1),F.pc("label","TREXP")("headerType",e.headerType)("data",e.containerMovement.TREXP),F.Db(1),F.pc("label","FULEX")("headerType",e.headerType)("data",e.containerMovement.FULEX))},directives:[q.d,G.a,sa],styles:[""],encapsulation:2}),la);function ua(t,e){1&t&&(F.Xb(0,"div",10),F.Xb(1,"span",11),F.Lc(2),F.Wb(),F.Wb()),2&t&&(F.Db(2),F.Mc("No Shipment"))}function ma(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",12),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.Ic("top",o.inverseOfTranslation),F.Db(1),F.Mc(n)}}var fa=function(t,e){return{item:t,"active-item":e}};function ga(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",32),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc(),a=o.index,i=o.$implicit,r=F.jc();F.Db(1),F.pc("ngClass",F.sc(2,fa,r.selectItem!=a,r.selectItem==a)),F.Db(1),F.Mc(r.shipments[i.key][n])}}function va(t,e){if(1&t&&(F.Xb(0,"th",34),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit;F.Db(1),F.Mc(n)}}function ya(t,e){if(1&t&&(F.Vb(0),F.Jc(1,va,2,1,"th",33),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key][n]&&a.shipments[o.key][n]>0)}}var ka=function(t,e){return{"accent-200-bg":t,"accent-100-bg":e}};function xa(t,e){if(1&t&&(F.Xb(0,"th",36),F.Xb(1,"div",37),F.Xb(2,"span",38),F.Lc(3),F.Wb(),F.Xb(4,"span"),F.Lc(5),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit;F.pc("ngClass",F.sc(4,ka,"VIETNAM"==n.payment_center,"VIETNAM"!=n.payment_center)),F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Mc(n.code),F.Db(2),F.Mc(n.currency)}}function Da(t,e){if(1&t&&(F.Vb(0),F.Jc(1,xa,6,7,"th",35),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key].revenue[n.code+n.currency+n.payment_center]>0)}}var wa=function(t,e){return{"teal-400-bg":t,"teal-300-bg":e}};function Wa(t,e){if(1&t&&(F.Xb(0,"th",36),F.Xb(1,"div",37),F.Xb(2,"span",38),F.Lc(3),F.Wb(),F.Xb(4,"span"),F.Lc(5),F.Wb(),F.Wb(),F.Wb()),2&t){var n=F.jc().$implicit;F.pc("ngClass",F.sc(4,wa,"VIETNAM"==n.payment_center,"VIETNAM"!=n.payment_center)),F.Db(1),F.pc("matTooltip",n.payment_center),F.Db(2),F.Mc(n.code),F.Db(2),F.Mc(n.currency)}}function _a(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Wa,6,7,"th",35),F.Ub()),2&t){var n=e.$implicit,o=F.jc().$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key].cost[n.code+n.currency+n.payment_center]>0)}}function Xa(t,e){if(1&t&&(F.Xb(0,"td",49),F.Lc(1),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit;F.Db(1),F.Mc(o[n])}}function Sa(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Xa,2,1,"td",48),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key][n]&&a.shipments[o.key][n]>0)}}function Ca(t,e){1&t&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function La(t,e){1&t&&(F.Xb(0,"mat-chip",50),F.Lc(1,"Stuffing"),F.Wb())}function Oa(t,e){1&t&&(F.Xb(0,"mat-chip",51),F.Lc(1,"Ready to load"),F.Wb())}function Ma(t,e){1&t&&(F.Xb(0,"mat-chip",52),F.Lc(1,"Loaded"),F.Wb())}function Ta(t,e){1&t&&(F.Xb(0,"mat-chip",50),F.Lc(1,"Discharge"),F.Wb())}function ja(t,e){1&t&&(F.Xb(0,"mat-chip",51),F.Lc(1,"Pick up"),F.Wb())}function Ia(t,e){1&t&&(F.Xb(0,"mat-chip",52),F.Lc(1,"Complete"),F.Wb())}var Pa=function(t,e,n){return{paid:t,"accent-200-bg":e,"accent-100-bg":n}};function Va(t,e){if(1&t&&(F.Xb(0,"td",36),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit;F.pc("ngClass",F.tc(5,Pa,o.price.revenue[n.code+n.currency+n.payment_center+"paid"],"VIETNAM"==n.payment_center&&!o.price.revenue[n.code+n.currency+n.payment_center+"paid"],"VIETNAM"!=n.payment_center&&!o.price.revenue[n.code+n.currency+n.payment_center+"paid"])),F.Db(1),F.Nc(" ",F.mc(2,2,o.price.revenue[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"),"")}}function Aa(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Va,3,9,"td",35),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key].revenue[n.code+n.currency+n.payment_center]>0)}}var Fa=function(t,e,n){return{paid:t,"teal-400-bg":e,"teal-300-bg":n}};function Ja(t,e){if(1&t&&(F.Xb(0,"td",36),F.Lc(1),F.kc(2,"number"),F.Wb()),2&t){var n=F.jc().$implicit,o=F.jc().$implicit;F.pc("ngClass",F.tc(5,Fa,o.price.cost[n.code+n.currency+n.payment_center+"paid"],"VIETNAM"==n.payment_center&&!o.price.cost[n.code+n.currency+n.payment_center+"paid"],"VIETNAM"!=n.payment_center&&!o.price.cost[n.code+n.currency+n.payment_center+"paid"])),F.Db(1),F.Mc(F.mc(2,2,o.price.cost[n.code+n.currency+n.payment_center],"VND"==n.currency?"1.0-0":"1.2-2"))}}function Ra(t,e){if(1&t&&(F.Vb(0),F.Jc(1,Ja,3,9,"td",35),F.Ub()),2&t){var n=e.$implicit,o=F.jc(2).$implicit,a=F.jc();F.Db(1),F.pc("ngIf",a.shipments[o.key].cost[n.code+n.currency+n.payment_center]>0)}}var Na=function(t){return{"error-cell":t}};function Ba(t,e){if(1&t&&(F.Xb(0,"tr"),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",39),F.Xb(4,"a",40),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Jc(8,Sa,2,1,"ng-container",7),F.Xb(9,"td",41),F.Lc(10),F.Wb(),F.Xb(11,"td",41),F.Lc(12),F.Wb(),F.Xb(13,"td"),F.Xb(14,"mat-chip-list",42),F.Jc(15,Ca,2,0,"mat-chip",43),F.Jc(16,La,2,0,"mat-chip",44),F.Jc(17,Oa,2,0,"mat-chip",45),F.Jc(18,Ma,2,0,"mat-chip",46),F.Jc(19,Ta,2,0,"mat-chip",44),F.Jc(20,ja,2,0,"mat-chip",45),F.Jc(21,Ia,2,0,"mat-chip",46),F.Wb(),F.Wb(),F.Xb(22,"td",47),F.Lc(23),F.kc(24,"number"),F.Wb(),F.Xb(25,"td",47),F.Lc(26),F.kc(27,"number"),F.Wb(),F.Xb(28,"td"),F.Lc(29),F.Wb(),F.Xb(30,"td"),F.Lc(31),F.Wb(),F.Xb(32,"td"),F.Lc(33),F.Wb(),F.Jc(34,Aa,2,1,"ng-container",7),F.Jc(35,Ra,2,1,"ng-container",7),F.Sb(36,"td",31),F.Wb()),2&t){var n=e.$implicit,o=e.index,a=F.jc(2);F.Db(2),F.Mc(o+1),F.Db(1),F.pc("ngClass",F.rc(31,Na,!n.volume_check)),F.Db(1),F.pc("routerLink","/apps/"+a.modul+"/shipment/detail/"+n.id+"/soa"),F.Db(1),F.Mc(n.code),F.Db(2),F.Mc(n.bill),F.Db(1),F.pc("ngForOf",a.arrType),F.Db(1),F.pc("matTooltip",n.customer_name),F.Db(1),F.Mc(n.customer_short_name),F.Db(1),F.pc("matTooltip",n.agent_name),F.Db(1),F.Mc(n.agent_short_name),F.Db(2),F.pc("ngSwitch",n.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6),F.Db(2),F.Mc(F.mc(24,25,n.revenueTotal,"1.0-0")),F.Db(3),F.Mc(F.mc(27,28,n.costTotal,"1.0-0")),F.Db(3),F.Mc(n.cont_move),F.Db(2),F.Mc(n.owner_last_name),F.Db(2),F.Mc(n.create_by_last_name),F.Db(1),F.pc("ngForOf",a.price),F.Db(1),F.pc("ngForOf",a.price)}}function $a(t,e){if(1&t){var n=F.Yb();F.Vb(0),F.Xb(1,"tr"),F.Xb(2,"td",13),F.Lc(3),F.Wb(),F.Xb(4,"td",14),F.Xb(5,"a",15),F.fc("click",(function(t){F.Bc(n);var o=e.index,a=F.xc(27),i=F.jc();return a.toggle(),i.selectItem=o})),F.Lc(6),F.Wb(),F.Wb(),F.Xb(7,"td",16),F.Lc(8),F.Wb(),F.Xb(9,"td",16),F.Lc(10),F.Wb(),F.Jc(11,ga,3,5,"ng-container",7),F.Xb(12,"td",17),F.Lc(13),F.kc(14,"date"),F.Wb(),F.Xb(15,"td",17),F.Lc(16),F.kc(17,"date"),F.Wb(),F.Xb(18,"td",17),F.Lc(19),F.kc(20,"date"),F.Wb(),F.Xb(21,"td",18),F.Xb(22,"mat-icon",19),F.Lc(23,"print"),F.Wb(),F.Wb(),F.Wb(),F.Xb(24,"tr"),F.Xb(25,"td",20),F.Xb(26,"mat-expansion-panel",21,22),F.Xb(28,"div",23),F.Xb(29,"table",24),F.Xb(30,"thead"),F.Xb(31,"tr"),F.Xb(32,"th",25),F.Lc(33,"No"),F.Wb(),F.Xb(34,"th",26),F.Lc(35,"Code"),F.Wb(),F.Xb(36,"th",26),F.Lc(37,"Bill"),F.Wb(),F.Jc(38,ya,2,1,"ng-container",7),F.Xb(39,"th",27),F.Lc(40,"Customer"),F.Wb(),F.Xb(41,"th",27),F.Lc(42,"Agent"),F.Wb(),F.Xb(43,"th",28),F.Lc(44,"Process"),F.Wb(),F.Xb(45,"th",29),F.Lc(46,"Revenue"),F.Wb(),F.Xb(47,"th",29),F.Lc(48,"Cost"),F.Wb(),F.Xb(49,"th",30),F.Lc(50,"Cont/Move"),F.Wb(),F.Xb(51,"th",27),F.Lc(52,"Owner"),F.Wb(),F.Xb(53,"th",27),F.Lc(54,"Create by"),F.Wb(),F.Jc(55,Da,2,1,"ng-container",7),F.Jc(56,_a,2,1,"ng-container",7),F.Sb(57,"th",31),F.Wb(),F.Wb(),F.Xb(58,"tbody"),F.Jc(59,Ba,37,33,"tr",7),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Ub()}if(2&t){var o=e.$implicit,a=e.index,i=F.jc();F.Db(2),F.pc("ngClass",F.sc(32,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(a+1),F.Db(1),F.pc("ngClass",F.sc(35,fa,i.selectItem!=a,i.selectItem==a)),F.Db(2),F.Mc(i.shipments[o.key].vessel_full_name),F.Db(1),F.pc("ngClass",F.sc(38,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(i.shipments[o.key].pol_name),F.Db(1),F.pc("ngClass",F.sc(41,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(i.shipments[o.key].pod_name),F.Db(1),F.pc("ngForOf",i.arrType),F.Db(1),F.pc("ngClass",F.sc(44,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(F.mc(14,23,i.shipments[o.key].depart_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngClass",F.sc(47,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(F.mc(17,26,i.shipments[o.key].arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngClass",F.sc(50,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.Mc(F.mc(20,29,i.shipments[o.key].depart_time+60*i.shipments[o.key].closing_time*60*1e3,"HH:mm a MMM dd yyyy")),F.Db(2),F.pc("ngClass",F.sc(53,fa,i.selectItem!=a,i.selectItem==a)),F.Db(1),F.pc("routerLink","/apps/"+i.modul+"/report/voyage/"+i.modul+"/"+i.shipments[o.key].vessel_id+"/"+i.shipments[o.key].voyage_name+"/"+i.shipments[o.key].pol+"/"+i.shipments[o.key].pod),F.Db(3),F.Eb("colspan",8+i.arrType.length),F.Db(1),F.pc("expanded",i.selectItem==a),F.Db(12),F.pc("ngForOf",i.arrType),F.Db(17),F.pc("ngForOf",i.price),F.Db(1),F.pc("ngForOf",i.price),F.Db(3),F.pc("ngForOf",i.shipments[o.key].shipment)}}var za,Ea,Ha=((Ea=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.shipments&&(t.shipments.currentValue||null==t.shipments.currentValue)&&(this.shipments=t.shipments.currentValue)}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),t}()).\u0275fac=function(t){return new(t||Ea)(F.Rb(J.a))},Ea.\u0275cmp=F.Lb({type:Ea,selectors:[["dashboard-vessel-list"]],viewQuery:function(t,e){var n;1&t&&F.Sc(W.e,!0),2&t&&F.wc(n=F.gc())&&(e.viewPort=n.first)},inputs:{shipments:"shipments",voyage:"voyage",arrType:"arrType",height:"height",permission:"permission",selectItem:"selectItem",price:"price",modul:"modul"},features:[F.Bb()],decls:25,vars:23,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-table"],[1,"w-60"],[1,"w-152","sticky-col",2,"z-index","30"],[1,"w-112"],[4,"ngFor","ngForOf"],[1,"w-120"],[4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[1,"w-52","text-center"],[1,"w-60",3,"ngClass"],[1,"w-152","sticky-col",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"w-112",3,"ngClass"],[1,"w-120",3,"ngClass"],[3,"ngClass"],["color","accent",1,"cursor-pointer",3,"routerLink"],[2,"padding","0"],[1,"item",3,"expanded"],["itemPanel",""],[1,"content"],[1,"simple","dashboard-table"],[1,"accent-100-bg","w-52"],[1,"accent-100-bg","w-152"],[1,"accent-100-bg","w-120"],[1,"accent-100-bg","w-100"],[1,"accent-100-bg","w-100","text-right"],[1,"accent-100-bg","w-40"],[1,"accent-100-bg"],[1,"w-52","text-center",3,"ngClass"],["class","accent-100-bg text-center w-40",4,"ngIf"],[1,"accent-100-bg","text-center","w-40"],["class","text-right border-right w-80",3,"ngClass",4,"ngIf"],[1,"text-right","border-right","w-80",3,"ngClass"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4"],[1,"w-152",3,"ngClass"],[1,"cursor-pointer",3,"routerLink"],[3,"matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],[1,"text-right"],["class","text-center",4,"ngIf"],[1,"text-center"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""]],template:function(t,e){1&t&&(F.Jc(0,ua,3,1,"div",0),F.Xb(1,"div",1),F.Xb(2,"cdk-virtual-scroll-viewport",2),F.Xb(3,"mat-accordion"),F.Xb(4,"table",3),F.Xb(5,"thead"),F.Xb(6,"tr"),F.Xb(7,"th",4),F.Lc(8,"No"),F.Wb(),F.Xb(9,"th",5),F.Lc(10,"Voyage"),F.Wb(),F.Xb(11,"th",6),F.Lc(12,"POL"),F.Wb(),F.Xb(13,"th",6),F.Lc(14,"POD"),F.Wb(),F.Jc(15,ma,3,3,"ng-container",7),F.Xb(16,"th",8),F.Lc(17,"ETD"),F.Wb(),F.Xb(18,"th",8),F.Lc(19,"ETA"),F.Wb(),F.Xb(20,"th",8),F.Lc(21,"Closing time"),F.Wb(),F.Sb(22,"th"),F.Wb(),F.Wb(),F.Xb(23,"tbody"),F.Jc(24,$a,60,56,"ng-container",9),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.pc("ngIf",0===e.voyage.length),F.Db(1),F.Ic("height",e.height,"px"),F.Db(1),F.Ic("height",e.height,"px"),F.Db(5),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.pc("ngForOf",e.arrType),F.Db(1),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.pc("cdkVirtualForOf",e.voyage))},directives:[Y.t,W.e,_.a,q.d,l.a,Y.s,W.d,q.c,q.e,Y.q,Q.a,p.a,i.h,l.c,h.a,i.j,w.c,Y.x,Y.y,w.a],pipes:[Y.f,Y.g],styles:["dashboard-vessel-list .dashboard-table{font-size:12px}dashboard-vessel-list .dashboard-table td,dashboard-vessel-list .dashboard-table th{padding:8px}dashboard-vessel-list .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-vessel-list .dashboard-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-vessel-list .dashboard-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-vessel-list .dashboard-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-vessel-list .dashboard-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}dashboard-vessel-list .dashboard-table .mat-standard-chip{font-size:12px;border-radius:10px;min-height:24px}dashboard-vessel-list .mat-expansion-panel-body{padding:0!important}dashboard-vessel-list .dashboard-table{font-size:12px!important}dashboard-vessel-list .dashboard-table td,dashboard-vessel-list .dashboard-table th{padding:8px!important;background:#b3e5fc;white-space:nowrap;z-index:0}dashboard-vessel-list .dashboard-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:_t.a}}),Ea),Ua=((za=function(){function t(e,n,o,a,i){if(_classCallCheck(this,t),this.router=e,this.route=n,this._activatedRoute=o,this.authService=a,this.dashboardService=i,this.voyage=[],this.arrType=[],this.height=560,this.selectItem=0,this.price=[],this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var r=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(r)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-16-4:t.authService.screenHeight-64-64-16-4})),this.dashboardService.onVesselChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.shipments=t.dashboardService.shipmentVessel,t.voyage=t.dashboardService.voyage,t.arrType=t.dashboardService.arrType,t.price=t.dashboardService.price}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||za)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(J.a),F.Rb(N))},za.\u0275cmp=F.Lb({type:za,selectors:[["dashboard-vessel"]],decls:1,vars:8,consts:[[3,"modul","shipments","voyage","arrType","height","permission","selectItem","price"]],template:function(t,e){1&t&&F.Sb(0,"dashboard-vessel-list",0),2&t&&F.pc("modul",e.modul)("shipments",e.shipments)("voyage",e.voyage)("arrType",e.arrType)("height",e.height)("permission",e.permission)("selectItem",e.selectItem)("price",e.price)},directives:[Ha],styles:[""],encapsulation:2,data:{animation:_t.a}}),za);function Ya(t,e){1&t&&(F.Xb(0,"div",9),F.Xb(1,"span",10),F.Lc(2),F.Wb(),F.Wb()),2&t&&(F.Db(2),F.Mc("No Shipment"))}function qa(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"th",11),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.Ic("top",o.inverseOfTranslation),F.Db(1),F.Mc(n)}}var Ga=function(t){return{"row-even":t}};function Qa(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",17),F.Lc(2),F.Wb(),F.Ub()),2&t){var n=e.$implicit,o=F.jc(4),a=o.index,i=o.$implicit,r=F.jc();F.Db(1),F.pc("ngClass",F.rc(3,Ga,a%2==1)),F.Eb("rowspan",r.shipments[i.key].container),F.Db(1),F.Mc(r.shipments[i.key][n])}}function Ka(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",15),F.Lc(2),F.Wb(),F.Xb(3,"td",16),F.Xb(4,"a"),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td",15),F.Lc(7),F.Wb(),F.Xb(8,"td",15),F.Lc(9),F.Wb(),F.Xb(10,"td",15),F.Lc(11),F.kc(12,"date"),F.Wb(),F.Xb(13,"td",15),F.Lc(14),F.kc(15,"date"),F.Wb(),F.Jc(16,Qa,3,5,"ng-container",5),F.Ub()),2&t){var n=F.jc(3),o=n.index,a=n.$implicit,i=F.jc();F.Db(1),F.pc("ngClass",F.rc(25,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(1),F.Mc(o+1),F.Db(1),F.pc("ngClass",F.rc(27,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(2),F.Mc(i.shipments[a.key].vessel_full_name),F.Db(1),F.pc("ngClass",F.rc(29,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(1),F.Mc(i.shipments[a.key].pol_name),F.Db(1),F.pc("ngClass",F.rc(31,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(1),F.Mc(i.shipments[a.key].pod_name),F.Db(1),F.pc("ngClass",F.rc(33,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(1),F.Mc(F.mc(12,19,i.shipments[a.key].depart_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngClass",F.rc(35,Ga,o%2==1)),F.Eb("rowspan",i.shipments[a.key].container),F.Db(1),F.Mc(F.mc(15,22,i.shipments[a.key].arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngForOf",i.arrType)}}function Za(t,e){1&t&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function ti(t,e){1&t&&(F.Xb(0,"mat-chip",26),F.Lc(1,"Stuffing"),F.Wb())}function ei(t,e){1&t&&(F.Xb(0,"mat-chip",27),F.Lc(1,"Ready to load"),F.Wb())}function ni(t,e){1&t&&(F.Xb(0,"mat-chip",28),F.Lc(1,"Loaded"),F.Wb())}function oi(t,e){1&t&&(F.Xb(0,"mat-chip",26),F.Lc(1,"Discharge"),F.Wb())}function ai(t,e){1&t&&(F.Xb(0,"mat-chip",27),F.Lc(1,"Pick up"),F.Wb())}function ii(t,e){1&t&&(F.Xb(0,"mat-chip",28),F.Lc(1,"Complete"),F.Wb())}var ri=function(t,e){return{"row-even":t,"error-cell":e}};function ci(t,e){if(1&t&&(F.Vb(0),F.Xb(1,"td",18),F.Xb(2,"a",19),F.Lc(3),F.Wb(),F.Wb(),F.Xb(4,"td",15),F.Lc(5),F.Wb(),F.Xb(6,"td",20),F.Lc(7),F.Wb(),F.Xb(8,"td",20),F.Lc(9),F.Wb(),F.Xb(10,"td",15),F.Xb(11,"mat-chip-list",21),F.Jc(12,Za,2,0,"mat-chip",22),F.Jc(13,ti,2,0,"mat-chip",23),F.Jc(14,ei,2,0,"mat-chip",24),F.Jc(15,ni,2,0,"mat-chip",25),F.Jc(16,oi,2,0,"mat-chip",23),F.Jc(17,ai,2,0,"mat-chip",24),F.Jc(18,ii,2,0,"mat-chip",25),F.Wb(),F.Wb(),F.Ub()),2&t){var n=F.jc(2).$implicit,o=F.jc().index,a=F.jc();F.Db(1),F.pc("ngClass",F.sc(26,ri,o%2==1,!n.volume_check))("matTooltip",n.volume_check?"":"Thi\u1ebfu container so v\u1edbi volume"),F.Eb("rowspan",n.container.length),F.Db(1),F.pc("routerLink","/apps/"+a.modul+"/shipment/detail/"+n.id+"/soa"),F.Db(1),F.Mc(n.code),F.Db(1),F.pc("ngClass",F.rc(29,Ga,o%2==1)),F.Eb("rowspan",n.container.length),F.Db(1),F.Mc(n.bill),F.Db(1),F.pc("ngClass",F.rc(31,Ga,o%2==1))("matTooltip",n.customer_name),F.Eb("rowspan",n.container.length),F.Db(1),F.Mc(n.customer_short_name),F.Db(1),F.pc("ngClass",F.rc(33,Ga,o%2==1))("matTooltip",n.agent_name),F.Eb("rowspan",n.container.length),F.Db(1),F.Mc(n.agent_short_name),F.Db(1),F.pc("ngClass",F.rc(35,Ga,o%2==1)),F.Eb("rowspan",n.container.length),F.Db(1),F.pc("ngSwitch",n.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6)}}function si(t,e){if(1&t&&(F.Xb(0,"tr"),F.Jc(1,Ka,17,37,"ng-container",12),F.Jc(2,ci,19,37,"ng-container",12),F.Xb(3,"td",13),F.Lc(4),F.Wb(),F.Xb(5,"td",14),F.Lc(6),F.Wb(),F.Wb()),2&t){var n=e.$implicit,o=e.index,a=F.jc().index,i=F.jc().index;F.Db(1),F.pc("ngIf",0==a&&0==o),F.Db(1),F.pc("ngIf",0==o),F.Db(1),F.pc("ngClass",F.rc(6,Ga,i%2==1)),F.Db(1),F.Mc(n.cont_number),F.Db(1),F.pc("ngClass",F.rc(8,Ga,i%2==1)),F.Db(1),F.Mc(n.cont_type)}}function bi(t,e){if(1&t&&(F.Vb(0),F.Jc(1,si,7,10,"tr",5),F.Ub()),2&t){var n=e.$implicit;F.Db(1),F.pc("ngForOf",n.container)}}function li(t,e){if(1&t&&(F.Vb(0),F.Jc(1,bi,2,1,"ng-container",5),F.Ub()),2&t){var n=e.$implicit,o=F.jc();F.Db(1),F.pc("ngForOf",o.shipments[n.key].shipment)}}var di,pi,hi,ui,mi,fi,gi,vi,yi,ki,xi,Di,wi,Wi,_i,Xi,Si,Ci=((pi=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.shipments&&(t.shipments.currentValue||null==t.shipments.currentValue)&&(this.shipments=t.shipments.currentValue)}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}},{key:"inverseOfTranslation2",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"".concat(this.viewPort._renderedContentOffset,"px"):"0px"}}]),t}()).\u0275fac=function(t){return new(t||pi)(F.Rb(J.a))},pi.\u0275cmp=F.Lb({type:pi,selectors:[["dashboard-container-list"]],viewQuery:function(t,e){var n;1&t&&F.Sc(W.e,!0),2&t&&F.wc(n=F.gc())&&(e.viewPort=n.first)},inputs:{shipments:"shipments",voyage:"voyage",arrType:"arrType",permission:"permission",height:"height",modul:"modul"},features:[F.Bb()],decls:35,vars:33,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-table"],[1,"sticky-col",2,"z-index","30"],[4,"ngFor","ngForOf"],[1,"sticky-right-col2",2,"z-index","30"],[1,"sticky-right-col1",2,"z-index","30"],[4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[1,"text-center"],[4,"ngIf"],[1,"sticky-right-col2",3,"ngClass"],[1,"sticky-right-col1",3,"ngClass"],[3,"ngClass"],[1,"w-152","sticky-col",3,"ngClass"],[1,"text-center",3,"ngClass"],[1,"w-152",3,"ngClass","matTooltip"],[1,"cursor-pointer",3,"routerLink"],[3,"ngClass","matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""]],template:function(t,e){1&t&&(F.Jc(0,Ya,3,1,"div",0),F.Xb(1,"div",1),F.Xb(2,"cdk-virtual-scroll-viewport",2),F.Xb(3,"table",3),F.Xb(4,"thead"),F.Xb(5,"tr"),F.Xb(6,"th"),F.Lc(7,"No"),F.Wb(),F.Xb(8,"th",4),F.Lc(9,"Vessel voy"),F.Wb(),F.Xb(10,"th"),F.Lc(11,"POL"),F.Wb(),F.Xb(12,"th"),F.Lc(13,"POD"),F.Wb(),F.Xb(14,"th"),F.Lc(15,"ETD"),F.Wb(),F.Xb(16,"th"),F.Lc(17,"ETA"),F.Wb(),F.Jc(18,qa,3,3,"ng-container",5),F.Xb(19,"th"),F.Lc(20,"Shipment"),F.Wb(),F.Xb(21,"th"),F.Lc(22,"BL"),F.Wb(),F.Xb(23,"th"),F.Lc(24,"Customer"),F.Wb(),F.Xb(25,"th"),F.Lc(26,"Agent"),F.Wb(),F.Xb(27,"th"),F.Lc(28,"Process"),F.Wb(),F.Xb(29,"th",6),F.Lc(30,"Container"),F.Wb(),F.Xb(31,"th",7),F.Lc(32,"Type"),F.Wb(),F.Wb(),F.Wb(),F.Xb(33,"tbody"),F.Jc(34,li,2,1,"ng-container",8),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&t&&(F.pc("ngIf",0===e.voyage.length),F.Db(1),F.Ic("height",e.height,"px"),F.Db(1),F.Ic("height",e.height,"px"),F.Db(4),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.pc("ngForOf",e.arrType),F.Db(1),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(2),F.Ic("top",e.inverseOfTranslation),F.Db(3),F.pc("cdkVirtualForOf",e.voyage))},directives:[Y.t,W.e,_.a,q.d,Y.s,W.d,q.c,q.e,Y.q,Q.a,h.a,i.j,w.c,Y.x,Y.y,w.a],pipes:[Y.f],styles:["dashboard-container-list .dashboard-table{font-size:12px}dashboard-container-list .dashboard-table td,dashboard-container-list .dashboard-table th{padding:8px!important;white-space:nowrap}dashboard-container-list .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-container-list .dashboard-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}dashboard-container-list .dashboard-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}dashboard-container-list .dashboard-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}dashboard-container-list .dashboard-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}dashboard-container-list .dashboard-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}"],encapsulation:2,data:{animation:_t.a}}),pi),Li=((di=function(){function t(e,n,o,a,i){if(_classCallCheck(this,t),this.router=e,this.route=n,this._activatedRoute=o,this.authService=a,this.dashboardService=i,this.voyage=[],this.arrType=[],this.height=560,this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var r=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(r)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-16-4:t.authService.screenHeight-64-64-16-4})),this.dashboardService.onVesselChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.shipments=t.dashboardService.shipmentVessel,t.voyage=t.dashboardService.voyage,t.arrType=t.dashboardService.arrType}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||di)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(J.a),F.Rb(N))},di.\u0275cmp=F.Lb({type:di,selectors:[["dashboard-container"]],decls:1,vars:6,consts:[[3,"modul","shipments","voyage","arrType","permission","height"]],template:function(t,e){1&t&&F.Sb(0,"dashboard-container-list",0),2&t&&F.pc("modul",e.modul)("shipments",e.shipments)("voyage",e.voyage)("arrType",e.arrType)("permission",e.permission)("height",e.height)},directives:[Ci],styles:["dashboard-container .no-shipments-text{font-size:24px;font-weight:300}dashboard-container cdk-virtual-scroll-viewport{width:100%}dashboard-container .dashboard-table{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}dashboard-container .dashboard-table td,dashboard-container .dashboard-table th{padding:8px!important;white-space:nowrap}dashboard-container .mat-expansion-panel-body{padding:0!important}dashboard-container .shipment-table{font-size:12px!important}dashboard-container .shipment-table td,dashboard-container .shipment-table th{padding:8px!important;white-space:nowrap}dashboard-container .shipment-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}dashboard-container .shipment-table .sticky-col{width:152px;position:sticky;position:-webkit-sticky;background-color:#fff;left:0;z-index:20}dashboard-container .shipment-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background-color:#fff;right:0;z-index:20}dashboard-container .shipment-table .sticky-right-col2{position:sticky;position:-webkit-sticky;background-color:#fff;right:47px;z-index:20}dashboard-container .shipment-table .row-even{background-color:#e0e0e0!important}dashboard-container .shipment-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:_t.a}}),di),Oi=n("FSWq"),Mi=n("XL1V"),Ti=n("g4yx"),ji=n("3DVi"),Ii=n("hrka"),Pi=n("Uhud"),Vi=((hi=function(){function t(e,n,o,a,i,r){if(_classCallCheck(this,t),this.router=e,this.route=n,this._activatedRoute=o,this.authService=a,this.dashboardService=i,this._matDialog=r,this.height=560,this._unsubscribeAll=new P.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{var c=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(c)}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.urlChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){if(t.modul=t.authService.modul,t.authService.permissionModul)t.permission=t.authService.permissionModul;else{var n=t.router.routerState.snapshot.url.split("/")[2];t.permission=t.authService.getAction(n)}})),this.authService.windowSizeChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e.height-64-64-16-4})),this.authService.changeScreen.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.height=e?t.authService.screenHeight-64-16-4:t.authService.screenHeight-64-64-16-4})),this.dashboardService.onVesselChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.data=t.dashboardService.shipmentError})),this.dashboardService.onDataChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.customer=t.dashboardService.customer,t.supplier=t.dashboardService.supplier,t.seaport=t.dashboardService.seaport,t.user=t.dashboardService.user})),this.dashboardService.onDataItemChanged.pipe(Object(Xt.a)(this._unsubscribeAll)).subscribe((function(e){t.package=t.dashboardService.packageType,t.commodity=t.dashboardService.commodity}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getShipment",value:function(t){var e=this;this.authService.onRequestChanged.next(!0),this.dashboardService.getFilterShipment(this.dashboardService.currenSearch.formSearch).then((function(n){if(e.authService.onRequestChanged.next(!1),t){var o=e.dashboardService.shipment.find((function(t){return t.id==e.oldError.id}));o.error?e.authService.action[t]&&e.authService.action[t].code&&(o.error[e.authService.action[t].code]||e.authService.addAction(o.id,t)):e.authService.addAction(o.id,"E99")}})).catch((function(t){e.authService.onRequestChanged.next(!1),console.error(t),alert("add error")}))}},{key:"openModal",value:function(t){var e=_slicedToArray(t,2),n=e[0],o=e[1];switch(this.oldError=JSON.parse(JSON.stringify(n)),o){case"E01":this.addAgent(n,o,"load");break;case"E02":this.addParty(n,o,"S");break;case"E03":this.addParty(n,o,"C");break;case"E04":this.addParty(n,o,"N");break;case"E05":this.addSellBill(n,o);break;case"E06":this.addBillContainer(n,o);break;case"E07":this.addAgent(n,o,"discharge");break;case"E08":this.searchMovement(n,o);break;case"E09":this.openVolumeModal(n,o);break;default:alert("error")}}},{key:"addParty",value:function(t,e,n){var o=this;this.dialogRef=this._matDialog.open(Oi.a,{panelClass:"shipment-details-party-modal-dialog",data:{label:"Add party",shipmentId:t.id,customer:this.customer,party:[],data:null,type:n}}),this.dialogRef.afterClosed().subscribe((function(t){t&&(o.authService.onRequestChanged.next(!0),o.dashboardService.createSelParty(t).then((function(t){o.authService.onRequestChanged.next(!1),t.insertId>0?o.getShipment(e):(console.error(t),alert("add error"))})).catch((function(t){o.authService.onRequestChanged.next(!1),console.error(t),alert("add error")})))}))}},{key:"addAgent",value:function(t,e,n){var o=this;this.dialogRef=this._matDialog.open(Mi.a,{panelClass:"load-agent-modal-dialog",data:{agent:this.supplier,shipment:t,type:n}}),this.dialogRef.afterClosed().subscribe((function(t){t&&(o.authService.onRequestChanged.next(!0),o.dashboardService.updateSelShipment(t).then((function(t){o.authService.onRequestChanged.next(!1),1==t.affectedRows?o.getShipment(e):(console.error(t),alert("Error add "+n+" agent"))})).catch((function(t){o.authService.onRequestChanged.next(!1),console.error(t),alert("Error add "+n+" agent")})))}))}},{key:"addSellBill",value:function(t,e){var n=this;this.dialogRef=this._matDialog.open(Ti.a,{panelClass:"shipment-details-bill-modal-dialog",data:{label:"Add bill information",shipment:t,selVolume:t.volume?t.volume:[],customer:null,data:null}}),this.dialogRef.afterClosed().subscribe((function(t){t&&(n.authService.onRequestChanged.next(!0),n.dashboardService.createSelBill(t).then((function(t){n.authService.onRequestChanged.next(!1),t.insertId>0&&n.getShipment(e)})).catch((function(t){n.authService.onRequestChanged.next(!1),console.error(t),alert("ERROR")})))}))}},{key:"addBillContainer",value:function(t,e){var n=this,o=[];t.container.map((function(e){t.bill_particular.container[e.cont_number]||o.push(e)})),this.dialogRef=this._matDialog.open(Ti.a,{panelClass:"shipment-details-bill-modal-dialog",data:{label:"Add bill container information",shipment:t,bill:t.bill_particular,package:this.package,selMove:null,customer:null,container:o,data:null}}),this.dialogRef.afterClosed().subscribe((function(t){t&&(n.authService.onRequestChanged.next(!0),n.dashboardService.createBillContainer(t).then((function(t){n.authService.onRequestChanged.next(!1),t.insertId>0&&n.getShipment(e)})).catch((function(t){n.authService.onRequestChanged.next(!1),console.error(t),alert("ERROR")})))}))}},{key:"searchMovement",value:function(t,e){var n=this;if(t.process<6){var o=!1;this.dialogRef=this._matDialog.open(ji.a,{panelClass:"shipment-details-container-modal-dialog",data:{label:"Container move",shipmentId:t.id,selMove:[],data:null}}),this.dialogRef.componentInstance.getMovement.subscribe((function(t){n.authService.onRequestChanged.next(!0),n.dashboardService.getMovementByContNumber(t[0],t[1]).then((function(t){n.dialogRef.componentInstance.movement2=t,n.dialogRef.componentInstance.movementFilter2[5]=t.filter((function(t){return"TREXP"==t.move_type})),n.dialogRef.componentInstance.movementFilter2[6]=t.filter((function(t){return"FULEX"==t.move_type})),n.dialogRef.componentInstance.movementFilter2[9]=t.filter((function(t){return"LOAD"==t.move_type})),n.dialogRef.componentInstance.movementFilter2[3]=t.filter((function(t){return"FULIM"==t.move_type})),n.dialogRef.componentInstance.movementFilter2[4]=t.filter((function(t){return"TRIMP"==t.move_type})),n.dialogRef.componentInstance.movementFilter2[2]=t.filter((function(t){return"EMPTY"==t.move_type})),n.authService.onRequestChanged.next(!1)})).catch((function(t){console.error(t),alert("ERROR load movement"),n.authService.onRequestChanged.next(!1)}))})),this.dialogRef.componentInstance.createSelMoveParent.subscribe((function(e){var a=null;e.move_type&&(a=e.move_type,delete e.move_type),n.dashboardService.createSelMove(e).then((function(e){n.authService.onRequestChanged.next(!1),e.insertId>0?(n.dialogRef.componentInstance.onMovementFormSubmit(n.dialogRef.componentInstance.formMovement),a&&n.authService.addAction(t.id,n.authService.actionCode[a]),o=!0):(alert("ERROR"),console.error(e))})).catch((function(t){n.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(t)}))})),this.dialogRef.afterClosed().subscribe((function(t){o&&n.getShipment(e)}))}}},{key:"openVolumeModal",value:function(t,e){var n=this;this.dialogRef=this._matDialog.open(Ii.a,{panelClass:"shipment-details-volume-modal-dialog",data:{label:"Add volume",shipmentId:t.id,commodity:this.commodity,packageType:this.package,data:null}}),this.dialogRef.afterClosed().subscribe((function(t){t&&(n.authService.onRequestChanged.next(!0),n.dashboardService.createSelVolume(t).then((function(t){n.authService.onRequestChanged.next(!1),t.insertId>0?n.getShipment(e):(console.error(t),alert("add volume error"))})).catch((function(t){n.authService.onRequestChanged.next(!1),console.error(t),alert("add volume error")})))}))}}]),t}()).\u0275fac=function(t){return new(t||hi)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(J.a),F.Rb(N),F.Rb(v.b))},hi.\u0275cmp=F.Lb({type:hi,selectors:[["dashboard-check"]],decls:1,vars:4,consts:[[3,"modul","data","permission","height","openModal"]],template:function(t,e){1&t&&(F.Xb(0,"dashboard-check-list",0),F.fc("openModal",(function(t){return e.openModal(t)})),F.Wb()),2&t&&F.pc("modul",e.modul)("data",e.data)("permission",e.permission)("height",e.height)},directives:[Pi.a],styles:[""],encapsulation:2,data:{animation:_t.a}}),hi),Ai=n("1jcm"),Fi=n("+0xr"),Ji=n("f0Cb"),Ri=n("IOBc"),Ni=((mi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:mi}),mi.\u0275inj=F.Ob({factory:function(t){return new(t||mi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,Ri.a]]}),mi),Bi=((ui=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:ui}),ui.\u0275inj=F.Ob({factory:function(t){return new(t||ui)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t]]}),ui),$i=n("zQsl"),zi=((vi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:vi}),vi.\u0275inj=F.Ob({factory:function(t){return new(t||vi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,tn.b,$i.b]]}),vi),Ei=((gi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:gi}),gi.\u0275inj=F.Ob({factory:function(t){return new(t||gi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,S.t]]}),gi),Hi=((fi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:fi}),fi.\u0275inj=F.Ob({factory:function(t){return new(t||fi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t]]}),fi),Ui=n("AjAt"),Yi=((Si=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:Si}),Si.\u0275inj=F.Ob({factory:function(t){return new(t||Si)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,Ui.a]]}),Si),qi=((Xi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:Xi}),Xi.\u0275inj=F.Ob({factory:function(t){return new(t||Xi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t]]}),Xi),Gi=((_i=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:_i}),_i.\u0275inj=F.Ob({factory:function(t){return new(t||_i)},providers:[Po.i],imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,Po.a.forRoot({apiKey:"AIzaSyDdcbQ4_zzLPPn2y0-HI_5po88wv6_AHxM",language:"en"})]]}),_i),Qi=((Wi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:Wi}),Wi.\u0275inj=F.Ob({factory:function(t){return new(t||Wi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,W.g,_.b]]}),Wi),Ki=((wi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:wi}),wi.\u0275inj=F.Ob({factory:function(t){return new(t||wi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,W.g,_.b]]}),wi),Zi=((Di=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:Di}),Di.\u0275inj=F.Ob({factory:function(t){return new(t||Di)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,W.g,_.b]]}),Di),tr=((xi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:xi}),xi.\u0275inj=F.Ob({factory:function(t){return new(t||xi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t,W.g,_.b]]}),xi),er=((ki=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:ki}),ki.\u0275inj=F.Ob({factory:function(t){return new(t||ki)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,S.t]]}),ki),nr=((yi=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:yi}),yi.\u0275inj=F.Ob({factory:function(t){return new(t||yi)},imports:[[i.k,r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,L.b,O.b,Ai.b,Fi.k,C.c,Ji.b,W.g,_.b,S.t,er]]}),yi),or=n("QN6G"),ar=n("sVAI"),ir=n("TzrD"),rr=n("jUCA"),cr=n("xcW2"),sr=n("y1Uv");n.d(e,"DashboardModule",(function(){return dr}));var br,lr=[{path:"board",component:Wt,resolve:{data:N},children:[{path:"overview",component:pa},{path:"shipment",component:Ht},{path:"book",component:pe},{path:"vessel",component:Ua},{path:"container",component:Li},{path:"stock",component:ha},{path:"check",component:Vi}]}],dr=((br=function t(){_classCallCheck(this,t)}).\u0275mod=F.Pb({type:br}),br.\u0275inj=F.Ob({factory:function(t){return new(t||br)},providers:[j.a,N,z],imports:[[i.k.forChild(lr),r.b,T.a,c.b,s.c,b.c,l.b,d.e,p.b,h.b,u.c,m.c,f.b,g.c,v.e,y.b,k.b,x.b,D.d,w.e,W.g,_.b,S.t,C.c,L.b,O.b,M.a,X.f,Ni,Bi,zi,Ei,Hi,Yi,qi,Gi,Qi,Ki,Zi,tr,nr,or.a,ar.a,ir.a,rr.a,cr.a,sr.a]]}),br)}}]);