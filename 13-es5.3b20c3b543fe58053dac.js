function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FSWq:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n=a("0IaG"),o=a("3Pt+"),i=a("JX91"),r=a("lJxs"),l=a("fXoL"),m=a("tyNb"),c=a("qXBG"),b=a("0Zc1"),u=a("ofXK"),s=a("/t3+"),p=a("XiUz"),f=a("bTqV"),d=a("NFeN"),h=a("EwFO"),g=a("kmnG"),v=a("qFsG"),y=a("/1cH"),C=a("d3UM"),x=a("FKr1");function X(e,t){1&e&&(l.Xb(0,"span"),l.Lc(1,"Booking Party"),l.Wb())}function W(e,t){1&e&&(l.Xb(0,"span"),l.Lc(1,"Consignee"),l.Wb())}function k(e,t){1&e&&(l.Xb(0,"span"),l.Lc(1,"Notify Party"),l.Wb())}function w(e,t){1&e&&(l.Xb(0,"span"),l.Lc(1,"Shipper"),l.Wb())}function S(e,t){if(1&e&&(l.Xb(0,"mat-option",32),l.Jc(1,X,2,0,"span",15),l.Jc(2,W,2,0,"span",15),l.Jc(3,k,2,0,"span",15),l.Jc(4,w,2,0,"span",15),l.Wb()),2&e){var a=t.$implicit,n=l.jc(2);l.pc("value",a)("disabled",n.filterType.includes(a)),l.Db(1),l.pc("ngIf","B"==a),l.Db(1),l.pc("ngIf","C"==a),l.Db(1),l.pc("ngIf","N"==a),l.Db(1),l.pc("ngIf","S"==a)}}function L(e,t){if(1&e&&(l.Xb(0,"mat-select",30),l.Jc(1,S,5,6,"mat-option",31),l.Wb()),2&e){var a=l.jc();l.Db(1),l.pc("ngForOf",a.type)}}function _(e,t){if(1&e&&l.Sb(0,"input",23),2&e){var a=l.jc();l.pc("value",a.objType[a.formSelParty.value.type])}}function D(e,t){1&e&&l.Sb(0,"input",33)}function N(e,t){1&e&&(l.Xb(0,"mat-error"),l.Lc(1,"Type is required!"),l.Wb())}function I(e,t){if(1&e&&(l.Xb(0,"mat-option",34),l.Lc(1),l.Wb()),2&e){var a=t.$implicit;l.pc("value",a),l.Db(1),l.Nc(" ",a.full_name," ")}}function F(e,t){1&e&&(l.Xb(0,"mat-error"),l.Lc(1,"Party is required!"),l.Wb())}var q=function(){var e=function(){function e(t,a,n,i,r,l,m){if(_classCallCheck(this,e),this.router=t,this.matDialogRef=a,this._data=n,this.authService=i,this.commonService=r,this.datePipe=l,this._formBuilder=m,this.type=["B","C","N","S"],this.objType={B:"Booking Party",C:"Consignee",N:"Notify Party",S:"Shipper"},this.defaultType=!1,this.filterType=[],this.formSelParty=this._formBuilder.group({id:[null],shipment:[null,o.y.required],type:[null,o.y.required],party:[null,o.y.required],info:[null],update_by:[this.authService.user,o.y.required]}),this.label=n.label,this.shipmentId=n.shipmentId,"Add party"==this.label||"Edit party"==this.label)if(this.customer=n.customer,this.filterType=n.party.map((function(e){return e.type})),"Edit party"==this.label){var c=JSON.parse(JSON.stringify(n.data));c.party=this.customer.find((function(e){return e.id==c.party})),this.formSelParty.patchValue(c),this.filterType=this.type.slice(),this.filterType.splice(this.filterType.indexOf(c.type),1),this.formSelParty.controls.update_by.setValue(this.authService.user)}else n.type&&(this.defaultType=!0,this.formSelParty.controls.type.setValue(n.type)),this.formSelParty.controls.shipment.setValue(this.shipmentId),this.formSelParty.controls.id.disable()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.authService.name,this.filteredCustomer=this.formSelParty.controls.party.valueChanges.pipe(Object(i.a)(""),Object(r.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(r.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.customer):[]}))),this.formSelParty.valueChanges.subscribe((function(t){e.errorMessage=""})),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"setDateStr",value:function(e){e.target.value=""==e.target.value?null:new Date(e.target.value)}},{key:"onSelPartyFormSubmit",value:function(e){if(e.valid){var t=JSON.parse(JSON.stringify(e.value));if("string"==typeof t.party&&this.formSelParty.controls.party.setValue(null),!this.formSelParty.valid)return;this.matDialogRef.close(t)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Rb(m.g),l.Rb(n.f),l.Rb(n.a),l.Rb(c.a),l.Rb(b.a),l.Rb(u.f),l.Rb(o.d))},e.\u0275cmp=l.Lb({type:e,selectors:[["shipment-details-party-modal-dialog"]],decls:48,vars:14,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-details-party-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","shipment"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","25",1,"pr-8"],["formControlName","type","required","",4,"ngIf"],["inputCheck","","matInput","","readonly","true",3,"value",4,"ngIf"],["inputCheck","","matInput","","formControlName","type","style","display: none",4,"ngIf"],[4,"ngIf"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","75",1,"pr-8"],["inputCheck","","aria-label","party","matInput","","formControlName","party","required","",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","50",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["formControlName","type","required",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["inputCheck","","matInput","","formControlName","type",2,"display","none"],[3,"value"]],template:function(e,t){if(1&e&&(l.Xb(0,"div",0),l.Xb(1,"mat-toolbar",1),l.Xb(2,"mat-toolbar-row",2),l.Xb(3,"span",3),l.Lc(4),l.Wb(),l.Xb(5,"button",4),l.fc("click",(function(e){return t.matDialogRef.close()})),l.Xb(6,"mat-icon"),l.Lc(7,"close"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"div"),l.Xb(10,"form",6),l.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSelPartyFormSubmit(t.formSelParty)})),l.Xb(11,"div",7),l.Sb(12,"input",8),l.Sb(13,"input",9),l.Wb(),l.Xb(14,"div",10),l.Xb(15,"mat-form-field",11),l.Xb(16,"mat-label"),l.Lc(17,"Type"),l.Wb(),l.Jc(18,L,2,1,"mat-select",12),l.Jc(19,_,1,1,"input",13),l.Jc(20,D,1,0,"input",14),l.Jc(21,N,2,0,"mat-error",15),l.Wb(),l.Xb(22,"mat-form-field",16),l.Xb(23,"mat-label"),l.Lc(24,"Party"),l.Wb(),l.Sb(25,"input",17),l.Xb(26,"mat-autocomplete",18,19),l.Jc(28,I,2,2,"mat-option",20),l.kc(29,"async"),l.Wb(),l.Jc(30,F,2,0,"mat-error",15),l.Wb(),l.Xb(31,"mat-form-field",21),l.Xb(32,"mat-label"),l.Lc(33,"Info"),l.Wb(),l.Sb(34,"input",22),l.Wb(),l.Xb(35,"mat-form-field",21),l.Xb(36,"mat-label"),l.Lc(37,"Update by"),l.Wb(),l.Sb(38,"input",23),l.Sb(39,"input",24),l.Wb(),l.Wb(),l.Xb(40,"div",25),l.Xb(41,"div",26),l.Lc(42),l.Wb(),l.Wb(),l.Xb(43,"div",27),l.Xb(44,"button",28),l.Lc(45,"Submit"),l.Wb(),l.Xb(46,"button",29),l.fc("click",(function(e){return t.matDialogRef.close()})),l.Lc(47,"Cancel"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e){var a=l.xc(27);l.Db(4),l.Mc(t.label),l.Db(6),l.pc("formGroup",t.formSelParty),l.Db(8),l.pc("ngIf",!t.defaultType),l.Db(1),l.pc("ngIf",t.defaultType),l.Db(1),l.pc("ngIf",t.defaultType),l.Db(1),l.pc("ngIf",t.formSelParty.get("type").hasError("required")),l.Db(4),l.pc("matAutocomplete",a),l.Db(1),l.pc("displayWith",t.commonService.displayObjFn.bind(t,"full_name")),l.Db(2),l.pc("ngForOf",l.lc(29,12,t.filteredCustomer)),l.Db(2),l.pc("ngIf",t.formSelParty.get("party").hasError("required")),l.Db(8),l.pc("value",t.name),l.Db(4),l.Mc(t.errorMessage)}},directives:[s.a,s.c,p.b,p.d,p.c,f.b,d.a,n.d,h.a,o.A,o.q,o.h,o.b,o.p,o.g,g.c,g.f,u.t,v.b,y.c,o.w,y.a,u.s,C.a,x.n,g.b],pipes:[u.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-party-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-party-modal-dialog{width:1080px}}.shipment-details-party-modal-dialog .mat-dialog-container{padding:0}.shipment-details-party-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-party-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-party-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.shipment-details-party-modal-dialog #shipment-details-party-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.shipment-details-party-modal-dialog #shipment-details-party-modal .faq .item{padding:8px}.shipment-details-party-modal-dialog #shipment-details-party-modal .faq .item .title{font-size:14px;margin-bottom:8px}.shipment-details-party-modal-dialog #shipment-details-party-modal .faq .item .info{font-size:12px;line-height:1.5;color:rgba(0,0,0,.54)}.table-inv-item{width:100%}.table-inv-item tr.example-details-row{height:0}.table-inv-item tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}.table-inv-item tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.table-inv-item .example-element-row td{border-bottom-width:0}.table-inv-item .example-element-detail{overflow:hidden;display:-webkit-box;display:flex}.table-inv-item .example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.table-inv-item .example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.table-inv-item .example-element-description{padding:16px}.table-inv-item .example-element-description-attribution{opacity:.5}"],encapsulation:2}),e}()},Ivtv:function(e,t,a){"use strict";function n(e){if(e.value){if(11!=e.value.length)return{validConNum:!0};for(var t,a,n=e.value,o=0,i=0;i<n.length;i++){if(t=n.charAt(i),i<4){if(!isNaN(t))return{validConNum:!0};switch(t){case"A":t=10;break;case"B":t=12;break;case"C":t=13;break;case"D":t=14;break;case"E":t=15;break;case"F":t=16;break;case"G":t=17;break;case"H":t=18;break;case"I":t=19;break;case"J":t=20;break;case"K":t=21;break;case"L":t=23;break;case"M":t=24;break;case"N":t=25;break;case"O":t=26;break;case"P":t=27;break;case"Q":t=28;break;case"R":t=29;break;case"S":t=30;break;case"T":t=31;break;case"U":t=32;break;case"V":t=34;break;case"W":t=35;break;case"X":t=36;break;case"Y":t=37;break;case"Z":t=38}}else{if(isNaN(t))return{validConNum:!0};t=Number(t)}i==n.length-1?a=t:o+=t*Math.pow(2,i)}if((o%11==10?0:o%11)!=a)return{validConNum:!0}}return null}a.d(t,"a",(function(){return n}))},g4yx:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var n=a("0IaG"),o=a("3Pt+"),i=a("JX91"),r=a("lJxs"),l=a("Ivtv"),m=a("fXoL"),c=a("tyNb"),b=a("qXBG"),u=a("0Zc1"),s=a("/t3+"),p=a("XiUz"),f=a("bTqV"),d=a("NFeN"),h=a("EwFO"),g=a("ofXK"),v=a("kmnG"),y=a("qFsG"),C=a("d3UM"),x=a("FKr1"),X=a("ihCf"),W=a("znSr"),k=a("/1cH"),w=["formDirective"];function S(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," bill number is required "),m.Wb())}function L(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," volume is required "),m.Wb())}function _(e,t){if(1&e){var a=m.Yb();m.Xb(0,"div"),m.Xb(1,"form",7),m.fc("keydown.enter",(function(e){return m.Bc(a),"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){m.Bc(a);var t=m.jc();return t.onFormSubmit(t.form)})),m.Xb(2,"div",8),m.Sb(3,"input",9),m.Sb(4,"input",10),m.Wb(),m.Xb(5,"div",11),m.Xb(6,"mat-form-field",12),m.Xb(7,"mat-label"),m.Lc(8,"Bill"),m.Wb(),m.Sb(9,"input",13),m.Jc(10,S,2,0,"mat-error",6),m.Wb(),m.Xb(11,"mat-form-field",12),m.Xb(12,"mat-label"),m.Lc(13,"Status"),m.Wb(),m.Xb(14,"mat-select",14),m.Xb(15,"mat-option",15),m.Lc(16,"Bill"),m.Wb(),m.Xb(17,"mat-option",15),m.Lc(18,"Container"),m.Wb(),m.Wb(),m.Wb(),m.Xb(19,"mat-form-field",12),m.Xb(20,"mat-label"),m.Lc(21,"No. of Bills"),m.Wb(),m.Xb(22,"mat-select",16),m.Xb(23,"mat-option",15),m.Lc(24,"ZERO (0)"),m.Wb(),m.Xb(25,"mat-option",15),m.Lc(26,"THREE (3)"),m.Wb(),m.Wb(),m.Jc(27,L,2,0,"mat-error",6),m.Wb(),m.Xb(28,"mat-form-field",12),m.Xb(29,"mat-label"),m.Lc(30,"HS code"),m.Wb(),m.Sb(31,"input",17),m.Wb(),m.Xb(32,"mat-form-field",18),m.Xb(33,"mat-label"),m.Lc(34,"Package"),m.Wb(),m.Sb(35,"textarea",19),m.Wb(),m.Xb(36,"mat-form-field",12),m.Xb(37,"mat-label"),m.Lc(38,"Commodity"),m.Wb(),m.Sb(39,"input",20),m.Wb(),m.Xb(40,"mat-form-field",12),m.Xb(41,"mat-label"),m.Lc(42,"Net weight"),m.Wb(),m.Sb(43,"input",21),m.Wb(),m.Xb(44,"mat-form-field",12),m.Xb(45,"mat-label"),m.Lc(46,"Gross Weight"),m.Wb(),m.Sb(47,"input",22),m.Wb(),m.Xb(48,"mat-form-field",12),m.Xb(49,"mat-label"),m.Lc(50,"Measurement"),m.Wb(),m.Sb(51,"input",23),m.Wb(),m.Xb(52,"mat-form-field",12),m.Xb(53,"mat-label"),m.Lc(54,"Ship term"),m.Wb(),m.Sb(55,"input",24),m.Wb(),m.Xb(56,"mat-form-field",12),m.Xb(57,"mat-label"),m.Lc(58,"Pay term"),m.Wb(),m.Xb(59,"mat-select",25),m.Xb(60,"mat-option",15),m.Lc(61,"COLLECT"),m.Wb(),m.Xb(62,"mat-option",15),m.Lc(63,"PREPAID"),m.Wb(),m.Wb(),m.Wb(),m.Xb(64,"mat-form-field",26),m.Xb(65,"mat-label"),m.Lc(66,"Content"),m.Wb(),m.Sb(67,"textarea",27),m.Wb(),m.Xb(68,"mat-form-field",28),m.Xb(69,"mat-label"),m.Lc(70,"Info"),m.Wb(),m.Sb(71,"input",29),m.Wb(),m.Xb(72,"mat-form-field",12),m.Xb(73,"mat-label"),m.Lc(74,"Update by"),m.Wb(),m.Sb(75,"input",30),m.Sb(76,"input",31),m.Wb(),m.Wb(),m.Xb(77,"div",32),m.Xb(78,"div",33),m.Lc(79),m.Wb(),m.Wb(),m.Xb(80,"div",34),m.Xb(81,"button",35),m.Lc(82,"Submit"),m.Wb(),m.Xb(83,"button",36),m.fc("click",(function(e){return m.Bc(a),m.jc().matDialogRef.close()})),m.Lc(84,"Cancel"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Db(1),m.pc("formGroup",n.form),m.Db(9),m.pc("ngIf",n.form.get("bill_number").hasError("required")),m.Db(5),m.pc("value",0),m.Db(2),m.pc("value",1),m.Db(6),m.pc("value",0),m.Db(2),m.pc("value",3),m.Db(2),m.pc("ngIf",n.form.get("volume").hasError("required")),m.Db(33),m.pc("value","COLLECT"),m.Db(2),m.pc("value","PREPAID"),m.Db(13),m.pc("value",n.name),m.Db(4),m.Mc(n.errorMessage)}}function D(e,t){1&e&&m.Sb(0,"input",54)}function N(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a.cont_number),m.Db(1),m.Mc(a.cont_number)}}function I(e,t){if(1&e&&(m.Xb(0,"mat-select",55),m.Jc(1,N,2,2,"mat-option",42),m.Wb()),2&e){var a=m.jc(2);m.Db(1),m.pc("ngForOf",a.container)}}function F(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," container is required "),m.Wb())}function q(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," Cont number is too long (max length = 11); "),m.Wb())}function R(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," Invalid container number "),m.Wb())}function A(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a.id),m.Db(1),m.Mc(a.code)}}function O(e,t){1&e&&(m.Xb(0,"mat-error"),m.Lc(1," Cont type is required "),m.Wb())}function V(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a.full_name),m.Db(1),m.Nc(" ",a.full_name," ")}}var T=function(e){return{hide:e}};function M(e,t){if(1&e){var a=m.Yb();m.Xb(0,"div"),m.Xb(1,"form",7),m.fc("keydown.enter",(function(e){return m.Bc(a),"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){m.Bc(a);var t=m.jc();return t.onContainerFormSubmit(t.formContainer)})),m.Xb(2,"div",8),m.Sb(3,"input",9),m.Sb(4,"input",37),m.Wb(),m.Xb(5,"div",11),m.Xb(6,"mat-form-field",38),m.Xb(7,"mat-label"),m.Lc(8,"Container"),m.Wb(),m.Jc(9,D,1,0,"input",39),m.Jc(10,I,2,1,"mat-select",40),m.Jc(11,F,2,0,"mat-error",6),m.Jc(12,q,2,0,"mat-error",6),m.Jc(13,R,2,0,"mat-error",6),m.Wb(),m.Xb(14,"mat-form-field",38),m.Xb(15,"mat-label"),m.Lc(16,"Cont type"),m.Wb(),m.Xb(17,"mat-select",41),m.Jc(18,A,2,2,"mat-option",42),m.Wb(),m.Jc(19,O,2,0,"mat-error",6),m.Wb(),m.Xb(20,"mat-form-field",38),m.Xb(21,"mat-label"),m.Lc(22,"Deposit"),m.Wb(),m.Sb(23,"input",43),m.Wb(),m.Xb(24,"mat-form-field",38),m.Xb(25,"mat-label"),m.Lc(26,"Deposit number"),m.Wb(),m.Sb(27,"input",44),m.Wb(),m.Xb(28,"mat-form-field",45),m.Xb(29,"mat-label"),m.Lc(30,"Depositor"),m.Wb(),m.Sb(31,"input",46),m.Xb(32,"mat-autocomplete",null,47),m.Jc(34,V,2,2,"mat-option",42),m.kc(35,"async"),m.Wb(),m.Wb(),m.Xb(36,"mat-form-field",38),m.Xb(37,"mat-label"),m.Lc(38,"Type"),m.Wb(),m.Xb(39,"mat-select",48),m.Xb(40,"mat-option",15),m.Lc(41,"Kho ri\xeang"),m.Wb(),m.Xb(42,"mat-option",15),m.Lc(43,"R\xfat h\xe0ng t\u1ea1i c\u1ea3ng"),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"mat-form-field",38),m.Xb(45,"mat-label"),m.Lc(46,"Package"),m.Wb(),m.Sb(47,"input",49),m.Wb(),m.Xb(48,"mat-form-field",38),m.Xb(49,"mat-label"),m.Lc(50,"Commodity"),m.Wb(),m.Sb(51,"input",20),m.Wb(),m.Xb(52,"mat-form-field",38),m.Xb(53,"mat-label"),m.Lc(54,"HS code"),m.Wb(),m.Sb(55,"input",17),m.Wb(),m.Xb(56,"mat-form-field",38),m.Xb(57,"mat-label"),m.Lc(58,"Net weight"),m.Wb(),m.Sb(59,"input",21),m.Wb(),m.Xb(60,"mat-form-field",38),m.Xb(61,"mat-label"),m.Lc(62,"Gross Weight"),m.Wb(),m.Sb(63,"input",22),m.Wb(),m.Xb(64,"mat-form-field",38),m.Xb(65,"mat-label"),m.Lc(66,"Measurement"),m.Wb(),m.Sb(67,"input",23),m.Wb(),m.Xb(68,"mat-form-field",38),m.Xb(69,"mat-label"),m.Lc(70,"Seal"),m.Wb(),m.Sb(71,"input",50),m.Wb(),m.Xb(72,"mat-form-field",38),m.Xb(73,"mat-label"),m.Lc(74,"Other Seal"),m.Wb(),m.Sb(75,"input",51),m.Wb(),m.Xb(76,"mat-form-field",52),m.Xb(77,"mat-label"),m.Lc(78,"Content"),m.Wb(),m.Sb(79,"textarea",27),m.Wb(),m.Xb(80,"mat-form-field",52),m.Xb(81,"mat-label"),m.Lc(82,"Info"),m.Wb(),m.Sb(83,"input",29),m.Wb(),m.Wb(),m.Xb(84,"div",32),m.Xb(85,"mat-form-field",53),m.Xb(86,"mat-label"),m.Lc(87,"Update by"),m.Wb(),m.Sb(88,"input",30),m.Sb(89,"input",31),m.Wb(),m.Wb(),m.Xb(90,"div",32),m.Xb(91,"div",33),m.Lc(92),m.Wb(),m.Wb(),m.Xb(93,"div",34),m.Xb(94,"button",35),m.Lc(95,"Submit"),m.Wb(),m.Xb(96,"button",36),m.fc("click",(function(e){return m.Bc(a),m.jc().matDialogRef.close()})),m.Lc(97,"Cancel"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.xc(33),o=m.jc();m.Db(1),m.pc("formGroup",o.formContainer),m.Db(5),m.pc("ngClass",m.rc(33,T,!o.viewContainer.container)),m.Db(3),m.pc("ngIf",0==o.container.length),m.Db(1),m.pc("ngIf",o.container.length>0),m.Db(1),m.pc("ngIf",o.formContainer.get("container").hasError("required")),m.Db(1),m.pc("ngIf",!o.formContainer.get("container").hasError("required")&&o.formContainer.get("container").hasError("maxLength")),m.Db(1),m.pc("ngIf",o.formContainer.get("container").errors&&o.formContainer.get("container").dirty&&o.formContainer.get("container").errors.validConNum),m.Db(1),m.pc("ngClass",m.rc(35,T,!o.viewContainer.type)),m.Db(4),m.pc("ngForOf",o.package),m.Db(1),m.pc("ngIf",o.formContainer.get("type").hasError("required")),m.Db(1),m.pc("ngClass",m.rc(37,T,!o.viewContainer.deposit)),m.Db(4),m.pc("ngClass",m.rc(39,T,!o.viewContainer.deposit_number)),m.Db(4),m.pc("ngClass",m.rc(41,T,!o.viewContainer.depositor)),m.Db(3),m.pc("matAutocomplete",n),m.Db(3),m.pc("ngForOf",m.lc(35,31,o.filteredCustomer)),m.Db(2),m.pc("ngClass",m.rc(43,T,!o.viewContainer.volume)),m.Db(4),m.pc("value",0),m.Db(2),m.pc("value",1),m.Db(2),m.pc("ngClass",m.rc(45,T,!o.viewContainer.package)),m.Db(4),m.pc("ngClass",m.rc(47,T,!o.viewContainer.commodity)),m.Db(4),m.pc("ngClass",m.rc(49,T,!o.viewContainer.hs_code)),m.Db(4),m.pc("ngClass",m.rc(51,T,!o.viewContainer.net_weight)),m.Db(4),m.pc("ngClass",m.rc(53,T,!o.viewContainer.gross_weight)),m.Db(4),m.pc("ngClass",m.rc(55,T,!o.viewContainer.measurement)),m.Db(4),m.pc("ngClass",m.rc(57,T,!o.viewContainer.seal)),m.Db(4),m.pc("ngClass",m.rc(59,T,!o.viewContainer.other_seal)),m.Db(4),m.pc("ngClass",m.rc(61,T,!o.viewContainer.content)),m.Db(4),m.pc("ngClass",m.rc(63,T,!o.viewContainer.info)),m.Db(5),m.pc("ngClass",m.rc(65,T,!o.viewContainer.update_by)),m.Db(3),m.pc("value",o.name),m.Db(4),m.Mc(o.errorMessage)}}function E(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a.full_name),m.Db(1),m.Nc(" ",a.full_name," ")}}function P(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a),m.Db(1),m.Mc(a)}}function J(e,t){if(1&e&&(m.Xb(0,"mat-option",15),m.Lc(1),m.Wb()),2&e){var a=t.$implicit;m.pc("value",a.e_name),m.Db(1),m.Nc(" ",a.e_name," ")}}function j(e,t){if(1&e){var a=m.Yb();m.Xb(0,"div"),m.Xb(1,"form",7),m.fc("keydown.enter",(function(e){return m.Bc(a),"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){m.Bc(a);var t=m.jc();return t.onReleaseFormSubmit(t.formRelease)})),m.Xb(2,"div",8),m.Sb(3,"input",9),m.Sb(4,"input",56),m.Wb(),m.Xb(5,"div",11),m.Xb(6,"mat-form-field",57),m.Xb(7,"mat-label"),m.Lc(8,"Release no"),m.Wb(),m.Sb(9,"input",58),m.Wb(),m.Xb(10,"mat-form-field",53),m.Xb(11,"mat-label"),m.Lc(12,"Consignee"),m.Wb(),m.Sb(13,"input",59),m.Xb(14,"mat-autocomplete",null,60),m.Jc(16,E,2,2,"mat-option",42),m.kc(17,"async"),m.Wb(),m.Wb(),m.Xb(18,"mat-form-field",57),m.Xb(19,"mat-label"),m.Lc(20,"CODE"),m.Wb(),m.Sb(21,"input",61),m.Xb(22,"mat-autocomplete",null,62),m.Jc(24,P,2,2,"mat-option",42),m.Wb(),m.Wb(),m.Xb(25,"mat-form-field",63),m.Xb(26,"mat-label"),m.Lc(27,"Msg func"),m.Wb(),m.Sb(28,"input",64),m.Wb(),m.Xb(29,"mat-form-field",63),m.Xb(30,"mat-label"),m.Lc(31,"Secure code"),m.Wb(),m.Sb(32,"input",65),m.Wb(),m.Xb(33,"mat-form-field",63),m.Xb(34,"mat-label"),m.Lc(35,"MT return"),m.Wb(),m.Sb(36,"input",66),m.Xb(37,"mat-autocomplete",null,67),m.Jc(39,J,2,2,"mat-option",42),m.kc(40,"async"),m.Wb(),m.Wb(),m.Xb(41,"mat-form-field",63),m.Xb(42,"mat-label"),m.Lc(43,"Free day"),m.Wb(),m.Sb(44,"input",68),m.Wb(),m.Xb(45,"mat-form-field",63),m.Xb(46,"mat-label"),m.Lc(47,"Free port storage"),m.Wb(),m.Sb(48,"input",69),m.Wb(),m.Xb(49,"mat-form-field",63),m.Xb(50,"mat-label"),m.Lc(51,"DEM"),m.Wb(),m.Sb(52,"input",70),m.Wb(),m.Xb(53,"mat-form-field",63),m.Xb(54,"mat-label"),m.Lc(55,"DET"),m.Wb(),m.Sb(56,"input",71),m.Wb(),m.Xb(57,"mat-form-field",63),m.Xb(58,"mat-label"),m.Lc(59,"MTC"),m.Wb(),m.Sb(60,"input",72),m.Wb(),m.Xb(61,"mat-form-field",63),m.Xb(62,"mat-label"),m.Lc(63,"MTN"),m.Wb(),m.Sb(64,"input",73),m.Wb(),m.Xb(65,"mat-form-field",63),m.Xb(66,"mat-label"),m.Lc(67,"MTV"),m.Wb(),m.Sb(68,"input",74),m.Wb(),m.Xb(69,"mat-form-field",63),m.Xb(70,"mat-label"),m.Lc(71,"Remark"),m.Wb(),m.Sb(72,"input",75),m.Wb(),m.Xb(73,"mat-form-field",76),m.Xb(74,"mat-label"),m.Lc(75,"Info"),m.Wb(),m.Sb(76,"input",29),m.Wb(),m.Xb(77,"mat-form-field",52),m.Xb(78,"mat-label"),m.Lc(79,"Update by"),m.Wb(),m.Sb(80,"input",30),m.Sb(81,"input",31),m.Wb(),m.Wb(),m.Xb(82,"div",32),m.Xb(83,"div",33),m.Lc(84),m.Wb(),m.Wb(),m.Xb(85,"div",34),m.Xb(86,"button",35),m.Lc(87,"Submit"),m.Wb(),m.Xb(88,"button",36),m.fc("click",(function(e){return m.Bc(a),m.jc().matDialogRef.close()})),m.Lc(89,"Cancel"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.xc(15),o=m.xc(23),i=m.xc(38),r=m.jc();m.Db(1),m.pc("formGroup",r.formRelease),m.Db(5),m.pc("ngClass",m.rc(29,T,!r.viewRelease.release_no)),m.Db(4),m.pc("ngClass",m.rc(31,T,!r.viewRelease.consignee)),m.Db(3),m.pc("matAutocomplete",n),m.Db(3),m.pc("ngForOf",m.lc(17,25,r.filteredCustomer2)),m.Db(2),m.pc("ngClass",m.rc(33,T,!r.viewRelease.cont_code)),m.Db(3),m.pc("matAutocomplete",o),m.Db(3),m.pc("ngForOf",r.codeCompany),m.Db(1),m.pc("ngClass",m.rc(35,T,!r.viewRelease.msg_func)),m.Db(4),m.pc("ngClass",m.rc(37,T,!r.viewRelease.secure_code)),m.Db(4),m.pc("ngClass",m.rc(39,T,!r.viewRelease.mt_return)),m.Db(3),m.pc("matAutocomplete",i),m.Db(3),m.pc("ngForOf",m.lc(40,27,r.filteredDepot)),m.Db(2),m.pc("ngClass",m.rc(41,T,!r.viewRelease.free_day)),m.Db(4),m.pc("ngClass",m.rc(43,T,!r.viewRelease.free_port_storage)),m.Db(4),m.pc("ngClass",m.rc(45,T,!r.viewRelease.dem)),m.Db(4),m.pc("ngClass",m.rc(47,T,!r.viewRelease.det)),m.Db(4),m.pc("ngClass",m.rc(49,T,!r.viewRelease.mtc)),m.Db(4),m.pc("ngClass",m.rc(51,T,!r.viewRelease.mtn)),m.Db(4),m.pc("ngClass",m.rc(53,T,!r.viewRelease.mtv)),m.Db(4),m.pc("ngClass",m.rc(55,T,!r.viewRelease.remark)),m.Db(4),m.pc("ngClass",m.rc(57,T,!r.viewRelease.info)),m.Db(4),m.pc("ngClass",m.rc(59,T,!r.viewRelease.update_by)),m.Db(3),m.pc("value",r.name),m.Db(4),m.Mc(r.errorMessage)}}var G=function(){var e=function(){function e(t,a,n,i,r,m){var c=this;if(_classCallCheck(this,e),this.router=t,this.matDialogRef=a,this._data=n,this.authService=i,this.commonService=r,this._formBuilder=m,this.errorMessage="",this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN"],this.billContainerView={},this.containerReleaseView={},this.form=this._formBuilder.group({id:[null],shipment:[null,o.y.required],bill_number:[null,o.y.required],status:[0,o.y.required],volume:[0,o.y.required],package:[null],commodity:[null],hs_code:[null],net_weight:[null],gross_weight:[null],measurement:[null],ship_term:["CY/CY"],pay_term:["PREPAID"],content:["SHIPPERS LOAD, STOW, COUNT AND SEAL\nSAID TO CONTAIN:"],info:[null],update_by:[this.authService.user,o.y.required]}),this.formContainer=this._formBuilder.group({id:[null],bill:[null,o.y.required],container:[null,[o.y.required,l.a]],type:[null,o.y.required],deposit:[0],depositor:[null],deposit_number:[null],volume:[null],package:[null],commodity:[null],hs_code:[null],net_weight:[null],gross_weight:[null],measurement:[null],seal:[null],other_seal:[null],content:[null],info:[null],update_by:[this.authService.user,o.y.required]}),this.formRelease=this._formBuilder.group({id:[null],container:[null,o.y.required],msg_func:[null],release_no:[null],consignee:[null],cont_code:[null],secure_code:[null],mt_return:[null],free_day:[0,o.y.required],free_port_storage:[0,o.y.required],dem:[0,o.y.required],det:[0,o.y.required],mtc:[null],mtn:[null],mtv:[null],remark:[null],info:[null],update_by:[this.authService.user,o.y.required]}),this.viewContainer={bill:!0,container:!0,type:!0,deposit:!0,depositor:!0,deposit_number:!0,volume:!0,package:!0,commodity:!0,hs_code:!0,net_weight:!0,gross_weight:!0,measurement:!0,seal:!0,other_seal:!0,content:!0,info:!0,update_by:!0},this.viewRelease={container:!0,msg_func:!0,release_no:!0,consignee:!0,cont_code:!0,secure_code:!0,mt_return:!0,free_day:!0,free_port_storage:!0,dem:!0,det:!0,mtc:!0,mtn:!0,mtv:!0,remark:!0,info:!0,update_by:!0},this.name=this.authService.name,this.label=n.label,this.data=n.data,this.shipment=n.shipment,this.bill=n.bill,this.package=n.package,this.depot=n.depot,this.selMove=n.selMove,this.container=n.container,this.customer=n.customer,console.log(this.depot),this.selVolume=n.selVolume?n.selVolume:[],this.label.includes("bill container"))if(this.formContainer.controls.bill.setValue(this.bill.id),this.data){if(this.formContainer.patchValue(this.data[0]),this.data[1].length>0)for(var b in this.viewContainer)this.viewContainer[b]=!!this.data[1].includes(b);this.formContainer.controls.update_by.setValue(this.authService.user)}else this.formContainer.controls.id.disable();else if(this.label.includes("container release")){if(this.data[0].release_id?this.formRelease.patchValue({id:this.data[0].release_id,container:this.data[0].container_id,msg_func:this.data[0].msg_func,cont_code:this.data[0].cont_code,release_no:this.data[0].release_no,consignee:this.data[0].consignee,secure_code:this.data[0].secure_code,mt_return:this.data[0].mt_return,free_day:this.data[0].free_day,free_port_storage:this.data[0].free_port_storage,dem:this.data[0].dem,det:this.data[0].det,mtc:this.data[0].mtc,mtn:this.data[0].mtn,mtv:this.data[0].mtv,remark:this.data[0].remark,info:this.data[0].release_info,update_by:this.authService.user}):(this.formRelease.controls.id.disable(),this.formRelease.controls.container.setValue(this.data[0].id)),this.data[1].length>0)for(var u in this.viewRelease)this.viewRelease[u]=!!this.data[1].includes(u)}else{this.form.controls.shipment.setValue(this.shipment.id),this.form.controls.bill_number.setValue(this.shipment.bill),this.data?(this.form.patchValue(this.data),this.form.controls.update_by.setValue(this.authService.user)):this.form.controls.id.disable();var s=[];this.selVolume.map((function(e){s.push(c.commonService.inWords(e.volume).toUpperCase()),s.push("("+e.volume+"x"+e.cont_type_code+")"),s.push(e.volume>1?"CONTAINERS":"CONTAINER")})),this.form.controls.info.setValue(s.join(" "))}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form.controls.status.valueChanges.subscribe((function(t){1==t&&e.form.controls.volume.setValue(0)})),this.filteredDepot=this.formRelease.controls.mt_return.valueChanges.pipe(Object(i.a)(""),Object(r.a)((function(e){return e?"string"==typeof e?e:e.e_name:null})),Object(r.a)((function(t){return t?e.commonService.filterData(t,"e_name",e.depot):[]}))),this.formContainer.controls.container.valueChanges.subscribe((function(t){if(e.container.length>0){var a=e.container.find((function(e){return e.cont_number==t}));e.formContainer.controls.type.setValue(a.type),e.formContainer.controls.commodity.setValue(a.commodity),e.formContainer.controls.gross_weight.setValue(a.gross_weight),e.formContainer.controls.measurement.setValue(a.measurement),e.formContainer.controls.seal.setValue(a.seal),e.formContainer.controls.content.setValue(a.content)}})),this.filteredCustomer=this.formContainer.controls.depositor.valueChanges.pipe(Object(i.a)(""),Object(r.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(r.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.customer):[]}))),this.filteredCustomer2=this.formRelease.controls.consignee.valueChanges.pipe(Object(i.a)(""),Object(r.a)((function(e){return e?"string"==typeof e?e:e.partner_name:null})),Object(r.a)((function(t){return t?e.commonService.filterData(t,"partner_name",e.customer):[]}))),this.form.valueChanges.subscribe((function(t){e.errorMessage=""})),this.formContainer.valueChanges.subscribe((function(t){e.errorMessage=""})),this.formRelease.valueChanges.subscribe((function(t){e.errorMessage=""}))}},{key:"onFormSubmit",value:function(e){e.valid&&this.matDialogRef.close(e.value)}},{key:"onContainerFormSubmit",value:function(e){e.valid&&this.matDialogRef.close(e.value)}},{key:"onReleaseFormSubmit",value:function(e){e.valid&&this.matDialogRef.close(e.value)}},{key:"getContainerInfo",value:function(){var e=this,t=this.selMove.find((function(t){return t.last_move&&t.last_move.cont_number==e.formContainer.value.container}));if(t){var a=t.move.find((function(e){return"TREXP"==e.move_type}));a&&(this.formContainer.controls.type.setValue(a.cont_type),this.formContainer.controls.commodity.setValue(a.commodity_name),this.formContainer.controls.gross_weight.setValue(a.weight),this.formContainer.controls.measurement.setValue(a.move_info.measurement),this.formContainer.controls.seal.setValue(a.move_info.seal),this.formContainer.controls.content.setValue(a.move_info.description))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Rb(c.g),m.Rb(n.f),m.Rb(n.a),m.Rb(b.a),m.Rb(u.a),m.Rb(o.d))},e.\u0275cmp=m.Lb({type:e,selectors:[["shipment-details-bill-modal-dialog"]],viewQuery:function(e,t){var a;1&e&&m.Sc(w,!0),2&e&&m.wc(a=m.gc())&&(t.vesselNgForm=a.first)},decls:12,vars:4,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-details-bill-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","shipment","required",""],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","50","fxFlex.gt-sm","25",1,"pr-8"],["inputCheck","","type","text","matInput","","formControlName","bill_number","required",""],["formControlName","status","required",""],[3,"value"],["formControlName","volume","required",""],["inputCheck","","matInput","","formControlName","hs_code"],["appearance","outline","fxFlex","100","fxFlex.gt-sm","50",1,"pr-8"],["textareaCheck","","matInput","","formControlName","package","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["inputCheck","","matInput","","formControlName","commodity"],["inputCheck","","matInput","","type","text","maxlength","25","formControlName","net_weight"],["inputCheck","","matInput","","type","text","maxlength","25","formControlName","gross_weight"],["inputCheck","","matInput","","type","text","maxlength","25","formControlName","measurement"],["inputCheck","","matInput","","formControlName","ship_term"],["formControlName","pay_term"],["appearance","outline","fxFlex","100",1,"pr-8"],["textareaCheck","","matInput","","formControlName","content","cdkTextareaAutosize","","cdkAutosizeMinRows","4","cdkAutosizeMaxRows","10"],["appearance","outline","fxFlex","100","fxFlex.gt-sm","75",1,"pr-8"],["inputCheck","","matInput","","formControlName","info"],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],["inputCheck","","formControlName","bill","required",""],["appearance","outline","fxFlex","50","fxFlex.gt-sm","25",1,"pr-8",3,"ngClass"],["inputCheck","","matInput","","maxlength","11","formControlName","container","required","",4,"ngIf"],["formControlName","container","required","",4,"ngIf"],["formControlName","type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","deposit"],["inputCheck","","matInput","","formControlName","deposit_number"],["appearance","outline","fxFlex","100","fxFlex.gt-sm","75",1,"pr-8",3,"ngClass"],["inputCheck","","type","text","matInput","","formControlName","depositor",3,"matAutocomplete"],["autoCus","matAutocomplete"],["formControlName","volume"],["inputCheck","","matInput","","formControlName","package"],["inputCheck","","matInput","","formControlName","seal"],["inputCheck","","matInput","","formControlName","other_seal"],["appearance","outline","fxFlex","100",1,"pr-8",3,"ngClass"],["appearance","outline","fxFlex","50",1,"pr-8",3,"ngClass"],["inputCheck","","matInput","","maxlength","11","formControlName","container","required",""],["formControlName","container","required",""],["inputCheck","","formControlName","container","required",""],["appearance","outline","fxFlex","25",1,"pr-8",3,"ngClass"],["inputCheck","","type","text","matInput","","formControlName","release_no"],["inputCheck","","type","text","matInput","","formControlName","consignee",3,"matAutocomplete"],["autoCus2","matAutocomplete"],["inputCheck","","type","text","matInput","","formControlName","cont_code","maxLength","3",3,"matAutocomplete"],["autoCode","matAutocomplete"],["appearance","outline","fxFlex","20",1,"pr-8",3,"ngClass"],["inputCheck","","type","text","matInput","","formControlName","msg_func"],["inputCheck","","type","text","matInput","","formControlName","secure_code"],["inputCheck","","type","text","matInput","","formControlName","mt_return",3,"matAutocomplete"],["autoDepot","matAutocomplete"],["inputCheck","","type","number","matInput","","formControlName","free_day"],["inputCheck","","type","number","matInput","","formControlName","free_port_storage"],["inputCheck","","type","number","matInput","","formControlName","dem"],["inputCheck","","type","number","matInput","","formControlName","det"],["inputCheck","","type","text","maxlength","25","matInput","","formControlName","mtc"],["inputCheck","","type","text","maxlength","25","matInput","","formControlName","mtn"],["inputCheck","","type","text","maxlength","25","matInput","","formControlName","mtv"],["inputCheck","","type","text","matInput","","formControlName","remark"],["appearance","outline","fxFlex","80",1,"pr-8",3,"ngClass"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"mat-toolbar",1),m.Xb(2,"mat-toolbar-row",2),m.Xb(3,"span",3),m.Lc(4),m.Wb(),m.Xb(5,"button",4),m.fc("click",(function(e){return t.matDialogRef.close()})),m.Xb(6,"mat-icon"),m.Lc(7,"close"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",5),m.Jc(9,_,85,11,"div",6),m.Jc(10,M,98,67,"div",6),m.Jc(11,j,90,61,"div",6),m.Wb(),m.Wb()),2&e&&(m.Db(4),m.Mc(t.label),m.Db(5),m.pc("ngIf","Add bill information"==t.label||"Edit bill information"==t.label),m.Db(1),m.pc("ngIf","Add bill container information"==t.label||"Edit bill container information"==t.label),m.Db(1),m.pc("ngIf","Add container release information"==t.label||"Edit container release information"==t.label))},directives:[s.a,s.c,p.b,p.d,p.c,f.b,d.a,n.d,h.a,g.t,o.A,o.q,o.h,o.b,o.p,o.g,o.w,v.c,v.f,y.b,C.a,x.n,X.b,o.k,v.b,g.q,W.a,g.s,o.u,k.c,k.a],pipes:[g.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-bill-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-bill-modal-dialog{width:1080px}}.shipment-details-bill-modal-dialog .mat-dialog-container{padding:0}.shipment-details-bill-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-bill-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-bill-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}"],encapsulation:2}),e}()},hrka:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a("0IaG"),o=a("3Pt+"),i=a("JX91"),r=a("lJxs"),l=a("fXoL"),m=a("tyNb"),c=a("qXBG"),b=a("0Zc1"),u=a("ofXK"),s=a("/t3+"),p=a("XiUz"),f=a("bTqV"),d=a("NFeN"),h=a("EwFO"),g=a("kmnG"),v=a("qFsG"),y=a("/1cH"),C=a("d3UM"),x=a("FKr1");function X(e,t){if(1&e&&(l.Xb(0,"mat-option",27),l.Lc(1),l.Wb()),2&e){var a=t.$implicit;l.pc("value",a.id),l.Db(1),l.Nc(" ",a.name," ")}}function W(e,t){1&e&&(l.Xb(0,"mat-error"),l.Lc(1,"Commodity is required!"),l.Wb())}function k(e,t){1&e&&(l.Xb(0,"mat-error"),l.Lc(1," Qty is required "),l.Wb())}function w(e,t){if(1&e&&(l.Xb(0,"mat-error"),l.Lc(1),l.Wb()),2&e){var a=l.jc();l.Db(1),l.Nc(" Min quantity is ",a.minContainer," ")}}function S(e,t){if(1&e&&(l.Xb(0,"mat-option",27),l.Lc(1),l.Wb()),2&e){var a=t.$implicit;l.pc("value",a.id),l.Db(1),l.Mc(a.code)}}function L(e,t){1&e&&(l.Xb(0,"mat-error"),l.Lc(1," Container type is required "),l.Wb())}var _=function(){var e=function(){function e(t,a,n,i,r,l,m){_classCallCheck(this,e),this.router=t,this.matDialogRef=a,this._data=n,this.authService=i,this.commonService=r,this.datePipe=l,this._formBuilder=m,this.minContainer=1,this.formVolume=this._formBuilder.group({id:[null],shipment:[null,o.y.required],commodity:[null,o.y.required],volume:[null,[o.y.required,o.y.min(this.minContainer)]],type:[null,o.y.required],info:[null],update_by:[this.authService.user,o.y.required]}),this.label=n.label,this.shipmentId=n.shipmentId,"Add volume"!=this.label&&"Edit volume"!=this.label||(this.commodity=n.commodity,this.packageType=n.packageType,"Edit volume"==this.label?(this.volume=JSON.parse(JSON.stringify(n.data)),this.formVolume.patchValue(this.volume),this.formVolume.controls.update_by.setValue(this.authService.user)):(this.formVolume.controls.shipment.setValue(this.shipmentId),this.formVolume.controls.id.disable())),n.type&&this.formVolume.controls.type.setValue(n.type)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.authService.name,this.filteredCommodity=this.formVolume.controls.commodity.valueChanges.pipe(Object(i.a)(""),Object(r.a)((function(e){return e?"string"==typeof e?e:e.name:null})),Object(r.a)((function(t){return t?e.commonService.filterData(t,"name",e.commodity):[]}))),this.formVolume.valueChanges.subscribe((function(t){e.errorMessage=""})),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}},{key:"onSelVolumeFormSubmit",value:function(e){if(e.valid){if("string"==typeof JSON.parse(JSON.stringify(e.value)).commodity)return void this.formVolume.controls.commodity.setValue(null);this.matDialogRef.close(e.value)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Rb(m.g),l.Rb(n.f),l.Rb(n.a),l.Rb(c.a),l.Rb(b.a),l.Rb(u.f),l.Rb(o.d))},e.\u0275cmp=l.Lb({type:e,selectors:[["shipment-details-volume-modal-dialog"]],decls:49,vars:15,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","","id","shipment-details-volume-modal","fxLayout","column",1,"p-16","pb-0","m-0",2,"overflow","auto"],["fxLayout","column","fxLayoutAlign","start","name","form",3,"formGroup","keydown.enter","ngSubmit"],[2,"display","none"],["inputCheck","","formControlName","id"],["inputCheck","","formControlName","shipment"],["fxLayout","row wrap","fxLayoutAlign","start center","fxFlex","1 0 auto"],["appearance","outline","fxFlex","100","fxFlex.gt-xs","50",1,"pr-8"],["inputCheck","","aria-label","commodity","matInput","","formControlName","commodity","required","",3,"matAutocomplete"],[3,"displayWith"],["autoCommodity","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline","fxFlex","50","fxFlex.gt-xs","25",1,"pr-8"],["inputCheck","","matInput","","type","number","formControlName","volume","required","",3,"min"],["formControlName","type","required",""],["inputCheck","","matInput","","readonly","true",3,"value"],["inputCheck","","matInput","","formControlName","update_by",2,"display","none"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto"],[1,"mat-error"],["fxLayout","row","fxLayoutAlign","center","fxFlex","1 0 auto",1,"p-16"],["type","submit","mat-raised-button","","color","accent",1,"mr-8"],["type","button","mat-raised-button","","color","warn",1,"mr-8",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(l.Xb(0,"div",0),l.Xb(1,"mat-toolbar",1),l.Xb(2,"mat-toolbar-row",2),l.Xb(3,"span",3),l.Lc(4),l.Wb(),l.Xb(5,"button",4),l.fc("click",(function(e){return t.matDialogRef.close()})),l.Xb(6,"mat-icon"),l.Lc(7,"close"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"div"),l.Xb(10,"form",6),l.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSelVolumeFormSubmit(t.formVolume)})),l.Xb(11,"div",7),l.Sb(12,"input",8),l.Sb(13,"input",9),l.Wb(),l.Xb(14,"div",10),l.Xb(15,"mat-form-field",11),l.Xb(16,"mat-label"),l.Lc(17,"Commodity"),l.Wb(),l.Sb(18,"input",12),l.Xb(19,"mat-autocomplete",13,14),l.Jc(21,X,2,2,"mat-option",15),l.kc(22,"async"),l.Wb(),l.Jc(23,W,2,0,"mat-error",16),l.Wb(),l.Xb(24,"mat-form-field",17),l.Xb(25,"mat-label"),l.Lc(26,"Qty"),l.Wb(),l.Sb(27,"input",18),l.Jc(28,k,2,0,"mat-error",16),l.Jc(29,w,2,1,"mat-error",16),l.Wb(),l.Xb(30,"mat-form-field",17),l.Xb(31,"mat-label"),l.Lc(32,"Container type"),l.Wb(),l.Xb(33,"mat-select",19),l.Jc(34,S,2,2,"mat-option",15),l.Wb(),l.Jc(35,L,2,0,"mat-error",16),l.Wb(),l.Xb(36,"mat-form-field",11),l.Xb(37,"mat-label"),l.Lc(38,"Update by"),l.Wb(),l.Sb(39,"input",20),l.Sb(40,"input",21),l.Wb(),l.Wb(),l.Xb(41,"div",22),l.Xb(42,"div",23),l.Lc(43),l.Wb(),l.Wb(),l.Xb(44,"div",24),l.Xb(45,"button",25),l.Lc(46,"Submit"),l.Wb(),l.Xb(47,"button",26),l.fc("click",(function(e){return t.matDialogRef.close()})),l.Lc(48,"Cancel"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e){var a=l.xc(20);l.Db(4),l.Mc(t.label),l.Db(6),l.pc("formGroup",t.formVolume),l.Db(8),l.pc("matAutocomplete",a),l.Db(1),l.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.commodity)),l.Db(2),l.pc("ngForOf",l.lc(22,13,t.filteredCommodity)),l.Db(2),l.pc("ngIf",t.formVolume.get("commodity").hasError("required")),l.Db(4),l.pc("min",t.minContainer),l.Db(1),l.pc("ngIf",t.formVolume.get("volume").hasError("required")),l.Db(1),l.pc("ngIf",t.formVolume.get("volume").hasError("min")),l.Db(5),l.pc("ngForOf",t.packageType),l.Db(1),l.pc("ngIf",t.formVolume.get("type").hasError("required")),l.Db(4),l.pc("value",t.name),l.Db(4),l.Mc(t.errorMessage)}},directives:[s.a,s.c,p.b,p.d,p.c,f.b,d.a,n.d,h.a,o.A,o.q,o.h,o.b,o.p,o.g,g.c,g.f,v.b,y.c,o.w,y.a,u.s,u.t,o.u,C.a,x.n,g.b],pipes:[u.b],styles:["@media screen and (min-width:600px)and (max-width:959px){.shipment-details-volume-modal-dialog{width:100%}}@media screen and (min-width:960px){.shipment-details-volume-modal-dialog{width:1080px}}.shipment-details-volume-modal-dialog .mat-dialog-container{padding:0}.shipment-details-volume-modal-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.shipment-details-volume-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.shipment-details-volume-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.shipment-details-volume-modal-dialog #shipment-details-volume-modal .faq{-webkit-box-flex:1;flex:1 0 auto}.shipment-details-volume-modal-dialog #shipment-details-volume-modal .faq .item{padding:8px}.shipment-details-volume-modal-dialog #shipment-details-volume-modal .faq .item .title{font-size:14px;margin-bottom:8px}.shipment-details-volume-modal-dialog #shipment-details-volume-modal .faq .item .info{font-size:12px;line-height:1.5;color:rgba(0,0,0,.54)}.table-inv-item{width:100%}.table-inv-item tr.example-details-row{height:0}.table-inv-item tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}.table-inv-item tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.table-inv-item .example-element-row td{border-bottom-width:0}.table-inv-item .example-element-detail{overflow:hidden;display:-webkit-box;display:flex}.table-inv-item .example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.table-inv-item .example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.table-inv-item .example-element-description{padding:16px}.table-inv-item .example-element-description-attribution{opacity:.5}"],encapsulation:2}),e}()},jUCA:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a("tyNb"),o=a("STbY"),i=a("/1cH"),r=a("iadO"),l=a("bTqV"),m=a("7EHt"),c=a("kmnG"),b=a("NFeN"),u=a("Qu3c"),s=a("qFsG"),p=a("wZkO"),f=a("d3UM"),d=a("QibW"),h=a("0IaG"),g=a("/t3+"),v=a("bSwM"),y=a("M9IT"),C=a("xHqg"),x=a("A5z7"),X=a("bv9b"),W=a("XhcP"),k=a("FKr1"),w=a("1jcm"),S=a("+0xr"),L=a("MutI"),_=a("f0Cb"),D=a("5HBU"),N=a("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,o.b,D.a,i.b,r.c,l.c,m.b,c.e,b.b,u.b,s.c,p.c,f.b,d.c,h.e,g.b,v.b,y.b,C.d,x.e,X.b,W.b,w.b,S.k,L.c,_.b,k.t]]}),e}()},sVAI:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a("tyNb"),o=a("STbY"),i=a("/1cH"),r=a("iadO"),l=a("bTqV"),m=a("7EHt"),c=a("kmnG"),b=a("NFeN"),u=a("Qu3c"),s=a("qFsG"),p=a("wZkO"),f=a("d3UM"),d=a("QibW"),h=a("0IaG"),g=a("/t3+"),v=a("bSwM"),y=a("M9IT"),C=a("xHqg"),x=a("A5z7"),X=a("bv9b"),W=a("XhcP"),k=a("FKr1"),w=a("1jcm"),S=a("+0xr"),L=a("MutI"),_=a("f0Cb"),D=a("5HBU"),N=a("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,o.b,D.a,i.b,r.c,l.c,m.b,c.e,b.b,u.b,s.c,p.c,f.b,d.c,h.e,g.b,v.b,y.b,C.d,x.e,X.b,W.b,w.b,S.k,L.c,_.b,k.t]]}),e}()},y1Uv:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a("tyNb"),o=a("STbY"),i=a("/1cH"),r=a("iadO"),l=a("bTqV"),m=a("7EHt"),c=a("kmnG"),b=a("NFeN"),u=a("Qu3c"),s=a("qFsG"),p=a("wZkO"),f=a("d3UM"),d=a("QibW"),h=a("0IaG"),g=a("/t3+"),v=a("bSwM"),y=a("M9IT"),C=a("xHqg"),x=a("A5z7"),X=a("bv9b"),W=a("XhcP"),k=a("FKr1"),w=a("1jcm"),S=a("+0xr"),L=a("MutI"),_=a("f0Cb"),D=a("5HBU"),N=a("fXoL"),I=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=N.Pb({type:e}),e.\u0275inj=N.Ob({factory:function(t){return new(t||e)},imports:[[n.k,o.b,D.a,i.b,r.c,l.c,m.b,c.e,b.b,u.b,s.c,p.c,f.b,d.c,h.e,g.b,v.b,y.b,C.d,x.e,X.b,W.b,w.b,S.k,L.c,_.b,k.t]]}),e}()}}]);