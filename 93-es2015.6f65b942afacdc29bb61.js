(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{IOBc:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("5HBU"),a=i("bTqV"),r=i("kmnG"),o=i("NFeN"),s=i("qFsG"),c=i("wZkO"),l=i("/t3+"),u=i("bSwM"),h=i("+0xr"),p=i("FKr1"),b=i("MutI"),m=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[n.a,a.c,r.e,o.b,s.c,c.c,l.b,u.b,p.t,b.c,h.k]]}),e})()},cfqv:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return h}));var n=i("8LU1"),a=i("vxfF"),r=i("fXoL"),o=i("HDdC");class s{constructor(e=50){this._totalWeight=0,this._defaultItemSize=e,this._averageItemSize=e}getAverageItemSize(){return this._averageItemSize}addSample(e,t){const i=this._totalWeight+e.end-e.start;if(i){const e=(t+this._averageItemSize*this._totalWeight)/i;e&&(this._averageItemSize=e,this._totalWeight=i)}}reset(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}class c{constructor(e,t,i=new s){this.scrolledIndexChange=new o.a(()=>{throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")}),this._viewport=null,this._removalFailures=0,this._minBufferPx=e,this._maxBufferPx=t,this._averager=i}attach(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}detach(){this._viewport=null}onContentScrolled(){this._viewport&&this._updateRenderedContentAfterScroll()}onDataLengthChanged(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}onContentRendered(){this._viewport&&this._checkRenderedContentSize()}onRenderedOffsetChanged(){this._viewport&&this._checkRenderedContentOffset()}scrollToIndex(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}updateBufferSize(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}_updateRenderedContentAfterScroll(){const e=this._viewport,t=e.measureScrollOffset();let i=t-this._lastScrollOffset,n=Math.abs(i);const a=e.getRenderedRange();let r=0;if(i<0){const e=a.start*this._averager.getAverageItemSize();r=Math.round((e-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,n/(t+n)))),i-=r,n=Math.abs(i)}const o=this._lastScrollOffset-this._lastRenderedContentOffset,s=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),c=n+this._minBufferPx-(i<0?o:s);if(c>0)if(n>=e.getViewportSize())this._renderContentForCurrentOffset();else{const t=Math.max(0,Math.ceil((c-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),l=(i<0?s:o)-this._minBufferPx+n,u=Math.floor(l/this._averager.getAverageItemSize()/(this._removalFailures+1)),h=Math.min(a.end-a.start,Math.max(0,u)),p=this._expandRange(a,i<0?t:0,i>0?t:0);let b,m;if(i<0?p.end=Math.max(p.start+1,p.end-h):p.start=Math.min(p.end-1,p.start+h),i<0){let t=e.measureRangeSize({start:p.end,end:a.end});t<=l?(b=this._lastRenderedContentOffset+this._lastRenderedContentSize-t,this._removalFailures=0):(p.end=a.end,b=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),m="to-end"}else{const t=e.measureRangeSize({start:a.start,end:p.start});t<=l?(b=this._lastRenderedContentOffset+t,this._removalFailures=0):(p.start=a.start,b=this._lastRenderedContentOffset,this._removalFailures++),m="to-start"}e.setRenderedRange(p),e.setRenderedContentOffset(b+r,m)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}_checkRenderedContentSize(){const e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}_checkRenderedContentOffset(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}_renderContentForCurrentOffset(){const e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;const i=this._averager.getAverageItemSize(),n=Math.min(e.getDataLength()-1,Math.floor(t/i)),a=Math.ceil(this._maxBufferPx/i),r=this._expandRange(this._getVisibleRangeForIndex(n),a,a);e.setRenderedRange(r),e.setRenderedContentOffset(i*r.start)}_getVisibleRangeForIndex(e){const t=this._viewport,i={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},n=i.end-t.getDataLength();return n>0&&(i.start=Math.max(0,i.start-n)),i}_expandRange(e,t,i){const n=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(n.getDataLength(),e.end+i)}}_updateTotalContentSize(e){const t=this._viewport,i=t.getRenderedRange(),n=e+(t.getDataLength()-(i.end-i.start))*this._averager.getAverageItemSize();t.setTotalContentSize(n)}}function l(e){return e._scrollStrategy}let u=(()=>{class e{constructor(){this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new c(this.minBufferPx,this.maxBufferPx)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Object(n.f)(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Object(n.f)(e)}ngOnChanges(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:a.h,useFactory:l,deps:[Object(r.V)(()=>e)]}]),r.Bb()]}),e})(),h=(()=>{class e{}return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e})()},qy67:function(e,t,i){"use strict";i.r(t);var n=i("tyNb"),a=i("5HBU"),r=i("STbY"),o=i("/1cH"),s=i("iadO"),c=i("bTqV"),l=i("7EHt"),u=i("kmnG"),h=i("NFeN"),p=i("Qu3c"),b=i("qFsG"),m=i("wZkO"),d=i("d3UM"),f=i("QibW"),g=i("0IaG"),v=i("/t3+"),y=i("bSwM"),w=i("M9IT"),x=i("xHqg"),_=i("A5z7"),S=i("bv9b"),D=i("XhcP"),C=i("FKr1"),j=i("1jcm"),k=i("+0xr"),O=i("212X"),W=i("LPQX"),X=i("3Pt+"),I=i("XNiG"),q=i("1G5W"),A=i("PVWW"),T=i("/N0t"),P=i("Frtq"),R=i("fXoL"),L=i("HX77"),F=i("2Vo4"),B=i("jD4G"),N=i("tk/3"),z=i("qXBG"),V=i("ofXK");let M=(()=>{class e{constructor(e,t,i){this._httpClient=e,this.authService=t,this.datePipe=i,this.lock=!1,this.defaultSearch={year:(new Date).getFullYear(),month:null,date_to:this.datePipe.transform((new Date).setMonth((new Date).getMonth()+3),"yyyy-MM-dd"),date_from:this.datePipe.transform((new Date).setMonth((new Date).getMonth()-12),"yyyy-MM-dd")},this.sheetCurrenSearch={year:(new Date).getFullYear(),month:null,date_to:this.datePipe.transform((new Date).setMonth((new Date).getMonth()+3),"yyyy-MM-dd"),date_from:this.datePipe.transform((new Date).setMonth((new Date).getMonth()-12),"yyyy-MM-dd")},this.onSearchTextChanged=new I.a,this.onDataChanged=new F.a([]),this.onDataItemChanged=new F.a([]),this.onSelShipmentDetailsChanged=new F.a({}),this.onSelShipmentSheetChanged=new F.a({}),this.onVoyageChanged=new F.a({})}resolve(e){return this.authService.routerData=e,this.module=e.params.modul,new Promise((e,t)=>{Promise.all([this.getSelShipmentDetailsList(this.sheetCurrenSearch),this.getData(),this.getItemData(),this.getVoyage()]).then(([t])=>{this.onSearchTextChanged.subscribe(e=>{this.searchDetailText=e;let t=JSON.parse(JSON.stringify(this.detailShipment));e&&""!==e&&(this.filterDetailShipment=B.a.filterArrayByString(t,e),this.onSelShipmentSheetChanged.next(this.filterDetailShipment))}),e()},t)})}getSelShipmentDetailsList(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/shipment/details2",e,t).subscribe(e=>{this.detailShipment=e;let t=JSON.parse(JSON.stringify(this.detailShipment));this.searchDetailText?this.searchDetailText&&""!==this.searchDetailText&&(this.filterDetailShipment=B.a.filterArrayByString(t,this.searchDetailText)):this.filterDetailShipment=t,this.onSelShipmentSheetChanged.next(this.filterDetailShipment),i(this.filterDetailShipment)},n)})}getData(){let e={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/data",e).subscribe(e=>{this.customer=e[0],this.supplier=e[1],this.seaport=e[2],this.user=e[3],this.country=e[4],this.agent=e[5],this.onDataChanged.next(e),t(e)},i)})}getItemData(){let e={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/item-data",e).subscribe(e=>{this.price=e[0],this.unit=e[1],this.currency=e[2],this.country=e[3],this.user=e[4],this.commodity=e[5],this.packageType=e[6],this.onDataItemChanged.next(e),t(e)},i)})}getSelShipmentById(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/id/"+e,t).subscribe(e=>{this.shipment=e[0][0],10==this.shipment.status&&(this.lock=!0),this.onSelShipmentDetailsChanged.next(e),i(e)},n)})}updateSelShipment(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/shipment",e,t).subscribe(e=>{i(e)},n)})}deleteSelShipment(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/shipment/id/"+e,t).subscribe(e=>{i(e)},n)})}createSelRevenue(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/revenue",e,t).subscribe(e=>{i(e)},n)})}updateSelRevenue(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/revenue",e,t).subscribe(e=>{i(e)},n)})}deleteSelRevenue(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/revenue/"+e,t).subscribe(e=>{i(e)},n)})}createSelCost(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/cost",e,t).subscribe(e=>{i(e)},n)})}updateSelCost(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/cost",e,t).subscribe(e=>{i(e)},n)})}deleteSelCost(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/cost/"+e,t).subscribe(e=>{i(e)},n)})}createSelCorrect(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/correct",e,t).subscribe(e=>{i(e)},n)})}updateSelCorrect(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/correct",e,t).subscribe(e=>{i(e)},n)})}deleteSelCorrect(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/correct/"+e,t).subscribe(e=>{i(e)},n)})}createSelOtherIn(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/sel-other-in",e,t).subscribe(e=>{i(e)},n)})}updateSelOtherIn(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/sel-other-in",e,t).subscribe(e=>{i(e)},n)})}deleteSelOtherIn(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/sel-other-in/"+e,t).subscribe(e=>{i(e)},n)})}createSelOtherOut(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel/sel-other-out",e,t).subscribe(e=>{i(e)},n)})}updateSelOtherOut(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.put(this.authService.apiUrl+"/sel/sel-other-out",e,t).subscribe(e=>{i(e)},n)})}deleteSelOtherOut(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.delete(this.authService.apiUrl+"/sel/sel-other-out/"+e,t).subscribe(e=>{i(e)},n)})}getVoyage(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},i="/sel/book/voyage/"+(e?1:0);return new Promise((e,n)=>{this._httpClient.get(this.authService.apiUrl+i,t).subscribe(t=>{this.voyage=t,this.onVoyageChanged.next(t),e(t)},n)})}createSelShipment(e){let t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,n)=>{this._httpClient.post(this.authService.apiUrl+"/sel-shipment/new",e,t).subscribe(e=>{i(e)},n)})}}return e.\u0275fac=function(t){return new(t||e)(R.bc(N.a),R.bc(z.a),R.bc(V.f))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})();var J=i("pLZG"),E=i("LvDl"),U=i("nLfN");let $=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!0,width:100,view:!0},{name:"Pay Party",value:"partner_short_name",column:"pay_party",type:"text",required:!0,width:160,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:80,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Button",value:null,column:null,type:null,required:!1,width:80,view:!0},{name:"Pay_In",value:"country_code",column:"payment_center",type:"text",required:!0,width:52,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:42,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!0,width:100,view:!0},{name:"Issue Party",value:"partner_short_name",column:"issue_party",type:"text",required:!0,width:160,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:80,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Button",value:null,column:null,type:null,required:!1,width:80,view:!0},{name:"Pay_In",value:"country_code",column:"payment_center",type:"text",required:!0,width:52,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:42,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Code",value:"code",column:"code",type:"text",required:!0,width:110,view:!0},{name:"Revenue",value:"total_revenue",column:null,type:null,required:!1,width:100,view:!0},{name:"Cost",value:"total_cost",column:null,type:null,required:!1,width:100,view:!0},{name:"Net Revenue",value:"profit",column:null,type:null,required:!1,width:80,view:!0},{name:"Customer",value:"customer_short_name",column:"customer",type:"text",required:!0,width:180,view:!0},{name:"Agent",value:"agent_short_name",column:"agent",type:"text",required:!0,width:180,view:!0},{name:"Bill",value:"bill",column:"bill",type:"text",required:!1,width:140,view:!0},{name:"POL",value:"pol_name",column:"pol",type:"number",required:!1,width:140,view:!0},{name:"POD",value:"pod_name",column:"pod",type:"number",required:!1,width:140,view:!0},{name:"Vessel",value:"vessel_full_name",column:null,type:"number",required:!1,width:140,view:!0},{name:"Depart time",value:"depart_time",column:null,type:"text",required:!1,width:80,view:!0},{name:"Arrive time",value:"arrive_time",column:null,type:"text",required:!1,width:80,view:!0},{name:"Process",value:"process_name",column:"process",type:"number",required:!0,width:70,view:!0},{name:"Owner",value:"owner_name",column:"owner",type:"number",required:!0,width:140,view:!0},{name:"Create by",value:"create_by_name",column:null,type:"number",required:!0,width:140,view:!0}],this._disableColumn=["Code","Pick up","Pick Date","Deliver"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),Y=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"Detail",view:!0},{name:"Revenue",view:!0},{name:"Cost",view:!0}],this._disableColumn=["Detail"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.div,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={div:[],form:[],view_div:[],view_setting:[]};e.map(e=>{t.div.push(e),e.view&&(t.view_div.push(e.name),t.view_setting.push(e));let i={};i[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,i])}),t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})();var K=i("B9zo"),Q=i("fE3o"),Z=i("XiUz"),ee=i("EwFO");function te(e,t){if(1&e&&(R.Xb(0,"div",12),R.Xb(1,"mat-checkbox",13),R.Lc(2),R.Wb(),R.Wb()),2&e){const e=t.index,i=R.jc();R.pc("formGroupName",e),R.Db(1),R.pc("formControlName",i.displayObj.form[e][0]),R.Db(1),R.Mc(i.displayObj.form[e][0])}}let ie=(()=>{class e{constructor(e){this.formBuilder=e,this.height=560,this.changeSetting=new R.o,this.view="main",this._unsubscribeAll=new I.a}ngOnInit(){this.form=this.initForm(),this.displayObj.form.map(e=>{this.addColumn(e[1])}),this.form.valueChanges.subscribe(e=>{this.changeSetting.emit([this.label,e])})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}initForm(){return this.formBuilder.group({div:this.formBuilder.array([])})}get divAdd(){return this.form.get("div")}addColumn(e){this.divAdd.push(this.formBuilder.group(e))}checkAll(){this.displayObj.form.map((e,t)=>{this.form.controls.div.controls[t].controls[e[0]].setValue(!0)})}clearAll(){this.displayObj.form.map((e,t)=>{this.displayObj.disable.includes(e[0])||this.form.controls.div.controls[t].controls[e[0]].setValue(!1)})}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-setting-detail"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","div"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){const e=R.Yb();R.Xb(0,"form",0),R.Xb(1,"div",1),R.Xb(2,"h2",2),R.fc("click",(function(t){return R.Bc(e),R.xc(6).toggle()})),R.Lc(3),R.Wb(),R.Xb(4,"div",3),R.Xb(5,"mat-expansion-panel",4,5),R.Xb(7,"div",6),R.Xb(8,"div",7),R.Xb(9,"button",8),R.fc("click",(function(e){return t.checkAll()})),R.Lc(10,"All div"),R.Wb(),R.Xb(11,"button",9),R.fc("click",(function(e){return t.clearAll()})),R.Lc(12,"Clear"),R.Wb(),R.Wb(),R.Xb(13,"div",10),R.Jc(14,te,3,3,"div",11),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()}2&e&&(R.pc("formGroup",t.form),R.Db(3),R.Mc(t.label),R.Db(2),R.pc("expanded",t.expand),R.Db(9),R.pc("ngForOf",t.divAdd.controls))},directives:[X.A,X.q,X.h,l.c,Z.d,Z.c,c.b,Z.b,X.c,V.s,X.i,y.a,X.p,X.g],styles:["shipment-setting-table-detail .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:div;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-detail .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-detail .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-detail .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:A.a}}),e})();function ne(e,t){if(1&e&&(R.Xb(0,"div",12),R.Xb(1,"mat-checkbox",13),R.Lc(2),R.Wb(),R.Wb()),2&e){const e=t.index,i=R.jc();R.pc("formGroupName",e),R.Db(1),R.pc("formControlName",i.displayObj.form[e][0]),R.Db(1),R.Mc(i.displayObj.form[e][0])}}let ae=(()=>{class e{constructor(e){this.formBuilder=e,this.height=560,this.changeSetting=new R.o,this.view="main",this._unsubscribeAll=new I.a}ngOnInit(){this.form=this.initForm(),this.displayObj.form.map(e=>{this.addColumn(e[1])}),this.form.valueChanges.subscribe(e=>{this.changeSetting.emit([this.label,e])})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}initForm(){return this.formBuilder.group({column:this.formBuilder.array([])})}get columnAdd(){return this.form.get("column")}addColumn(e){this.columnAdd.push(this.formBuilder.group(e))}checkAll(){this.displayObj.form.map((e,t)=>{this.form.controls.column.controls[t].controls[e[0]].setValue(!0)})}clearAll(){this.displayObj.form.map((e,t)=>{this.displayObj.disable.includes(e[0])||this.form.controls.column.controls[t].controls[e[0]].setValue(!1)})}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-setting-table-detail"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){const e=R.Yb();R.Xb(0,"form",0),R.Xb(1,"div",1),R.Xb(2,"h2",2),R.fc("click",(function(t){return R.Bc(e),R.xc(6).toggle()})),R.Lc(3),R.Wb(),R.Xb(4,"div",3),R.Xb(5,"mat-expansion-panel",4,5),R.Xb(7,"div",6),R.Xb(8,"div",7),R.Xb(9,"button",8),R.fc("click",(function(e){return t.checkAll()})),R.Lc(10,"All column"),R.Wb(),R.Xb(11,"button",9),R.fc("click",(function(e){return t.clearAll()})),R.Lc(12,"Clear"),R.Wb(),R.Wb(),R.Xb(13,"div",10),R.Jc(14,ne,3,3,"div",11),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()}2&e&&(R.pc("formGroup",t.form),R.Db(3),R.Mc(t.label),R.Db(2),R.pc("expanded",t.expand),R.Db(9),R.pc("ngForOf",t.columnAdd.controls))},directives:[X.A,X.q,X.h,l.c,Z.d,Z.c,c.b,Z.b,X.c,V.s,X.i,y.a,X.p,X.g],styles:["shipment-setting-detail .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-detail .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-detail .group .viewer-content{width:100%;overflow:auto}shipment-setting-detail .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:A.a}}),e})();function re(e,t){if(1&e&&(R.Xb(0,"div",12),R.Xb(1,"mat-checkbox",13),R.Lc(2),R.Wb(),R.Wb()),2&e){const e=t.index,i=R.jc();R.pc("formGroupName",e),R.Db(1),R.pc("formControlName",i.displayObj.form[e][0]),R.Db(1),R.Mc(i.displayObj.form[e][0])}}let oe=(()=>{class e{constructor(e){this.formBuilder=e,this.height=560,this.changeSetting=new R.o,this.view="main",this._unsubscribeAll=new I.a}ngOnInit(){this.form=this.initForm(),this.displayObj.form.map(e=>{this.addColumn(e[1])}),this.form.valueChanges.subscribe(e=>{this.changeSetting.emit([this.label,e])})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}initForm(){return this.formBuilder.group({column:this.formBuilder.array([])})}get columnAdd(){return this.form.get("column")}addColumn(e){this.columnAdd.push(this.formBuilder.group(e))}checkAll(){this.displayObj.form.map((e,t)=>{this.form.controls.column.controls[t].controls[e[0]].setValue(!0)})}clearAll(){this.displayObj.form.map((e,t)=>{this.displayObj.disable.includes(e[0])||this.form.controls.column.controls[t].controls[e[0]].setValue(!1)})}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-setting-table-revenue"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){const e=R.Yb();R.Xb(0,"form",0),R.Xb(1,"div",1),R.Xb(2,"h2",2),R.fc("click",(function(t){return R.Bc(e),R.xc(6).toggle()})),R.Lc(3),R.Wb(),R.Xb(4,"div",3),R.Xb(5,"mat-expansion-panel",4,5),R.Xb(7,"div",6),R.Xb(8,"div",7),R.Xb(9,"button",8),R.fc("click",(function(e){return t.checkAll()})),R.Lc(10,"All column"),R.Wb(),R.Xb(11,"button",9),R.fc("click",(function(e){return t.clearAll()})),R.Lc(12,"Clear"),R.Wb(),R.Wb(),R.Xb(13,"div",10),R.Jc(14,re,3,3,"div",11),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()}2&e&&(R.pc("formGroup",t.form),R.Db(3),R.Mc(t.label),R.Db(2),R.pc("expanded",t.expand),R.Db(9),R.pc("ngForOf",t.columnAdd.controls))},directives:[X.A,X.q,X.h,l.c,Z.d,Z.c,c.b,Z.b,X.c,V.s,X.i,y.a,X.p,X.g],styles:["shipment-setting-table-revenue .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-revenue .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-revenue .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-revenue .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:A.a}}),e})();function se(e,t){if(1&e&&(R.Xb(0,"div",12),R.Xb(1,"mat-checkbox",13),R.Lc(2),R.Wb(),R.Wb()),2&e){const e=t.index,i=R.jc();R.pc("formGroupName",e),R.Db(1),R.pc("formControlName",i.displayObj.form[e][0]),R.Db(1),R.Mc(i.displayObj.form[e][0])}}let ce=(()=>{class e{constructor(e){this.formBuilder=e,this.height=560,this.changeSetting=new R.o,this.view="main",this._unsubscribeAll=new I.a}ngOnInit(){this.form=this.initForm(),this.displayObj.form.map(e=>{this.addColumn(e[1])}),this.form.valueChanges.subscribe(e=>{this.changeSetting.emit([this.label,e])})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}initForm(){return this.formBuilder.group({column:this.formBuilder.array([])})}get columnAdd(){return this.form.get("column")}addColumn(e){this.columnAdd.push(this.formBuilder.group(e))}checkAll(){this.displayObj.form.map((e,t)=>{this.form.controls.column.controls[t].controls[e[0]].setValue(!0)})}clearAll(){this.displayObj.form.map((e,t)=>{this.displayObj.disable.includes(e[0])||this.form.controls.column.controls[t].controls[e[0]].setValue(!1)})}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-setting-table-cost"]],inputs:{label:"label",displayObj:"displayObj",expand:"expand"},outputs:{changeSetting:"changeSetting"},decls:15,vars:4,consts:[[3,"formGroup"],[1,"group","mt-32"],[1,"cursor-pointer",3,"click"],[1,"viewer-content"],[1,"item",3,"expanded"],["itemPanel",""],[1,"pl-16","pr-16","pt-16"],["fxLayout","row","fxLayoutAlign","center center",1,"mb-16"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["mat-raised-button","","type","button","fxFlex","50",1,"pl-16","pr-16","ml-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"],["formArrayName","column"],["class","mb-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-12",3,"formGroupName"],["color","primary",3,"formControlName"]],template:function(e,t){if(1&e){const e=R.Yb();R.Xb(0,"form",0),R.Xb(1,"div",1),R.Xb(2,"h2",2),R.fc("click",(function(t){return R.Bc(e),R.xc(6).toggle()})),R.Lc(3),R.Wb(),R.Xb(4,"div",3),R.Xb(5,"mat-expansion-panel",4,5),R.Xb(7,"div",6),R.Xb(8,"div",7),R.Xb(9,"button",8),R.fc("click",(function(e){return t.checkAll()})),R.Lc(10,"All column"),R.Wb(),R.Xb(11,"button",9),R.fc("click",(function(e){return t.clearAll()})),R.Lc(12,"Clear"),R.Wb(),R.Wb(),R.Xb(13,"div",10),R.Jc(14,se,3,3,"div",11),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()}2&e&&(R.pc("formGroup",t.form),R.Db(3),R.Mc(t.label),R.Db(2),R.pc("expanded",t.expand),R.Db(9),R.pc("ngForOf",t.columnAdd.controls))},directives:[X.A,X.q,X.h,l.c,Z.d,Z.c,c.b,Z.b,X.c,V.s,X.i,y.a,X.p,X.g],styles:["shipment-setting-table-cost .group{margin-left:8px;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-setting-table-cost .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:10}shipment-setting-table-cost .group .viewer-content{width:100%;overflow:auto}shipment-setting-table-cost .group .viewer-content .mat-expansion-panel-body{padding:0!important}"],encapsulation:2,data:{animation:A.a}}),e})();function le(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div"),R.Xb(1,"shipment-setting-table-detail",4),R.fc("changeSetting",(function(t){return R.Bc(e),R.jc().changeSetting.emit(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc();R.Db(1),R.pc("label","Detail table")("expand",!1)("displayObj",e.displayObjDetail)}}function ue(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div"),R.Xb(1,"shipment-setting-table-revenue",4),R.fc("changeSetting",(function(t){return R.Bc(e),R.jc().changeSetting.emit(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc();R.Db(1),R.pc("label","Revenue table")("expand",!1)("displayObj",e.displayObjRevenue)}}function he(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div"),R.Xb(1,"shipment-setting-table-cost",4),R.fc("changeSetting",(function(t){return R.Bc(e),R.jc().changeSetting.emit(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc();R.Db(1),R.pc("label","Cost table")("expand",!1)("displayObj",e.displayObjCost)}}let pe=(()=>{class e{constructor(e,t){this.formBuilder=e,this.authService=t,this.height=560,this.changeSetting=new R.o,this._unsubscribeAll=new I.a}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-18}),this.authService.changeScreen.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-18:this.authService.screenHeight-64-64-18})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d),R.Rb(z.a))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-sheet-setting"]],inputs:{displayObjDetail:"displayObjDetail",displayObjDiv:"displayObjDiv",displayObjRevenue:"displayObjRevenue",displayObjCost:"displayObjCost"},outputs:{changeSetting:"changeSetting"},decls:11,vars:8,consts:[["fxLayout","column",2,"border-right","1px solid #E0E0E0"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","center center",1,"h-100-p"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[3,"label","expand","displayObj","changeSetting"],[4,"ngIf"]],template:function(e,t){1&e&&(R.Xb(0,"div",0),R.Xb(1,"div",1),R.Xb(2,"div",2),R.Xb(3,"div"),R.Lc(4,"Settings"),R.Wb(),R.Wb(),R.Wb(),R.Xb(5,"div",3),R.Xb(6,"div"),R.Xb(7,"shipment-setting-detail",4),R.fc("changeSetting",(function(e){return t.changeSetting.emit(e)})),R.Wb(),R.Wb(),R.Jc(8,le,2,3,"div",5),R.Jc(9,ue,2,3,"div",5),R.Jc(10,he,2,3,"div",5),R.Wb(),R.Wb()),2&e&&(R.Db(5),R.Ic("height",t.height,"px"),R.Db(2),R.pc("label","View")("expand",!0)("displayObj",t.displayObjDiv),R.Db(1),R.pc("ngIf",t.displayObjDiv.view_div.includes("Detail")),R.Db(1),R.pc("ngIf",t.displayObjDiv.view_div.includes("Revenue")),R.Db(1),R.pc("ngIf",t.displayObjDiv.view_div.includes("Cost")))},directives:[Z.d,Z.c,ee.a,ie,V.t,ae,oe,ce],styles:["shipment-sheet-setting .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}@media screen and (max-width:599px){shipment-sheet-setting .navbar-top{height:56px!important}}shipment-sheet-setting .navbar-scroll-container{background:#fff!important}shipment-sheet-setting .navbar-scroll-container .navbar-content{padding-top:0}shipment-sheet-setting .navbar-scroll-container .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-setting .navbar-scroll-container .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-sheet-setting .navbar-scroll-container .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2,data:{animation:A.a}}),e})();var be=i("0JVi"),me=i("znSr"),de=i("rPBI");function fe(e,t){if(1&e){const e=R.Yb();R.Xb(0,"button",18),R.fc("click",(function(t){R.Bc(e);const i=R.jc();return t.stopPropagation(),i.changeScreen(!0)})),R.Xb(1,"mat-icon"),R.Lc(2,"flip_to_front"),R.Wb(),R.Wb()}}function ge(e,t){if(1&e){const e=R.Yb();R.Xb(0,"button",18),R.fc("click",(function(t){R.Bc(e);const i=R.jc();return t.stopPropagation(),i.changeScreen(!1)})),R.Xb(1,"mat-icon"),R.Lc(2,"flip_to_back"),R.Wb(),R.Wb()}}const ve=function(e){return{"accent-600-fg":e}};let ye=(()=>{class e{constructor(e,t){this.authService=e,this._fuseConfigService=t,this.url="sheet",this.fullScreen=!1,this.toggleSidebar=new R.o,this.showHideBar=new R.o,this.refreshPage=new R.o,this.goShipmentList=new R.o,this.newShipment=new R.o,this.searchFilter=new R.o,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(z.a),R.Rb(be.b))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-sheet-header"]],inputs:{module:"module",sidebarName:"sidebarName",currentShipment:"currentShipment",searchText:"searchText"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",goShipmentList:"goShipmentList",newShipment:"newShipment",searchFilter:"searchFilter"},decls:37,vars:15,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","",1,"quick-panel-toggle-button",3,"click"],["fxHide","","fxShow.gt-sm","",3,"ngClass"],["fxShow","","fxHide.gt-sm","",3,"ngClass"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button","w-128",3,"click"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(R.Xb(0,"mat-toolbar",0),R.Xb(1,"div",1),R.Xb(2,"div",2),R.Xb(3,"div",3),R.Xb(4,"button",4),R.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),R.Xb(5,"mat-icon"),R.Lc(6,"menu"),R.Wb(),R.Wb(),R.Xb(7,"button",5),R.fc("click",(function(e){return t.showHideBar.emit()})),R.Xb(8,"mat-icon"),R.Lc(9,"menu"),R.Wb(),R.Wb(),R.Wb(),R.Xb(10,"button",6),R.fc("click",(function(e){return t.goShipmentList.emit("list")})),R.Xb(11,"span",7),R.Lc(12,"List"),R.Wb(),R.Xb(13,"mat-icon",8),R.Lc(14,"equalizer"),R.Wb(),R.Wb(),R.Xb(15,"button",6),R.fc("click",(function(e){return t.goShipmentList.emit("sheet")})),R.Xb(16,"span",7),R.Lc(17,"Sheet"),R.Wb(),R.Xb(18,"mat-icon",8),R.Lc(19,"view_carousel"),R.Wb(),R.Wb(),R.Wb(),R.Xb(20,"div",9),R.Sb(21,"div",10),R.Xb(22,"filter-search-bar",11),R.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),R.Wb(),R.Sb(23,"div",10),R.Xb(24,"button",12),R.fc("click",(function(e){return t.newShipment.emit()})),R.Xb(25,"mat-icon",13),R.Lc(26,"add"),R.Wb(),R.Xb(27,"span",14),R.Lc(28,"Shipment"),R.Wb(),R.Wb(),R.Sb(29,"div",10),R.Jc(30,fe,3,0,"button",15),R.Jc(31,ge,3,0,"button",15),R.Sb(32,"div",10),R.Xb(33,"button",16),R.fc("click",(function(e){return t.toggleSidebar.emit("shipment-sheet-setting")})),R.Xb(34,"mat-icon"),R.Lc(35,"settings"),R.Wb(),R.Wb(),R.Sb(36,"div",17),R.Wb(),R.Wb(),R.Wb()),2&e&&(R.Db(11),R.pc("ngClass",R.rc(7,ve,"list"==t.url)),R.Db(2),R.pc("ngClass",R.rc(9,ve,"list"==t.url)),R.Db(3),R.pc("ngClass",R.rc(11,ve,"sheet"==t.url)),R.Db(2),R.pc("ngClass",R.rc(13,ve,"sheet"==t.url)),R.Db(4),R.pc("searchText",t.searchText),R.Db(8),R.pc("ngIf",!t.fullScreen),R.Db(1),R.pc("ngIf",t.fullScreen))},directives:[v.a,Z.b,Z.e,Z.d,Z.c,c.b,me.b,h.a,V.q,me.a,de.a,V.t],styles:["shipment-sheet-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-sheet-header.below{z-index:2}shipment-sheet-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-sheet-header .mat-toolbar .new-shipment{position:absolute;top:64px;left:0;z-index:15;background:#fff}shipment-sheet-header .chat-panel-toggle-button,shipment-sheet-header .language-button,shipment-sheet-header .quick-panel-toggle-button,shipment-sheet-header .user-button,shipment-sheet-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){shipment-sheet-header .chat-panel-toggle-button,shipment-sheet-header .language-button,shipment-sheet-header .quick-panel-toggle-button,shipment-sheet-header .user-button,shipment-sheet-header fuse-search-bar{height:56px}}shipment-sheet-header .navbar-toggle-button{min-width:56px;height:56px}shipment-sheet-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-sheet-header .toolbar-separator{height:56px}}"],encapsulation:2}),e})();var we=i("vxfF"),xe=i("cfqv"),_e=i("0Zc1");const Se=function(){return["Revenue","Cost","Net Revenue"]},De=function(e){return{"text-right":e}};function Ce(e,t){if(1&e&&(R.Xb(0,"th",6),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.Ic("width",e.width,"px"),R.pc("ngClass",R.rc(5,De,R.qc(4,Se).includes(e.name))),R.Db(1),R.Mc(e.name)}}function je(e,t){if(1&e&&(R.Xb(0,"tr"),R.Jc(1,Ce,2,7,"th",5),R.Sb(2,"th",3),R.Wb()),2&e){const e=R.jc();R.Db(1),R.pc("ngForOf",e.displayObj.table_setting)}}function ke(e,t){if(1&e&&(R.Xb(0,"td"),R.Xb(1,"div",11),R.Xb(2,"span"),R.Lc(3),R.Wb(),R.Xb(4,"span",12),R.Lc(5),R.Wb(),R.Wb(),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Ic("width",e.width,"px"),R.Db(3),R.Mc(t.number[0]),R.Db(2),R.Mc(t.number[1])}}const Oe=function(e){return{"text-bold":e}};function We(e,t){if(1&e&&(R.Xb(0,"td",13),R.Lc(1),R.kc(2,"number"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Ic("width",e.width,"px"),R.pc("ngClass",R.rc(7,Oe,"Net Revenue"==e.name)),R.Db(1),R.Nc(" ",R.mc(2,4,t.data[e.value],"1.0-0")," ")}}function Xe(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.kc(2,"date"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",R.mc(2,3,t.data[e.value],"MM/dd/yyyy")," ")}}function Ie(e,t){if(1&e){const e=R.Yb();R.Xb(0,"td"),R.Xb(1,"a",14),R.fc("click",(function(t){R.Bc(e);const i=R.jc(2);return i.goDetails.emit(i.data.id)})),R.Lc(2),R.Wb(),R.Wb()}if(2&e){const e=R.jc().$implicit,t=R.jc();R.Ic("width",e.width,"px"),R.Db(2),R.Mc(t.data[e.value])}}function qe(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Ic("width",e.width,"px"),R.Db(1),R.Mc(t.data[e.value])}}const Ae=function(){return["Depart time","Arrive time"]};function Te(e,t){if(1&e&&(R.Vb(0),R.Vb(1,7),R.Jc(2,ke,6,4,"td",8),R.Jc(3,We,3,9,"td",9),R.Jc(4,Xe,3,6,"td",8),R.Jc(5,Ie,3,3,"td",8),R.Jc(6,qe,2,3,"td",10),R.Ub(),R.Ub()),2&e){const e=t.$implicit;R.Db(1),R.pc("ngSwitch",!0),R.Db(1),R.pc("ngSwitchCase","No"==e.name),R.Db(1),R.pc("ngSwitchCase",R.qc(5,Se).includes(e.name)),R.Db(1),R.pc("ngSwitchCase",R.qc(6,Ae).includes(e.name)),R.Db(1),R.pc("ngSwitchCase","Code"==e.name)}}let Pe=(()=>{class e{constructor(e,t,i,n){this.router=e,this.authService=t,this.commonService=i,this.datePipe=n,this.updateItemDetail=new R.o,this.editPanel=new R.o,this.editHeader=new R.o,this.goDetails=new R.o,this.process=[{id:0,name:"Booking"},{id:1,name:"Stuffing"},{id:2,name:"Ready to load"},{id:3,name:"Load"},{id:4,name:"Discharge"},{id:5,name:"Pick up"},{id:6,name:"Complete"}],this._unsubscribeAll=new I.a}ngOnInit(){let e=this.process.find(e=>e.id==this.data.process);this.data.process_name=e.name}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}headerChange(){this.header.shipment=!this.header.shipment,this.editHeader.emit(this.header)}headerItemChange(){this.header.item=!this.header.item,this.editHeader.emit(this.header)}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(n.g),R.Rb(z.a),R.Rb(_e.a),R.Rb(V.f))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-detail-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",label:"label",number:"number",permission:"permission"},outputs:{updateItemDetail:"updateItemDetail",editPanel:"editPanel",editHeader:"editHeader",goDetails:"goDetails"},decls:11,vars:10,consts:[[1,"simple","detail-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sticky-col"],["fxFlex","50",1,"cursor-pointer","font-size-32",3,"matTooltip","matTooltipPosition","click"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width","ngClass",4,"ngSwitchCase"],[3,"width",4,"ngSwitchDefault"],["fxLayout","column","fxLayoutAlign","center center"],[2,"border-top","1px solid"],[1,"text-right",3,"ngClass"],[1,"cursor-pointer",3,"click"]],template:function(e,t){1&e&&(R.Xb(0,"table",0),R.Xb(1,"thead"),R.Jc(2,je,3,1,"tr",1),R.Wb(),R.Xb(3,"tbody"),R.Xb(4,"tr"),R.Jc(5,Te,7,7,"ng-container",2),R.Xb(6,"td",3),R.Xb(7,"mat-icon",4),R.fc("click",(function(e){return t.headerChange()})),R.Lc(8),R.Wb(),R.Xb(9,"mat-icon",4),R.fc("click",(function(e){return t.headerItemChange()})),R.Lc(10),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()),2&e&&(R.Ic("width",t.displayObj.width,"px"),R.Db(2),R.pc("ngIf",t.header.shipment),R.Db(3),R.pc("ngForOf",t.displayObj.table_setting),R.Db(2),R.pc("matTooltip","Shipment header "+(t.header.shipment?"hide":"show"))("matTooltipPosition","left"),R.Db(1),R.Mc(t.header.shipment?"arrow_drop_down":"arrow_drop_up"),R.Db(1),R.pc("matTooltip","Item header "+(t.header.item?"hide":"show"))("matTooltipPosition","left"),R.Db(1),R.Mc(t.header.item?"arrow_drop_down":"arrow_drop_up"))},directives:[V.t,V.s,h.a,Z.b,p.a,V.q,me.a,V.x,V.y,V.z,Z.d,Z.c],pipes:[V.g,V.f],styles:["shipment-detail-table .detail-table{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}shipment-detail-table .detail-table td,shipment-detail-table .detail-table th{padding:8px!important}shipment-detail-table .detail-table .sticky-col{width:93px;height:50px;position:sticky;position:-webkit-sticky;right:0;background:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:A.a}}),e})();class Re{constructor(e){this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"pay_partner",type:"text",required:!0,width:140,view:!0},{name:"Debit",value:"debit",column:"debit",type:"text",required:!1,width:100,view:!0},{name:"Invoice_Number",value:"inv_number",column:"inv_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Bank_Ref",value:"bank_ref",column:"bank_ref",type:"text",required:!1,width:150,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Invoice",value:"invoice_number",column:null,type:"text",required:!1,width:80,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this.table_column=e.table_column||this._defaultConfig.filter(e=>e.view).map(e=>e.name),this.table_setting=e.table_setting||this._defaultConfig.filter(e=>e.view),this.width=e.total_correct||0}}function Le(e,t){if(1&e){const e=R.Yb();R.Xb(0,"span"),R.Xb(1,"mat-icon",6),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3);return t.stopPropagation(),i.createItem.emit([i.shipment,"Revenue"])})),R.Lc(2,"add"),R.Wb(),R.Wb()}}const Fe=function(){return["Amount","Tax_Amount","Total_Amount","Total_Tax","Total_Vnd"]},Be=function(){return["Volume","Tax","Ex_Rate","Currency"]},Ne=function(e,t,i,n){return{"text-right":e,"sticky-col":t,"sticky-col-2":i,"text-center":n}};function ze(e,t){if(1&e&&(R.Xb(0,"th",5),R.Xb(1,"span"),R.Lc(2),R.Wb(),R.Jc(3,Le,3,0,"span",2),R.Wb()),2&e){const e=t.$implicit;R.Ic("width",e.width,"px"),R.pc("ngClass",R.uc(7,Ne,R.qc(5,Fe).includes(e.name),"Type"==e.name,"Pay_In"==e.name,R.qc(6,Be).includes(e.name))),R.Db(2),R.Mc("Button"==e.name?"":e.name),R.Db(1),R.pc("ngIf","Button"==e.name)}}function Ve(e,t){if(1&e&&(R.Xb(0,"tr"),R.Jc(1,ze,4,12,"th",4),R.Wb()),2&e){const e=R.jc();R.Db(1),R.pc("ngForOf",e.displayObj.table_setting)}}function Me(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().index;R.Ic("width",e.width,"px"),R.Db(1),R.Mc(t+1)}}function Je(e,t){if(1&e&&(R.Xb(0,"td",13),R.Lc(1),R.kc(2,"number"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",R.mc(2,3,t[e.value],"1.2-2")," ")}}function Ee(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.kc(2,"date"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",R.mc(2,3,t[e.value],"MM/dd/yyyy")," ")}}function Ue(e,t){if(1&e){const e=R.Yb();R.Xb(0,"mat-icon",6),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3).$implicit,n=R.jc();return t.stopPropagation(),n.updateItem.emit([i,n.label])})),R.Lc(1,"edit"),R.Wb()}}function $e(e,t){if(1&e){const e=R.Yb();R.Xb(0,"mat-icon",16),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3).$implicit,n=R.jc();return t.stopPropagation(),n.deleteItem.emit([i.id,n.label])})),R.Lc(1,"delete"),R.Wb()}}function He(e,t){if(1&e&&(R.Xb(0,"td"),R.Jc(1,Ue,2,0,"mat-icon",14),R.Jc(2,$e,2,0,"mat-icon",15),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc(2);R.Ic("width",e.width,"px"),R.Db(1),R.pc("ngIf",t.permission.edit),R.Db(1),R.pc("ngIf",t.permission.delete)}}function Ge(e,t){if(1&e&&(R.Xb(0,"td",17),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",t[e.value]," ")}}function Ye(e,t){if(1&e&&(R.Xb(0,"td",18),R.Lc(1," Rev "),R.Wb()),2&e){const e=R.jc().$implicit;R.Ic("width",e.width,"px")}}const Ke=function(){return["Invoice_Number","Bank_Ref","Info","Total_Tax","Total_Vnd"]},Qe=function(e,t){return{"text-truncate":e,"text-center":t}};function Ze(e,t){if(1&e&&(R.Xb(0,"td",19),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.pc("ngClass",R.sc(6,Qe,R.qc(4,Ke).includes(e.name),R.qc(5,Be).includes(e.name))),R.Db(1),R.Mc(t[e.value])}}const et=function(){return["Issue_Date","Pay_Date"]};function tt(e,t){if(1&e&&(R.Vb(0),R.Vb(1,7),R.Jc(2,Me,2,3,"td",8),R.Jc(3,Je,3,6,"td",9),R.Jc(4,Ee,3,6,"td",8),R.Jc(5,He,3,4,"td",8),R.Jc(6,Ge,2,3,"td",10),R.Jc(7,Ye,2,2,"td",11),R.Jc(8,Ze,2,9,"td",12),R.Ub(),R.Ub()),2&e){const e=t.$implicit;R.Db(1),R.pc("ngSwitch",!0),R.Db(1),R.pc("ngSwitchCase","No"==e.name),R.Db(1),R.pc("ngSwitchCase",R.qc(7,Fe).includes(e.name)),R.Db(1),R.pc("ngSwitchCase",R.qc(8,et).includes(e.name)),R.Db(1),R.pc("ngSwitchCase","Button"==e.name),R.Db(1),R.pc("ngSwitchCase","Pay_In"==e.name),R.Db(1),R.pc("ngSwitchCase","Type"==e.name)}}function it(e,t){if(1&e&&(R.Xb(0,"tr"),R.Jc(1,tt,9,9,"ng-container",3),R.Wb()),2&e){const e=R.jc();R.Db(1),R.pc("ngForOf",e.displayObj.table_setting)}}let nt=(()=>{class e{constructor(e){this.commonService=e,this.createItem=new R.o,this.updateItem=new R.o,this.deleteItem=new R.o,this.editPanel=new R.o,this._unsubscribeAll=new I.a}ngOnInit(){this.displayObj=this.displayObj?this.displayObj:new Re({})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(_e.a))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-revenue-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",shipment:"shipment",label:"label",permission:"permission"},outputs:{createItem:"createItem",updateItem:"updateItem",deleteItem:"deleteItem",editPanel:"editPanel"},decls:6,vars:4,consts:[[1,"content"],[1,"simple","revenue-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["color","accent",1,"cursor-pointer",3,"click"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width",4,"ngSwitchCase"],["class","sticky-col-2",3,"width",4,"ngSwitchCase"],["class","sticky-col",3,"width",4,"ngSwitchCase"],["class","h-44",3,"width","ngClass",4,"ngSwitchDefault"],[1,"text-right"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"],[1,"sticky-col-2"],[1,"sticky-col"],[1,"h-44",3,"ngClass"]],template:function(e,t){1&e&&(R.Xb(0,"div",0),R.Xb(1,"table",1),R.Xb(2,"thead"),R.Jc(3,Ve,2,1,"tr",2),R.Wb(),R.Xb(4,"tbody"),R.Jc(5,it,2,1,"tr",3),R.Wb(),R.Wb(),R.Wb()),2&e&&(R.Db(1),R.Ic("width",t.displayObj.width,"px"),R.Db(2),R.pc("ngIf",t.header.item),R.Db(2),R.pc("ngForOf",t.data))},directives:[V.t,V.s,V.q,me.a,h.a,V.x,V.y,V.z],pipes:[V.g,V.f],styles:["shipment-revenue-table .content{border:1px solid;margin-bottom:4px}shipment-revenue-table .content .revenue-table{font-size:12px!important}shipment-revenue-table .content .revenue-table td,shipment-revenue-table .content .revenue-table th{padding:8px!important;background-color:#fff}shipment-revenue-table .content .revenue-table .sticky-col{width:42px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}shipment-revenue-table .content .revenue-table .sticky-col-2{width:52px;position:sticky;position:-webkit-sticky;right:40px;background-color:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:A.a}}),e})();function at(e,t){if(1&e){const e=R.Yb();R.Xb(0,"span"),R.Xb(1,"mat-icon",6),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3);return t.stopPropagation(),i.createItem.emit([i.shipment,"Cost"])})),R.Lc(2,"add"),R.Wb(),R.Wb()}}const rt=function(){return["Amount","Tax_Amount","Total_Amount","Total_Tax","Total_Vnd"]},ot=function(){return["Volume","Tax","Ex_Rate","Currency"]},st=function(e,t,i,n){return{"text-right":e,"sticky-col":t,"sticky-col-2":i,"text-center":n}};function ct(e,t){if(1&e&&(R.Xb(0,"th",5),R.Xb(1,"span"),R.Lc(2),R.Wb(),R.Jc(3,at,3,0,"span",2),R.Wb()),2&e){const e=t.$implicit;R.Ic("width",e.width,"px"),R.pc("ngClass",R.uc(7,st,R.qc(5,rt).includes(e.name),"Type"==e.name,"Pay_In"==e.name,R.qc(6,ot).includes(e.name))),R.Db(2),R.Mc("Button"==e.name?"":e.name),R.Db(1),R.pc("ngIf","Button"==e.name)}}function lt(e,t){if(1&e&&(R.Xb(0,"tr"),R.Jc(1,ct,4,12,"th",4),R.Wb()),2&e){const e=R.jc();R.Db(1),R.pc("ngForOf",e.displayObj.table_setting)}}function ut(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().index;R.Ic("width",e.width,"px"),R.Db(1),R.Mc(t+1)}}function ht(e,t){if(1&e&&(R.Xb(0,"td",13),R.Lc(1),R.kc(2,"number"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",R.mc(2,3,t[e.value],"1.2-2")," ")}}function pt(e,t){if(1&e&&(R.Xb(0,"td"),R.Lc(1),R.kc(2,"date"),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",R.mc(2,3,t[e.value],"MM/dd/yyyy")," ")}}function bt(e,t){if(1&e&&(R.Xb(0,"td",14),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.Db(1),R.Nc(" ",t[e.value]," ")}}function mt(e,t){if(1&e){const e=R.Yb();R.Xb(0,"mat-icon",6),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3).$implicit,n=R.jc();return t.stopPropagation(),n.updateItem.emit([i,n.label])})),R.Lc(1,"edit"),R.Wb()}}function dt(e,t){if(1&e){const e=R.Yb();R.Xb(0,"mat-icon",17),R.fc("click",(function(t){R.Bc(e);const i=R.jc(3).$implicit,n=R.jc();return t.stopPropagation(),n.deleteItem.emit([i.id,n.label])})),R.Lc(1,"delete"),R.Wb()}}function ft(e,t){if(1&e&&(R.Xb(0,"td"),R.Jc(1,mt,2,0,"mat-icon",15),R.Jc(2,dt,2,0,"mat-icon",16),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc(2);R.Ic("width",e.width,"px"),R.Db(1),R.pc("ngIf",t.permission.edit),R.Db(1),R.pc("ngIf",t.permission.delete)}}function gt(e,t){if(1&e&&(R.Xb(0,"td",18),R.Lc(1," Cost "),R.Wb()),2&e){const e=R.jc().$implicit;R.Ic("width",e.width,"px")}}const vt=function(){return["Invoice_Number","Bank_Ref","Info","Total_Tax","Total_Vnd"]},yt=function(e,t){return{"text-truncate":e,"text-center":t}};function wt(e,t){if(1&e&&(R.Xb(0,"td",19),R.Lc(1),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc().$implicit;R.Ic("width",e.width,"px"),R.pc("ngClass",R.sc(6,yt,R.qc(4,vt).includes(e.name),R.qc(5,ot).includes(e.name))),R.Db(1),R.Mc(t[e.value])}}const xt=function(){return["Issue_Date","Pay_Date"]};function _t(e,t){if(1&e&&(R.Vb(0),R.Vb(1,7),R.Jc(2,ut,2,3,"td",8),R.Jc(3,ht,3,6,"td",9),R.Jc(4,pt,3,6,"td",8),R.Jc(5,bt,2,3,"td",10),R.Jc(6,ft,3,4,"td",8),R.Jc(7,gt,2,2,"td",11),R.Jc(8,wt,2,9,"td",12),R.Ub(),R.Ub()),2&e){const e=t.$implicit;R.Db(1),R.pc("ngSwitch",!0),R.Db(1),R.pc("ngSwitchCase","No"==e.name),R.Db(1),R.pc("ngSwitchCase",R.qc(7,rt).includes(e.name)),R.Db(1),R.pc("ngSwitchCase",R.qc(8,xt).includes(e.name)),R.Db(1),R.pc("ngSwitchCase","Pay_In"==e.name),R.Db(1),R.pc("ngSwitchCase","Button"==e.name),R.Db(1),R.pc("ngSwitchCase","Type"==e.name)}}function St(e,t){if(1&e&&(R.Xb(0,"tr"),R.Jc(1,_t,9,9,"ng-container",3),R.Wb()),2&e){const e=R.jc();R.Db(1),R.pc("ngForOf",e.displayObj.table_setting)}}let Dt=(()=>{class e{constructor(e,t,i){this.router=e,this.authService=t,this.commonService=i,this.createItem=new R.o,this.updateItem=new R.o,this.deleteItem=new R.o,this.editPanel=new R.o,this.displayedColumns=[],this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(n.g),R.Rb(z.a),R.Rb(_e.a))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-cost-table"]],inputs:{displayObj:"displayObj",header:"header",data:"data",shipment:"shipment",label:"label",permission:"permission"},outputs:{createItem:"createItem",updateItem:"updateItem",deleteItem:"deleteItem",editPanel:"editPanel"},decls:6,vars:4,consts:[[1,"content"],[1,"simple","cost-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"width","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["color","accent",1,"cursor-pointer",3,"click"],[3,"ngSwitch"],[3,"width",4,"ngSwitchCase"],["class","text-right",3,"width",4,"ngSwitchCase"],["class","sticky-col-2",3,"width",4,"ngSwitchCase"],["class","sticky-col",3,"width",4,"ngSwitchCase"],["class","h-44",3,"width","ngClass",4,"ngSwitchDefault"],[1,"text-right"],[1,"sticky-col-2"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"],[1,"sticky-col"],[1,"h-44",3,"ngClass"]],template:function(e,t){1&e&&(R.Xb(0,"div",0),R.Xb(1,"table",1),R.Xb(2,"thead"),R.Jc(3,lt,2,1,"tr",2),R.Wb(),R.Xb(4,"tbody"),R.Jc(5,St,2,1,"tr",3),R.Wb(),R.Wb(),R.Wb()),2&e&&(R.Db(1),R.Ic("width",t.displayObj.width,"px"),R.Db(2),R.pc("ngIf",t.header.item),R.Db(2),R.pc("ngForOf",t.data))},directives:[V.t,V.s,V.q,me.a,h.a,V.x,V.y,V.z],pipes:[V.g,V.f],styles:["shipment-cost-table .content{border:1px solid;margin-bottom:4px}shipment-cost-table .content .cost-table{font-size:12px!important}shipment-cost-table .content .cost-table td,shipment-cost-table .content .cost-table th{padding:8px!important;background-color:#fff}shipment-cost-table .content .cost-table .sticky-col{width:42px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}shipment-cost-table .content .cost-table .sticky-col-2{width:52px;position:sticky;position:-webkit-sticky;right:40px;background-color:#ffcf9c;z-index:20}"],encapsulation:2,data:{animation:A.a}}),e})();function Ct(e,t){1&e&&(R.Xb(0,"div",11),R.Xb(1,"span",12),R.Lc(2),R.Wb(),R.Wb()),2&e&&(R.Db(2),R.Mc("No Shipment"))}function jt(e,t){if(1&e&&(R.Xb(0,"mat-chip",14),R.Xb(1,"span",15),R.Lc(2),R.kc(3,"number"),R.Wb(),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Db(2),R.Oc("",R.mc(3,2,t.total.revenue[e],"1.2-2")," ",e,"")}}function kt(e,t){if(1&e&&(R.Vb(0),R.Jc(1,jt,4,5,"mat-chip",13),R.Ub()),2&e){const e=t.$implicit,i=R.jc();R.Db(1),R.pc("ngIf",i.total.revenue[e]>0)}}function Ot(e,t){if(1&e&&(R.Xb(0,"mat-chip",14),R.Xb(1,"span",15),R.Lc(2),R.kc(3,"number"),R.Wb(),R.Wb()),2&e){const e=R.jc().$implicit,t=R.jc();R.Db(2),R.Oc("",R.mc(3,2,t.total.cost[e],"1.2-2")," ",e,"")}}function Wt(e,t){if(1&e&&(R.Vb(0),R.Jc(1,Ot,4,5,"mat-chip",13),R.Ub()),2&e){const e=t.$implicit,i=R.jc();R.Db(1),R.pc("ngIf",i.total.cost[e]>0)}}function Xt(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div"),R.Xb(1,"shipment-revenue-table",19),R.fc("editPanel",(function(t){R.Bc(e);const i=R.jc().index;return R.jc().editPanel(t,i)}))("createItem",(function(t){return R.Bc(e),R.jc(2).createItemDetail.emit(t)}))("updateItem",(function(t){return R.Bc(e),R.jc(2).updateItemDetail.emit(t)}))("deleteItem",(function(t){return R.Bc(e),R.jc(2).deleteItemDetail.emit(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc().$implicit,t=R.jc();R.Db(1),R.pc("shipment",e)("label","Revenue")("header",t.header)("permission",t.permission)("displayObj",t.displayObjRevenue)("data",e.revenue)}}function It(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div"),R.Xb(1,"shipment-cost-table",20),R.fc("createItem",(function(t){return R.Bc(e),R.jc(2).createItemDetail.emit(t)}))("editPanel",(function(t){R.Bc(e);const i=R.jc().index;return R.jc().editPanel(t,i)}))("updateItem",(function(t){return R.Bc(e),R.jc(2).updateItemDetail.emit(t)}))("deleteItem",(function(t){return R.Bc(e),R.jc(2).deleteItemDetail.emit(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc().$implicit,t=R.jc();R.Db(1),R.pc("shipment",e)("label","Cost")("header",t.header)("permission",t.permission)("displayObj",t.displayObjCost)("data",e.cost)}}const qt=function(e,t){return[e,t]};function At(e,t){if(1&e){const e=R.Yb();R.Xb(0,"div",16),R.Xb(1,"div"),R.Xb(2,"shipment-detail-table",17),R.fc("updateItem",(function(t){return R.Bc(e),R.jc().updateItemDetail.emit(t)}))("editHeader",(function(t){return R.Bc(e),R.jc().editHeader.emit(t)}))("goDetails",(function(t){return R.Bc(e),R.jc().goDetails.emit(t)}))("editPanel",(function(i){R.Bc(e);const n=t.index;return R.jc().editPanel(i,n)})),R.Wb(),R.Wb(),R.Jc(3,Xt,2,6,"div",18),R.Jc(4,It,2,6,"div",18),R.Wb()}if(2&e){const e=t.$implicit,i=t.index,n=R.jc();R.Db(2),R.pc("label","Detail")("header",n.header)("permission",n.permission)("number",R.sc(8,qt,i+1,n.shipments.length))("displayObj",n.displayObjDetail)("data",e),R.Db(1),R.pc("ngIf",n.displayObjDiv.view_div.includes("Revenue")),R.Db(1),R.pc("ngIf",n.displayObjDiv.view_div.includes("Cost"))}}let Tt=(()=>{class e{constructor(e,t,i){this._activatedRoute=e,this.authService=t,this._location=i,this.createItemDetail=new R.o,this.updateItemDetail=new R.o,this.deleteItemDetail=new R.o,this.editHeader=new R.o,this.goDetails=new R.o,this.height=560,this.editLabel="Table",this.shipmentId=0,this.arrCurrency=[],this.total={revenue:{},cost:{}},this._unsubscribeAll=new I.a}ngOnInit(){this.authService.windowSizeChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.width<600?e.height:e.height-64-64-16}),this.authService.changeScreen.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{let t=e?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight+t:this.authService.screenHeight-64-64-16+t}),this.getTotal()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(e){e.shipments&&e.shipments.currentValue&&(this.shipments=e.shipments.currentValue,this.getTotal())}createItem(e){e.push(this.shipmentId),this.createItemDetail.emit(e)}getTotal(){this.arrCurrency=[],this.total={revenue:{},cost:{}},this.shipments.map(e=>{e.revenue.map(e=>{this.arrCurrency.includes(e.currency_code)||(this.arrCurrency.push(e.currency_code),this.total.revenue[e.currency_code]=0,this.total.cost[e.currency_code]=0),this.total.revenue[e.currency_code]+=e.total_amount+e.total_tax}),e.cost.map(e=>{this.arrCurrency.includes(e.currency_code)||(this.arrCurrency.push(e.currency_code),this.total.revenue[e.currency_code]=0,this.total.cost[e.currency_code]=0),this.total.cost[e.currency_code]+=e.total_amount+e.total_tax})}),this.arrCurrency.sort()}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(n.a),R.Rb(z.a),R.Rb(V.n))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-sheet-table"]],inputs:{shipments:"shipments",header:"header",displayObjRevenue:"displayObjRevenue",displayObjCost:"displayObjCost",displayObjDetail:"displayObjDetail",displayObjDiv:"displayObjDiv",newExpand:"newExpand",permission:"permission"},outputs:{createItemDetail:"createItemDetail",updateItemDetail:"updateItemDetail",deleteItemDetail:"deleteItemDetail",editHeader:"editHeader",goDetails:"goDetails"},features:[R.Bb()],decls:21,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"shipment-sheet-table"],["fxLayout","row",1,"h-104"],["fxFlex","50"],[1,"group","mb-12","mt-12"],[1,"p-8","w-100-p"],["fxLayout","row","fxLayoutAlign","start center",2,"overflow","auto"],[2,"height","60px"],[4,"ngFor","ngForOf"],["autosize","","fxLayout","column",1,"content"],["class","mat-elevation-z4 mb-4",4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],["color","accent","selected","true",4,"ngIf"],["color","accent","selected","true"],[2,"white-space","nowrap"],[1,"mat-elevation-z4","mb-4"],[3,"label","header","permission","number","displayObj","data","updateItem","editHeader","goDetails","editPanel"],[4,"ngIf"],[3,"shipment","label","header","permission","displayObj","data","editPanel","createItem","updateItem","deleteItem"],[3,"shipment","label","header","permission","displayObj","data","createItem","editPanel","updateItem","deleteItem"]],template:function(e,t){1&e&&(R.Jc(0,Ct,3,1,"div",0),R.Xb(1,"div",1),R.Xb(2,"div",2),R.Xb(3,"div",3),R.Xb(4,"div",4),R.Xb(5,"h2"),R.Lc(6,"Total Revenue"),R.Wb(),R.Xb(7,"div",5),R.Xb(8,"div",6),R.Xb(9,"mat-chip-list",7),R.Jc(10,kt,2,1,"ng-container",8),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Xb(11,"div",3),R.Xb(12,"div",4),R.Xb(13,"h2"),R.Lc(14,"Total Cost"),R.Wb(),R.Xb(15,"div",5),R.Xb(16,"div",6),R.Xb(17,"mat-chip-list",7),R.Jc(18,Wt,2,1,"ng-container",8),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Xb(19,"cdk-virtual-scroll-viewport",9),R.Jc(20,At,5,11,"div",10),R.Wb(),R.Wb()),2&e&&(R.pc("ngIf",0===t.shipments.length),R.Db(1),R.Ic("height",t.height,"px"),R.Db(9),R.pc("ngForOf",t.arrCurrency),R.Db(8),R.pc("ngForOf",t.arrCurrency),R.Db(1),R.Ic("height",t.height-104,"px"),R.Db(1),R.pc("cdkVirtualForOf",t.shipments))},directives:[V.t,Z.d,Z.b,Z.c,_.c,V.s,we.e,xe.a,we.d,Z.e,_.a,Pe,nt,Dt],pipes:[V.g],styles:["shipment-sheet-table .no-shipments-text{font-size:24px;font-weight:300}shipment-sheet-table .group{margin-left:0;margin-right:16px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-table .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:11px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54);z-index:20}shipment-sheet-table .group .mat-chip-list-wrapper{flex-wrap:nowrap;padding-top:16px}shipment-sheet-table cdk-virtual-scroll-viewport{width:100%}"],encapsulation:2,data:{animation:A.a}}),e})();var Pt=i("JX91"),Rt=i("lJxs");const Lt=["formDirective"];function Ft(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.short_name," ")}}function Bt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.short_name," ")}}function Nt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Mc(e.name)}}function zt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.name," ")}}function Vt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.name," ")}}function Mt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.name," ")}}function Jt(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.short_name," ")}}function Et(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e.id),R.Db(1),R.Nc(" ",e.short_name," ")}}function Ut(e,t){if(1&e&&(R.Xb(0,"mat-option",38),R.Lc(1),R.Wb()),2&e){const e=t.$implicit;R.pc("value",e),R.Db(1),R.Mc(e)}}const $t=function(){return[null,1,2,3,4,5,6,7,8,9,10,11,12]};let Ht=(()=>{class e{constructor(e,t,i,n){this.formBuilder=e,this.authService=t,this.commonService=i,this.datePipe=n,this.searchSelShipment=new R.o,this.year=(new Date).getFullYear(),this.form=this.formBuilder.group({customer:[null],supplier:[null],owner:[null],country:[null],pay_party:[null],issue_party:[null],pol:[null],pod:[null],month:[null],year:[this.year],date_from:[null],date_to:[null],button:[null],type:[0]}),this.now=new Date,this.height=560,this._unsubscribeAll=new I.a}ngOnInit(){switch(this.form.patchValue(this.filterData),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}this.authService.windowSizeChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-12}),this.authService.changeScreen.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12}),this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"partner_name",this.customer):[])),this.filteredSupplier=this.form.controls.supplier.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"partner_name",this.agent):[])),this.filteredPayparty=this.form.controls.pay_party.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"partner_name",this.customer):[])),this.filteredIssueparty=this.form.controls.issue_party.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"partner_name",this.supplier):[])),this.filteredCountry=this.form.controls.country.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"name",this.country):[])),this.filteredPol=this.form.controls.pol.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.filteredPod=this.form.controls.pod.valueChanges.pipe(Object(Pt.a)(""),Object(Rt.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Rt.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.form.controls.button.valueChanges.subscribe(e=>{e&&this.getMonthTime(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(e){e.filterData&&(e.filterData.currentValue||null==e.filterData.currentValue)&&(this.filterData=e.filterData.currentValue,this.form.patchValue(this.filterData))}getMonthTime(e){let t,i,n=this.form.controls.year.value,a=this.form.controls.month.value,r=new Date,o=r.getMonth(),s=r.getFullYear();e&&"M"!=e?"Y"==e?(t=new Date(n,a?a-1:0,1),i=new Date(n,a||12,0)):"TM"==e?(this.form.controls.month.setValue(o+1),t=new Date(s,o,1),i=new Date(s,o+1,0)):"TY"==e&&(this.form.controls.month.setValue(null),t=new Date(s,0,1),i=new Date(s,12,0)):n&&(t=new Date(n,a?a-1:0,1),i=new Date(n,a||12,0)),this.form.controls.date_from.setValue(t),this.form.controls.date_to.setValue(i)}setCheck(e){e.check=!e.check}resetForm(){switch(this.searchNgForm.resetForm(),this.form.controls.type.setValue(0),this.form.controls.year.setValue(this.year),this.module){case"import-haiphong":this.form.controls.pod.setValue(3),this.type="import";break;case"import-hochiminh":this.form.controls.pod.setValue(4),this.type="import";break;case"export-haiphong":this.form.controls.pol.setValue(3),this.type="export";break;case"export-hochiminh":this.form.controls.pol.setValue(4),this.type="export";break;case"import-singapore":this.form.controls.pod.setValue(12),this.type="import"}}onSearchFormSubmit(e){if("string"==typeof e.customer&&(this.form.controls.customer.setValue(null),e.customer=null),"string"==typeof e.supplier&&(this.form.controls.supplier.setValue(null),e.supplier=null),"string"==typeof e.country&&(this.form.controls.country.setValue(null),e.country=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),e.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),e.pod=null),"string"==typeof e.pay_party&&(this.form.controls.pay_party.setValue(null),e.pay_party=null),"string"==typeof e.issue_party&&(this.form.controls.issue_party.setValue(null),e.issue_party=null),e.valid){let t=JSON.parse(JSON.stringify(e.value));t.date_from=t.date_from?this.datePipe.transform(t.date_from,"yyyy-MM-dd"):null,t.date_to=t.date_to?this.datePipe.transform(t.date_to,"yyyy-MM-dd"):null,this.searchSelShipment.emit(t)}}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(X.d),R.Rb(z.a),R.Rb(_e.a),R.Rb(V.f))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-sheet-sidebar"]],viewQuery:function(e,t){var i;1&e&&R.Sc(Lt,!0),2&e&&R.wc(i=R.gc())&&(t.searchNgForm=i.first)},inputs:{module:"module",users:"users",customer:"customer",supplier:"supplier",agent:"agent",country:"country",seaport:"seaport",filterData:"filterData"},outputs:{searchSelShipment:"searchSelShipment"},features:[R.Bb()],decls:136,vars:61,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","supplier","matInput","","formControlName","supplier",3,"matAutocomplete"],["autoSup","matAutocomplete"],["formControlName","owner"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete","readonly"],["autoPOL","matAutocomplete"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete","readonly"],["autoPOD","matAutocomplete"],["inputCheck","","aria-label","country","matInput","","formControlName","country",3,"matAutocomplete"],["autoCountry","matAutocomplete"],["inputCheck","","aria-label","pay_party","matInput","","formControlName","pay_party",3,"matAutocomplete"],["autoPay","matAutocomplete"],["inputCheck","","aria-label","issue_party","matInput","","formControlName","issue_party",3,"matAutocomplete"],["autoIssue","matAutocomplete"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","button"],["value","TM",1,"mb-12"],["value","TY",1,"mb-12"],["fxLayout","column","fxLayoutAlign","start start","formControlName","type"],[1,"mb-12",3,"value"],["formControlName","month",3,"selectionChange"],["formControlName","year",3,"selectionChange"],[3,"value"],["inputCheck","","matInput","","name","date_from","formControlName","date_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["inputCheck","","matInput","","name","date_to","formControlName","date_to",3,"matDatepicker","change"],["dateTo",""]],template:function(e,t){if(1&e&&(R.Xb(0,"form",0,1),R.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form)})),R.Xb(2,"div",2),R.Xb(3,"div",3),R.Xb(4,"button",4),R.Lc(5," Submit "),R.Wb(),R.Xb(6,"button",5),R.fc("click",(function(e){return t.resetForm()})),R.Lc(7," Reset "),R.Wb(),R.Wb(),R.Wb(),R.Xb(8,"div",6),R.Xb(9,"div",7),R.Xb(10,"div",8),R.Xb(11,"div",9),R.Xb(12,"div",10),R.Xb(13,"mat-form-field",11),R.Xb(14,"mat-label"),R.Lc(15,"Customer"),R.Wb(),R.Sb(16,"input",12),R.Xb(17,"mat-autocomplete",13,14),R.Jc(19,Ft,2,2,"mat-option",15),R.kc(20,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(21,"div",16),R.Xb(22,"mat-form-field",11),R.Xb(23,"mat-label"),R.Lc(24,"Agent"),R.Wb(),R.Sb(25,"input",17),R.Xb(26,"mat-autocomplete",13,18),R.Jc(28,Bt,2,2,"mat-option",15),R.kc(29,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(30,"div",16),R.Xb(31,"mat-form-field",11),R.Xb(32,"mat-label"),R.Lc(33,"Owner"),R.Wb(),R.Xb(34,"mat-select",19),R.Jc(35,Nt,2,2,"mat-option",15),R.Wb(),R.Wb(),R.Wb(),R.Xb(36,"div",16),R.Xb(37,"mat-form-field",11),R.Xb(38,"mat-label"),R.Lc(39,"POL"),R.Wb(),R.Sb(40,"input",20),R.Xb(41,"mat-autocomplete",13,21),R.Jc(43,zt,2,2,"mat-option",15),R.kc(44,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(45,"div",16),R.Xb(46,"mat-form-field",11),R.Xb(47,"mat-label"),R.Lc(48,"POD"),R.Wb(),R.Sb(49,"input",22),R.Xb(50,"mat-autocomplete",13,23),R.Jc(52,Vt,2,2,"mat-option",15),R.kc(53,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(54,"div",16),R.Xb(55,"mat-form-field",11),R.Xb(56,"mat-label"),R.Lc(57,"Payment center"),R.Wb(),R.Sb(58,"input",24),R.Xb(59,"mat-autocomplete",13,25),R.Jc(61,Mt,2,2,"mat-option",15),R.kc(62,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(63,"div",16),R.Xb(64,"mat-form-field",11),R.Xb(65,"mat-label"),R.Lc(66,"Pay party"),R.Wb(),R.Sb(67,"input",26),R.Xb(68,"mat-autocomplete",13,27),R.Jc(70,Jt,2,2,"mat-option",15),R.kc(71,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(72,"div",16),R.Xb(73,"mat-form-field",11),R.Xb(74,"mat-label"),R.Lc(75,"Issue party"),R.Wb(),R.Sb(76,"input",28),R.Xb(77,"mat-autocomplete",13,29),R.Jc(79,Et,2,2,"mat-option",15),R.kc(80,"async"),R.Wb(),R.Wb(),R.Wb(),R.Xb(81,"div",30),R.Xb(82,"h2"),R.Lc(83,"Date option"),R.Wb(),R.Xb(84,"mat-radio-group",31),R.Xb(85,"mat-radio-button",32),R.Lc(86,"This month"),R.Wb(),R.Xb(87,"mat-radio-button",33),R.Lc(88,"This year"),R.Wb(),R.Wb(),R.Wb(),R.Xb(89,"div",30),R.Xb(90,"h2"),R.Lc(91,"Date type"),R.Wb(),R.Xb(92,"mat-radio-group",34),R.Xb(93,"mat-radio-button",35),R.Lc(94,"Depart time"),R.Wb(),R.Xb(95,"mat-radio-button",35),R.Lc(96,"Arrive time"),R.Wb(),R.Wb(),R.Wb(),R.Xb(97,"div",16),R.Xb(98,"mat-form-field",11),R.Xb(99,"mat-label"),R.Lc(100,"Month"),R.Wb(),R.Xb(101,"mat-select",36),R.fc("selectionChange",(function(e){return t.getMonthTime("M")})),R.Jc(102,Ut,2,2,"mat-option",15),R.Wb(),R.Wb(),R.Wb(),R.Xb(103,"div",16),R.Xb(104,"mat-form-field",11),R.Xb(105,"mat-label"),R.Lc(106,"Year"),R.Wb(),R.Xb(107,"mat-select",37),R.fc("selectionChange",(function(e){return t.getMonthTime("Y")})),R.Xb(108,"mat-option",38),R.Lc(109),R.Wb(),R.Xb(110,"mat-option",38),R.Lc(111),R.Wb(),R.Xb(112,"mat-option",38),R.Lc(113),R.Wb(),R.Xb(114,"mat-option",38),R.Lc(115),R.Wb(),R.Xb(116,"mat-option",38),R.Lc(117),R.Wb(),R.Xb(118,"mat-option",38),R.Lc(119),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Xb(120,"div",16),R.Xb(121,"mat-form-field",11),R.Xb(122,"mat-label"),R.Lc(123,"Date from"),R.Wb(),R.Xb(124,"input",39),R.fc("change",(function(e){return t.commonService.setDateStr(e)})),R.Wb(),R.Sb(125,"mat-datepicker-toggle",40),R.Sb(126,"mat-datepicker",null,41),R.Wb(),R.Wb(),R.Xb(128,"div",16),R.Xb(129,"mat-form-field",11),R.Xb(130,"mat-label"),R.Lc(131,"Date to"),R.Wb(),R.Xb(132,"input",42),R.fc("change",(function(e){return t.commonService.setDateStr(e)})),R.Wb(),R.Sb(133,"mat-datepicker-toggle",40),R.Sb(134,"mat-datepicker",null,43),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()),2&e){const e=R.xc(18),i=R.xc(27),n=R.xc(42),a=R.xc(51),r=R.xc(60),o=R.xc(69),s=R.xc(78),c=R.xc(127),l=R.xc(135);R.pc("formGroup",t.form),R.Db(8),R.Ic("height",t.height,"px"),R.Db(8),R.pc("matAutocomplete",e),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),R.Db(2),R.pc("ngForOf",R.lc(20,46,t.filteredCustomer)),R.Db(6),R.pc("matAutocomplete",i),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.agent)),R.Db(2),R.pc("ngForOf",R.lc(29,48,t.filteredSupplier)),R.Db(7),R.pc("ngForOf",t.users),R.Db(5),R.pc("matAutocomplete",n)("readonly","export"==t.type),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),R.Db(2),R.pc("ngForOf",R.lc(44,50,t.filteredPol)),R.Db(6),R.pc("matAutocomplete",a)("readonly","import"==t.type),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),R.Db(2),R.pc("ngForOf",R.lc(53,52,t.filteredPod)),R.Db(6),R.pc("matAutocomplete",r),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.country)),R.Db(2),R.pc("ngForOf",R.lc(62,54,t.filteredCountry)),R.Db(6),R.pc("matAutocomplete",o),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),R.Db(2),R.pc("ngForOf",R.lc(71,56,t.filteredPayparty)),R.Db(6),R.pc("matAutocomplete",s),R.Db(1),R.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.supplier)),R.Db(2),R.pc("ngForOf",R.lc(80,58,t.filteredIssueparty)),R.Db(14),R.pc("value",0),R.Db(2),R.pc("value",1),R.Db(7),R.pc("ngForOf",R.qc(60,$t)),R.Db(6),R.pc("value",t.year-4),R.Db(1),R.Mc(t.year-4),R.Db(1),R.pc("value",t.year-3),R.Db(1),R.Mc(t.year-3),R.Db(1),R.pc("value",t.year-2),R.Db(1),R.Mc(t.year-2),R.Db(1),R.pc("value",t.year-1),R.Db(1),R.Mc(t.year-1),R.Db(1),R.pc("value",t.year),R.Db(1),R.Mc(t.year),R.Db(1),R.pc("value",t.year+1),R.Db(1),R.Mc(t.year+1),R.Db(5),R.pc("matDatepicker",c),R.Db(1),R.pc("for",c),R.Db(7),R.pc("matDatepicker",l),R.Db(1),R.pc("for",l)}},directives:[X.A,X.q,X.h,Z.d,Z.c,c.b,Z.b,ee.a,u.c,u.f,b.b,X.b,o.c,X.p,X.g,o.a,V.s,d.a,f.b,f.a,C.n,s.b,s.d,u.h,s.a],pipes:[V.b],styles:["shipment-sheet-sidebar{border-right:1px solid #a3a3a3}shipment-sheet-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-sheet-sidebar .navbar-scroll-container{background:#fff!important}shipment-sheet-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}shipment-sheet-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})();function Gt(e,t){if(1&e){const e=R.Yb();R.Xb(0,"fuse-sidebar",10),R.Xb(1,"shipment-sheet-sidebar",11),R.fc("searchSelShipment",(function(t){return R.Bc(e),R.jc().searchSelShipment(t)})),R.Wb(),R.Wb()}if(2&e){const e=R.jc();R.Db(1),R.pc("filterData",e.filterData)("customer",e.customer)("supplier",e.supplier)("agent",e.agent)("country",e.country)("seaport",e.seaport)("users",e.users)}}const Yt=function(e){return{"current-shipment-selected":e}};let Kt=(()=>{class e{constructor(e,t,i,n,a,r,o,s,c,l){if(this._fuseSidebarService=e,this.shipmentSheetService=t,this.revenueConfigService=i,this.costConfigService=n,this.detailConfigService=a,this.shipmentConfigService=r,this.router=o,this.authService=s,this._matDialog=c,this.datePipe=l,this.header={shipment:!0,item:!0},this.currentShipment=null,this.sidebarPanel=!0,this.newExpand=!1,this.height=480,this.searchInput=new X.e(""),this._unsubscribeAll=new I.a,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.filterData=this.shipmentSheetService.sheetCurrenSearch?this.shipmentSheetService.sheetCurrenSearch:JSON.parse(JSON.stringify(this.shipmentSheetService.defaultSearch)),this.authService.checkResolve()&&this.getShipments(),this.authService.windowSizeChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.width<600?e.height-64-12-64:e.height-64-64-64-16-12-64}),this.authService.changeScreen.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{let t=e?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight-64-12-64+t:this.authService.screenHeight-64-64-64-16-12-64+t}),this.shipmentSheetService.onSelShipmentSheetChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e}),this.shipmentSheetService.onDataChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.supplier=this.shipmentSheetService.supplier,this.customer=this.shipmentSheetService.customer,this.agent=this.shipmentSheetService.agent,this.country=this.shipmentSheetService.country,this.seaport=this.shipmentSheetService.seaport,this.users=this.shipmentSheetService.user}),this.shipmentSheetService.onDataItemChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.price=this.shipmentSheetService.price,this.unit=this.shipmentSheetService.unit,this.currency=this.shipmentSheetService.currency,this.country=this.shipmentSheetService.country,this.users=this.shipmentSheetService.user}),this.revenueConfigService.config.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.displayObjRevenue=e}),this.costConfigService.config.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.displayObjCost=e}),this.detailConfigService.config.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.displayObjDetail=e}),this.shipmentConfigService.config.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.displayObjDiv=e}),this.shipmentSheetService.onVoyageChanged.pipe(Object(q.a)(this._unsubscribeAll)).subscribe(e=>{this.voyage=this.shipmentSheetService.voyage})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getShipments(){this.authService.onRequestChanged.next(!0),this.shipmentSheetService.getSelShipmentDetailsList(this.filterData).then(e=>{this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Error load data")})}deleteShipment(e){confirm("Do you want to delete this shipment?")&&(this.authService.onRequestChanged.next(!0),this.shipmentSheetService.deleteSelShipment(e).then(e=>{this.authService.onRequestChanged.next(!1),1==e.affectedRows?(alert("delete shipment success"),this.getShipments()):(console.error(e),alert("Error: No change"))}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Error: Server error")}))}deselectCurrentShipment(){}toggleSelectAll(){}selectShipments(e,t){}deselectShipments(){}toggleTagOnSelectedShipments(e){}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}selectShipment(e){this.shipmentSheetService.getSelShipmentById(e.id).then(e=>{this.currentShipment=e}).catch(e=>{console.error(e),alert("error load data")})}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.shipmentSheetService)}searchFilter(e){this.shipmentSheetService.onSearchTextChanged.next(e)}searchSelShipment(e){this.filterData=this.shipmentSheetService.sheetCurrenSearch=e,this.getShipments()}clearShipment(e){this.currentShipment=null}changeSetting(e){console.log(e);let t=e[0];"View"==t&&(e[1].div.map(e=>{for(var t in e)this.displayObjDiv.div.find(e=>e.name==t).view=e[t]}),this.shipmentConfigService.config=this.displayObjDiv.div),"Detail table"==t&&(e[1].column.map(e=>{for(var t in e)this.displayObjDetail.column.find(e=>e.name==t).view=e[t]}),this.detailConfigService.config=this.displayObjDetail.column),"Revenue table"==t&&(console.log(this.displayObjRevenue),e[1].column.map(e=>{for(var t in e)this.displayObjRevenue.column.find(e=>e.name==t).view=e[t]}),this.revenueConfigService.config=this.displayObjRevenue.column),"Cost table"==t&&(e[1].column.map(e=>{for(var t in e)this.displayObjCost.column.find(e=>e.name==t).view=e[t]}),this.costConfigService.config=this.displayObjCost.column)}createItem(e){let t=e[0],i=e[1];"Revenue"==i&&(this.partner=this.customer),"Cost"==i&&(this.partner=this.supplier),this.dialogRef=this._matDialog.open(P.a,{panelClass:"shipment-detail-modal-dialog",data:{label:"Add "+i,shipmentId:t.id,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,shipment:t,data:null}}),this.dialogRef.afterClosed().subscribe(e=>{if(e)switch(this.authService.onRequestChanged.next(!0),i){case"Revenue":this.shipmentSheetService.createSelRevenue(e[2]).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0?this.getShipments():(console.error(e),alert("Error create item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("create item error")});break;case"Cost":this.shipmentSheetService.createSelCost(e[2]).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0?this.getShipments():(console.error(e),alert("Error create item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("create item error")})}})}updateItem(e){let t=e[0],i=e[1];"Revenue"==i&&(this.partner=this.customer),"Cost"==i&&(this.partner=this.supplier),this.dialogRef=this._matDialog.open(P.a,{panelClass:"shipment-detail-modal-dialog",data:{label:"Edit "+i,shipmentId:t.shipment,price:this.price,currency:this.currency,partner:this.partner,country:this.country,users:this.users,data:t}}),this.dialogRef.afterClosed().subscribe(e=>{if(e)switch(this.authService.onRequestChanged.next(!0),i){case"Revenue":this.shipmentSheetService.updateSelRevenue(e[2]).then(e=>{this.authService.onRequestChanged.next(!1),e.affectedRows>0?this.getShipments():(console.error(e),alert("Error update item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("update item error")});break;case"Cost":this.shipmentSheetService.updateSelCost(e[2]).then(e=>{this.authService.onRequestChanged.next(!1),e.affectedRows>0?this.getShipments():(console.error(e),alert("Error update item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("update item error")})}})}deleteItem(e){let t=e[0],i=e[1];if(confirm("Do you want to delete this item?"))switch(this.authService.onRequestChanged.next(!0),i){case"Revenue":this.shipmentSheetService.deleteSelRevenue(t).then(e=>{this.authService.onRequestChanged.next(!1),1==e.affectedRows?this.getShipments():(console.error(e),alert("Error delete item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("delete item error")});break;case"Cost":this.shipmentSheetService.deleteSelCost(t).then(e=>{this.authService.onRequestChanged.next(!1),1==e.affectedRows?this.getShipments():(console.error(e),alert("Error delete item"),this.getShipments())}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("delete item error")})}}openShipmentModal(e){this.dialogRef=this._matDialog.open(T.a,{panelClass:"shipment-list2-modal-dialog",data:{label:"Add shipment",customer:this.customer,agent:this.agent,seaport:this.seaport,user:this.users,voyage:this.voyage,permission:this.permission}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.shipmentSheetService.createSelShipment(e).then(e=>{this.authService.onRequestChanged.next(!1),e.createShipment.insertId>0?this.router.navigate(["/apps/"+this.shipmentSheetService.module+"/shipment/detail/"+e.createShipment.insertId+"/soa"]):console.error(e)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e)}))})}goShipmentList(e){this.router.navigate(["/apps/"+this.shipmentSheetService.module+"/shipment/"+e])}editHeader(e){this.header=e}goDetails(e){this.router.navigate(["/apps/"+this.shipmentSheetService.module+"/shipment/detail/"+e+"/soa"])}}return e.\u0275fac=function(t){return new(t||e)(R.Rb(L.a),R.Rb(M),R.Rb($),R.Rb(H),R.Rb(G),R.Rb(Y),R.Rb(n.g),R.Rb(z.a),R.Rb(g.b),R.Rb(V.f))},e.\u0275cmp=R.Lb({type:e,selectors:[["shipment-sheet"]],decls:10,vars:18,consts:[["id","shipment-sheet",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-sheet-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","shipment-sheet-setting","position","right",1,"sidebar"],[1,"content"],[3,"displayObjDetail","displayObjDiv","displayObjRevenue","displayObjCost","changeSetting"],[1,"center","mr-0","ml-0"],[3,"sidebarName","currentShipment","showHideBar","refreshPage","toggleSidebar","newShipment","goShipmentList","searchFilter"],[1,"content-card",2,"border","none","border-radius","0",3,"ngClass"],["fxFlexAlign","row",1,"content","ml-8","mt-8","mb-8","mr-0"],["fusePerfectScrollbar","",3,"shipments","header","permission","displayObjRevenue","displayObjCost","displayObjDetail","displayObjDiv","newExpand","updateItemDetail","createItemDetail","deleteItemDetail","editHeader","goDetails"],["name","shipment-sheet-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"filterData","customer","supplier","agent","country","seaport","users","searchSelShipment"]],template:function(e,t){1&e&&(R.Xb(0,"div",0),R.Jc(1,Gt,2,7,"fuse-sidebar",1),R.Xb(2,"fuse-sidebar",2),R.Xb(3,"div",3),R.Xb(4,"shipment-sheet-setting",4),R.fc("changeSetting",(function(e){return t.changeSetting(e)})),R.Wb(),R.Wb(),R.Wb(),R.Xb(5,"div",5),R.Xb(6,"shipment-sheet-header",6),R.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("newShipment",(function(e){return t.openShipmentModal(e)}))("goShipmentList",(function(e){return t.goShipmentList(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),R.Wb(),R.Xb(7,"div",7),R.Xb(8,"div",8),R.Xb(9,"shipment-sheet-table",9),R.fc("updateItemDetail",(function(e){return t.updateItem(e)}))("createItemDetail",(function(e){return t.createItem(e)}))("deleteItemDetail",(function(e){return t.deleteItem(e)}))("editHeader",(function(e){return t.editHeader(e)}))("goDetails",(function(e){return t.goDetails(e)})),R.Wb(),R.Wb(),R.Wb(),R.Wb(),R.Wb()),2&e&&(R.Db(1),R.pc("ngIf",t.sidebarPanel),R.Db(3),R.pc("displayObjDetail",t.displayObjDetail)("displayObjDiv",t.displayObjDiv)("displayObjRevenue",t.displayObjRevenue)("displayObjCost",t.displayObjCost),R.Db(2),R.pc("sidebarName","shipment-sheet-sidebar")("currentShipment",t.currentShipment),R.Db(1),R.pc("ngClass",R.rc(16,Yt,t.currentShipment)),R.Db(2),R.pc("shipments",t.shipments)("header",t.header)("permission",t.permission)("displayObjRevenue",t.displayObjRevenue)("displayObjCost",t.displayObjCost)("displayObjDetail",t.displayObjDetail)("displayObjDiv",t.displayObjDiv)("newExpand",t.newExpand))},directives:[K.a,V.t,Q.a,pe,ye,V.q,me.a,Z.a,Tt,ee.a,Ht],styles:["shipment-sheet{width:100%}shipment-sheet .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){shipment-sheet .center .content-card shipment-list{border-right:0}shipment-sheet .center .content-card shipment-details,shipment-sheet .center .content-card shipment-list{-webkit-box-flex:1;flex:1 0 100%}shipment-sheet .center .content-card shipment-details{display:none!important}shipment-sheet .center .content-card.current-shipment-selected .toolbar{padding-left:16px!important}shipment-sheet .center .content-card.current-shipment-selected .content shipment-list,shipment-sheet .center .content-card.current-shipment-selected .toolbar .shipment-selection{display:none!important}shipment-sheet .center .content-card.current-shipment-selected .content shipment-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:A.a}}),e})();var Qt=i("MutI"),Zt=i("IOBc");let ei=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,k.k,l.b,C.t,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),ti=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),ii=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),ni=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),ai=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),ri=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e]]}),e})(),oi=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[n.k,c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e,p.b]]}),e})(),si=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},imports:[[n.k,c.c,u.e,h.b,b.c,m.c,v.b,y.b,C.t,Qt.c,k.k,l.b,Qt.c,r.b,a.a,o.b,s.c,d.b,f.c,_.e,Zt.a,we.g,xe.b,ei,ti,ii,ni,ai,ri,oi]]}),e})();var ci=i("u+kU");let li=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"correct_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),ui=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"pay_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),hi=(()=>{class e{constructor(e,t){this._router=e,this._platform=t,this._defaultConfig=[{name:"No",value:null,column:null,type:null,required:!1,width:40,view:!0},{name:"Price",value:"price_code",column:"price",type:"text",required:!0,width:130,view:!0},{name:"Unit",value:"unit_code",column:null,type:"text",required:!1,width:50,view:!0},{name:"Volume",value:"volume",column:"volume",type:"number",required:!0,width:50,view:!0},{name:"Amount",value:"amount",column:"amount",type:"number",required:!0,width:100,view:!0},{name:"Tax",value:"tax",column:"tax",type:"number",required:!0,width:40,view:!0},{name:"Tax_Amount",value:"tax_amount",column:"tax_amount",type:"number",required:!0,width:100,view:!0},{name:"Total_Amount",value:"total_amount",column:null,type:"text",required:!1,width:120,view:!0},{name:"Total_Tax",value:"total_tax",column:null,type:"text",required:!1,width:92,view:!0},{name:"Currency",value:"currency_code",column:"currency",type:"number",required:!0,width:60,view:!0},{name:"Ex_Rate",value:"ex_rate",column:"ex_rate",type:"number",required:!0,width:68,view:!0},{name:"Total_Vnd",value:"total_vnd",column:null,type:"text",required:!1,width:92,view:!0},{name:"Payment_Center",value:"payment_center_name",column:"payment_center",type:"text",required:!0,width:110,view:!0},{name:"Partner",value:"partner_short_name",column:"issue_partner",type:"text",required:!0,width:140,view:!0},{name:"Invoice_Number",value:"invoice_number",column:"invoice_number",type:"text",required:!1,width:100,view:!0},{name:"Issue_Date",value:"issue_date",column:"issue_date",type:"text",required:!1,width:82,view:!0},{name:"Pay_Date",value:"pay_date",column:"pay_date",type:"text",required:!1,width:82,view:!0},{name:"Info",value:"info",column:"info",type:"text",required:!1,width:60,view:!0},{name:"Bank",value:"bank_transaction",column:null,type:"text",required:!1,width:150,view:!0},{name:"Update_By",value:"update_by_name",column:null,type:null,required:!0,width:120,view:!0},{name:"Type",value:null,column:null,type:null,required:!1,width:40,view:!0}],this._disableColumn=["No","Price","Unit","Volume","Amount"],this._configSubject=new F.a({}),this._init()}set config(e){let t=this._configSubject.getValue();t=E.merge([],t.column,e),this.buildDisplayTable(t)}get config(){return this._configSubject.asObservable()}get defaultConfig(){return this._defaultConfig}_init(){(this._platform.ANDROID||this._platform.IOS)&&this._defaultConfig.map(e=>{this._disableColumn.includes(e.name)||(e.view=!1)});let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e),this._router.events.pipe(Object(J.a)(e=>e instanceof n.f)).subscribe(()=>{if(!E.isEqual(this._configSubject.getValue(),this._defaultConfig)){const e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}})}setConfig(e,t={emitEvent:!0}){let i=this._configSubject.getValue();i=E.merge({},i,e),!0===t.emitEvent&&(console.log(i),this.buildDisplayTable(i))}getConfig(){return this._configSubject.asObservable()}resetToDefaults(){let e=E.cloneDeep(this._defaultConfig);this.buildDisplayTable(e)}buildDisplayTable(e){let t={column:[],form:[],table_column:[],table_setting:[]},i=0;e.map(e=>{t.column.push(e),e.view&&(t.table_column.push(e.name),t.table_setting.push(e),i+=e.width);let n={};n[e.name]=this._disableColumn.includes(e.name)?{value:!0,disabled:!0}:e.view,t.form.push([e.name,n])}),t.width=i,t.disable=this._disableColumn,this._configSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(R.bc(n.g),R.bc(U.a))},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})(),pi=(()=>{class e{constructor(){this.sort={container:{cont:"cont_number",type:"cont_type_code",on_hire:"on_hire",off_hire:"off_hire",status:"status"},movement:{cont:"cont_number",date:"date",document:"document",create:"last_name",time:"update_at"}}}resetData(e,t,i){e.firstPage(),e.page.next({pageIndex:0,pageSize:t,length:i.length})}goPageData(e,t,i,n){e.page.next({pageIndex:t,pageSize:i,length:n.length})}getData(e,t){return t.slice(e.pageIndex*e.pageSize,(e.pageIndex+1)*e.pageSize)}sortData(e,t,i){let n=t.slice();return e.active&&""!==e.direction?n.sort((t,n)=>this.compare(t[this.sort[i][e.active]],n[this.sort[i][e.active]],"asc"===e.direction)):n}compare(e,t,i){return(e<t?-1:1)*(i?1:-1)}clearSort(e){e.sort({id:"",start:"asc",disableClear:!1})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=R.Nb({token:e,factory:e.\u0275fac}),e})();i.d(t,"ShipmentSheet2Module",(function(){return mi}));const bi=[{path:"",component:Kt,resolve:{data:M}}];let mi=(()=>{class e{}return e.\u0275mod=R.Pb({type:e}),e.\u0275inj=R.Ob({factory:function(t){return new(t||e)},providers:[M,$,H,li,ui,hi,G,Y,pi],imports:[[n.k.forChild(bi),r.b,a.a,o.b,s.c,c.c,l.b,u.e,h.b,p.b,b.c,m.c,d.b,f.c,g.e,v.b,y.b,w.b,x.d,_.e,S.b,D.b,j.b,k.k,C.t,O.a,W.f,we.g,si,ci.a]]}),e})()}}]);