(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{jD4G:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));class i{static filterArrayByString(t,e){return""===e?t:(e=e.toLowerCase(),t.filter(t=>this.searchInObj(t,e)))}static searchInObj(t,e){for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];if("string"==typeof i){if(this.searchInString(i,e))return!0}else if(Array.isArray(i)&&this.searchInArray(i,e))return!0;if("object"==typeof i&&this.searchInObj(i,e))return!0}}static searchInArray(t,e){for(const r of t){if("string"==typeof r&&this.searchInString(r,e))return!0;if("object"==typeof r&&this.searchInObj(r,e))return!0}}static searchInString(t,e){return t.toLowerCase().includes(e)}static generateGUID(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()}static toggleInArray(t,e){-1===e.indexOf(t)?e.push(t):e.splice(e.indexOf(t),1)}static handleize(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}},ul6U:function(t,e,r){"use strict";r.r(e);var i=r("tyNb"),o=r("STbY"),n=r("/1cH"),a=r("iadO"),s=r("bTqV"),c=r("7EHt"),l=r("kmnG"),p=r("NFeN"),h=r("Qu3c"),b=r("qFsG"),d=r("wZkO"),u=r("d3UM"),f=r("QibW"),m=r("0IaG"),g=r("/t3+"),x=r("bSwM"),v=r("M9IT"),w=r("xHqg"),S=r("A5z7"),y=r("vxfF"),_=r("cfqv"),M=r("cWTo"),k=r("LPQX"),X=r("FKr1"),W=r("MutI"),C=r("bv9b"),O=r("XhcP"),P=r("212X"),L=r("5HBU"),D=r("0Zc1"),A=r("2Vo4"),F=r("XNiG"),I=r("jD4G"),j=r("tk/3"),N=r("fXoL"),T=r("qXBG"),z=r("0JVi");let B=(()=>{class t{constructor(t,e,r){this._httpClient=t,this.authService=e,this._fuseConfigService=r,this.profit=[],this.fullScreen=!1,this.defaultSearch={formSearch:{partner:null,owner:null,complete:"All"}},this.total={revenue:0,cost:0,correct:0,otherIn:0,otherOut:0},this.totalCompleteMonth={},this.arrCompleteMonth=[],this.totalPersonMonth={},this.arrPersonMonth=[],this.ctrlProfitMonth={month:[],person:{}},this.onProfitChanged=new A.a([]),this.onDataChanged=new A.a({}),this.onCompleteChanged=new A.a([]),this.onPersonChanged=new A.a([]),this.onSearchTextChanged=new F.a,this.onFilterChanged=new F.a}resolve(t){return this.authService.routerData=t,this.authService.back&&(this.authService.back=!1),(!this.currenSearch||this.currenSearch&&!this.currenSearch.formSearch)&&(this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch))),new Promise((t,e)=>{Promise.all([this.getFilterShipment(this.currenSearch.formSearch),this.getData()]).then(()=>{this.onSearchTextChanged.subscribe(t=>{this.searchText=t;let e=JSON.parse(JSON.stringify(this.shipment));this.searchText&&""!==this.searchText&&(e=I.a.filterArrayByString(e,this.searchText)),this.buildDataBoardOverview(e)}),t()},e)})}getProfit(){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,r)=>{this._httpClient.get(this.authService.apiUrl+"/dnl-cms/profit",t).subscribe(t=>{this.profit=t,this.searchText?this.getFilterProfit():(this.filterProfit=JSON.parse(JSON.stringify(t)),this.onProfitChanged.next(this.filterProfit)),e(this.filterProfit)},r)})}getFilterProfit(){let t=JSON.parse(JSON.stringify(this.profit));switch(this.filterBy){case"all":break;case"valid":t=t.filter(t=>1==t.status);break;case"invalid":t=t.filter(t=>0==t.status);break;default:this.filterBy&&(t=t.filter(t=>t.scope.includes(this.filterBy)))}"valid"===this.filterBy&&(t=t.filter(t=>1==t.status)),"invalid"===this.filterBy&&(t=t.filter(t=>0==t.status)),this.searchText&&""!==this.searchText&&(t=I.a.filterArrayByString(t,this.searchText)),this.filterProfit=t,this.onProfitChanged.next(t)}getFilterShipment(t){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((r,i)=>{this._httpClient.post(this.authService.apiUrl+"/dnl/shipment/filter2",t,e).subscribe(t=>{this.shipment=t;let e=JSON.parse(JSON.stringify(this.shipment));this.searchText&&""!==this.searchText&&(e=I.a.filterArrayByString(e,this.searchText)),this.buildDataBoardOverview(e),r(t)},i)})}getData(){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((e,r)=>{this._httpClient.get(this.authService.apiUrl+"/dnl-new/dnl-shipment/data",t).subscribe(t=>{this.truckPoint=t[1],this.user=t[2],this.price=t[3],this.currency=t[4],this.country=t[5],this.unit=t[7],this.agent=t[8],this.partner=t[9],this.onDataChanged.next(t),e(t)},r)})}buildDataBoardOverview(t){function e(e,r){return t={name:parseInt(e)+1+"-"+r,month:parseInt(e)+1,year:r,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0}}let r=t;this.totalCompleteMonth={},this.totalCompleteMonth.none={name:"None",month:0,year:0,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0},this.arrCompleteMonth=[],this.arrCompleteMonth[0]="none",this.totalPersonMonth={},this.ctrlProfitMonth={month:[],person:{}},r.map(t=>{let r=this.checkStepShipment(t);t.step=r[0],t.arrStep=r[1],t.profit={revenue:0,cost:0,correct:0,otherIn:0,otherOut:0};let i="0",o=0;if(t.complete_date?(i=new Date(t.complete_date).getMonth().toString(),parseInt(i)<10&&(i="0"+i),o=new Date(t.complete_date).getFullYear(),this.totalCompleteMonth[o+"-"+i]||(this.totalCompleteMonth[o+"-"+i]=e(i,o),this.arrCompleteMonth.push(o+"-"+i)),this.totalCompleteMonth[o+"-"+i].count_shipment++,this.totalCompleteMonth[o+"-"+i].data.push(t),this.ctrlProfitMonth.month.includes(o+"-"+i)||this.ctrlProfitMonth.month.push(o+"-"+i),this.ctrlProfitMonth.person[o+"-"+i]||(this.ctrlProfitMonth.person[o+"-"+i]=[]),this.ctrlProfitMonth.person[o+"-"+i].includes(t.owner_name)||this.ctrlProfitMonth.person[o+"-"+i].push(t.owner_name),this.totalPersonMonth[o+"-"+i]||(this.totalPersonMonth[o+"-"+i]={}),this.totalPersonMonth[o+"-"+i][t.owner_name]||(this.totalPersonMonth[o+"-"+i][t.owner_name]=e(i,o)),this.totalPersonMonth[o+"-"+i][t.owner_name].count_shipment++):(this.totalCompleteMonth.none.count_shipment++,this.totalCompleteMonth.none.data.push(t),this.ctrlProfitMonth.month.includes("none")||this.ctrlProfitMonth.month.push("none"),this.ctrlProfitMonth.person.none||(this.ctrlProfitMonth.person.none=[]),this.ctrlProfitMonth.person.none.includes(t.owner_name)||this.ctrlProfitMonth.person.none.push(t.owner_name),this.totalPersonMonth.none||(this.totalPersonMonth.none={}),this.totalPersonMonth.none[t.owner_name]||(this.totalPersonMonth.none[t.owner_name]={name:"None",month:0,year:0,revenue:0,cost:0,correct:0,otherIn:0,otherOut:0,count_shipment:0,data:[],total:0,total_correct:0}),this.totalPersonMonth.none[t.owner_name].count_shipment++),t.revenue.map(e=>{t.profit.revenue+=e.total_vnd,t.complete_date?(this.totalCompleteMonth[o+"-"+i].revenue+=e.total_vnd,this.totalPersonMonth[o+"-"+i][t.owner_name].revenue+=e.total_vnd):(this.totalCompleteMonth.none.revenue+=e.total_vnd,this.totalPersonMonth.none[t.owner_name].revenue+=e.total_vnd)}),t.cost.map(e=>{t.profit.cost+=e.total_vnd,t.complete_date?(this.totalCompleteMonth[o+"-"+i].cost+=e.total_vnd,this.totalPersonMonth[o+"-"+i][t.owner_name].cost+=e.total_vnd):(this.totalCompleteMonth.none.cost+=e.total_vnd,this.totalPersonMonth.none[t.owner_name].cost+=e.total_vnd)}),t.correct.map(e=>{t.profit.correct+=e.total_vnd,this.total.correct+=e.total_vnd,t.complete_date?(this.totalCompleteMonth[o+"-"+i].correct+=e.total_vnd,this.totalPersonMonth[o+"-"+i][t.owner_name].correct+=e.total_vnd):(this.totalCompleteMonth.none.cost+=e.total_vnd,this.totalPersonMonth.none[t.owner_name].correct+=e.total_vnd)}),t.otherIn.map(e=>{t.profit.otherIn+=e.total_vnd,t.complete_date?(this.totalCompleteMonth[o+"-"+i].otherIn+=e.total_vnd,this.totalPersonMonth[o+"-"+i][t.owner_name].otherIn+=e.total_vnd):(this.totalCompleteMonth.none.otherIn+=e.total_vnd,this.totalPersonMonth.none[t.owner_name].otherIn+=e.total_vnd)}),t.otherOut.map(e=>{t.profit.otherOut+=e.total_vnd,t.complete_date?(this.totalCompleteMonth[o+"-"+i].otherOut+=e.total_vnd,this.totalPersonMonth[o+"-"+i][t.owner_name].otherOut+=e.total_vnd):(this.totalCompleteMonth.none.otherOut+=e.total_vnd,this.totalPersonMonth.none[t.owner_name].otherOut+=e.total_vnd)}),t.complete_date){let e=this.totalCompleteMonth[o+"-"+i];e.total=e.revenue-e.cost,e.total_correct=e.revenue-e.cost-e.correct;let r=this.totalPersonMonth[o+"-"+i][t.owner_name];r.total=r.revenue-r.cost,r.total_correct=r.revenue-r.cost-r.correct}else{let e=this.totalCompleteMonth.none;e.total=e.revenue-e.cost,e.total_correct=e.revenue-e.cost-e.correct;let r=this.totalPersonMonth.none[t.owner_name];r.total=r.revenue-r.cost,r.total_correct=r.revenue-r.cost-r.correct}}),this.arrCompleteMonth.sort((t,e)=>t<e?1:e<t?-1:0),this.ctrlProfitMonth.month.sort((t,e)=>t<e?1:e<t?-1:0),this.ctrlProfitMonth.month.map(t=>{this.ctrlProfitMonth.person[t].sort((t,e)=>t>e?1:e>t?-1:0)}),this.onCompleteChanged.next([this.totalCompleteMonth,this.arrCompleteMonth]),this.onPersonChanged.next([this.totalPersonMonth,this.ctrlProfitMonth])}checkStepShipment(t){let e=[!1,!1,!1,!1,!1,!1],r=1;t.pick_date&&(r=2,e[0]=!0),t.deliver_date&&(e[1]=!0),t.pick_date&&t.deliver_date&&(r=3);let i={revenue:!0,otherIn:!0,cost:!0,otherOut:!0},o={revenue:!0,otherIn:!0,cost:!0,otherOut:!0},n=0;if(0==t.revenue.length)i.revenue=!1,o.revenue=!1;else for(;n<t.revenue.length&&i.revenue;)t.revenue[n].pay_date||(i.revenue=!1),t.revenue[n].bank||(o.revenue=!1),n++;if(n=0,0==t.cost.length)i.cost=!1,o.cost=!1;else for(;n<t.cost.length&&i.cost;)t.cost[n].pay_date||(i.cost=!1),t.cost[n].bank||(o.cost=!1),n++;for(n=0;n<t.otherIn.length&&i.otherIn;)t.otherIn[n].pay_date||(i.otherIn=!1),n++;for(n=0;n<t.otherOut.length&&i.otherOut;)t.otherOut[n].pay_date||(i.otherOut=!1),n++;return 3==r&&i.revenue&&i.cost&&i.otherIn&&i.otherOut&&(r=4),4==r&&o.revenue&&o.cost&&(r=5),i.revenue&&i.otherIn&&(e[2]=!0),o.revenue&&o.otherIn&&(e[3]=!0),i.cost&&i.otherOut&&(e[4]=!0),o.cost&&o.otherOut&&(e[5]=!0),[r,e]}changeScreen(t){this.fullScreen=t,this._fuseConfigService.config=t?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}getCurrenSearchServe(){let t=this.currenSearch?this.currenSearch.formSearch:{},e={partner:null,owner:null,date_from:null,date_to:null};if(t.partner&&(e.partner=t.partner),t.owner&&(e.owner=t.owner),t.date_from){let r=t.date_from.split("-");e.date_from=new Date(r[0],r[1]-1,r[2])}if(t.date_to){let r=t.date_to.split("-");e.date_to=new Date(r[0],r[1]-1,r[2])}return e}}return t.\u0275fac=function(e){return new(e||t)(N.bc(j.a),N.bc(T.a),N.bc(z.b))},t.\u0275prov=N.Nb({token:t,factory:t.\u0275fac}),t})();var R=r("yrbL"),J=r("HX77"),H=r("ofXK"),q=r("B9zo"),V=r("EwFO"),G=r("pLZG"),$=r("XiUz"),U=r("znSr"),E=r("1G5W"),Y=r("3Pt+"),Q=r("Kj3r"),K=r("/uUt");function Z(t,e){if(1&t){const t=N.Yb();N.Xb(0,"button",7),N.fc("click",(function(e){return N.Bc(t),N.jc().expand()})),N.Xb(1,"mat-icon",8),N.Lc(2,"search"),N.Wb(),N.Wb()}if(2&t){const t=N.jc();N.Db(1),N.pc("color",t.searchText&&""!==t.searchText?"accent":"")}}const tt=function(t){return{expanded:t}};let et=(()=>{class t{constructor(t){this._fuseConfigService=t,this.inputValue=new N.o,this.collapsed=!0,this.searchInput=new Y.e(""),this._unsubscribeAll=new F.a}ngOnInit(){this._fuseConfigService.config.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.fuseConfig=t}),this.searchInput.valueChanges.pipe(Object(E.a)(this._unsubscribeAll),Object(Q.a)(300),Object(K.a)()).subscribe(t=>{this.searchText=t,this.inputValue.emit(t)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(z.b))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-search-bar"]],inputs:{searchText:"searchText"},outputs:{inputValue:"inputValue"},decls:8,vars:5,consts:[[1,"profit-search-bar",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"profit-search-bar-content"],["for","profit-search-bar-input"],["mat-icon-button","","class","profit-search-bar-expander","aria-label","Expand Search Bar",3,"click",4,"ngIf"],["id","profit-search-bar-input","type","text","placeholder","Search","fxFlex","",1,"ml-24",3,"formControl"],["mat-icon-button","","aria-label","Collapse Search Bar",1,"profit-search-bar-collapser",3,"click"],[1,"s-24","secondary-text"],["mat-icon-button","","aria-label","Expand Search Bar",1,"profit-search-bar-expander",3,"click"],[1,"s-24","secondary-text",3,"color"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"label",2),N.Jc(3,Z,3,1,"button",3),N.Wb(),N.Sb(4,"input",4),N.Xb(5,"button",5),N.fc("click",(function(t){return e.collapse()})),N.Xb(6,"mat-icon",6),N.Lc(7,"close"),N.Wb(),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.pc("ngClass",N.rc(3,tt,!e.collapsed)),N.Db(3),N.pc("ngIf",e.collapsed),N.Db(1),N.pc("formControl",e.searchInput))},directives:[H.q,U.a,$.d,$.c,H.t,Y.b,$.b,Y.p,Y.f,s.b,p.a],styles:["[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;min-width:64px;height:64px;font-size:13px}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]{height:56px}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-expander[_ngcontent-%COMP%]{cursor:pointer;padding:0 20px;margin:0;width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-expander[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-loader[_ngcontent-%COMP%]{width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-loader[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .profit-search-bar[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   #profit-search-bar-input[_ngcontent-%COMP%]{display:none;-webkit-box-flex:1;flex:1 0 auto;min-height:64px;font-size:16px;background-color:transparent;color:currentColor}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;background:#f5f5f5}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   #profit-search-bar-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex}[_nghost-%COMP%]   .profit-search-bar.expanded[_ngcontent-%COMP%]   .profit-search-bar-content[_ngcontent-%COMP%]   .profit-search-bar-collapser[_ngcontent-%COMP%]{display:block}"]}),t})();function rt(t,e){if(1&t){const t=N.Yb();N.Xb(0,"button",14),N.fc("click",(function(e){N.Bc(t);const r=N.jc();return e.stopPropagation(),r.changeScreen(!0)})),N.Xb(1,"mat-icon"),N.Lc(2,"flip_to_front"),N.Wb(),N.Wb()}}function it(t,e){if(1&t){const t=N.Yb();N.Xb(0,"button",14),N.fc("click",(function(e){N.Bc(t);const r=N.jc();return e.stopPropagation(),r.changeScreen(!1)})),N.Xb(1,"mat-icon"),N.Lc(2,"flip_to_back"),N.Wb(),N.Wb()}}const ot=function(t){return{"accent-600-fg":t}};let nt=(()=>{class t{constructor(t,e,r,i,o){this.authService=t,this.profitService=e,this._fuseConfigService=r,this.router=i,this.route=o,this.url="complete",this.fullScreen=!1,this.toggleSidebar=new N.o,this.showHideBar=new N.o,this.refreshPage=new N.o,this._unsubscribeAll=new F.a}ngOnInit(){this.profitService.searchText&&(this.searchText=this.profitService.searchText),this.router.events.pipe(Object(G.a)(t=>t instanceof i.c)).subscribe(t=>{let e=t.url.split("/");this.url=e[5]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(t){this.fullScreen=t,this.authService.changeScreen.next(t),this.profitService.changeScreen(t)}searchFilter(t){this.profitService.onSearchTextChanged.next(t)}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(T.a),N.Rb(B),N.Rb(z.b),N.Rb(i.g),N.Rb(i.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-header"]],inputs:{sidebarName:"sidebarName"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage"},decls:33,vars:24,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-8",3,"click"],["mat-icon-button","",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm","",3,"ngClass"],["fxShow","","fxHide.gt-sm","",3,"ngClass"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(t,e){1&t&&(N.Xb(0,"mat-toolbar",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"div",3),N.Xb(4,"button",4),N.fc("click",(function(t){return e.toggleSidebar.emit(e.sidebarName)})),N.Xb(5,"mat-icon"),N.Lc(6,"menu"),N.Wb(),N.Wb(),N.Xb(7,"button",5),N.fc("click",(function(t){return e.showHideBar.emit()})),N.Xb(8,"mat-icon"),N.Lc(9,"menu"),N.Wb(),N.Wb(),N.Wb(),N.Xb(10,"button",6),N.Xb(11,"span",7),N.Lc(12,"Overview"),N.Wb(),N.Xb(13,"mat-icon",8),N.Lc(14,"equalizer"),N.Wb(),N.Wb(),N.Xb(15,"button",6),N.Xb(16,"span",7),N.Lc(17,"Status"),N.Wb(),N.Xb(18,"mat-icon",8),N.Lc(19,"view_carousel"),N.Wb(),N.Wb(),N.Xb(20,"button",6),N.Xb(21,"span",7),N.Lc(22,"Person"),N.Wb(),N.Xb(23,"mat-icon",8),N.Lc(24,"equalizer"),N.Wb(),N.Wb(),N.Wb(),N.Xb(25,"div",9),N.Sb(26,"div",10),N.Xb(27,"profit-search-bar",11),N.fc("inputValue",(function(t){return e.searchFilter(t)})),N.Wb(),N.Sb(28,"div",10),N.Jc(29,rt,3,0,"button",12),N.Jc(30,it,3,0,"button",12),N.Sb(31,"div",13),N.Sb(32,"div",13),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(10),N.pc("routerLink","/apps/workflow/profit/report/complete"),N.Db(1),N.pc("ngClass",N.rc(12,ot,"complete"==e.url)),N.Db(2),N.pc("ngClass",N.rc(14,ot,"complete"==e.url)),N.Db(2),N.pc("routerLink","/apps/workflow/profit/report/status"),N.Db(1),N.pc("ngClass",N.rc(16,ot,"status"==e.url)),N.Db(2),N.pc("ngClass",N.rc(18,ot,"status"==e.url)),N.Db(2),N.pc("routerLink","/apps/workflow/profit/report/person"),N.Db(1),N.pc("ngClass",N.rc(20,ot,"person"==e.url)),N.Db(2),N.pc("ngClass",N.rc(22,ot,"person"==e.url)),N.Db(4),N.pc("searchText",e.searchText),N.Db(2),N.pc("ngIf",!e.fullScreen),N.Db(1),N.pc("ngIf",e.fullScreen))},directives:[g.a,$.b,$.e,$.d,$.c,s.b,U.b,p.a,i.h,H.q,U.a,et,H.t],styles:["profit-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}profit-header.below{z-index:2}profit-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}profit-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}profit-header .logo .logo-icon{width:38px}profit-header .chat-panel-toggle-button,profit-header .language-button,profit-header .quick-panel-toggle-button,profit-header .user-button,profit-header fuse-search-bar{width:80px;height:64px}@media screen and (max-width:599px){profit-header .chat-panel-toggle-button,profit-header .language-button,profit-header .quick-panel-toggle-button,profit-header .user-button,profit-header fuse-search-bar{width:40px;height:56px}}profit-header .navbar-toggle-button{min-width:56px;height:56px}profit-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){profit-header .toolbar-separator{height:56px}}"],encapsulation:2}),t})();var at=r("fE3o"),st=r("JX91"),ct=r("lJxs");const lt=["formDirective"];function pt(t,e){if(1&t&&(N.Xb(0,"mat-option",22),N.Lc(1),N.Wb()),2&t){const t=e.$implicit;N.pc("value",t.id),N.Db(1),N.Nc(" ",t.short_name," ")}}function ht(t,e){if(1&t&&(N.Xb(0,"mat-option",22),N.Lc(1),N.Wb()),2&t){const t=e.$implicit;N.pc("value",t.id),N.Db(1),N.Mc(t.name)}}let bt=(()=>{class t{constructor(t,e,r,i,o){this.profitService=t,this.formBuilder=e,this.authService=r,this.commonService=i,this.datePipe=o,this.fitlerShipment=new N.o,this.height=560,this.year=(new Date).getFullYear(),this.monthList=[],this.monthView={},this.form=this.formBuilder.group({partner:[null],owner:[null],complete:[null]}),this.searchChange=!0,this._unsubscribeAll=new F.a}ngOnInit(){this.form.patchValue(this.profitService.getCurrenSearchServe()),this.authService.windowSizeChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.height-64-64-12}),this.authService.changeScreen.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t?this.authService.screenHeight-64-12:this.authService.screenHeight-64-64-12}),this.filteredPartner=this.form.controls.partner.valueChanges.pipe(Object(st.a)(""),Object(ct.a)(t=>t?"string"==typeof t?t:t.partner_name:null),Object(ct.a)(t=>t?this.commonService.filterData(t,"short_name",this.partner):[]))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}clearForm(){this.searchNgForm.resetForm()}onSearchFormSubmit(t){this.fitlerShipment.emit({partner:"string"==typeof t.partner?null:t.partner,owner:t.owner,complete:t.complete})}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(B),N.Rb(Y.d),N.Rb(T.a),N.Rb(D.a),N.Rb(H.f))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-sidebar"]],viewQuery:function(t,e){var r;1&t&&N.Sc(lt,!0),2&t&&N.wc(r=N.gc())&&(e.searchNgForm=r.first)},inputs:{partner:"partner",user:"user"},outputs:{fitlerShipment:"fitlerShipment"},decls:35,vars:9,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2","pb-4"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","partner","matInput","","formControlName","partner",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["formControlName","owner"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","complete"],["value","All",1,"mb-12"],["value","None",1,"mb-12"],[3,"value"]],template:function(t,e){if(1&t&&(N.Xb(0,"form",0,1),N.fc("keydown.enter",(function(t){return"TEXTAREA"==t.target.tagName}))("ngSubmit",(function(t){return e.onSearchFormSubmit(e.form.value)})),N.Xb(2,"div",2),N.Xb(3,"div",3),N.Xb(4,"button",4),N.Lc(5," Submit "),N.Wb(),N.Xb(6,"button",5),N.fc("click",(function(t){return e.clearForm()})),N.Lc(7," Clear "),N.Wb(),N.Wb(),N.Wb(),N.Xb(8,"div",6),N.Xb(9,"div",7),N.Xb(10,"div",8),N.Xb(11,"div",9),N.Xb(12,"div",10),N.Xb(13,"mat-form-field",11),N.Xb(14,"mat-label"),N.Lc(15,"Partner"),N.Wb(),N.Sb(16,"input",12),N.Xb(17,"mat-autocomplete",13,14),N.Jc(19,pt,2,2,"mat-option",15),N.kc(20,"async"),N.Wb(),N.Wb(),N.Wb(),N.Xb(21,"div",16),N.Xb(22,"mat-form-field",11),N.Xb(23,"mat-label"),N.Lc(24,"Owner"),N.Wb(),N.Xb(25,"mat-select",17),N.Jc(26,ht,2,2,"mat-option",15),N.Wb(),N.Wb(),N.Wb(),N.Xb(27,"div",18),N.Xb(28,"h2"),N.Lc(29,"Complete date"),N.Wb(),N.Xb(30,"mat-radio-group",19),N.Xb(31,"mat-radio-button",20),N.Lc(32,"All"),N.Wb(),N.Xb(33,"mat-radio-button",21),N.Lc(34,"None"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()),2&t){const t=N.xc(18);N.pc("formGroup",e.form),N.Db(8),N.Ic("height",e.height,"px"),N.Db(8),N.pc("matAutocomplete",t),N.Db(1),N.pc("displayWith",e.commonService.displayFn.bind(e,"short_name",e.partner)),N.Db(2),N.pc("ngForOf",N.lc(20,7,e.filteredPartner)),N.Db(7),N.pc("ngForOf",e.user)}},directives:[Y.A,Y.q,Y.h,$.d,$.c,s.b,$.b,V.a,l.c,l.f,b.b,Y.b,n.c,Y.p,Y.g,n.a,H.s,u.a,f.b,f.a,X.n],pipes:[H.b],styles:["profit-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}profit-sidebar .navbar-scroll-container{background:#fff!important}profit-sidebar .navbar-scroll-container .navbar-content{padding-top:0}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}profit-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),t})();function dt(t,e){1&t&&(N.Xb(0,"div",7),N.Xb(1,"div",8),N.Xb(2,"div",9),N.Sb(3,"div",10),N.Xb(4,"div",11),N.Sb(5,"div",12),N.Wb(),N.Xb(6,"div",13),N.Sb(7,"div",12),N.Wb(),N.Wb(),N.Wb(),N.Wb())}function ut(t,e){if(1&t){const t=N.Yb();N.Xb(0,"fuse-sidebar",14),N.Xb(1,"div",15),N.Xb(2,"profit-sidebar",16),N.fc("fitlerShipment",(function(e){return N.Bc(t),N.jc().getFilterShipment(e)})),N.Wb(),N.Wb(),N.Wb()}if(2&t){const t=N.jc();N.Db(2),N.pc("partner",t.partner)("user",t.user)}}function ft(t,e){1&t&&N.Sb(0,"router-outlet")}let mt=(()=>{class t{constructor(t,e,r){this._fuseSidebarService=t,this.profitService=e,this.authService=r,this.sidebarPanel=!0,this.requestProcessing=!1,this._unsubscribeAll=new F.a}ngOnInit(){this.profitService.onDataChanged.pipe(Object(R.takeUntil)(this._unsubscribeAll)).subscribe(t=>{this.user=t[2],this.partner=t[9]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}showHideBar(t){this.sidebarPanel=!this.sidebarPanel}refreshPage(t){this.authService.refreshData(this.profitService)}getFilterShipment(t){this.requestProcessing=!0,this.profitService.getFilterShipment(t).then(e=>{this.profitService.currenSearch.formSearch=t,this.requestProcessing=!1,console.log(e)}).catch(t=>{this.requestProcessing=!1,console.error(t),alert("Submit fail")})}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(J.a),N.Rb(B),N.Rb(T.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit"]],decls:7,vars:4,consts:[["class","spinner-wrapper",4,"ngIf"],[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","profit-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"sidebarName","showHideBar","refreshPage","toggleSidebar"],[1,"content","p-8"],[4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"inner"],[1,"gap"],[1,"left"],[1,"half-circle"],[1,"right"],["name","profit-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"partner","user","fitlerShipment"]],template:function(t,e){1&t&&(N.Jc(0,dt,8,0,"div",0),N.Xb(1,"div",1),N.Jc(2,ut,3,2,"fuse-sidebar",2),N.Xb(3,"div",3),N.Xb(4,"profit-header",4),N.fc("showHideBar",(function(t){return e.showHideBar(t)}))("refreshPage",(function(t){return e.refreshPage(t)}))("toggleSidebar",(function(t){return e.toggleSidebar(t)})),N.Wb(),N.Xb(5,"div",5),N.Jc(6,ft,1,0,"router-outlet",6),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.pc("ngIf",e.requestProcessing),N.Db(2),N.pc("ngIf",e.sidebarPanel),N.Db(2),N.pc("sidebarName","profit-sidebar"),N.Db(2),N.pc("ngIf",!0))},directives:[H.t,q.a,V.a,nt,at.a,bt,i.l],styles:[""]}),t})();function gt(t,e){if(1&t&&(N.Xb(0,"span",12),N.Lc(1),N.Wb()),2&t){const t=N.jc().$implicit,e=N.jc();N.Db(1),N.Oc("",e.totalMonth[t].month,"/",e.totalMonth[t].year,"")}}function xt(t,e){1&t&&(N.Xb(0,"span",12),N.Lc(1,"None"),N.Wb())}function vt(t,e){if(1&t){const t=N.Yb();N.Xb(0,"tr"),N.Xb(1,"td",8),N.fc("click",(function(r){N.Bc(t);const i=e.$implicit,o=N.jc();return r.stopPropagation(),o.filterMonth.emit(i)})),N.Jc(2,gt,2,2,"span",9),N.Jc(3,xt,2,0,"span",9),N.Wb(),N.Xb(4,"td",5),N.Lc(5),N.Wb(),N.Xb(6,"td",10),N.Lc(7),N.kc(8,"number"),N.Wb(),N.Xb(9,"td",10),N.Lc(10),N.kc(11,"number"),N.Wb(),N.Xb(12,"td",11),N.Lc(13),N.kc(14,"number"),N.Wb(),N.Xb(15,"td",10),N.Lc(16),N.kc(17,"number"),N.Wb(),N.Xb(18,"td",11),N.Lc(19),N.kc(20,"number"),N.Wb(),N.Xb(21,"td",10),N.Lc(22),N.kc(23,"number"),N.Wb(),N.Xb(24,"td",10),N.Lc(25),N.kc(26,"number"),N.Wb(),N.Wb()}if(2&t){const t=e.$implicit,r=N.jc();N.Db(2),N.pc("ngIf",r.totalMonth[t].month>0),N.Db(1),N.pc("ngIf",0==r.totalMonth[t].month),N.Db(2),N.Mc(r.totalMonth[t].count_shipment),N.Db(2),N.Mc(N.mc(8,10,r.totalMonth[t].revenue,"1.2-2")),N.Db(3),N.Mc(N.mc(11,13,r.totalMonth[t].cost,"1.2-2")),N.Db(3),N.Mc(N.mc(14,16,r.totalMonth[t].revenue-r.totalMonth[t].cost,"1.2-2")),N.Db(3),N.Mc(N.mc(17,19,r.totalMonth[t].correct,"1.2-2")),N.Db(3),N.Mc(N.mc(20,22,r.totalMonth[t].revenue-r.totalMonth[t].cost-r.totalMonth[t].correct,"1.2-2")),N.Db(3),N.Mc(N.mc(23,25,r.totalMonth[t].otherIn,"1.2-2")),N.Db(3),N.Mc(N.mc(26,28,r.totalMonth[t].otherOut,"1.2-2"))}}let wt=(()=>{class t{constructor(t,e,r){this.authService=t,this.profitService=e,this.commonService=r,this.firstLoad=!0,this.height=560,this._unsubscribeAll=new F.a}ngOnInit(){this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.width<600?t.height-16:t.height-64-64-16}),this.authService.changeScreen.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{let e=t?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight-16+e:this.authService.screenHeight-64-64-16+e}),this.profitService.onCompleteChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.totalMonth=this.profitService.totalCompleteMonth,this.arrMonth=this.profitService.arrCompleteMonth})}ngOnChanges(t){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(T.a),N.Rb(B),N.Rb(D.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-complete"]],features:[N.Bb()],decls:26,vars:3,consts:[["fxLayout","column","id","profit-complete",1,"w-100-p"],["fusePerfectScrollbar",""],[1,"viewer-body"],[1,"simple","total-table"],[1,""],[1,"text-center"],["fxHide","","fxShow.gt-sm","",1,"text-right"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click"],["class","accent p-4",4,"ngIf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],[1,"text-right","mr-8"],[1,"accent","p-4"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"table",3),N.Xb(4,"thead"),N.Xb(5,"tr"),N.Xb(6,"th",4),N.Lc(7,"Time"),N.Wb(),N.Xb(8,"th",5),N.Lc(9,"Shipment"),N.Wb(),N.Xb(10,"th",6),N.Lc(11,"Revenue"),N.Wb(),N.Xb(12,"th",6),N.Lc(13,"Cost"),N.Wb(),N.Xb(14,"th",5),N.Lc(15,"Net Revenue"),N.Wb(),N.Xb(16,"th",6),N.Lc(17,"Correct"),N.Wb(),N.Xb(18,"th",5),N.Lc(19,"Net Revenue after correct"),N.Wb(),N.Xb(20,"th",6),N.Lc(21,"Other in"),N.Wb(),N.Xb(22,"th",6),N.Lc(23,"Other out"),N.Wb(),N.Wb(),N.Wb(),N.Xb(24,"tbody"),N.Jc(25,vt,27,31,"tr",7),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(1),N.Ic("height",e.height,"px"),N.Db(24),N.pc("ngForOf",e.arrMonth))},directives:[$.d,V.a,U.b,H.s,H.t],pipes:[H.g],styles:["#profit-complete .viewer-body{width:100%;height:100%;overflow:auto!important}#profit-complete .viewer-body .total-table{overflow:auto}#profit-complete .viewer-body .total-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}#profit-complete .viewer-body .total-table .sticky-col{width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}"],encapsulation:2}),t})();var St=r("PVWW");function yt(t,e){if(1&t&&N.Sb(0,"span",17),2&t){const t=e.$implicit,r=e.index,i=N.jc();N.pc("ngClass",i.shipment.arrStep[r]?t.color:"")("matTooltip",i.shipment.arrStep[r]?t.name:null)}}const _t=function(t,e){return{"red-A700-fg":t,"blue-A700-fg":e}};let Mt=(()=>{class t{constructor(t,e){this._activatedRoute=t,this.router=e,this.labels=[{id:1,name:"Pick up",color:"primary-500"},{id:2,name:"Deliver",color:"blue-400"},{id:3,name:"Revenue received",color:"yellow-500"},{id:4,name:"Revenue with bank",color:"deep-purple-500"},{id:5,name:"Cost paid",color:"red-500"},{id:6,name:"Cost with bank",color:"green-500"}]}ngOnInit(){}goDetails(t){this.router.navigate(["/apps/workflow/shipment/detail/"+t+"/soa"])}goFilterBoard(t,e){this.router.navigate(["apps/dnl/shipment-profit/boards/total-filter/"+t+"/"+e])}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(i.a),N.Rb(i.g))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-status-card"]],inputs:{shipment:"shipment",i:"i"},decls:32,vars:28,consts:[[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-name"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-badges"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"badge","due-date","mr-8"],[1,"text-truncate","w-100-p",3,"click"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"badge","check-items"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"owner","mr-8"],[1,"text-truncate","w-100-p"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"complete"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer","pt-16","pb-16"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-size-12",3,"ngClass"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-label",3,"ngClass","matTooltip"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Sb(2,"mat-icon",2),N.Wb(),N.Xb(3,"div",3),N.Jc(4,yt,1,2,"span",4),N.Wb(),N.Xb(5,"div",5),N.Lc(6),N.Wb(),N.Xb(7,"div",6),N.Xb(8,"span",7),N.Xb(9,"span",8),N.fc("click",(function(t){return e.goDetails(e.shipment.id)})),N.Lc(10),N.Wb(),N.Wb(),N.Xb(11,"span",9),N.Xb(12,"span"),N.Lc(13),N.kc(14,"date"),N.Wb(),N.Wb(),N.Wb(),N.Xb(15,"div",6),N.Xb(16,"span",10),N.Xb(17,"span",11),N.Lc(18),N.Wb(),N.Wb(),N.Xb(19,"span",12),N.Xb(20,"span"),N.Lc(21),N.kc(22,"date"),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Xb(23,"div",13),N.Xb(24,"div",14),N.Xb(25,"span",15),N.Lc(26),N.kc(27,"number"),N.Wb(),N.Wb(),N.Xb(28,"div",16),N.Xb(29,"span",15),N.Lc(30),N.kc(31,"number"),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(4),N.pc("ngForOf",e.labels),N.Db(2),N.Mc(e.shipment.partner_short_name),N.Db(4),N.Mc(e.shipment.code),N.Db(3),N.Mc(N.mc(14,10,e.shipment.manage_date,"MM/dd/yyyy")),N.Db(5),N.Mc(e.shipment.owner_name),N.Db(3),N.Mc(N.mc(22,13,e.shipment.complete_date,"MM/dd/yyyy")),N.Db(4),N.pc("ngClass",N.sc(22,_t,e.shipment.profit.revenue-e.shipment.profit.cost<0,e.shipment.profit.revenue-e.shipment.profit.cost>=0)),N.Db(1),N.Nc(" ",N.mc(27,16,e.shipment.profit.revenue-e.shipment.profit.cost,"1.0-0")," VND "),N.Db(3),N.pc("ngClass",N.sc(25,_t,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct<0,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct>=0)),N.Db(1),N.Nc(" ",N.mc(31,19,e.shipment.profit.revenue-e.shipment.profit.cost-e.shipment.profit.correct,"1.0-0")," VND "))},directives:[p.a,$.d,H.s,$.c,$.b,H.q,U.a,h.a],pipes:[H.f,H.g],styles:['profit-status-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}profit-status-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}profit-status-card .list-card-details{padding:16px 16px 0}profit-status-card .list-card-details .list-card-labels{margin-bottom:6px}profit-status-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}profit-status-card .list-card-details .list-card-labels .label-chips{box-shadow:none;padding:0}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip{display:block}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip .chip-remove{cursor:pointer}profit-status-card .list-card-details .list-card-labels .label-chips .label-chip.mat-standard-chip{border-radius:1px!important}profit-status-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}profit-status-card .list-card-details .list-card-badges{margin-bottom:12px}profit-status-card .list-card-details .list-card-badges .badge{padding:4px;border-radius:2px}profit-status-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}profit-status-card .list-card-details .list-card-members{margin-bottom:12px}profit-status-card .list-card-details .list-card-members .list-card-member{margin-right:8px}profit-status-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}profit-status-card .list-card-footer{border-top:1px solid;padding:0 16px}profit-status-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}profit-status-card .list-card-footer .list-card-footer-item .value{padding-left:8px}profit-status-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}profit-status-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}profit-status-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}profit-status-card.gu-hide{display:none!important}profit-status-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}profit-status-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),t})();function kt(t,e){if(1&t&&(N.Xb(0,"div"),N.Sb(1,"profit-status-card",9),N.Wb()),2&t){const t=e.$implicit,r=e.index;N.Db(1),N.pc("shipment",t)("i",r)}}let Xt=(()=>{class t{constructor(){this.openShipmentModal=new N.o,this.filterPartner=new N.o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-status-list"]],inputs:{month:"month",data:"data"},outputs:{openShipmentModal:"openShipmentModal",filterPartner:"filterPartner"},decls:18,vars:11,consts:[["fxLayout","column",1,"list"],["fxLayout","column","fxLayoutAlign","center ",1,"list-header"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","50",1,"list-header-name"],["fxFlex","50"],["itemSize","202","fxLayout","column",1,"list-content"],[1,"list-cards"],["listScroll",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"profit-status-card",3,"shipment","i"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"div",3),N.Lc(4),N.Wb(),N.Xb(5,"div",4),N.Lc(6),N.kc(7,"number"),N.Wb(),N.Wb(),N.Xb(8,"div",2),N.Xb(9,"div",3),N.Lc(10),N.Wb(),N.Xb(11,"div",4),N.Lc(12),N.kc(13,"number"),N.Wb(),N.Wb(),N.Wb(),N.Xb(14,"cdk-virtual-scroll-viewport",5),N.Xb(15,"div",6,7),N.Jc(17,kt,2,2,"div",8),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(4),N.Nc(" Month\xa0:\xa0\xa0\xa0\xa0\xa0\xa0\xa0",e.data[e.month].name," "),N.Db(2),N.Nc(" Net Revenue\xa0:\xa0\xa0\xa0",N.mc(7,5,e.data[e.month].total,"1.0-0")," "),N.Db(4),N.Nc(" Shipment\xa0:\xa0\xa0\xa0\xa0",e.data[e.month].data.length," "),N.Db(2),N.Nc(" Correct\xa0:\xa0\xa0",N.mc(13,8,e.data[e.month].total_correct,"1.0-0")," "),N.Db(5),N.pc("cdkVirtualForOf",e.data[e.month].data))},directives:[$.d,$.c,$.b,y.e,y.a,y.d,Mt],pipes:[H.g],styles:[".profit-status-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}.profit-status-list .list{max-height:100%;border-radius:2px;-webkit-transition:box-shadow .15s ease;transition:box-shadow .15s ease}.profit-status-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){.profit-status-list .list .list-header{height:48px;min-height:48px}}.profit-status-list .list .list-content{position:relative;height:1010px;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.profit-status-list .list .list-content .list-cards{position:relative;min-height:32px}.profit-status-list .list .list-footer{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 0 auto;border-top:1px solid;min-height:48px}.profit-status-list .list .list-footer .add-card-button{position:relative;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:600;font-size:14px;cursor:pointer;border-radius:2px}.profit-status-list .list .list-footer .add-card-button mat-icon{margin-right:8px}.profit-status-list .list .list-footer .add-card-button .table-balance{font-size:12px!important}.profit-status-list .list .list-footer .add-card-button .table-balance td,.profit-status-list .list .list-footer .add-card-button .table-balance th{padding:4px!important}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-eur,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-eur{padding:0 8px;background:#4caf50;color:#fff}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-usd,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-usd{padding:0 8px;background:#b3e5fc}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-vnd,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-vnd{padding:0 8px;background:#ffecb3}.profit-status-list .list .list-footer .add-card-button .table-balance td .total-other,.profit-status-list .list .list-footer .add-card-button .table-balance th .total-other{padding:0 8px;background:#ef5350;color:#fff}.profit-status-list .list .list-footer .add-card-button .table-balance .sticky-col{width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#ffcf9c;z-index:20}"],encapsulation:2}),t})();const Wt=function(){return{duration:"350ms",x:"100%"}},Ct=function(t){return{value:"*",params:t}};function Ot(t,e){if(1&t&&N.Sb(0,"profit-status-list",4),2&t){const t=e.$implicit,r=N.jc();N.pc("month",t)("data",r.totalMonth)("@animate",N.rc(4,Ct,N.qc(3,Wt)))}}const Pt=function(){return{value:"50"}};let Lt=(()=>{class t{constructor(t,e,r){this._activatedRoute=t,this.profitService=e,this.authService=r,this.totalMonth={},this.arrMonth=[],this.height=560,this._unsubscribeAll=new F.a}ngOnInit(){this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.width<600?t.height-16:t.height-64-64-16}),this.authService.changeScreen.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{let e=t?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight-16+e:this.authService.screenHeight-64-64-16+e}),this.profitService.onCompleteChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.totalMonth=this.profitService.totalCompleteMonth,this.arrMonth=this.profitService.arrCompleteMonth})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(t){}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(i.a),N.Rb(B),N.Rb(T.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-status"]],viewQuery:function(t,e){var r;1&t&&N.Sc(V.a,!0),2&t&&N.wc(r=N.gc())&&(e.listScroll=r.first)},features:[N.Bb()],decls:5,vars:5,consts:[["id","board"],["fxFlex","",1,"board-content-wrapper"],["fxLayout","row",1,"board-content","ngx-dnd-container"],["class","profit-status-list list-wrapper",3,"month","data",4,"ngFor","ngForOf"],[1,"profit-status-list","list-wrapper",3,"month","data"]],template:function(t,e){1&t&&(N.Xb(0,"mat-sidenav-container"),N.Xb(1,"div",0),N.Xb(2,"div",1),N.Xb(3,"div",2),N.Jc(4,Ot,1,6,"profit-status-list",3),N.Wb(),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Ic("height",e.height,"px"),N.Db(3),N.pc("@animateStagger",N.qc(4,Pt)),N.Db(1),N.pc("ngForOf",e.arrMonth))},directives:[O.a,$.b,$.d,H.s,Xt],styles:["profit-status mat-sidenav-container{width:100%}profit-status mat-sidenav-container #board{display:-webkit-box;display:flex;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;flex-direction:column!important;height:100%;background:#fff}profit-status mat-sidenav-container #board .board-content-wrapper{position:relative;height:100%}profit-status mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .list-wrapper{height:100%}profit-status mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:St.a}}),t})();class Dt{constructor(t){this.name=t.name||"",this.month=t.month||0,this.year=t.month||0,this.revenue=t.revenue||0,this.cost=t.cost||0,this.correct=t.correct||0,this.otherIn=t.otherIn||0,this.otherOut=t.otherOut||0,this.count_shipment=t.count_shipment||0,this.data=t.data||[],this.total=t.total||0,this.total_correct=t.total_correct||0}}let At=(()=>{class t{constructor(){}ngOnInit(){this.data=new Dt(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-item-month"]],inputs:{data:"data",month:"month",person:"person"},decls:27,vars:18,consts:[[1,"list-card-details"],[1,"list-card-name"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-badges"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"badge","due-date","mr-8"],[1,"text-truncate","w-100-p"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"badge","check-items"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","70",1,"owner","mr-8"],["fxFlex","30","fxLayout","row","fxLayoutAlign","end center",1,"complete"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer","pt-16","pb-16"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-size-12"],["fxLayout","row","fxLayoutAlign","end center"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Lc(2),N.Wb(),N.Xb(3,"div",2),N.Xb(4,"span",3),N.Xb(5,"span",4),N.Lc(6),N.kc(7,"number"),N.Wb(),N.Wb(),N.Xb(8,"span",5),N.Xb(9,"span"),N.Lc(10),N.kc(11,"number"),N.Wb(),N.Wb(),N.Wb(),N.Xb(12,"div",2),N.Xb(13,"span",6),N.Xb(14,"span",4),N.Lc(15),N.Wb(),N.Wb(),N.Xb(16,"span",7),N.Sb(17,"span"),N.Wb(),N.Wb(),N.Wb(),N.Xb(18,"div",8),N.Xb(19,"div",9),N.Xb(20,"span",10),N.Lc(21),N.kc(22,"number"),N.Wb(),N.Wb(),N.Xb(23,"div",11),N.Xb(24,"span",10),N.Lc(25),N.kc(26,"number"),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(2),N.Mc(e.person),N.Db(4),N.Mc(N.mc(7,6,e.data.total,"1.0-0")),N.Db(4),N.Mc(N.mc(11,9,e.data.total_correct,"1.0-0")),N.Db(5),N.Nc("Shipment: ",e.data.count_shipment,""),N.Db(6),N.Nc(" In: ",N.mc(22,12,e.data.otherIn,"1.0-0")," "),N.Db(4),N.Nc(" Out: ",N.mc(26,15,e.data.otherOut,"1.0-0")," "))},directives:[$.d,$.c,$.b],pipes:[H.g],styles:["profit-item-month{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;cursor:pointer;background-color:#fff;border:1px solid rgba(0,0,0,.12)}profit-item-month .list-card-details{padding:16px 16px 0}profit-item-month .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}profit-item-month .list-card-details .list-card-badges{margin-bottom:12px}profit-item-month .list-card-details .list-card-badges .badge{padding:4px;border-radius:2px}profit-item-month .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}profit-item-month .list-card-details .list-card-badges .badge.check-items{font-weight:100;color:#fff;background-color:rgba(0,0,0,.4)}profit-item-month .list-card-details .list-card-badges .badge.due-date{font-weight:100;color:#fff;background-color:#4caf50}profit-item-month .list-card-details .list-card-members{margin-bottom:12px}profit-item-month .list-card-details .list-card-members .list-card-member{margin-right:8px}profit-item-month .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}profit-item-month .list-card-footer{padding:0 16px;border-top:1px solid rgba(0,0,0,.12)}profit-item-month .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}profit-item-month .list-card-footer .list-card-footer-item .value{padding-left:8px}profit-item-month .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}"],encapsulation:2,data:{animation:St.a}}),t})();function Ft(t,e){if(1&t&&(N.Xb(0,"div"),N.Sb(1,"profit-item-month",9),N.Wb()),2&t){const t=e.$implicit,r=N.jc();N.Db(1),N.pc("person",t)("data",r.data[t])}}let It=(()=>{class t{constructor(){this.openShipmentModal=new N.o,this.filterPartner=new N.o,this.total={total:0,length:0,total_correct:0}}ngOnInit(){if("none"==this.month)this.monthName="None";else{let t=this.month.split("-");this.monthName=(parseInt(t[1])+1).toString()+"-"+t[0],this.total={total:0,length:0,total_correct:0}}this.arrPerson.map(t=>{this.data[t]&&(this.total.total+=this.data[t].total,this.total.length+=this.data[t].count_shipment,this.total.total_correct+=this.data[t].total_correct)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-month-list"]],inputs:{month:"month",data:"data",arrPerson:"arrPerson"},outputs:{openShipmentModal:"openShipmentModal",filterPartner:"filterPartner"},decls:18,vars:11,consts:[["fxLayout","column",1,"list"],["fxLayout","column","fxLayoutAlign","center ",1,"list-header"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","50",1,"list-header-name"],["fxFlex","50"],["fxLayout","column",1,"list-content"],[1,"list-cards"],["listScroll",""],[4,"ngFor","ngForOf"],[1,"profit-item-month",3,"person","data"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"div",3),N.Lc(4),N.Wb(),N.Xb(5,"div",4),N.Lc(6),N.kc(7,"number"),N.Wb(),N.Wb(),N.Xb(8,"div",2),N.Xb(9,"div",3),N.Lc(10),N.Wb(),N.Xb(11,"div",4),N.Lc(12),N.kc(13,"number"),N.Wb(),N.Wb(),N.Wb(),N.Xb(14,"div",5),N.Xb(15,"div",6,7),N.Jc(17,Ft,2,2,"div",8),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Db(4),N.Nc(" Month\xa0:\xa0\xa0\xa0\xa0\xa0\xa0\xa0",e.monthName," "),N.Db(2),N.Nc(" Net Revenue\xa0:\xa0\xa0\xa0",N.mc(7,5,e.total.total,"1.0-0")," "),N.Db(4),N.Nc(" Shipment\xa0:\xa0\xa0\xa0\xa0",e.total.length," "),N.Db(2),N.Nc(" Correct\xa0:\xa0\xa0",N.mc(13,8,e.total.total_correct,"1.0-0")," "),N.Db(5),N.pc("ngForOf",e.arrPerson))},directives:[$.d,$.c,$.b,H.s,At],pipes:[H.g],styles:[".profit-month-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}.profit-month-list .list{max-height:100%;border-radius:2px;-webkit-transition:box-shadow .15s ease;transition:box-shadow .15s ease}.profit-month-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){.profit-month-list .list .list-header{height:48px;min-height:48px}}.profit-month-list .list .list-content{position:relative;height:1010px;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.profit-month-list .list .list-content .list-cards{position:relative;min-height:32px}"],encapsulation:2}),t})();const jt=function(){return{duration:"350ms",x:"100%"}},Nt=function(t){return{value:"*",params:t}};function Tt(t,e){if(1&t&&N.Sb(0,"profit-month-list",4),2&t){const t=e.$implicit,r=N.jc();N.pc("month",t)("arrPerson",r.ctrlMonth.person[t])("data",r.totalMonth[t])("@animate",N.rc(5,Nt,N.qc(4,jt)))}}const zt=function(){return{value:"50"}};let Bt=(()=>{class t{constructor(t,e,r){this._activatedRoute=t,this.profitService=e,this.authService=r,this.totalMonth={},this.height=560,this._unsubscribeAll=new F.a}ngOnInit(){this.profitService.changeScreen(this.profitService.fullScreen),this.authService.windowSizeChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{this.height=t.width<600?t.height-16:t.height-64-64-16}),this.authService.changeScreen.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{let e=t?64:0;this.height=this.authService.screenWidth<600?this.authService.screenHeight-16+e:this.authService.screenHeight-64-64-16+e}),this.profitService.onPersonChanged.pipe(Object(E.a)(this._unsubscribeAll)).subscribe(t=>{console.log(t),this.totalMonth=this.profitService.totalPersonMonth,this.ctrlMonth=this.profitService.ctrlProfitMonth})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(t){}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(i.a),N.Rb(B),N.Rb(T.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["profit-month"]],viewQuery:function(t,e){var r;1&t&&N.Sc(V.a,!0),2&t&&N.wc(r=N.gc())&&(e.listScroll=r.first)},features:[N.Bb()],decls:5,vars:5,consts:[["id","board"],["fxFlex","",1,"board-content-wrapper"],["fxLayout","row",1,"board-content","ngx-dnd-container"],["class","profit-month-list list-wrapper",3,"month","arrPerson","data",4,"ngFor","ngForOf"],[1,"profit-month-list","list-wrapper",3,"month","arrPerson","data"]],template:function(t,e){1&t&&(N.Xb(0,"mat-sidenav-container"),N.Xb(1,"div",0),N.Xb(2,"div",1),N.Xb(3,"div",2),N.Jc(4,Tt,1,7,"profit-month-list",3),N.Wb(),N.Wb(),N.Wb(),N.Wb()),2&t&&(N.Ic("height",e.height,"px"),N.Db(3),N.pc("@animateStagger",N.qc(4,zt)),N.Db(1),N.pc("ngForOf",e.ctrlMonth.month))},directives:[O.a,$.b,$.d,H.s,It],styles:["profit-month mat-sidenav-container{width:100%}profit-month mat-sidenav-container #board{display:-webkit-box;display:flex;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;flex-direction:column!important;height:100%;background:#fff}profit-month mat-sidenav-container #board .board-content-wrapper{position:relative;height:100%}profit-month mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .list-wrapper{height:100%}profit-month mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:St.a}}),t})();var Rt=r("jaxi"),Jt=r("1jcm"),Ht=r("nmyD");let qt=(()=>{class t{}return t.\u0275mod=N.Pb({type:t}),t.\u0275inj=N.Ob({factory:function(e){return new(e||t)},imports:[[s.c,Rt.c,p.b,W.c,o.b,L.a,u.b,Jt.b,d.c,Ht.a,k.a]]}),t})();r.d(e,"ProfitModule",(function(){return Gt}));const Vt=[{path:"report",component:mt,resolve:{data:B},children:[{path:"complete",component:wt},{path:"status",component:Lt},{path:"person",component:Bt}]}];let Gt=(()=>{class t{}return t.\u0275mod=N.Pb({type:t}),t.\u0275inj=N.Ob({factory:function(e){return new(e||t)},providers:[D.a,B],imports:[[i.k.forChild(Vt),o.b,L.a,n.b,a.c,s.c,c.b,l.e,p.b,h.b,b.c,d.c,u.b,f.c,m.e,g.b,x.b,v.b,w.d,S.e,y.g,_.b,M.a.withComponents([]),X.t,W.c,C.b,O.b,P.a,qt,k.f]]}),t})()}}]);