function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(s){i=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{IOBc:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("5HBU"),i=n("bTqV"),r=n("kmnG"),o=n("NFeN"),c=n("qFsG"),s=n("wZkO"),l=n("/t3+"),u=n("bSwM"),b=n("+0xr"),d=n("FKr1"),h=n("MutI"),f=n("fXoL"),p=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=f.Pb({type:e}),e.\u0275inj=f.Ob({factory:function(t){return new(t||e)},imports:[[a.a,i.c,r.e,o.b,c.c,s.c,l.b,u.b,d.t,h.c,b.k]]}),e}()},cfqv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var a=n("8LU1"),i=n("vxfF"),r=n("fXoL"),o=n("HDdC"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;_classCallCheck(this,e),this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}return _createClass(e,[{key:"getAverageItemSize",value:function(){return this._averageItemSize}},{key:"addSample",value:function(e,t){var n=this._totalWeight+e.end-e.start;if(n){var a=(t+this._averageItemSize*this._totalWeight)/n;a&&(this._averageItemSize=a,this._totalWeight=n)}}},{key:"reset",value:function(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}]),e}(),s=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c;_classCallCheck(this,e),this.scrolledIndexChange=new o.a((function(){throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")})),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=n,this._averager=a}return _createClass(e,[{key:"attach",value:function(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}},{key:"detach",value:function(){this._viewport=null}},{key:"onContentScrolled",value:function(){this._viewport&&this._updateRenderedContentAfterScroll()}},{key:"onDataLengthChanged",value:function(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}},{key:"onContentRendered",value:function(){this._viewport&&this._checkRenderedContentSize()}},{key:"onRenderedOffsetChanged",value:function(){this._viewport&&this._checkRenderedContentOffset()}},{key:"scrollToIndex",value:function(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}},{key:"updateBufferSize",value:function(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}},{key:"_updateRenderedContentAfterScroll",value:function(){var e=this._viewport,t=e.measureScrollOffset(),n=t-this._lastScrollOffset,a=Math.abs(n),i=e.getRenderedRange(),r=0;if(n<0){var o=i.start*this._averager.getAverageItemSize();n-=r=Math.round((o-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,a/(t+a)))),a=Math.abs(n)}var c=this._lastScrollOffset-this._lastRenderedContentOffset,s=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),l=a+this._minBufferPx-(n<0?c:s);if(l>0)if(a>=e.getViewportSize())this._renderContentForCurrentOffset();else{var u,b,d=Math.max(0,Math.ceil((l-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),h=(n<0?s:c)-this._minBufferPx+a,f=Math.floor(h/this._averager.getAverageItemSize()/(this._removalFailures+1)),p=Math.min(i.end-i.start,Math.max(0,f)),m=this._expandRange(i,n<0?d:0,n>0?d:0);if(n<0?m.end=Math.max(m.start+1,m.end-p):m.start=Math.min(m.end-1,m.start+p),n<0){var v=e.measureRangeSize({start:m.end,end:i.end});v<=h?(u=this._lastRenderedContentOffset+this._lastRenderedContentSize-v,this._removalFailures=0):(m.end=i.end,u=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),b="to-end"}else{var g=e.measureRangeSize({start:i.start,end:m.start});g<=h?(u=this._lastRenderedContentOffset+g,this._removalFailures=0):(m.start=i.start,u=this._lastRenderedContentOffset,this._removalFailures++),b="to-start"}e.setRenderedRange(m),e.setRenderedContentOffset(u+r,b)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}},{key:"_checkRenderedContentSize",value:function(){var e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}},{key:"_checkRenderedContentOffset",value:function(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}},{key:"_renderContentForCurrentOffset",value:function(){var e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;var n=this._averager.getAverageItemSize(),a=Math.min(e.getDataLength()-1,Math.floor(t/n)),i=Math.ceil(this._maxBufferPx/n),r=this._expandRange(this._getVisibleRangeForIndex(a),i,i);e.setRenderedRange(r),e.setRenderedContentOffset(n*r.start)}},{key:"_getVisibleRangeForIndex",value:function(e){var t=this._viewport,n={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},a=n.end-t.getDataLength();return a>0&&(n.start=Math.max(0,n.start-a)),n}},{key:"_expandRange",value:function(e,t,n){var a=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(a.getDataLength(),e.end+n)}}},{key:"_updateTotalContentSize",value:function(e){var t=this._viewport,n=t.getRenderedRange(),a=e+(t.getDataLength()-(n.end-n.start))*this._averager.getAverageItemSize();t.setTotalContentSize(a)}}]),e}();function l(e){return e._scrollStrategy}var u=function(){var e=function(){function e(){_classCallCheck(this,e),this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new s(this.minBufferPx,this.maxBufferPx)}return _createClass(e,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=Object(a.f)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=Object(a.f)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:i.h,useFactory:l,deps:[Object(r.V)((function(){return e}))]}]),r.Bb()]}),e}(),b=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e}()},x6yr:function(e,t,n){"use strict";n.r(t);var a,i,r=n("tyNb"),o=n("5HBU"),c=n("STbY"),s=n("/1cH"),l=n("iadO"),u=n("bTqV"),b=n("7EHt"),d=n("kmnG"),h=n("NFeN"),f=n("Qu3c"),p=n("qFsG"),m=n("wZkO"),v=n("d3UM"),g=n("QibW"),y=n("0IaG"),x=n("/t3+"),k=n("bSwM"),_=n("M9IT"),w=n("xHqg"),S=n("A5z7"),X=n("bv9b"),W=n("XhcP"),C=n("FKr1"),L=n("1jcm"),D=n("+0xr"),V=n("Dh3D"),A=n("IOBc"),O=n("212X"),F=n("LPQX"),R=n("3Pt+"),M=n("XNiG"),I=n("1G5W"),P=n("PVWW"),B=n("fXoL"),z=n("HX77"),T=n("2Vo4"),j=n("jD4G"),N=n("tk/3"),q=n("qXBG"),H=n("ofXK"),E=n("0Zc1"),J=((a=function(){function e(t,n,a,i){_classCallCheck(this,e),this._httpClient=t,this.authService=n,this.datePipe=a,this.commonService=i,this.container=[],this.voyageList=[],this.filterVoyage=[],this.supplier=[],this.filterBy={date:(new Date).setDate((new Date).getDate()-30)},this.onVoyageListChanged=new T.a([]),this.onContainerChanged=new T.a([]),this.onVoyageChanged=new T.a([]),this.onDataChanged=new T.a([]),this.onFilterChanged=new M.a,this.onSearchTextChanged=new M.a}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.authService.routerData=e,new Promise((function(e,n){Promise.all([t.getVoyageList(),t.getData()]).then((function(n){_slicedToArray(n,1)[0],t.onFilterChanged.subscribe((function(e){t.filterBy=e,t.getFilterVoyage()})),t.onSearchTextChanged.subscribe((function(e){t.searchText=e,t.getFilterVoyage()})),e()}),n)}))}},{key:"getVoyageList",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,a){e._httpClient.get(e.authService.apiUrl+"/sel/container/vessel",t).subscribe((function(t){e.voyageList=t,e.getFilterVoyage(),n(e.filterVoyage)}),a)}))}},{key:"getData",value:function(){var e=this,t={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,a){e._httpClient.get(e.authService.apiUrl+"/sel/container/vessel-data",t).subscribe((function(t){e.containerCheck=t[0],e.supplier=t[1],e.onDataChanged.next(t),n(t)}),a)}))}},{key:"getContainerByVoyageName",value:function(e,t,n,a){var i=this,r={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,c){i._httpClient.get(i.authService.apiUrl+"/vessel-load/container/"+e+"/"+t+"/"+n+"/"+a,r).subscribe((function(e){i.container=e,i.onContainerChanged.next(e),o(e)}),c)}))}},{key:"getVesselByVoyageName",value:function(e,t,n,a){var i=this,r={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(o,c){i._httpClient.get(i.authService.apiUrl+"/vessel-load/vessel/"+e+"/"+t+"/"+n+"/"+a,r).subscribe((function(e){i.voyage=e,i.onVoyageChanged.next(e),o(e)}),c)}))}},{key:"createMovementFulim",value:function(e){var t=this,n={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){t._httpClient.post(t.authService.apiUrl+"/vessel-load/save-fulim",e,n).subscribe((function(e){a(e)}),i)}))}},{key:"deleteMovementFulim",value:function(e){var t=this,n={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){t._httpClient.delete(t.authService.apiUrl+"/vessel-load/fulim-id/"+e,n).subscribe((function(e){a(e)}),i)}))}},{key:"createMovementLoad",value:function(e){var t=this,n={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){t._httpClient.post(t.authService.apiUrl+"/vessel-load/save-load",e,n).subscribe((function(e){a(e)}),i)}))}},{key:"deleteMovementLoad",value:function(e){var t=this,n={headers:new N.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(a,i){t._httpClient.delete(t.authService.apiUrl+"/vessel-load/load-id/"+e,n).subscribe((function(e){a(e)}),i)}))}},{key:"getFilterVoyage",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.voyageList));this.filterBy.vessel&&(t=this.commonService.filterText(t,this.filterBy.vessel,"vessel_name")),this.filterBy.load_port&&(t=this.commonService.filterText(t,this.filterBy.load_port,"load_port_name")),this.filterBy.load_terminal&&(t=this.commonService.filterText(t,this.filterBy.load_terminal,"load_terminal_name")),this.filterBy.discharge_port&&(t=this.commonService.filterText(t,this.filterBy.discharge_port,"discharge_port_name")),this.filterBy.discharge_terminal&&(t=this.commonService.filterText(t,this.filterBy.discharge_terminal,"discharge_terminal_name")),this.filterBy.shipment&&(t=t.filter((function(t){return t.shipment_code.toLowerCase().includes(e.filterBy.shipment.toLowerCase())||t.bill.toLowerCase().includes(e.filterBy.shipment.toLowerCase())}))),this.filterBy.date&&(t=this.commonService.filterDate(t,this.filterBy.date,"depart_time",10)),this.searchText&&""!==this.searchText&&(t=j.a.filterArrayByString(t,this.searchText)),this.filterVoyage=t,this.onVoyageListChanged.next(this.filterVoyage)}},{key:"createData",value:function(e,t){var n=this,a=[];return e.map((function(e,i){if(n.checkHeader(i,t)){var r,o="",c=e[t.column.container-1].trim();if(c?n.checkContNum(c)?(r=n.containerCheck.find((function(e){return e.cont_number==c})))||(o+="Error: invalid container number: "+c):o+="Error: cont number2 ":o+="Error: cont number ",r){var s=n.container.find((function(e){return e.container.cont_number==r.cont_number}));"Load"==t.movement&&s&&s.load&&(o+="Duplicate movement"),"Fulim"==t.movement&&(s&&s.fulim&&(o="  Duplicate movement"),s&&s.load?s.load.load_terminal!=n.currenVoyage.load_terminal&&(o+=" Load terminal invalid"):o+=" Must load before fulim")}"Load"==t.movement&&a.push({container:r,document:e[t.column.document-1],place:{id:n.currenVoyage.supplier_id,short_name:n.currenVoyage.supplier_short_name,full_name:n.currenVoyage.supplier_name},date:n.datePipe.transform(new Date(t.date),"yyyy-MM-dd"),time:t.time,move:{id:9,code:"LOAD"},voyage:n.currenVoyage,error:o}),"Fulim"==t.movement&&a.push({container:r,document:e[t.column.document-1],place:t.place,date:n.datePipe.transform(new Date(t.date),"yyyy-MM-dd"),time:t.time,move:{id:3,code:"FULIM"},voyage:n.currenVoyage,error:o})}})),this.dataView=a,a}},{key:"checkHeader",value:function(e,t){return!t.header||e>0}},{key:"getDateTime",value:function(e,t){if("string"==typeof e){var n,a,i=null,r=null;if(t.time?(i=(n=_slicedToArray(e.trim().split(" "),2))[0],r=n[1]):i=e,r){var o=r.trim().split(":");o[0]=parseInt(o[0])<10?"0"+o[0]:o[0],o[1]=parseInt(o[1])<10?"0"+o[1]:o[1],r=o[0]+":"+o[1]}var c=this.type.find((function(e){return e.id==t.dateType})),s=t.year;switch(!0){case 1==c.id&&s:case 2==c.id&&s:a=i.match(/^\d{1,2}[./-]\d{1,2}[./-]\d{4}$/g);break;case 3==c.id&&s:case 4==c.id&&s:a=i.match(/^\d{4}[./-]\d{1,2}[./-]\d{1,2}$/g);break;case 1==c.id&&!s:case 2==c.id&&!s:a=i.match(/^\d{1,2}[./-]\d{1,2}[./-]\d{2}$/g);break;case 3==c.id&&!s:case 4==c.id&&!s:a=i.match(/^\d{2}[./-]\d{1,2}[./-]\d{1,2}$/g)}if(a){var l=i.split(/[./-]+/);s||(l[c.year]=2e3+parseInt(l[c.year])),i=new Date(l[c.year],l[c.month]-1,l[c.day])}else i=null;return[i,r]}if(e>25569&&e<365*((new Date).getFullYear()-1970+1)+25569){var u=new Date(86400*(e-25569)*1e3+6e4*(new Date).getTimezoneOffset()+500);return[u,this.datePipe.transform(u,"HH:mm")]}return[null,null]}},{key:"checkContNum",value:function(e){if(11!=e.length)return!1;for(var t,n,a=e,i=0,r=0;r<a.length;r++){if(t=a.charAt(r),r<4){if(!isNaN(t))return!1;switch(t){case"A":t=10;break;case"B":t=12;break;case"C":t=13;break;case"D":t=14;break;case"E":t=15;break;case"F":t=16;break;case"G":t=17;break;case"H":t=18;break;case"I":t=19;break;case"J":t=20;break;case"K":t=21;break;case"L":t=23;break;case"M":t=24;break;case"N":t=25;break;case"O":t=26;break;case"P":t=27;break;case"Q":t=28;break;case"R":t=29;break;case"S":t=30;break;case"T":t=31;break;case"U":t=32;break;case"V":t=34;break;case"W":t=35;break;case"X":t=36;break;case"Y":t=37;break;case"Z":t=38}}else{if(isNaN(t))return!1;t=Number(t)}r==a.length-1?n=t:i+=t*Math.pow(2,r)}return(i%11==10?0:i%11)==n}}]),e}()).\u0275fac=function(e){return new(e||a)(B.bc(N.a),B.bc(q.a),B.bc(H.f),B.bc(E.a))},a.\u0275prov=B.Nb({token:a,factory:a.\u0275fac}),a),G=n("vI/F"),U=n("B9zo"),Y=n("fE3o"),$=n("XiUz"),Z=n("EwFO"),Q=((i=function(){function e(t,n){_classCallCheck(this,e),this.formBuilder=t,this.authService=n,this.height=560,this.changeSetting=new B.o,this.form=this.formBuilder.group({valid:[null]}),this.displayedColumns=[],this.view="main",this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-18})),this.authService.changeScreen.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-18:e.authService.screenHeight-64-64-18}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"initForm",value:function(){return this.formBuilder.group({column:this.formBuilder.array([])})}},{key:"addColumn",value:function(e){var t={};t[e]=!!(this.authService.screenWidth>600||this.authService.screenWidth<600&&["Price","Unit","Volume","Amount"].includes(e))&&(!["Price","Unit","Volume","Amount"].includes(e)||{value:!0,disabled:!0}),this.columnAdd.push(this.formBuilder.group(t))}},{key:"checkAll",value:function(){var e=this;this.displayedColumns.map((function(t,n){e.form.controls.column.controls[n].controls[t].setValue(!0)}))}},{key:"toggleCardCover",value:function(){}},{key:"toggleSubscription",value:function(){}},{key:"columnAdd",get:function(){return this.form.get("column")}}]),e}()).\u0275fac=function(e){return new(e||i)(B.Rb(R.d),B.Rb(q.a))},i.\u0275cmp=B.Lb({type:i,selectors:[["vessel-load-setting"]],inputs:{displayObject:"displayObject"},outputs:{changeSetting:"changeSetting"},decls:13,vars:3,consts:[["fxLayout","column",2,"border-right","1px solid #E0E0E0"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","center center",1,"h-100-p"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content",3,"formGroup"],[1,"group","mt-32"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","","type","button",1,"ml-4","mr-4","mb-12",2,"border","1px solid #039BE5","border-radius","8px","color","#696969",3,"click"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Xb(1,"div",1),B.Xb(2,"div",2),B.Xb(3,"div"),B.Lc(4,"Settings"),B.Wb(),B.Wb(),B.Wb(),B.Xb(5,"div",3),B.Xb(6,"form",4),B.Xb(7,"div",5),B.Xb(8,"h2"),B.Lc(9,"Column"),B.Wb(),B.Xb(10,"div",6),B.Xb(11,"button",7),B.fc("click",(function(e){return t.checkAll()})),B.Lc(12,"All column"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(5),B.Ic("height",t.height,"px"),B.Db(1),B.pc("formGroup",t.form))},directives:[$.d,$.c,Z.a,R.A,R.q,R.h,u.b],styles:["vessel-load-setting .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}vessel-load-setting .navbar-scroll-container{background:#fff!important}vessel-load-setting .navbar-scroll-container .navbar-content{padding-top:0}vessel-load-setting .navbar-scroll-container .navbar-content .group{margin:0 16px 28px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}vessel-load-setting .navbar-scroll-container .navbar-content .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}vessel-load-setting .navbar-scroll-container .navbar-content .group .item{padding:1.2em 0 .8em 1em;font-size:16px}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2,data:{animation:P.a}}),i),K=n("0JVi"),ee=n("znSr"),te=["googleSheet"];function ne(e,t){if(1&e){var n=B.Yb();B.Xb(0,"div"),B.Xb(1,"button",15),B.fc("click",(function(e){return B.Bc(n),B.jc().selectVoyage.emit(null)})),B.Xb(2,"mat-icon",16),B.Lc(3,"arrow_back"),B.Wb(),B.Wb(),B.Wb()}}function ae(e,t){if(1&e){var n=B.Yb();B.Xb(0,"button",17),B.fc("click",(function(e){return B.Bc(n),B.jc().openPicker()})),B.Xb(1,"span"),B.Lc(2,"Get file2"),B.Wb(),B.Wb()}if(2&e){var a=B.jc();B.pc("disabled",!a.validForm)}}function ie(e,t){if(1&e){var n=B.Yb();B.Xb(0,"button",12),B.fc("click",(function(e){B.Bc(n);var t=B.jc();return e.stopPropagation(),t.changeScreen(!0)})),B.Xb(1,"mat-icon"),B.Lc(2,"flip_to_front"),B.Wb(),B.Wb()}}function re(e,t){if(1&e){var n=B.Yb();B.Xb(0,"button",12),B.fc("click",(function(e){B.Bc(n);var t=B.jc();return e.stopPropagation(),t.changeScreen(!1)})),B.Xb(1,"mat-icon"),B.Lc(2,"flip_to_back"),B.Wb(),B.Wb()}}var oe,ce=function(e){return{hide:e}},se=((oe=function(){function e(t,n,a){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=n,this.googleApiService=a,this.fullScreen=!1,this.changeType=new B.o,this.toggleSidebar=new B.o,this.showHideBar=new B.o,this.refreshPage=new B.o,this.selectVoyage=new B.o,this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.googleApiService.onFormChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.validForm=e.googleApiService.validForm}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngAfterViewInit",value:function(){var e=this;this.googleApiService.onGapiChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.auth=t,e.attachSignin()})),this.googleApiService.onFileDataChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){}))}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}},{key:"attachSignin",value:function(){var e=this;this.auth.attachClickHandler(this.googleSheet._elementRef.nativeElement,{},(function(t){e.token=e.googleApiService.token=t.getAuthResponse().access_token,e.googleApiService.createPicker()}),(function(e){alert("ERROR"),console.error(e)}))}},{key:"openPicker",value:function(){this.googleApiService.createPicker()}},{key:"checkForm",value:function(){this.googleApiService.onValidateForm.next(!0)}}]),e}()).\u0275fac=function(e){return new(e||oe)(B.Rb(q.a),B.Rb(K.b),B.Rb(G.a))},oe.\u0275cmp=B.Lb({type:oe,selectors:[["vessel-load-header"]],viewQuery:function(e,t){var n;1&e&&B.Sc(te,!0),2&e&&B.wc(n=B.gc())&&(t.googleSheet=n.first)},inputs:{type:"type",sidebarName:"sidebarName",currentVoyage:"currentVoyage"},outputs:{changeType:"changeType",toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",selectVoyage:"selectVoyage"},decls:30,vars:8,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["type","button","mat-raised-button","","color","accent","id","googleSheet",1,"m-8",3,"disabled","ngClass"],["googleSheet",""],["type","button","mat-raised-button","","color","accent","class","m-8","id","googleSheet2",3,"disabled","click",4,"ngIf"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"secondary-text"],["type","button","mat-raised-button","","color","accent","id","googleSheet2",1,"m-8",3,"disabled","click"]],template:function(e,t){1&e&&(B.Xb(0,"mat-toolbar",0),B.Xb(1,"div",1),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Xb(4,"button",4),B.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),B.Xb(5,"mat-icon"),B.Lc(6,"menu"),B.Wb(),B.Wb(),B.Xb(7,"button",5),B.fc("click",(function(e){return t.showHideBar.emit()})),B.Xb(8,"mat-icon"),B.Lc(9,"menu"),B.Wb(),B.Wb(),B.Jc(10,ne,4,0,"div",6),B.Wb(),B.Wb(),B.Xb(11,"div",7),B.Sb(12,"div",8),B.Xb(13,"button",9,10),B.Xb(15,"span"),B.Lc(16,"Get file1"),B.Wb(),B.Wb(),B.Jc(17,ae,3,1,"button",11),B.Sb(18,"div",8),B.Xb(19,"button",12),B.fc("click",(function(e){return e.stopPropagation(),t.refreshPage.emit()})),B.Xb(20,"mat-icon",13),B.Lc(21,"refresh"),B.Wb(),B.Wb(),B.Sb(22,"div",8),B.Jc(23,ie,3,0,"button",14),B.Jc(24,re,3,0,"button",14),B.Sb(25,"div",8),B.Xb(26,"button",12),B.fc("click",(function(e){return t.toggleSidebar.emit("vessel-load-setting")})),B.Xb(27,"mat-icon"),B.Lc(28,"settings"),B.Wb(),B.Wb(),B.Sb(29,"div",8),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(10),B.pc("ngIf",t.currentVoyage),B.Db(3),B.pc("disabled",!t.validForm)("ngClass",B.rc(6,ce,t.token)),B.Db(4),B.pc("ngIf",t.token),B.Db(6),B.pc("ngIf",!t.fullScreen),B.Db(1),B.pc("ngIf",t.fullScreen))},directives:[x.a,$.b,$.e,$.d,$.c,u.b,ee.b,h.a,H.t,H.q,ee.a],styles:["vessel-load-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}vessel-load-header.below{z-index:2}vessel-load-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}vessel-load-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}vessel-load-header .logo .logo-icon{width:38px}vessel-load-header .chat-panel-toggle-button,vessel-load-header .language-button,vessel-load-header .quick-panel-toggle-button,vessel-load-header .user-button,vessel-load-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){vessel-load-header .chat-panel-toggle-button,vessel-load-header .language-button,vessel-load-header .quick-panel-toggle-button,vessel-load-header .user-button,vessel-load-header fuse-search-bar{height:56px}}vessel-load-header .navbar-toggle-button{min-width:56px;height:56px}vessel-load-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){vessel-load-header .toolbar-separator{height:56px}}"],encapsulation:2}),oe),le=n("vxfF"),ue=n("cfqv");function be(e,t){if(1&e){var n=B.Yb();B.Xb(0,"tr"),B.Xb(1,"td"),B.Lc(2),B.Wb(),B.Xb(3,"td"),B.Xb(4,"a",4),B.fc("click",(function(e){B.Bc(n);var a=t.$implicit,i=B.jc();return e.stopPropagation(),i.selectVoyage.emit(a)})),B.Lc(5),B.Wb(),B.Wb(),B.Xb(6,"td",5),B.Lc(7),B.Wb(),B.Xb(8,"td"),B.Lc(9),B.kc(10,"date"),B.Wb(),B.Xb(11,"td"),B.Lc(12),B.Wb(),B.Xb(13,"td"),B.Lc(14),B.Wb(),B.Xb(15,"td"),B.Lc(16),B.kc(17,"date"),B.Wb(),B.Xb(18,"td"),B.Lc(19),B.Wb(),B.Xb(20,"td"),B.Lc(21),B.Wb(),B.Wb()}if(2&e){var a=t.$implicit,i=t.index;B.Db(2),B.Mc(i+1),B.Db(3),B.Mc(a.vessel_name),B.Db(1),B.pc("matTooltip",a.supplier_name)("matTooltipPosition","left"),B.Db(1),B.Mc(a.supplier_short_name),B.Db(2),B.Mc(B.mc(10,11,a.depart_time,"MM/dd/yyyy HH:mm")),B.Db(3),B.Mc(a.load_port_name),B.Db(2),B.Mc(a.load_terminal_name),B.Db(2),B.Mc(B.mc(17,14,a.arrive_time,"MM/dd/yyyy HH:mm")),B.Db(3),B.Mc(a.discharge_port_name),B.Db(2),B.Mc(a.discharge_terminal_name)}}var de,he=((de=function(){function e(t,n,a){_classCallCheck(this,e),this._activatedRoute=t,this.changeDetector=n,this.authService=a,this.selectVoyage=new B.o,this.height=560,this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-12-12-54-8})),this.authService.changeScreen.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-12-12-54-8:e.authService.screenHeight-64-12-12-54-8}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngAfterViewChecked",value:function(){this.changeDetector.detectChanges()}},{key:"inverseOfTranslation",get:function(){return this.viewPort&&this.viewPort._renderedContentOffset?"-".concat(this.viewPort._renderedContentOffset,"px"):"-0px"}}]),e}()).\u0275fac=function(e){return new(e||de)(B.Rb(r.a),B.Rb(B.h),B.Rb(q.a))},de.\u0275cmp=B.Lb({type:de,selectors:[["vessel-load-content"]],viewQuery:function(e,t){var n;1&e&&B.Sc(le.e,!0),2&e&&B.wc(n=B.gc())&&(t.viewPort=n.first)},inputs:{type:"type",voyageList:"voyageList"},outputs:{selectVoyage:"selectVoyage"},decls:25,vars:21,consts:[["fxLayout","column"],["autosize","",1,"h-100-p"],[1,"simple","table-voyage"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"cursor-pointer",3,"click"],[3,"matTooltip","matTooltipPosition"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Xb(1,"cdk-virtual-scroll-viewport",1),B.Xb(2,"table",2),B.Xb(3,"thead"),B.Xb(4,"tr"),B.Xb(5,"th"),B.Lc(6,"No"),B.Wb(),B.Xb(7,"th"),B.Lc(8,"Vessel"),B.Wb(),B.Xb(9,"th"),B.Lc(10,"Carrier"),B.Wb(),B.Xb(11,"th"),B.Lc(12,"Etd"),B.Wb(),B.Xb(13,"th"),B.Lc(14,"Load port"),B.Wb(),B.Xb(15,"th"),B.Lc(16,"Load terminal"),B.Wb(),B.Xb(17,"th"),B.Lc(18,"Eta"),B.Wb(),B.Xb(19,"th"),B.Lc(20,"Discharge port"),B.Wb(),B.Xb(21,"th"),B.Lc(22,"Discharge terminal"),B.Wb(),B.Wb(),B.Wb(),B.Xb(23,"tbody"),B.Jc(24,be,22,17,"tr",3),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Ic("height",t.height,"px"),B.Db(5),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(2),B.Ic("top",t.inverseOfTranslation),B.Db(3),B.pc("cdkVirtualForOf",t.voyageList))},directives:[$.d,le.e,ue.a,le.d,f.a],pipes:[H.f],styles:["vessel-load-content .table-voyage{font-size:12px}vessel-load-content .table-voyage td,vessel-load-content .table-voyage th{padding:8px!important;white-space:nowrap}vessel-load-content .table-voyage thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}vessel-load-content .table-voyage tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}vessel-load-content .table-voyage .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}vessel-load-content .table-voyage .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}vessel-load-content .table-voyage .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}vessel-load-content .table-voyage .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2,data:{animation:P.a}}),de),fe=["formDirective"];function pe(e,t){if(1&e){var n=B.Yb();B.Xb(0,"button",22),B.fc("click",(function(e){return B.Bc(n),B.jc().resetForm()})),B.Lc(1," Reset "),B.Wb()}}function me(e,t){if(1&e&&(B.Xb(0,"div",23),B.Xb(1,"div",7),B.Xb(2,"div",24),B.Xb(3,"h2"),B.Lc(4,"Voyage"),B.Wb(),B.Xb(5,"div",25),B.Lc(6),B.Wb(),B.Wb(),B.Xb(7,"div",24),B.Xb(8,"h2"),B.Lc(9,"Load port"),B.Wb(),B.Xb(10,"div",25),B.Lc(11),B.Wb(),B.Wb(),B.Xb(12,"div",24),B.Xb(13,"h2"),B.Lc(14,"Load terminal"),B.Wb(),B.Xb(15,"div",25),B.Lc(16),B.Wb(),B.Wb(),B.Xb(17,"div",24),B.Xb(18,"h2"),B.Lc(19,"Discharge port"),B.Wb(),B.Xb(20,"div",25),B.Lc(21),B.Wb(),B.Wb(),B.Xb(22,"div",24),B.Xb(23,"h2"),B.Lc(24,"Discharge terminal"),B.Wb(),B.Xb(25,"div",25),B.Lc(26),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e){var n=B.jc();B.Db(6),B.Mc(n.currentVoyage.vessel_name),B.Db(5),B.Mc(n.currentVoyage.load_port_name),B.Db(5),B.Mc(n.currentVoyage.load_terminal_name),B.Db(5),B.Mc(n.currentVoyage.discharge_port_name),B.Db(5),B.Mc(n.currentVoyage.discharge_terminal_name)}}var ve,ge=function(e){return{hide:e}},ye=((ve=function(){function e(t,n,a,i){_classCallCheck(this,e),this.formBuilder=t,this.authService=n,this.vesselLoadService=a,this.commonService=i,this.date=new Date((new Date).setDate((new Date).getDate()-30)),this.form=this.formBuilder.group({vessel:[null],voyage:[null],load_port:[null],load_terminal:[null],discharge_port:[null],discharge_terminal:[null],shipment:[null],date:[this.date]}),this.height=560,this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12})),this.form.valueChanges.subscribe((function(t){e.vesselLoadService.onFilterChanged.next(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"resetForm",value:function(){this.searchNgForm.resetForm(),this.form.controls.date.setValue(this.date)}},{key:"onSearchFormSubmit",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||ve)(B.Rb(R.d),B.Rb(q.a),B.Rb(J),B.Rb(E.a))},ve.\u0275cmp=B.Lb({type:ve,selectors:[["vessel-load-sidebar"]],viewQuery:function(e,t){var n;1&e&&B.Sc(fe,!0),2&e&&B.wc(n=B.gc())&&(t.searchNgForm=n.first)},inputs:{currentVoyage:"currentVoyage"},decls:48,vars:10,consts:[["name","form",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","button","class","ml-8 mr-8","style","border: 1px solid #F44336; border-radius: 8px; color: #696969","fxFlex","45",3,"click",4,"ngIf"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content",3,"ngClass"],[1,"nav","material2"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","matInput","","formControlName","vessel"],["fxFlex","100",1,"info-line"],["inputCheck","","matInput","","formControlName","load_port"],["inputCheck","","matInput","","formControlName","load_terminal"],["inputCheck","","matInput","","formControlName","discharge_port"],["inputCheck","","matInput","","formControlName","discharge_terminal"],["inputCheck","","matInput","","formControlName","shipment"],["inputCheck","","matInput","","name","date_from","formControlName","date","required","",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["class","navbar-content",4,"ngIf"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],[1,"navbar-content"],[1,"group","mt-32"],[1,"item"]],template:function(e,t){if(1&e&&(B.Xb(0,"form",0,1),B.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),B.Xb(2,"div",2),B.Xb(3,"div",3),B.Jc(4,pe,2,0,"button",4),B.Wb(),B.Wb(),B.Xb(5,"div",5),B.Xb(6,"div",6),B.Xb(7,"div",7),B.Xb(8,"div",8),B.Xb(9,"div",9),B.Xb(10,"mat-form-field",10),B.Xb(11,"mat-label"),B.Lc(12,"Vessel"),B.Wb(),B.Sb(13,"input",11),B.Wb(),B.Wb(),B.Xb(14,"div",12),B.Xb(15,"mat-form-field",10),B.Xb(16,"mat-label"),B.Lc(17,"Load port"),B.Wb(),B.Sb(18,"input",13),B.Wb(),B.Wb(),B.Xb(19,"div",12),B.Xb(20,"mat-form-field",10),B.Xb(21,"mat-label"),B.Lc(22,"Load terminal"),B.Wb(),B.Sb(23,"input",14),B.Wb(),B.Wb(),B.Xb(24,"div",12),B.Xb(25,"mat-form-field",10),B.Xb(26,"mat-label"),B.Lc(27,"Discharge port"),B.Wb(),B.Sb(28,"input",15),B.Wb(),B.Wb(),B.Xb(29,"div",12),B.Xb(30,"mat-form-field",10),B.Xb(31,"mat-label"),B.Lc(32,"Discharge terminal"),B.Wb(),B.Sb(33,"input",16),B.Wb(),B.Wb(),B.Xb(34,"div",12),B.Xb(35,"mat-form-field",10),B.Xb(36,"mat-label"),B.Lc(37,"Shipment"),B.Wb(),B.Sb(38,"input",17),B.Wb(),B.Wb(),B.Xb(39,"div",12),B.Xb(40,"mat-form-field",10),B.Xb(41,"mat-label"),B.Lc(42,"Date"),B.Wb(),B.Xb(43,"input",18),B.fc("change",(function(e){return t.commonService.setDateStr(e)})),B.Wb(),B.Sb(44,"mat-datepicker-toggle",19),B.Sb(45,"mat-datepicker",null,20),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Jc(47,me,27,5,"div",21),B.Wb(),B.Wb()),2&e){var n=B.xc(46);B.pc("formGroup",t.form),B.Db(4),B.pc("ngIf",!t.currentVoyage),B.Db(1),B.Ic("height",t.height,"px"),B.Db(1),B.pc("ngClass",B.rc(8,ge,t.currentVoyage)),B.Db(37),B.pc("matDatepicker",n),B.Db(1),B.pc("for",n),B.Db(3),B.pc("ngIf",t.currentVoyage)}},directives:[R.A,R.q,R.h,$.d,$.c,H.t,Z.a,H.q,ee.a,$.b,d.c,d.f,p.b,R.b,R.p,R.g,l.b,R.w,l.d,d.h,l.a,u.b],styles:["vessel-load-sidebar{border-right:1px solid #a3a3a3}vessel-load-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}vessel-load-sidebar .navbar-scroll-container{background:#fff!important}vessel-load-sidebar .navbar-scroll-container .navbar-content{padding-top:0}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}vessel-load-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),ve);function xe(e){var t=e.value;return""==t?null:t&&t.match(/^[A-Z]\d{1,}[:][A-Z]\d{1,}$/g)?null:{validRange:!0}}var ke=["formDirective"];function _e(e,t){if(1&e&&(B.Xb(0,"mat-option",17),B.Xb(1,"div",28),B.Xb(2,"span",29),B.Lc(3),B.Wb(),B.Xb(4,"span",30),B.Lc(5),B.Wb(),B.Wb(),B.Wb()),2&e){var n=t.$implicit;B.pc("value",n),B.Db(3),B.Mc(n.short_name),B.Db(2),B.Nc(" - ",n.full_name,"")}}function we(e,t){1&e&&(B.Xb(0,"mat-error"),B.Lc(1," Place is required "),B.Wb())}function Se(e,t){1&e&&(B.Xb(0,"mat-error"),B.Lc(1," Date is required "),B.Wb())}function Xe(e,t){1&e&&(B.Xb(0,"mat-error"),B.Lc(1," Time is required "),B.Wb())}var We,Ce=function(){return{value:"50"}},Le=function(e){return{hide:e}},De=((We=function(){function e(t,n,a,i,r,o,c){_classCallCheck(this,e),this.googleApiService=t,this.datePipe=n,this.formBuilder=a,this.commonService=i,this.ngZone=r,this.authService=o,this.vesselLoadService=c,this.filterSupplier=[],this.height=560,this.timeMax=new Date,this.form=this.formBuilder.group({range:["",xe],header:[!0],column:this.formBuilder.group({container:[1,R.y.required],document:[2,R.y.required]}),movement:["Load",R.y.required],place:[null,R.y.required],date:[null,R.y.required],time:[null,R.y.required]}),this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.googleApiService.onFileChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){t&&t.length>0&&e.form.valid?e.ngZone.run((function(){e.data=e.vesselLoadService.createData(t,e.form.value),e.googleApiService.onFileDataChanged.next([e.data,e.form.value.movement])})):e.data=[]})),this.googleApiService.onValidateForm.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){t&&e.validateFormDetail(!0)})),this.authService.windowSizeChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-12-12-54-8})),this.authService.changeScreen.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-12-12-54-8:e.authService.screenHeight-64-12-12-54-8})),this.form.valueChanges.subscribe((function(t){e.form.valid?(e.googleApiService.form=t,e.googleApiService.validForm=e.form.valid,e.googleApiService.onFormChanged.next(!0)):e.googleApiService.onFormChanged.next(!1)})),this.form.controls.movement.valueChanges.subscribe((function(t){"Load"==t?e.form.controls.place.disable():e.form.controls.place.enable()}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngOnChanges",value:function(e){var t=this;if(e.currentVoyage&&e.currentVoyage.currentValue)if(this.currentVoyage=e.currentVoyage.currentValue,this.currentVoyage){this.filterSupplier=this.supplier.filter((function(e){return e.country==t.currentVoyage.discharge_country}));var n=this.supplier.find((function(e){return e.short_name==t.currentVoyage.discharge_terminal_code}));n&&this.form.controls.place.setValue(n)}else this.filterSupplier=[]}},{key:"validateFormDetail",value:function(e){!0===e&&(this.markFormGroupTouched(this.form),this.googleApiService.validForm=!1,!0===this.form.valid&&(this.googleApiService.form=this.form.value,this.googleApiService.validForm=!0,this.googleApiService.onFormChanged.next(!0)))}},{key:"markFormGroupTouched",value:function(e){var t=this;Object.values(e.controls).forEach((function(e){e.markAsTouched(),e.controls&&t.markFormGroupTouched(e)}))}},{key:"checkColumn",value:function(e,t){var n=this.form.value.column;n.date==t&&"date"!=e&&this.form.get("column.date").setValue(null),n.transaction==t&&"transaction"!=e&&this.form.get("column.transaction").setValue(null),n.content==t&&"content"!=e&&this.form.get("column.content").setValue(null),n.in==t&&"in"!=e&&this.form.get("column.in").setValue(null),n.out==t&&"out"!=e&&this.form.get("column.out").setValue(null)}}]),e}()).\u0275fac=function(e){return new(e||We)(B.Rb(G.a),B.Rb(H.f),B.Rb(R.d),B.Rb(E.a),B.Rb(B.A),B.Rb(q.a),B.Rb(J))},We.\u0275cmp=B.Lb({type:We,selectors:[["vessel-load-details"]],viewQuery:function(e,t){var n;1&e&&B.Sc(ke,!0),2&e&&B.wc(n=B.gc())&&(t.templaceNgForm=n.first)},inputs:{supplier:"supplier",currentVoyage:"currentVoyage",container:"container"},features:[B.Bb()],decls:79,vars:20,consts:[["name","form",1,"w-100-p",2,"overflow","auto",3,"formGroup","keydown.enter"],["formDirective","ngForm"],[1,"simple","table-format","w-100-p"],[1,"h-60"],["formGroupName","column",1,"h-60"],["fxLayout","row","fxLayoutAlign","start center"],["appearance","outline",1,"my-form-field",2,"width","110px"],["type","number","inputCheck","","matInput","","formControlName","container","required","",2,"font-size","12px"],["type","number","inputCheck","","matInput","","formControlName","document","required","",2,"font-size","12px"],["colspan","2"],["appearance","outline","floatLabel","never",1,"my-form-field",2,"width","230px"],["matInput","","inputCheck","","formControlName","range","placeholder","Example: A1:C10 OR None","maxlength","11"],[1,"mr-16"],["formControlName","header","fxLayout","row","fxLayoutAlign","start"],[3,"value","checked"],[1,"ml-4",3,"value"],["formControlName","movement","fxLayout","row","fxLayoutAlign","start"],[3,"value"],[1,"h-60",3,"ngClass"],["formControlName","place","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline","floatLabel","never",1,"my-form-field"],["inputCheck","","matInput","","name","date","formControlName","date","required","",3,"matDatepicker","max","change"],["matSuffix","",3,"for"],["imDatePicker",""],["appearance","outline",1,"my-form-field"],["inputCheck","","matInput","","formControlName","time","type","time","required",""],["fxLayout","row",1,"font-size-12"],["fxFlex","20",1,"text-truncate"],["fxFlex","80"]],template:function(e,t){if(1&e&&(B.Xb(0,"div"),B.Xb(1,"form",0,1),B.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName})),B.Xb(3,"table",2),B.Xb(4,"thead"),B.Xb(5,"tr",3),B.Xb(6,"th"),B.Lc(7,"SHEET"),B.Wb(),B.Xb(8,"th"),B.Lc(9,"Column 1"),B.Wb(),B.Xb(10,"th"),B.Lc(11,"Column 2"),B.Wb(),B.Wb(),B.Wb(),B.Xb(12,"tbody"),B.Xb(13,"tr",4),B.Xb(14,"td"),B.Lc(15,"NAME"),B.Wb(),B.Xb(16,"td"),B.Xb(17,"div",5),B.Xb(18,"span"),B.Lc(19,"Container:\xa0\xa0"),B.Wb(),B.Xb(20,"mat-form-field",6),B.Sb(21,"input",7),B.Wb(),B.Wb(),B.Wb(),B.Xb(22,"td"),B.Xb(23,"div",5),B.Xb(24,"span"),B.Lc(25,"Document:\xa0\xa0"),B.Wb(),B.Xb(26,"mat-form-field",6),B.Sb(27,"input",8),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Xb(28,"tr"),B.Xb(29,"td"),B.Lc(30,"RANGE"),B.Wb(),B.Xb(31,"td",9),B.Xb(32,"mat-form-field",10),B.Sb(33,"input",11),B.Wb(),B.Wb(),B.Wb(),B.Xb(34,"tr",3),B.Xb(35,"td"),B.Xb(36,"span",12),B.Lc(37,"HEADER"),B.Wb(),B.Wb(),B.Xb(38,"td",9),B.Xb(39,"mat-radio-group",13),B.Xb(40,"mat-radio-button",14),B.Lc(41,"None"),B.Wb(),B.Xb(42,"mat-radio-button",15),B.Lc(43,"First row"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Xb(44,"tr",3),B.Xb(45,"td"),B.Xb(46,"span",12),B.Lc(47,"MOVEMENT"),B.Wb(),B.Wb(),B.Xb(48,"td",9),B.Xb(49,"mat-radio-group",16),B.Xb(50,"mat-radio-button",17),B.Lc(51,"Load"),B.Wb(),B.Xb(52,"mat-radio-button",15),B.Lc(53,"Fulim"),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Xb(54,"tr",18),B.Xb(55,"td"),B.Xb(56,"span",12),B.Lc(57,"PLACE"),B.Wb(),B.Wb(),B.Xb(58,"td",9),B.Xb(59,"mat-select",19),B.Jc(60,_e,6,3,"mat-option",20),B.Wb(),B.Jc(61,we,2,0,"mat-error",21),B.Wb(),B.Wb(),B.Xb(62,"tr",3),B.Xb(63,"td"),B.Xb(64,"span",12),B.Lc(65,"DATE"),B.Wb(),B.Wb(),B.Xb(66,"td"),B.Xb(67,"mat-form-field",22),B.Xb(68,"input",23),B.fc("change",(function(e){return t.commonService.setDateStr(e)})),B.Wb(),B.Sb(69,"mat-datepicker-toggle",24),B.Sb(70,"mat-datepicker",null,25),B.Jc(72,Se,2,0,"mat-error",21),B.Wb(),B.Wb(),B.Xb(73,"td"),B.Xb(74,"mat-form-field",26),B.Xb(75,"mat-label"),B.Lc(76,"Time"),B.Wb(),B.Sb(77,"input",27),B.Jc(78,Xe,2,0,"mat-error",21),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e){var n=B.xc(71);B.pc("@animateStagger",B.qc(17,Ce)),B.Db(1),B.Ic("height",t.height,"px"),B.pc("formGroup",t.form),B.Db(39),B.pc("value",!1)("checked",!t.form.value.header),B.Db(2),B.pc("value",!0),B.Db(8),B.pc("value","Load"),B.Db(2),B.pc("value","Fulim"),B.Db(2),B.pc("ngClass",B.rc(18,Le,"Load"==t.form.value.movement)),B.Db(6),B.pc("ngForOf",t.filterSupplier),B.Db(1),B.pc("ngIf",t.form.get("place").hasError("required")),B.Db(7),B.pc("matDatepicker",n)("max",t.timeMax),B.Db(1),B.pc("for",n),B.Db(3),B.pc("ngIf",t.form.get("date").hasError("required")),B.Db(6),B.pc("ngIf",t.form.get("time").hasError("required"))}},directives:[R.A,R.q,R.h,R.i,$.d,$.c,d.c,R.u,p.b,R.b,R.p,R.g,R.w,R.k,g.b,g.a,H.q,ee.a,v.a,H.s,H.t,l.b,l.d,d.h,l.a,d.f,C.n,$.b,d.b],styles:["vessel-load-details{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow-y:auto;-webkit-overflow-scrolling:touch}vessel-load-details .table-format{font-size:12px}vessel-load-details .table-format td,vessel-load-details .table-format th{padding:4px!important}vessel-load-details .table-format .my-form-field{width:100%}vessel-load-details .table-format .my-form-field .mat-form-field-wrapper{margin-bottom:-1.25em}vessel-load-details .table-format .my-form-field .mat-form-field-infix{margin-top:-.75em}vessel-load-details .table-format .my-form-field .mat-select-value-text{font-size:12px}"],encapsulation:2,data:{animation:P.a}}),We);function Ve(e,t){if(1&e){var n=B.Yb();B.Xb(0,"mat-icon",11),B.fc("click",(function(e){B.Bc(n);var t=B.jc().$implicit,a=B.jc(2);return e.stopPropagation(),a.deleteMovementLoad.emit(t.load)})),B.Lc(1,"delete"),B.Wb()}}function Ae(e,t){if(1&e){var n=B.Yb();B.Xb(0,"mat-icon",11),B.fc("click",(function(e){B.Bc(n);var t=B.jc().$implicit,a=B.jc(2);return e.stopPropagation(),a.deleteMovementFulim.emit(t.fulim)})),B.Lc(1,"delete"),B.Wb()}}function Oe(e,t){if(1&e&&(B.Xb(0,"tr"),B.Xb(1,"td",8),B.Lc(2),B.Wb(),B.Xb(3,"td"),B.Xb(4,"a",9),B.Lc(5),B.Wb(),B.Wb(),B.Xb(6,"td"),B.Lc(7),B.Wb(),B.Xb(8,"td"),B.Lc(9),B.Wb(),B.Xb(10,"td"),B.Lc(11),B.kc(12,"date"),B.Jc(13,Ve,2,0,"mat-icon",10),B.Wb(),B.Xb(14,"td"),B.Lc(15),B.kc(16,"date"),B.Jc(17,Ae,2,0,"mat-icon",10),B.Wb(),B.Wb()),2&e){var n=t.$implicit,a=t.index;B.Db(2),B.Mc(a+1),B.Db(2),B.pc("routerLink","/apps/container/details/"+n.container.id),B.Db(1),B.Mc(n.container.cont_number),B.Db(2),B.Mc(n.container.cont_type),B.Db(2),B.Mc(n.load?n.load.load_terminal_info.name:""),B.Db(2),B.Nc(" ",n.load?B.mc(12,9,n.load.date,"MM/dd/yyyy HH:mm"):""," "),B.Db(2),B.pc("ngIf",!n.shipment&&n.load&&!n.load.sel_move_id),B.Db(2),B.Nc(" ",n.fulim?B.mc(16,12,n.fulim.date,"MM/dd/yyyy HH:mm"):""," "),B.Db(2),B.pc("ngIf",!n.shipment&&n.fulim&&!n.fulim.sel_move_id)}}function Fe(e,t){if(1&e&&(B.Xb(0,"div",2),B.Xb(1,"h2",3),B.Xb(2,"span"),B.Lc(3,"Container"),B.Wb(),B.Wb(),B.Xb(4,"div",4),B.Xb(5,"table",5),B.Xb(6,"thead"),B.Xb(7,"tr"),B.Xb(8,"th"),B.Lc(9,"No"),B.Wb(),B.Xb(10,"th"),B.Lc(11,"Cont number"),B.Wb(),B.Xb(12,"th"),B.Lc(13,"Cont type"),B.Wb(),B.Xb(14,"th"),B.Lc(15,"Load terminal"),B.Wb(),B.Xb(16,"th"),B.Lc(17,"Load date"),B.Wb(),B.Xb(18,"th"),B.Lc(19,"Fulim"),B.Wb(),B.Wb(),B.Wb(),B.Xb(20,"tbody"),B.Jc(21,Oe,18,15,"tr",7),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e){var n=B.jc();B.Db(21),B.pc("ngForOf",n.container)}}var Re=function(e){return{"red-100-bg":e}};function Me(e,t){if(1&e){var n=B.Yb();B.Xb(0,"tr",12),B.Xb(1,"td"),B.Xb(2,"button",13),B.fc("click",(function(e){B.Bc(n);var a=t.$implicit,i=B.jc();return e.stopPropagation(),i.saveMovement.emit(a)})),B.Xb(3,"mat-icon"),B.Lc(4,"save"),B.Wb(),B.Wb(),B.Wb(),B.Xb(5,"td"),B.Lc(6),B.Wb(),B.Xb(7,"td"),B.Lc(8),B.Wb(),B.Xb(9,"td"),B.Lc(10),B.kc(11,"date"),B.Wb(),B.Xb(12,"td"),B.Lc(13),B.Wb(),B.Xb(14,"td"),B.Lc(15),B.Wb(),B.Xb(16,"td"),B.Lc(17),B.Wb(),B.Xb(18,"td"),B.Lc(19),B.Wb(),B.Xb(20,"td"),B.Lc(21),B.Wb(),B.Xb(22,"td"),B.Xb(23,"button",14),B.fc("click",(function(e){B.Bc(n);var a=t.index,i=B.jc();return e.stopPropagation(),i.deleteLoad(a)})),B.Xb(24,"mat-icon",15),B.Lc(25,"delete"),B.Wb(),B.Wb(),B.Wb(),B.Wb()}if(2&e){var a=t.$implicit;B.pc("ngClass",B.rc(14,Re,""!=a.error)),B.Db(2),B.pc("disabled",""!=a.error),B.Db(4),B.Mc(a.container?a.container.cont_number:""),B.Db(2),B.Mc(a.move?a.move.code:""),B.Db(2),B.Mc(B.mc(11,11,a.date,"MM/dd/yyyy")),B.Db(3),B.Mc(a.time),B.Db(2),B.Oc("",a.voyage.load_terminal_name," - ",a.place?a.place.short_name:"",""),B.Db(2),B.Mc(a.document),B.Db(2),B.Mc(a.info),B.Db(2),B.Mc(a.error)}}var Ie,Pe=function(){return{value:"50"}},Be=((Ie=function(){function e(t,n){_classCallCheck(this,e),this._activatedRoute=t,this.authService=n,this.saveMovement=new B.o,this.deleteMovementLoad=new B.o,this.deleteMovementFulim=new B.o,this.height=560,this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-12-12-54-8})),this.authService.changeScreen.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-12-12-54-8:e.authService.screenHeight-64-12-12-54-8}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"deleteLoad",value:function(e){this.data.splice(e,1)}}]),e}()).\u0275fac=function(e){return new(e||Ie)(B.Rb(r.a),B.Rb(q.a))},Ie.\u0275cmp=B.Lb({type:Ie,selectors:[["vessel-load-container"]],inputs:{container:"container",data:"data"},outputs:{saveMovement:"saveMovement",deleteMovementLoad:"deleteMovementLoad",deleteMovementFulim:"deleteMovementFulim"},decls:30,vars:6,consts:[[1,"w-100-p"],["class","group mb-12 mt-12",4,"ngIf"],[1,"group","mb-12","mt-12"],["fxLayout","row","fxLayoutAlign","start center"],[2,"overflow","auto"],[1,"simple","container-table"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"routerLink"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"click"],[3,"ngClass"],["mat-icon-button","","color","accent",3,"disabled","click"],["mat-icon-button","","aria-label","More",3,"click"],["color","warn",1,"secondary-text"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Jc(1,Fe,22,1,"div",1),B.Xb(2,"div",2),B.Xb(3,"h2",3),B.Xb(4,"span"),B.Lc(5,"Import data"),B.Wb(),B.Wb(),B.Xb(6,"div",4),B.Xb(7,"table",5),B.Xb(8,"thead"),B.Xb(9,"tr"),B.Sb(10,"th"),B.Xb(11,"th"),B.Lc(12,"Cont number"),B.Wb(),B.Xb(13,"th"),B.Lc(14,"Move"),B.Wb(),B.Xb(15,"th"),B.Lc(16,"Date"),B.Wb(),B.Xb(17,"th"),B.Lc(18,"Time"),B.Wb(),B.Xb(19,"th"),B.Lc(20,"Place"),B.Wb(),B.Xb(21,"th"),B.Lc(22,"Document"),B.Wb(),B.Xb(23,"th"),B.Lc(24,"Info"),B.Wb(),B.Xb(25,"th"),B.Lc(26,"Error"),B.Wb(),B.Sb(27,"th"),B.Wb(),B.Wb(),B.Xb(28,"tbody"),B.Jc(29,Me,26,16,"tr",6),B.Wb(),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Ic("height",t.height,"px"),B.pc("@animateStagger",B.qc(5,Pe)),B.Db(1),B.pc("ngIf",t.container.length>0),B.Db(28),B.pc("ngForOf",t.data))},directives:[H.t,$.d,$.c,H.s,r.j,h.a,H.q,ee.a,u.b],pipes:[H.f],styles:["vessel-load-container .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}vessel-load-container .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}vessel-load-container .group .container-table{width:100%}vessel-load-container .group .container-table td,vessel-load-container .group .container-table th{padding:8px;font-size:12px}vessel-load-container .group .container-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}vessel-load-container .group .container-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}vessel-load-container .group .container-table tr:hover{background:#e1f5fe}vessel-load-container .group .container-table tr:active{background:#81d4fa}"],encapsulation:2,data:{animation:P.a}}),Ie);function ze(e,t){if(1&e&&(B.Xb(0,"fuse-sidebar",12),B.Sb(1,"vessel-load-sidebar",13),B.Wb()),2&e){var n=B.jc();B.Db(1),B.pc("currentVoyage",n.currentVoyage)}}function Te(e,t){if(1&e&&B.Sb(0,"vessel-load-details",14),2&e){var n=B.jc();B.pc("currentVoyage",n.currentVoyage)("container",n.container)("supplier",n.supplier)}}function je(e,t){if(1&e){var n=B.Yb();B.Xb(0,"vessel-load-container",15),B.fc("saveMovement",(function(e){return B.Bc(n),B.jc().saveMovement(e)}))("deleteMovementLoad",(function(e){return B.Bc(n),B.jc().deleteMovementLoad(e)}))("deleteMovementFulim",(function(e){return B.Bc(n),B.jc().deleteMovementFulim(e)})),B.Wb()}if(2&e){var a=B.jc();B.pc("container",a.container)("data",a.importValue)}}var Ne,qe=function(e){return{"current-vessel-load-selected":e}},He=((Ne=function(){function e(t,n,a,i,r,o){_classCallCheck(this,e),this._fuseSidebarService=t,this.vesselLoadService=n,this.router=a,this.ngZone=i,this.authService=r,this.googleApiService=o,this.type="voyage",this.movement="Load",this.currentVoyage=null,this.voyageList=[],this.voyage=[],this.container=[],this.importValue=[],this.supplier=[],this.sidebarPanel=!0,this.searchInput=new R.e(""),this._unsubscribeAll=new M.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.vesselLoadService.onVoyageListChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.voyageList=t})),this.vesselLoadService.onContainerChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.container=t})),this.vesselLoadService.onContainerChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){e.supplier=e.vesselLoadService.supplier})),this.googleApiService.onFileDataChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(t){t.length>0&&(e.importValue=t[0],e.movement=t[1])}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.vesselLoadService)}},{key:"newContainer",value:function(e){this.router.navigate(["/apps/container/vessel/vessel-load/vessel-load/form/0"])}},{key:"changeType",value:function(e){this.type=e}},{key:"selectVoyage",value:function(e){var t=this;e?(this.authService.onRequestChanged.next(!0),Promise.all([this.vesselLoadService.getVesselByVoyageName(e.vessel_id,e.voy_name,e.load_port,e.discharge_port),this.vesselLoadService.getContainerByVoyageName(e.vessel_id,e.voy_name,e.load_port,e.discharge_port)]).then((function(n){t.authService.onRequestChanged.next(!1),n[0].length>0?(t.currentVoyage=e,t.vesselLoadService.currenVoyage=e):alert("No voyage fcl created")}),(function(e){t.authService.onRequestChanged.next(!1),console.error(e),alert("Reload data error")}))):(this.container=[],this.voyage=[],this.importValue=[],this.currentVoyage=null,this.vesselLoadService.currenVoyage=null),console.log(this.importValue)}},{key:"getContainer",value:function(){var e=this,t=this.currentVoyage;this.authService.onRequestChanged.next(!0),this.vesselLoadService.getContainerByVoyageName(t.vessel_id,t.voy_name,t.pol,t.pod).then((function(t){e.authService.onRequestChanged.next(!1)})).catch((function(t){e.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(t)}))}},{key:"saveMovement",value:function(e){console.log(e),"Load"==this.movement&&this.saveLoad(e),"Fulim"==this.movement&&this.saveFulim(e)}},{key:"saveLoad",value:function(e){var t=this;new Date(e.date+" "+e.time);var n={movement:{container:e.container.id,place:e.place.id,move:e.move.id,date:e.date+" "+e.time,document:e.document?e.document:null,update_by:this.authService.user},voyage:e.voyage};console.log(n),this.vesselLoadService.createMovementLoad(n).then((function(n){if(t.authService.onRequestChanged.next(!1),n.insertId>0){var a=t.importValue.indexOf(e);t.importValue[a].error="Save success!",t.getContainer()}else{var i=t.importValue.indexOf(e);t.importValue[i].error="Save error!"}})).catch((function(n){t.authService.onRequestChanged.next(!1);var a=t.importValue.indexOf(e);t.importValue[a].error="Save error!",alert("ERROR"),console.error(n)}))}},{key:"saveFulim",value:function(e){var t=this;new Date(e.date+" "+e.time);var n=this.container.find((function(t){return t.container.cont_number==e.container.cont_number}));this.vesselLoadService.createMovementFulim({movement:{container:e.container.id,place:e.place.id,move:e.move.id,date:e.date+" "+e.time,document:e.document?e.document:null,update_by:this.authService.user},voyage:this.selectVoyage,vesselLoad:n.load.vessel_load_id}).then((function(n){if(t.authService.onRequestChanged.next(!1),n.insertId>0){var a=t.importValue.indexOf(e);t.importValue[a].error="Save success!",t.getContainer()}else{var i=t.importValue.indexOf(e);t.importValue[i].error="Save error!"}})).catch((function(n){t.authService.onRequestChanged.next(!1);var a=t.importValue.indexOf(e);t.importValue[a].error="Save error!",alert("ERROR"),console.error(n)}))}},{key:"deleteMovementLoad",value:function(e){var t=this;confirm("Do you want to delete this movement?")&&(this.authService.onRequestChanged.next(!0),this.vesselLoadService.deleteMovementLoad(e.id).then((function(e){t.authService.onRequestChanged.next(!1),t.getContainer()})).catch((function(e){t.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(e)})))}},{key:"deleteMovementFulim",value:function(e){var t=this;confirm("Do you want to delete this movement?")&&(this.authService.onRequestChanged.next(!0),this.vesselLoadService.deleteMovementFulim(e.id).then((function(e){t.authService.onRequestChanged.next(!1),t.getContainer()})).catch((function(e){t.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(e)})))}}]),e}()).\u0275fac=function(e){return new(e||Ne)(B.Rb(z.a),B.Rb(J),B.Rb(r.g),B.Rb(B.A),B.Rb(q.a),B.Rb(G.a))},Ne.\u0275cmp=B.Lb({type:Ne,selectors:[["vessel-load"]],decls:12,vars:12,consts:[["id","shipment",1,"page-layout","carded","left-sidebar","inner-scroll"],["class","sidebar","name","vessel-load-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["name","vessel-load-setting","position","right",1,"sidebar"],[1,"content"],[3,"displayObject"],[1,"center","mr-0","ml-0"],[3,"type","sidebarName","currentVoyage","changeType","showHideBar","refreshPage","toggleSidebar","selectVoyage"],[1,"content-card",2,"border","none","border-radius","0",3,"ngClass"],["fxFlexAlign","row",1,"content","m-8"],["fusePerfectScrollbar","","fxFlex","",3,"type","voyageList","selectVoyage"],["fusePerfectScrollbar","","fxFlex","",3,"currentVoyage","container","supplier",4,"ngIf"],["fusePerfectScrollbar","","fxFlex","",3,"container","data","saveMovement","deleteMovementLoad","deleteMovementFulim",4,"ngIf"],["name","vessel-load-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[3,"currentVoyage"],["fusePerfectScrollbar","","fxFlex","",3,"currentVoyage","container","supplier"],["fusePerfectScrollbar","","fxFlex","",3,"container","data","saveMovement","deleteMovementLoad","deleteMovementFulim"]],template:function(e,t){1&e&&(B.Xb(0,"div",0),B.Jc(1,ze,2,1,"fuse-sidebar",1),B.Xb(2,"fuse-sidebar",2),B.Xb(3,"div",3),B.Sb(4,"vessel-load-setting",4),B.Wb(),B.Wb(),B.Xb(5,"div",5),B.Xb(6,"vessel-load-header",6),B.fc("changeType",(function(e){return t.changeType(e)}))("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("selectVoyage",(function(e){return t.selectVoyage(e)})),B.Wb(),B.Xb(7,"div",7),B.Xb(8,"div",8),B.Xb(9,"vessel-load-content",9),B.fc("selectVoyage",(function(e){return t.selectVoyage(e)})),B.Wb(),B.Jc(10,Te,1,3,"vessel-load-details",10),B.Jc(11,je,1,2,"vessel-load-container",11),B.Wb(),B.Wb(),B.Wb(),B.Wb()),2&e&&(B.Db(1),B.pc("ngIf",t.sidebarPanel),B.Db(3),B.pc("displayObject",t.displayObject),B.Db(2),B.pc("type",t.type)("sidebarName","lease-invoice-sidebar")("currentVoyage",t.currentVoyage),B.Db(1),B.pc("ngClass",B.rc(10,qe,t.currentVoyage)),B.Db(2),B.pc("type",t.type)("voyageList",t.voyageList),B.Db(1),B.pc("ngIf",0==t.importValue.length),B.Db(1),B.pc("ngIf",t.importValue.length>0))},directives:[U.a,H.t,Y.a,Q,se,H.q,ee.a,$.a,he,Z.a,$.b,ye,De,Be],styles:["vessel-load{width:100%}vessel-load .center .header{height:64px!important;min-height:64px!important;max-height:64px!important}@media screen and (max-width:599px){vessel-load .center .header{height:56px!important;min-height:56px!important;max-height:56px!important}}vessel-load .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:1919px){vessel-load .center .content-card vessel-load-content{border-right:0}vessel-load .center .content-card vessel-load-content,vessel-load .center .content-card vessel-load-details{-webkit-box-flex:1;flex:1 0 100%}vessel-load .center .content-card vessel-load-details{display:none!important}vessel-load .center .content-card.current-vessel-load-selected .toolbar{padding-left:16px!important}vessel-load .center .content-card.current-vessel-load-selected .content vessel-load-content,vessel-load .center .content-card.current-vessel-load-selected .toolbar .vessel-load-selection{display:none!important}vessel-load .center .content-card.current-vessel-load-selected .content vessel-load-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,data:{animation:P.a}}),Ne);n.d(t,"VesselLoadModule",(function(){return Ge}));var Ee,Je=[{path:"",component:He,resolve:{data:J,google:G.a}}],Ge=((Ee=function e(){_classCallCheck(this,e)}).\u0275mod=B.Pb({type:Ee}),Ee.\u0275inj=B.Ob({factory:function(e){return new(e||Ee)},providers:[J],imports:[[r.k.forChild(Je),c.b,o.a,s.b,l.c,u.c,b.b,d.e,h.b,f.b,p.c,m.c,v.b,g.c,y.e,x.b,k.b,_.b,w.d,S.e,X.b,W.b,L.b,D.k,V.c,C.t,A.a,O.a,F.f,le.g,ue.b]]}),Ee)}}]);