(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"/3JZ":function(e,t,i){"use strict";i.r(t);var o=i("tyNb"),n=i("STbY"),r=i("/1cH"),a=i("iadO"),c=i("bTqV"),s=i("7EHt"),b=i("kmnG"),l=i("NFeN"),p=i("Qu3c"),h=i("qFsG"),d=i("wZkO"),u=i("d3UM"),m=i("QibW"),f=i("0IaG"),v=i("/t3+"),g=i("bSwM"),w=i("M9IT"),x=i("xHqg"),y=i("A5z7"),k=i("bv9b"),D=i("XhcP"),W=i("FKr1"),X=i("1jcm"),S=i("+0xr"),_=i("Dh3D"),O=i("IOBc"),L=i("212X"),M=i("5HBU"),C=i("LPQX"),T=i("vxfF"),j=i("cfqv"),P=i("fXoL"),I=i("ofXK");function F(e,t){1&e&&P.Sb(0,"router-outlet")}let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Lb({type:e,selectors:[["overview"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&P.Jc(0,F,1,0,"router-outlet",0),2&e&&P.pc("ngIf",!0)},directives:[I.t,o.l],styles:[""]}),e})();var J=i("XNiG"),B=i("1G5W"),R=i("qXBG"),A=i("0Zc1"),$=i("XiUz"),N=i("3Pt+");function z(e,t){if(1&e&&(P.Xb(0,"mat-option",7),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e),P.Db(1),P.Mc(e)}}function H(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(2),P.Mc(e)}}function E(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(2),P.Mc(e)}}function U(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc(3).$implicit,o=P.jc(2);P.Db(1),P.Eb("rowspan",o.dataVessel[i].shipment.length),P.Db(1),P.Mc(o.dataVessel[i][e])}}function Y(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td"),P.Lc(4),P.Wb(),P.Xb(5,"td"),P.Lc(6),P.kc(7,"date"),P.Wb(),P.Xb(8,"td"),P.Lc(9),P.kc(10,"date"),P.Wb(),P.Jc(11,U,3,2,"ng-container",15),P.Ub()),2&e){const e=P.jc().$implicit,t=P.jc(),i=t.$implicit,o=t.index,n=P.jc(2);P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length),P.Db(1),P.Mc(o+1),P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length),P.Db(1),P.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length),P.Db(1),P.Mc(P.mc(7,10,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),P.Db(2),P.Eb("rowspan",n.dataVessel[i].shipment.length),P.Db(1),P.Mc(P.mc(10,13,e.voyage.arrive_time,"MM/dd/yyyy HH:mm")),P.Db(2),P.pc("ngForOf",n.contType)}}function q(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc().$implicit;P.Db(2),P.Mc(i[e])}}function G(e,t){if(1&e){const e=P.Yb();P.Xb(0,"tr"),P.Jc(1,Y,12,16,"ng-container",26),P.Xb(2,"td",27),P.Xb(3,"a",28),P.fc("click",(function(t){return P.Bc(e),P.jc(3).matDialogRef.close()})),P.Lc(4),P.Wb(),P.Wb(),P.Xb(5,"td"),P.Lc(6),P.Wb(),P.Jc(7,q,3,1,"ng-container",15),P.Xb(8,"td"),P.Lc(9),P.Wb(),P.Xb(10,"td"),P.Lc(11),P.Wb(),P.Xb(12,"td"),P.Lc(13),P.Wb(),P.Xb(14,"td"),P.Lc(15),P.Wb(),P.Xb(16,"td"),P.Lc(17),P.Wb(),P.Wb()}if(2&e){const e=t.$implicit,i=t.index,o=P.jc(3);P.Db(1),P.pc("ngIf",0==i),P.Db(2),P.pc("routerLink","/apps/"+o.modul+"/shipment/book-detail/id/"+e.id+"/overview"),P.Db(1),P.Mc(e.book.code),P.Db(2),P.Mc(e.book.customer.short_name),P.Db(1),P.pc("ngForOf",o.contType),P.Db(2),P.Mc(e.voyage.load_terminal_name),P.Db(2),P.Mc(e.voyage.discharge_terminal_name),P.Db(2),P.Mc(e.book.commodity),P.Db(2),P.Mc(e.name?e.name:e.user),P.Db(2),P.Mc(e.book.create_by?e.book.create_by.name:e.user)}}function K(e,t){if(1&e&&(P.Vb(0),P.Jc(1,G,18,10,"tr",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc(2);P.Db(1),P.pc("ngForOf",i.dataVessel[e].shipment)}}function Q(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"tr"),P.Xb(2,"td",25),P.Lc(3),P.Wb(),P.Wb(),P.Jc(4,K,2,1,"ng-container",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Eb("colspan",12+i.contType.length),P.Db(1),P.Mc(e),P.Db(1),P.pc("ngForOf",i.voyage[e])}}function Z(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",29),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Mc(i.total[e])}}function ee(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(2),P.Mc(e)}}function te(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(2),P.Mc(e)}}function ie(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",30),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.revenueVNOpen=!i.revenueVNOpen})),P.Lc(1,"add"),P.Wb()}}function oe(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",31),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.revenueVNOpen=!i.revenueVNOpen})),P.Lc(1,"removed"),P.Wb()}}function ne(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",30),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.revenueNNOpen=!i.revenueNNOpen})),P.Lc(1,"add"),P.Wb()}}function re(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",31),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.revenueNNOpen=!i.revenueNNOpen})),P.Lc(1,"removed"),P.Wb()}}function ae(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc(4).$implicit,o=P.jc(2);P.Db(1),P.Eb("rowspan",o.dataVessel[i].shipment.length+o.dataVessel[i].container),P.Db(1),P.Mc(o.dataVessel[i][e])}}function ce(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td"),P.Lc(4),P.Wb(),P.Xb(5,"td"),P.Lc(6),P.kc(7,"date"),P.Wb(),P.Xb(8,"td"),P.Lc(9),P.kc(10,"date"),P.Wb(),P.Jc(11,ae,3,2,"ng-container",15),P.Ub()),2&e){const e=P.jc(2).$implicit,t=P.jc(),i=t.$implicit,o=t.index,n=P.jc(2);P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length+n.dataVessel[i].container),P.Db(1),P.Mc(o+1),P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length+n.dataVessel[i].container),P.Db(1),P.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),P.Db(1),P.Eb("rowspan",n.dataVessel[i].shipment.length+n.dataVessel[i].container),P.Db(1),P.Mc(P.mc(7,10,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),P.Db(2),P.Eb("rowspan",n.dataVessel[i].shipment.length+n.dataVessel[i].container),P.Db(1),P.Mc(P.mc(10,13,e.voyage.arrive_time,"MM/dd/yyyy HH:mm")),P.Db(2),P.pc("ngForOf",n.contType)}}function se(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",35),P.fc("click",(function(t){P.Bc(e);const i=P.jc(3).$implicit;return P.jc(3).openModal(i)})),P.Lc(1,"add"),P.Wb()}2&e&&P.pc("matTooltip","Add container")}function be(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc(3).$implicit;P.Db(1),P.Eb("rowspan",i.bookConfirm.contArr.length),P.Db(1),P.Mc(i[e])}}function le(e,t){if(1&e&&(P.Xb(0,"td",37),P.Xb(1,"div",38),P.Xb(2,"span",39),P.Lc(3),P.Wb(),P.Xb(4,"span",40),P.Lc(5),P.kc(6,"number"),P.Wb(),P.Wb(),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(4).$implicit,i=P.jc(3);P.Db(1),P.pc("matTooltip",e.payment_center),P.Db(2),P.Oc("",e.code," ",e.currency,""),P.Db(2),P.Mc(P.mc(6,4,i.priceObj[t.id].revenueVNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function pe(e,t){if(1&e&&(P.Vb(0),P.Jc(1,le,7,7,"td",36),P.Ub()),2&e){const e=t.$implicit,i=P.jc(4).$implicit,o=P.jc(3);P.Db(1),P.pc("ngIf",o.priceObj[i.id].revenueVNPrice[e.code+e.currency+e.payment_center])}}function he(e,t){if(1&e&&(P.Vb(0),P.Jc(1,pe,2,1,"ng-container",15),P.Ub()),2&e){const e=P.jc(6);P.Db(1),P.pc("ngForOf",e.priceHeader)}}function de(e,t){if(1&e&&(P.Xb(0,"td",37),P.Xb(1,"div",38),P.Xb(2,"span",39),P.Lc(3),P.Wb(),P.Xb(4,"span",40),P.Lc(5),P.kc(6,"number"),P.Wb(),P.Wb(),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(5).$implicit,i=P.jc(3);P.Db(1),P.pc("matTooltip",e.payment_center),P.Db(2),P.Oc("",e.code," ",e.currency,""),P.Db(2),P.Mc(P.mc(6,4,i.priceObj[t.id].revenueNNPrice[e.code+e.currency+e.payment_center],"VND"==e.currency?"1.0-0":"1.2-2"))}}function ue(e,t){if(1&e&&(P.Vb(0),P.Jc(1,de,7,7,"td",36),P.Ub()),2&e){const e=t.$implicit,i=P.jc(5).$implicit,o=P.jc(3);P.Db(1),P.pc("ngIf",o.priceObj[i.id].revenueNNPrice[e.code+e.currency+e.payment_center])}}function me(e,t){if(1&e&&(P.Vb(0),P.Jc(1,ue,2,1,"ng-container",15),P.Ub()),2&e){const e=P.jc(7);P.Db(1),P.pc("ngForOf",e.priceHeader)}}function fe(e,t){if(1&e&&(P.Xb(0,"td",33),P.Jc(1,me,2,1,"ng-container",26),P.Wb()),2&e){const e=P.jc(3).$implicit,t=P.jc(3);P.Eb("rowspan",e.bookConfirm.contArr.length),P.Db(1),P.pc("ngIf",t.revenueNNOpen)}}function ve(e,t){if(1&e){const e=P.Yb();P.Vb(0),P.Xb(1,"td",27),P.Xb(2,"div",20),P.Xb(3,"a",28),P.fc("click",(function(t){return P.Bc(e),P.jc(5).matDialogRef.close()})),P.Lc(4),P.Wb(),P.Jc(5,se,2,1,"mat-icon",32),P.Wb(),P.Wb(),P.Xb(6,"td"),P.Lc(7),P.Wb(),P.Jc(8,be,3,2,"ng-container",15),P.Xb(9,"td"),P.Lc(10),P.Wb(),P.Xb(11,"td"),P.Lc(12),P.Wb(),P.Xb(13,"td"),P.Lc(14),P.Wb(),P.Xb(15,"td"),P.Lc(16),P.Wb(),P.Xb(17,"td"),P.Lc(18),P.Wb(),P.Xb(19,"td",33),P.Jc(20,he,2,1,"ng-container",26),P.Wb(),P.Jc(21,fe,2,2,"td",34),P.Ub()}if(2&e){const e=P.jc().index,t=P.jc().$implicit,i=P.jc(3);P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(2),P.pc("routerLink","/apps/"+i.modul+"/shipment/book-detail/id/"+t.id+"/overview"),P.Db(1),P.Mc(t.book.code),P.Db(1),P.pc("ngIf",0==e),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.book.customer.short_name),P.Db(1),P.pc("ngForOf",i.contType),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.voyage.load_terminal_name),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.voyage.discharge_terminal_name),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.book.commodity),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.name?t.name:t.user),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.Mc(t.book.create_by?t.book.create_by.name:t.user),P.Db(1),P.Eb("rowspan",t.bookConfirm.contArr.length),P.Db(1),P.pc("ngIf",i.revenueVNOpen),P.Db(1),P.pc("ngIf",i.revenueNNOpen)}}function ge(e,t){if(1&e&&(P.Xb(0,"tr"),P.Jc(1,ce,12,16,"ng-container",26),P.Jc(2,ve,22,20,"ng-container",26),P.Xb(3,"td",23),P.Lc(4),P.Wb(),P.Xb(5,"td"),P.Lc(6),P.Wb(),P.Wb()),2&e){const e=t.$implicit,i=t.index,o=P.jc().index;P.Db(1),P.pc("ngIf",0==o&&0==i),P.Db(1),P.pc("ngIf",0==i),P.Db(2),P.Mc(e.container),P.Db(2),P.Mc(e.type)}}function we(e,t){if(1&e&&(P.Vb(0),P.Jc(1,ge,7,4,"tr",15),P.Ub()),2&e){const e=t.$implicit;P.Db(1),P.pc("ngForOf",e.bookConfirm.contArr)}}function xe(e,t){if(1&e&&(P.Vb(0),P.Jc(1,we,2,1,"ng-container",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc(2);P.Db(1),P.pc("ngForOf",i.dataVessel[e].shipment)}}function ye(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"tr"),P.Xb(2,"td",25),P.Lc(3),P.Wb(),P.Wb(),P.Jc(4,xe,2,1,"ng-container",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Eb("colspan",15+i.contType.length),P.Db(1),P.Mc(e),P.Db(1),P.pc("ngForOf",i.voyage[e])}}function ke(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",29),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Mc(i.total[e])}}function De(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(2),P.Mc(e)}}function We(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",24),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc().$implicit;P.Db(2),P.Mc(i[e])}}function Xe(e,t){if(1&e){const e=P.Yb();P.Xb(0,"tr"),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td",27),P.Xb(4,"a",28),P.fc("click",(function(t){return P.Bc(e),P.jc(2).matDialogRef.close()})),P.Lc(5),P.Wb(),P.Wb(),P.Xb(6,"td"),P.Lc(7),P.Wb(),P.Xb(8,"td"),P.Lc(9),P.Wb(),P.Jc(10,We,3,1,"ng-container",15),P.Xb(11,"td"),P.Lc(12),P.Wb(),P.Xb(13,"td"),P.Lc(14),P.kc(15,"date"),P.Wb(),P.Xb(16,"td"),P.Lc(17),P.Wb(),P.Xb(18,"td"),P.Lc(19),P.kc(20,"date"),P.Wb(),P.Xb(21,"td"),P.Lc(22),P.Wb(),P.Xb(23,"td"),P.Lc(24),P.Wb(),P.Xb(25,"td"),P.Lc(26),P.Wb(),P.Wb()}if(2&e){const e=t.$implicit,i=t.index,o=P.jc(2);P.Db(2),P.Mc(i+1),P.Db(2),P.pc("routerLink","/apps/"+o.modul+"/shipment/book-detail/id/"+e.id+"/overview"),P.Db(1),P.Mc(e.book.code),P.Db(2),P.Mc(e.book.customer.short_name),P.Db(2),P.Oc("",e.voyage.vessel_name," ",e.voyage.name,""),P.Db(1),P.pc("ngForOf",o.contType),P.Db(2),P.Mc(e.voyage.load_terminal_name),P.Db(2),P.Mc(P.mc(15,14,e.voyage.depart_time,"MM/dd/yyyy HH:mm")),P.Db(3),P.Mc(e.voyage.discharge_terminal_name),P.Db(2),P.Mc(P.mc(20,17,e.voyage.arrive_time,"MM/dd/yyyy HH:mm")),P.Db(3),P.Mc(e.book.commodity),P.Db(2),P.Mc(e.name?e.name:e.user),P.Db(2),P.Mc(e.book.create_by?e.book.create_by.name:e.user)}}function Se(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"tr"),P.Xb(2,"td",25),P.Lc(3),P.Wb(),P.Wb(),P.Jc(4,Xe,27,20,"tr",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Eb("colspan",12+i.contType.length),P.Db(1),P.Mc(e),P.Db(1),P.pc("ngForOf",i.data[e])}}function _e(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",41),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.Mc(i.total[e])}}let Oe=(()=>{class e{constructor(e,t,i,o,n,r,a){this.router=e,this.matDialogRef=t,this._data=i,this.authService=o,this.commonService=n,this._matDialog=r,this.datePipe=a,this.vessel=[],this.data={},this.dataVessel={},this.voyage={},this.sptRouter=[],this.book=[],this.filterBook=[],this.selected=0,this.total={},this.priceHeader=[],this.priceObj={},this.selectedVessel="all",this.revenueVNOpen=!0,this.revenueNNOpen=!0,this.height=500,this.label=i.label,this.book=i.data,this.contType=i.contType,this.priceHeader=i.priceHeader,this.priceObj=i.priceObj,this.height=i.height,this.modul=i.modul,this.bookFirebaseService=i.bookFirebaseService,this.vessel=[],this.book.map(e=>{this.vessel.includes(e.voyage.vessel_name+" "+e.voyage.name)||this.vessel.push(e.voyage.vessel_name+" "+e.voyage.name)}),this.filterBook=this.book.slice(),this.buildReport()}ngOnInit(){this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}selectedChanged(e){this.filterBook="all"!=e.value?this.book.filter(t=>t.voyage.vessel_name+" "+t.voyage.name==e.value):this.book.slice(),this.buildReport()}buildReport(){this.sptRouter=[],this.data={},this.voyage={},this.dataVessel={},this.total={},this.filterBook.map(e=>{e.bookConfirm.contArr&&0!=e.bookConfirm.contArr.length||(e.bookConfirm.contArr=[{container:null,type:null}]);let t=e.voyage.load_port_name+"-"+e.voyage.discharge_port_name;this.sptRouter.includes(t)?this.data[t].push(e):(this.sptRouter.push(t),this.data[t]=[e])}),this.sptRouter.map(e=>{this.voyage[e]=[],this.data[e].map(t=>{let i=t.voyage,o=i.depart_time+"-"+i.vessel_name+"-"+i.name;this.dataVessel[o]||(this.dataVessel[o]={voyage_name:i.name,vessel_name:i.vessel_name,pol_name:i.load_port_name,pod_name:i.discharge_port_name,depart_time:i.depart_time,arrive_time:i.arrive_time,closing_time:i.closing_time,shipment:[],container:0},this.voyage[e].push(o)),this.dataVessel[o].shipment.push(t),this.dataVessel[o].container+=t.bookConfirm.contArr.length-1,t.book.volume.map(e=>{this.dataVessel[o][e.cont_type.code]?this.dataVessel[o][e.cont_type.code]+=e.quantity:this.dataVessel[o][e.cont_type.code]=e.quantity,this.total[e.cont_type.code]?this.total[e.cont_type.code]+=e.quantity:this.total[e.cont_type.code]=e.quantity})})})}openModal(e){}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(o.g),P.Rb(f.f),P.Rb(f.a),P.Rb(R.a),P.Rb(A.a),P.Rb(f.b),P.Rb(I.f))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-view-modal-dialog"]],decls:183,vars:25,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-button","",3,"color","click"],["mat-button","",1,"ml-8",3,"color","click"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["mat-icon-button","","aria-label","Close dialog",3,"click"],[1,"p-16","pb-0","m-0",2,"overflow","auto"],[1,"header-less-tabs",3,"selectedIndex"],[1,"viewer-panel"],[1,"simple","overview-view-table"],[4,"ngFor","ngForOf"],[1,"sticky-col1",2,"z-index","25"],[1,"sticky-col1","text-bold"],[1,"w-40","p-0","sticky-right-col"],[1,"simple","overview-view-table2"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[1,"sticky-right-col"],[1,"text-center"],[1,"text-bold","row-router"],[4,"ngIf"],[1,"sticky-col1"],[1,"cursor-pointer",3,"routerLink","click"],[1,"text-bold","text-center"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],["class","cursor-pointer","color","accent",3,"matTooltip","click",4,"ngIf"],[2,"padding","0"],["style","padding: 0",4,"ngIf"],["color","accent",1,"cursor-pointer",3,"matTooltip","click"],["style","padding: 4px","class"," border-right w-80 accent-100-bg",4,"ngIf"],[1,"border-right","w-80","accent-100-bg",2,"padding","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-bold"],[1,"text-center","text-bold"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"mat-toolbar",1),P.Xb(2,"mat-toolbar-row",2),P.Xb(3,"div"),P.Xb(4,"span",3),P.Lc(5),P.Wb(),P.Xb(6,"button",4),P.fc("click",(function(e){return t.selected=0})),P.Lc(7,"Vessel"),P.Wb(),P.Xb(8,"button",4),P.fc("click",(function(e){return t.selected=1})),P.Lc(9,"Container"),P.Wb(),P.Xb(10,"button",5),P.fc("click",(function(e){return t.selected=2})),P.Lc(11,"Router"),P.Wb(),P.Wb(),P.Xb(12,"div"),P.Xb(13,"mat-form-field"),P.Xb(14,"mat-select",6),P.fc("ngModelChange",(function(e){return t.selectedVessel=e}))("selectionChange",(function(e){return t.selectedChanged(e)})),P.Xb(15,"mat-option",7),P.Lc(16,"All"),P.Wb(),P.Jc(17,z,2,2,"mat-option",8),P.Wb(),P.Xb(18,"span",9),P.Lc(19,"Vessel:\xa0"),P.Wb(),P.Wb(),P.Xb(20,"button",10),P.fc("click",(function(e){return t.matDialogRef.close()})),P.Xb(21,"mat-icon"),P.Lc(22,"close"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(23,"div",11),P.Xb(24,"mat-tab-group",12),P.Xb(25,"mat-tab"),P.Xb(26,"div",13),P.Xb(27,"table",14),P.Xb(28,"thead"),P.Xb(29,"tr"),P.Xb(30,"th"),P.Lc(31,"No"),P.Wb(),P.Xb(32,"th"),P.Lc(33,"Voyage"),P.Wb(),P.Xb(34,"th"),P.Lc(35,"ETD"),P.Wb(),P.Xb(36,"th"),P.Lc(37,"ETA"),P.Wb(),P.Jc(38,H,3,1,"ng-container",15),P.Xb(39,"th",16),P.Lc(40,"Code"),P.Wb(),P.Xb(41,"th"),P.Lc(42,"Customer"),P.Wb(),P.Jc(43,E,3,1,"ng-container",15),P.Xb(44,"th"),P.Lc(45,"Load terminal"),P.Wb(),P.Xb(46,"th"),P.Lc(47,"Discharge terminal"),P.Wb(),P.Xb(48,"th"),P.Lc(49,"Commodity"),P.Wb(),P.Xb(50,"th"),P.Lc(51,"Owner"),P.Wb(),P.Xb(52,"th"),P.Lc(53,"Create by"),P.Wb(),P.Wb(),P.Wb(),P.Xb(54,"tbody"),P.Jc(55,Q,5,3,"ng-container",15),P.Wb(),P.Xb(56,"tfoot"),P.Xb(57,"tr"),P.Sb(58,"td"),P.Xb(59,"td",17),P.Lc(60,"Total"),P.Wb(),P.Sb(61,"td"),P.Sb(62,"td"),P.Jc(63,Z,3,1,"ng-container",15),P.Sb(64,"td"),P.Sb(65,"td"),P.Sb(66,"td"),P.Sb(67,"td"),P.Sb(68,"td"),P.Sb(69,"td"),P.Sb(70,"td"),P.Sb(71,"td",18),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(72,"mat-tab"),P.Xb(73,"div",13),P.Xb(74,"table",19),P.Xb(75,"thead"),P.Xb(76,"tr"),P.Xb(77,"th"),P.Lc(78,"No"),P.Wb(),P.Xb(79,"th"),P.Lc(80,"Voyage"),P.Wb(),P.Xb(81,"th"),P.Lc(82,"ETD"),P.Wb(),P.Xb(83,"th"),P.Lc(84,"ETA"),P.Wb(),P.Jc(85,ee,3,1,"ng-container",15),P.Xb(86,"th",16),P.Lc(87,"Code"),P.Wb(),P.Xb(88,"th"),P.Lc(89,"Customer"),P.Wb(),P.Jc(90,te,3,1,"ng-container",15),P.Xb(91,"th"),P.Lc(92,"Load terminal"),P.Wb(),P.Xb(93,"th"),P.Lc(94,"Discharge terminal"),P.Wb(),P.Xb(95,"th"),P.Lc(96,"Commodity"),P.Wb(),P.Xb(97,"th"),P.Lc(98,"Owner"),P.Wb(),P.Xb(99,"th"),P.Lc(100,"Create by"),P.Wb(),P.Xb(101,"th"),P.Xb(102,"div",20),P.Xb(103,"span"),P.Lc(104,"REV VN"),P.Wb(),P.Jc(105,ie,2,0,"mat-icon",21),P.Jc(106,oe,2,0,"mat-icon",22),P.Wb(),P.Wb(),P.Xb(107,"th"),P.Xb(108,"div",20),P.Xb(109,"span"),P.Lc(110,"REV NN"),P.Wb(),P.Jc(111,ne,2,0,"mat-icon",21),P.Jc(112,re,2,0,"mat-icon",22),P.Wb(),P.Wb(),P.Xb(113,"th",23),P.Lc(114,"Container"),P.Wb(),P.Xb(115,"th"),P.Lc(116,"Type"),P.Wb(),P.Wb(),P.Wb(),P.Xb(117,"tbody"),P.Jc(118,ye,5,3,"ng-container",15),P.Wb(),P.Xb(119,"tfoot"),P.Xb(120,"tr"),P.Sb(121,"td"),P.Xb(122,"td",17),P.Lc(123,"Total"),P.Wb(),P.Sb(124,"td"),P.Sb(125,"td"),P.Jc(126,ke,3,1,"ng-container",15),P.Sb(127,"td"),P.Sb(128,"td"),P.Sb(129,"td"),P.Sb(130,"td"),P.Sb(131,"td"),P.Sb(132,"td"),P.Sb(133,"td"),P.Sb(134,"td"),P.Sb(135,"td"),P.Sb(136,"td"),P.Sb(137,"td"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(138,"mat-tab"),P.Xb(139,"div",13),P.Xb(140,"table",14),P.Xb(141,"thead"),P.Xb(142,"tr"),P.Xb(143,"th"),P.Lc(144,"No"),P.Wb(),P.Xb(145,"th",16),P.Lc(146,"Code"),P.Wb(),P.Xb(147,"th"),P.Lc(148,"Customer"),P.Wb(),P.Xb(149,"th"),P.Lc(150,"Voyage"),P.Wb(),P.Jc(151,De,3,1,"ng-container",15),P.Xb(152,"th"),P.Lc(153,"Load terminal"),P.Wb(),P.Xb(154,"th"),P.Lc(155,"ETD"),P.Wb(),P.Xb(156,"th"),P.Lc(157,"Discharge terminal"),P.Wb(),P.Xb(158,"th"),P.Lc(159,"ETA"),P.Wb(),P.Xb(160,"th"),P.Lc(161,"Commodity"),P.Wb(),P.Xb(162,"th"),P.Lc(163,"Owner"),P.Wb(),P.Xb(164,"th"),P.Lc(165,"Create by"),P.Wb(),P.Wb(),P.Wb(),P.Xb(166,"tbody"),P.Jc(167,Se,5,3,"ng-container",15),P.Wb(),P.Xb(168,"tfoot"),P.Xb(169,"tr"),P.Sb(170,"td"),P.Xb(171,"td",17),P.Lc(172,"Total"),P.Wb(),P.Sb(173,"td"),P.Sb(174,"td"),P.Jc(175,_e,3,1,"ng-container",15),P.Sb(176,"td"),P.Sb(177,"td"),P.Sb(178,"td"),P.Sb(179,"td"),P.Sb(180,"td"),P.Sb(181,"td"),P.Sb(182,"td"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(5),P.Mc(t.label),P.Db(1),P.pc("color",0==t.selected?"primary":""),P.Db(2),P.pc("color",1==t.selected?"primary":""),P.Db(2),P.pc("color",2==t.selected?"primary":""),P.Db(4),P.pc("ngModel",t.selectedVessel),P.Db(1),P.pc("value","all"),P.Db(2),P.pc("ngForOf",t.vessel),P.Db(6),P.Ic("height",t.height,"px"),P.Db(1),P.pc("selectedIndex",t.selected),P.Db(14),P.pc("ngForOf",t.contType),P.Db(5),P.pc("ngForOf",t.contType),P.Db(12),P.pc("ngForOf",t.sptRouter),P.Db(8),P.pc("ngForOf",t.contType),P.Db(22),P.pc("ngForOf",t.contType),P.Db(5),P.pc("ngForOf",t.contType),P.Db(15),P.pc("ngIf",!t.revenueVNOpen),P.Db(1),P.pc("ngIf",t.revenueVNOpen),P.Db(5),P.pc("ngIf",!t.revenueNNOpen),P.Db(1),P.pc("ngIf",t.revenueNNOpen),P.Db(6),P.pc("ngForOf",t.sptRouter),P.Db(8),P.pc("ngForOf",t.contType),P.Db(25),P.pc("ngForOf",t.contType),P.Db(16),P.pc("ngForOf",t.sptRouter),P.Db(8),P.pc("ngForOf",t.contType))},directives:[v.a,v.c,$.b,$.d,$.c,c.b,b.c,u.a,N.p,N.s,W.n,I.s,b.g,l.a,d.b,d.a,I.t,o.j,p.a],pipes:[I.f,I.g],styles:["@media screen and (min-width:600px)and (max-width:959px){.overview-view-modal-dialog{width:100%}}@media screen and (min-width:960px){.overview-view-modal-dialog{width:1080px}}.overview-view-modal-dialog .mat-dialog-container{padding:0}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel{height:100%}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table{overflow:auto}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table td,.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table th{padding:8px;font-size:12px!important;white-space:nowrap}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table .row-router{background-color:#e0e0e0}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2{overflow:auto}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 td,.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 th{padding:8px;font-size:12px!important;white-space:nowrap}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 td{border-bottom:1px solid #000!important}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 .row-router{background-color:#e0e0e0}.overview-view-modal-dialog .dialog-content-wrapper .viewer-panel .overview-view-table2 .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.overview-view-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.overview-view-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.overview-view-modal-dialog .header-less-tabs.mat-tab-group .mat-tab-header{display:none}"],encapsulation:2}),e})();var Le=i("HX77"),Me=i("2Vo4"),Ce=i("jD4G"),Te=i("tk/3");let je=(()=>{class e{constructor(e,t,i){this._httpClient=e,this.authService=t,this.datePipe=i,this.defaultSearch={formFilter:{code:null,customer:null,owner:null,pay_customer:null},formSearch:{customer:null,principal:null,agent:null,owner:null,pol:null,pod:null,date_from:null,date_to:null}},this.headerType=[],this.containerMovement={LOAD:[],FULIM:[],TRIM:[],EMPTY:[],TREXP:[],FULEX:[]},this.onDataChanged=new Me.a([]),this.onDataItemChanged=new Me.a([]),this.onOverviewChanged=new Me.a([]),this.onBookOverviewChanged=new Me.a([]),this.onShipmentChanged=new Me.a([]),this.onContainersMovementChanged=new Me.a([]),this.onFilterChanged=new J.a,this.onSearchTextChanged=new J.a}resolve(e){if(e&&(this.authService.routerData=e),this.authService.back&&(this.authService.back=!1),!this.currenSearch||this.currenSearch&&!this.currenSearch.formSearch){this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch));let e=new Date,t=e.getFullYear(),i=e.getMonth();e=new Date(e.setMonth(i-1)),e=new Date(e.setFullYear(t-1)),this.currenSearch.formSearch.date_movement=this.datePipe.transform(e,"yyyy-MM-dd")}return new Promise((e,t)=>{Promise.all([this.getShipment(this.currenSearch.formSearch),this.getContainerMovement(),this.getData()]).then(([t])=>{this.onFilterChanged.subscribe(e=>{this.filterBy=e,this.getFilterShipment()}),this.onSearchTextChanged.subscribe(e=>{this.searchText=e,this.getFilterShipment()}),e()},t)})}checkModule(e){let t=e.split("-"),i={haiphong:3,hochiminh:4,singapore:12},o={pol:null,pod:null};return"import"==t[0]&&(o.pod=i[t[1]]),"export"==t[0]&&(o.pol=i[t[1]]),o}getData(){let e={headers:new Te.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/data",e).subscribe(e=>{this.partner=e[0],this.seaport=e[1],this.users=e[2],this.country=e[3],this.seaTerminal=e[4],this.onDataChanged.next(e),t(e)},i)})}getItemData(){let e={headers:new Te.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/item-data",e).subscribe(e=>{this.price=e[0],this.unit=e[1],this.currency=e[2],this.country=e[3],this.users=e[4],this.commodity=e[5],this.packageType=e[6],this.onDataItemChanged.next(e),t(e)},i)})}getShipment(e){this.currenSearch.formSearch=e;let t={headers:new Te.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,o)=>{this._httpClient.post(this.authService.apiUrl+"/pln/shipment/overview",e,t).subscribe(e=>{this.shipments=e[0],this.objRevenue=e[1],this.objCost=e[2],this.objMove=e[3],this.arrType=e[4],this.getFilterShipment(),i(e)},o)})}getFilterShipment(){let e=JSON.parse(JSON.stringify(this.shipments));this.searchText&&""!==this.searchText&&(e=Ce.a.filterArrayByString(e,this.searchText)),this.filterShipment=e,this.buildVesselOverview(e)}getContainerMovement(){let e={headers:new Te.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,i)=>{this._httpClient.get(this.authService.apiUrl+"/pln/shipment/container-movement",e).subscribe(e=>{this.headerType=e[0],this.containerMovement=e[1],this.onContainersMovementChanged.next(e),t(e)},i)})}getPermissionById(e){let t={headers:new Te.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,o)=>{this._httpClient.get(this.authService.apiUrl+"/permission/id/"+e,t).subscribe(e=>{i(e)},o)})}buildVesselOverview(e){this.total={shipment:0,load_shipment:0,revenue:0,cost:0,revenuePaydate:0,costPaydate:0,revenueComplete:0,costComplete:0,teu:0,load_teu:0},this.totalMonth={},this.arrMonth=[],this.arrYear=[],this.portPair=[];let t=[],i=[],o={};e.map(e=>{e.revenue=this.objRevenue[e.id]?this.objRevenue[e.id]:[],e.cost=this.objCost[e.id]?this.objCost[e.id]:[],e.move=this.objMove[e.id]?this.objMove[e.id]:[];let n={pol:e.pol,pol_lat:e.pol_info&&e.pol_info.coords&&e.pol_info.coords.lat?e.pol_info.coords.lat:null,pol_lng:e.pol_info&&e.pol_info.coords&&e.pol_info.coords.lng?e.pol_info.coords.lng:null,pol_name:e.pol_name,pod:e.pod,pod_lat:e.pod_info&&e.pod_info.coords&&e.pod_info.coords.lat?e.pod_info.coords.lat:null,pod_lng:e.pod_info&&e.pod_info.coords&&e.pod_info.coords.lng?e.pod_info.coords.lng:null,pod_name:e.pod_name,type:"VIETNAM"==e.load_country_name?"import":"export",name:e.pol_name+" - "+e.pod_name};t.includes(n.name)||(this.portPair.push(n),t.push(n.name)),e.profit={revenue:0,cost:0};let r=new Date(e.depart_time).getMonth().toString();parseInt(r)<10&&(r="0"+r);let a=new Date(e.depart_time).getFullYear();this.totalMonth[a+"-"+r]||(this.totalMonth[a+"-"+r]=function(e,t){return{month:parseInt(e)+1,year:t,teu:0,count_shipment:0,revenueComplete:0,costComplete:0,load_teu:0,count_load_shipment:0,revenue:0,cost:0,revenuePaydate:0,revenueBank:0,costPaydate:0,costBank:0}}(r,a),this.arrMonth.push({name:a+"-"+r,year:a,month:r})),this.arrYear.includes(a)||this.arrYear.push(a),this.totalMonth[a+"-"+r].count_shipment++,this.total.shipment++,"Yes"==e.cont_move&&(this.totalMonth[a+"-"+r].count_load_shipment++,this.total.load_shipment++);let c=!0;e.revenue.map(t=>{e.profit.revenue+=t.total_vnd,this.totalMonth[a+"-"+r].revenue+=t.total_vnd,this.total.revenue+=t.total_vnd,t.pay_date?(this.totalMonth[a+"-"+r].revenuePaydate+=t.total_vnd,this.total.revenuePaydate+=t.total_vnd,e.profit.revenuePaydate+=t.total_vnd):c=!1}),c&&(this.totalMonth[a+"-"+r].revenueComplete++,this.total.revenueComplete++);let s=!0;e.cost.map(t=>{e.profit.cost+=t.total_vnd,this.totalMonth[a+"-"+r].cost+=t.total_vnd,this.total.cost+=t.total_vnd,t.pay_date?(this.totalMonth[a+"-"+r].costPaydate+=t.total_vnd,this.total.costPaydate+=t.total_vnd,e.profit.costPaydate+=t.total_vnd):s=!1}),s&&(this.totalMonth[a+"-"+r].costComplete++,this.total.costComplete++),i.includes(e.voyage)||(i.push(e.voyage),o[e.voyage]={id:e.voyage,vessel_full_name:e.vessel_full_name,pol:e.pol,pol_name:e.pol_name,pod:e.pod,pod_name:e.pod_name,depart_time:e.depart_time,arrive_time:e.arrive_time,shipment:[],objShipment:{},row:0}),o[e.voyage].shipment.includes(e.id)||(o[e.voyage].shipment.push(e.id),o[e.voyage].objShipment[e.id]={id:e.id,code:e.code,bill:e.bill,customer:e.customer,principal:e.principal,status:e.status,owner:e.owner,container:[],objContainer:{}},o[e.voyage].row++),e.move.length>0?e.move.map(t=>{o[e.voyage].objShipment[e.id].container.push(t.last_move.container),o[e.voyage].objShipment[e.id].objContainer[t.last_move.container]=t.last_move}):(o[e.voyage].objShipment[e.id].container.push("no-contaienr"),o[e.voyage].objShipment[e.id].objContainer["no-contaienr"]={id:null,cont_number:null,cont_type_code:null})}),this.arrMonth.sort((e,t)=>{var i=e.year,o=t.year,n=e.month,r=t.month;return i>o?-1:i<o?1:n>r?-1:n<r?1:void 0}),this.onShipmentChanged.next({shipment:e,total:this.total}),this.onOverviewChanged.next([i,o])}buildBookOverview(){let e=(new Date).getTime()-432e5,t=[],i=[],o={},n={book:0,teu:0,revenue:0,cost:0},r=this.book.slice(),a=JSON.parse(JSON.stringify(this.currenSearch.formSearch));if(a.customer&&(r=r.filter(e=>e.book.customer.id==a.customer)),a.principal&&(r=r.filter(e=>e.book.principal.id==a.principal)),a.agent&&(r=r.filter(e=>e.book.agent.id==a.agent)),a.owner&&(r=r.filter(e=>e.user==a.owner)),a.pol&&(r=r.filter(e=>e.voyage.load_port==a.pol)),a.pod&&(r=r.filter(e=>e.voyage.discharge_port==a.pod)),a.date_from){let e=a.date_from.split("-");e[1]=parseInt(e[1])-1;let t=new Date(e[0],e[1],e[2]).getTime();r=r.filter(e=>e.voyage.depart_time>=t)}if(a.date_to){let e=a.date_to.split("-");e[1]=parseInt(e[1])-1;let t=new Date(e[0],e[1],e[2]).getTime();r=r.filter(e=>e.voyage.depart_time<=t)}this.filterBook=r;let c=[],s=[];this.priceObj={},this.filterBook.map(r=>{if(this.priceObj[r.id]={},e<r.voyage.depart_time){let e=this.getWeek(new Date(r.voyage.depart_time)),a=new Date(r.voyage.depart_time).getFullYear(),c=a.toString()+"-"+(e<10?"0":"")+e.toString();t.includes(c)||(t.push(c),o[c]={week:c,year:a,teu:0,revenue:0,cost:0,count_book:0,data:[],type:!0}),r.book.volume.map(e=>{i.includes(e.cont_type.code)||i.push(e.cont_type.code),o[c][e.cont_type.code]||(o[c][e.cont_type.code]=0),o[c][e.cont_type.code]+=e.quantity,o[c].teu+=e.quantity*(e.cont_type.code.includes("20")?1:2),r[e.cont_type.code]||(r[e.cont_type.code]=0),r[e.cont_type.code]+=e.quantity,n[e.cont_type.code]||(n[e.cont_type.code]=0),n[e.cont_type.code]+=e.quantity,n.teu+=e.quantity*(e.cont_type.code.includes("20")?1:2)}),r.revenue.sell.map(e=>{let t=5.26==e.tax?.05/.95*100:e.tax/100;o[c].revenue+=e.volume*e.amount*e.ex_rate+e.volume*e.amount*t*e.ex_rate,n.revenue+=e.volume*e.amount*e.ex_rate+e.volume*e.amount*t*e.ex_rate}),o[c].count_book++,n.book++,r.type=!0,o[c].data.push(r)}else r.type=!1;this.priceObj[r.id].revenueVNPrice||(this.priceObj[r.id].revenueVNPrice={}),this.priceObj[r.id].revenueNNPrice||(this.priceObj[r.id].revenueNNPrice={}),r.revenue.sell.map(e=>{c.includes(e.price.code+e.currency.code+e.payment_center.name)||(c.push(e.price.code+e.currency.code+e.payment_center.name),s.push({id:e.price.id,code:e.price.code,name:e.price.name,unit_code:e.price.unit_code,currency:e.currency.code,payment_center:e.payment_center.name})),"VIETNAM"==e.payment_center.name?this.priceObj[r.id].revenueVNPrice[e.price.code+e.currency.code+e.payment_center.name]=e.amount:this.priceObj[r.id].revenueNNPrice[e.price.code+e.currency.code+e.payment_center.name]=e.amount})}),this.buildPrice(s),t.reverse(),i.sort(),this.onBookOverviewChanged.next([o,t,i,n])}buildPrice(e){let t=e.filter(e=>"VIETNAM"==e.payment_center),i=e.filter(e=>"VIETNAM"!=e.payment_center),o=["OF","EBS","EFF","RR","BILL","LTHC","SEAL","DO","DTHC","DCIC","VS","AMS","ENS"];t.sort((e,t)=>{var i=e.unit_code,o=t.unit_code,n=e.currency,r=t.currency,a=e.code,c=t.code;return i>o?1:i<o?-1:n>r?1:n<r?-1:a>c?1:a<c?-1:0});let n,r,a=t.filter(e=>e.unit_code.includes("20")),c=t.filter(e=>e.unit_code.includes("40")),s=t.filter(e=>!e.unit_code.includes("20")&&!e.unit_code.includes("40")),b=[],l=[],p=[],h=[],d=[],u=[];o.map((e,t)=>{h[t]=a.filter(t=>t.code.includes(e)),h[t].length>0&&h[t].map(e=>{r=a.indexOf(e),r>=0&&(n=a.splice(r,1),b.push(n[0]))}),d[t]=c.filter(t=>t.code.includes(e)),d[t].length>0&&d[t].map(e=>{r=c.indexOf(e),r>=0&&(n=c.splice(r,1),l.push(n[0]))}),u[t]=s.filter(t=>t.code.includes(e)),u[t].length>0&&u[t].map(e=>{r=s.indexOf(e),r>=0&&(n=s.splice(r,1),p.push(n[0]))})}),i.sort((e,t)=>{var i=e.unit_code,o=t.unit_code,n=e.currency,r=t.currency,a=e.code,c=t.code;return i>o?1:i<o?-1:n>r?1:n<r?-1:a>c?1:a<c?-1:0});let m,f,v=i.filter(e=>e.unit_code.includes("20")),g=i.filter(e=>e.unit_code.includes("40")),w=i.filter(e=>!e.unit_code.includes("20")&&!e.unit_code.includes("40")),x=[],y=[],k=[],D=[],W=[],X=[];o.map((e,t)=>{D[t]=v.filter(t=>t.code.includes(e)),D[t].length>0&&D[t].map(e=>{f=v.indexOf(e),f>=0&&(m=v.splice(f,1),x.push(m[0]))}),W[t]=g.filter(t=>t.code.includes(e)),W[t].length>0&&W[t].map(e=>{f=g.indexOf(e),f>=0&&(m=g.splice(f,1),y.push(m[0]))}),X[t]=w.filter(t=>t.code.includes(e)),X[t].length>0&&X[t].map(e=>{f=w.indexOf(e),f>=0&&(m=w.splice(f,1),k.push(m[0]))})}),this.priceHeader=[...b,...a,...l,...c,...p,...s,...x,...v,...y,...g,...k,...w]}getWeek(e){e.getDay();let t=e.valueOf();e.setMonth(0,1);let i=2;return 1!=e.getDay()&&(i=1,e.setMonth(0,1+(1-e.getDay()+7)%7)),i+=1+Math.floor((t-e)/6048e5),i}}return e.\u0275fac=function(t){return new(t||e)(P.bc(Te.a),P.bc(R.a),P.bc(I.f))},e.\u0275prov=P.Nb({token:e,factory:e.\u0275fac}),e})();var Pe=i("lJxs"),Ie=i("I/3d");let Fe=(()=>{class e{constructor(e,t,i){this.router=e,this.db=t,this.authService=i,this.codeCompany=["DCL","SEG","SEL","SIN","SLO","TWN","REF: "],this.onPermissionChanged=new Me.a([]),this.onSelDocumentChanged=new Me.a([]),this.onDataChanged=new Me.a([]),this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}writeDatabaseBooking(e,t){this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(e).set(t)}readDatabaseBooking(){return this.bookingCollection=this.db.collection("pln-booking-draft"),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(Pe.a)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)}))),this.booking}readDatabaseBookingByUser(e){return this.bookingCollection=this.db.collection("pln-booking-draft",t=>t.where("user","==",e)),this.booking=this.bookingCollection.snapshotChanges().pipe(Object(Pe.a)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)}))),this.booking}getDatabaseBookingById(e){return this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(e).valueChanges()}updateDatabaseBookingById(e,t){this.bookingCollection=this.db.collection("pln-booking-draft"),this.bookingCollection.doc(e).set(t)}deleteDatabaseBookingById(e){this.bookingDoc=this.db.doc("pln-booking-draft/"+e),this.bookingDoc.delete()}}return e.\u0275fac=function(t){return new(t||e)(P.bc(o.g),P.bc(Ie.a),P.bc(R.a))},e.\u0275prov=P.Nb({token:e,factory:e.\u0275fac}),e})();var Ve=i("B9zo"),Je=i("EwFO"),Be=i("0JVi"),Re=i("znSr"),Ae=i("rPBI");function $e(e,t){if(1&e){const e=P.Yb();P.Xb(0,"button",12),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.changeScreen(!0)})),P.Xb(1,"mat-icon"),P.Lc(2,"flip_to_front"),P.Wb(),P.Wb()}}function Ne(e,t){if(1&e){const e=P.Yb();P.Xb(0,"button",12),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.changeScreen(!1)})),P.Xb(1,"mat-icon"),P.Lc(2,"flip_to_back"),P.Wb(),P.Wb()}}let ze=(()=>{class e{constructor(e,t){this.authService=e,this._fuseConfigService=t,this.fullScreen=!1,this.toggleSidebar=new P.o,this.showHideBar=new P.o,this.refreshPage=new P.o,this.searchFilter=new P.o,this._unsubscribeAll=new J.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(R.a),P.Rb(Be.b))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-header"]],inputs:{sidebarName:"sidebarName",searchText:"searchText"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",searchFilter:"searchFilter"},decls:41,vars:7,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-12","mr-12",3,"click"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","",1,"ml-8","mr-8",3,"click"],["color","accent"],["mat-icon-button","","class","ml-8 mr-8",3,"click",4,"ngIf"]],template:function(e,t){1&e&&(P.Xb(0,"mat-toolbar",0),P.Xb(1,"div",1),P.Xb(2,"div",2),P.Xb(3,"div",3),P.Xb(4,"button",4),P.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),P.Xb(5,"mat-icon"),P.Lc(6,"menu"),P.Wb(),P.Wb(),P.Xb(7,"button",5),P.fc("click",(function(e){return t.showHideBar.emit()})),P.Xb(8,"mat-icon"),P.Lc(9,"menu"),P.Wb(),P.Wb(),P.Wb(),P.Xb(10,"button",6),P.Xb(11,"span",7),P.Lc(12,"Overview"),P.Wb(),P.Xb(13,"mat-icon",8),P.Lc(14,"equalizer"),P.Wb(),P.Wb(),P.Xb(15,"button",6),P.Xb(16,"span",7),P.Lc(17,"Stock"),P.Wb(),P.Xb(18,"mat-icon",8),P.Lc(19,"equalizer"),P.Wb(),P.Wb(),P.Xb(20,"button",6),P.Xb(21,"span",7),P.Lc(22,"Shipment"),P.Wb(),P.Xb(23,"mat-icon",8),P.Lc(24,"equalizer"),P.Wb(),P.Wb(),P.Xb(25,"button",6),P.Xb(26,"span",7),P.Lc(27,"Vessel"),P.Wb(),P.Xb(28,"mat-icon",8),P.Lc(29,"equalizer"),P.Wb(),P.Wb(),P.Wb(),P.Xb(30,"div",9),P.Sb(31,"div",10),P.Xb(32,"filter-search-bar",11),P.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),P.Wb(),P.Sb(33,"div",10),P.Xb(34,"button",12),P.fc("click",(function(e){return e.stopPropagation(),t.refreshPage.emit()})),P.Xb(35,"mat-icon",13),P.Lc(36,"refresh"),P.Wb(),P.Wb(),P.Sb(37,"div",10),P.Jc(38,$e,3,0,"button",14),P.Jc(39,Ne,3,0,"button",14),P.Sb(40,"div",10),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(10),P.pc("routerLink","/apps/pacific-logistics-network/overview/overview"),P.Db(5),P.pc("routerLink","/apps/pacific-logistics-network/overview/stock"),P.Db(5),P.pc("routerLink","/apps/pacific-logistics-network/overview/shipment"),P.Db(5),P.pc("routerLink","/apps/pacific-logistics-network/overview/vessel"),P.Db(7),P.pc("searchText",t.searchText),P.Db(6),P.pc("ngIf",!t.fullScreen),P.Db(1),P.pc("ngIf",t.fullScreen))},directives:[v.a,$.b,$.e,$.d,$.c,c.b,Re.b,l.a,o.i,o.h,Ae.a,I.t],styles:["overview-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}overview-header.below{z-index:2}overview-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}overview-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}overview-header .logo .logo-icon{width:38px}overview-header .chat-panel-toggle-button,overview-header .language-button,overview-header .quick-panel-toggle-button,overview-header .user-button,overview-header fuse-search-bar{min-width:68px;height:64px}@media screen and (max-width:599px){overview-header .chat-panel-toggle-button,overview-header .language-button,overview-header .quick-panel-toggle-button,overview-header .user-button,overview-header fuse-search-bar{height:56px}}overview-header .navbar-toggle-button{min-width:56px;height:56px}overview-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){overview-header .toolbar-separator{height:56px}}@media print{overview-header{display:none}}"],encapsulation:2}),e})();function He(e,t){if(1&e&&(P.Xb(0,"tr"),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td"),P.Lc(4),P.Wb(),P.Xb(5,"td"),P.Lc(6),P.Wb(),P.Xb(7,"td"),P.Lc(8),P.Wb(),P.Xb(9,"td"),P.Lc(10),P.Wb(),P.Xb(11,"td"),P.Lc(12),P.kc(13,"date"),P.Wb(),P.Wb()),2&e){const e=t.$implicit,i=t.index;P.Db(2),P.Mc(i+1),P.Db(2),P.Mc(e.place_name),P.Db(2),P.Mc(e.container_info.cont_number),P.Db(2),P.Mc(e.container_info.principal_name),P.Db(2),P.Mc(e.move_code),P.Db(2),P.Mc(P.mc(13,6,e.date,"MM/dd/yyyy HH:mm"))}}let Ee=(()=>{class e{constructor(e,t){this.matDialogRef=e,this._data=t,this.data=t.data}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(f.f),P.Rb(f.a))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-stock-modal-dialog"]],decls:27,vars:1,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","",1,"p-0","m-0",2,"overflow","auto"],[1,"viewer-panel"],[1,"dashboard-table","simple"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"mat-toolbar",1),P.Xb(2,"mat-toolbar-row",2),P.Xb(3,"span",3),P.Lc(4,"Container List"),P.Wb(),P.Xb(5,"button",4),P.fc("click",(function(e){return t.matDialogRef.close()})),P.Xb(6,"mat-icon"),P.Lc(7,"close"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(8,"div",5),P.Xb(9,"div",6),P.Xb(10,"table",7),P.Xb(11,"thead"),P.Xb(12,"tr"),P.Xb(13,"th"),P.Lc(14,"No"),P.Wb(),P.Xb(15,"th"),P.Lc(16,"Place"),P.Wb(),P.Xb(17,"th"),P.Lc(18,"Container"),P.Wb(),P.Xb(19,"th"),P.Lc(20,"Principal"),P.Wb(),P.Xb(21,"th"),P.Lc(22,"Move"),P.Wb(),P.Xb(23,"th"),P.Lc(24,"Date"),P.Wb(),P.Wb(),P.Wb(),P.Xb(25,"tbody"),P.Jc(26,He,14,9,"tr",8),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(26),P.pc("ngForOf",t.data))},directives:[v.a,v.c,$.b,$.d,$.c,c.b,l.a,f.d,I.s],pipes:[I.f],styles:["@media screen and (min-width:600px)and (max-width:959px){.overview-stock-modal-dialog{width:100%}}@media screen and (min-width:960px){.overview-stock-modal-dialog{width:1080px}}.overview-stock-modal-dialog .mat-dialog-container{padding:0}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel{height:100%}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table{overflow:auto}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table td,.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table th{padding:8px;font-size:12px!important;white-space:nowrap}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .row-router{background-color:#e0e0e0}.overview-stock-modal-dialog .dialog-content-wrapper .viewer-panel .dashboard-table .sticky-right-col{min-width:100px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}.overview-stock-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active{background:#0ff!important}.overview-stock-modal-dialog .cdk-overlay-connected-position-bounding-box .mat-autocomplete-panel .mat-option .mat-active .mat-option-text{color:red!important}.overview-stock-modal-dialog .header-less-tabs.mat-tab-group .mat-tab-header{display:none}"],encapsulation:2}),e})();function Ue(e,t){if(1&e){const e=P.Yb();P.Xb(0,"tr"),P.Xb(1,"td",10),P.Lc(2),P.Wb(),P.Xb(3,"td",7),P.Lc(4),P.Wb(),P.Xb(5,"td",7),P.Lc(6),P.Wb(),P.Xb(7,"td",7),P.Lc(8),P.Wb(),P.Xb(9,"td",7),P.Xb(10,"a",11),P.fc("click",(function(t){P.Bc(e);const i=P.jc().$implicit,o=P.jc().$implicit;return P.jc(3).openModal(o[i])})),P.Lc(11),P.Wb(),P.Wb(),P.Wb()}if(2&e){const e=P.jc().$implicit,t=P.jc().$implicit;P.Db(1),P.pc("matTooltip",t.place_name)("matTooltipPosition","left"),P.Db(1),P.Mc(t.place_short_name),P.Db(2),P.Mc(t.pol_name),P.Db(2),P.Mc(t.pod_name),P.Db(2),P.Mc(e),P.Db(3),P.Mc(0==t[e].length?"":t[e].length)}}function Ye(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Ue,12,7,"tr",8),P.Ub()),2&e){const e=t.$implicit,i=P.jc().$implicit;P.Db(1),P.pc("ngIf",i[e])}}function qe(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Ye,2,1,"ng-container",9),P.Ub()),2&e){const e=P.jc(3);P.Db(1),P.pc("ngForOf",e.headerType)}}function Ge(e,t){if(1&e&&(P.Xb(0,"tbody"),P.Jc(1,qe,2,1,"ng-container",9),P.Wb()),2&e){const e=P.jc(2);P.Db(1),P.pc("ngForOf",e.data)}}function Ke(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"div",3),P.Xb(2,"h2"),P.Xb(3,"span",4),P.Lc(4),P.Wb(),P.Wb(),P.Xb(5,"div",5),P.Xb(6,"table",6),P.Xb(7,"thead"),P.Xb(8,"tr"),P.Xb(9,"th"),P.Lc(10,"Place"),P.Wb(),P.Xb(11,"th",7),P.Lc(12,"Pol"),P.Wb(),P.Xb(13,"th",7),P.Lc(14,"Pod"),P.Wb(),P.Xb(15,"th",7),P.Lc(16,"Type"),P.Wb(),P.Xb(17,"th",7),P.Lc(18,"LOAD"),P.Wb(),P.Wb(),P.Wb(),P.Jc(19,Ge,2,1,"tbody",8),P.Wb(),P.Wb(),P.Wb(),P.Ub()),2&e){const e=P.jc();P.Db(4),P.Mc(e.label),P.Db(15),P.pc("ngIf",e.data.length>0)}}function Qe(e,t){if(1&e&&(P.Xb(0,"th",17),P.Lc(1),P.Wb()),2&e){const e=P.jc().$implicit;P.pc("matTooltip",e.place_name),P.Db(1),P.Mc(e.place_short_name)}}function Ze(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Qe,2,2,"th",16),P.Ub()),2&e){const e=t.$implicit;P.Db(1),P.pc("ngIf",2==e.country)}}function et(e,t){if(1&e){const e=P.Yb();P.Xb(0,"td"),P.Xb(1,"a",11),P.fc("click",(function(t){P.Bc(e);const i=P.jc().$implicit,o=P.jc(2).$implicit;return P.jc(3).openModal(i[o])})),P.Lc(2),P.Wb(),P.Wb()}if(2&e){const e=P.jc().$implicit,t=P.jc(2).$implicit;P.Db(2),P.Mc(null==e[t]?null:e[t].length)}}function tt(e,t){if(1&e&&(P.Vb(0),P.Jc(1,et,3,1,"td",8),P.Ub()),2&e){const e=t.$implicit;P.Db(1),P.pc("ngIf",2==e.country)}}function it(e,t){if(1&e&&(P.Xb(0,"tr"),P.Xb(1,"td",18),P.Lc(2),P.Wb(),P.Xb(3,"td",19),P.Lc(4),P.Wb(),P.Jc(5,tt,2,1,"ng-container",9),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(3);P.Db(2),P.Mc(e),P.Db(2),P.Mc(t.total[e+"VN"]),P.Db(1),P.pc("ngForOf",t.data)}}function ot(e,t){if(1&e&&(P.Vb(0),P.Jc(1,it,6,3,"tr",8),P.Ub()),2&e){const e=t.$implicit,i=P.jc(3);P.Db(1),P.pc("ngIf",i.total[e])}}function nt(e,t){if(1&e&&(P.Xb(0,"table",13),P.Xb(1,"thead"),P.Xb(2,"tr"),P.Xb(3,"th",14),P.Lc(4,"Type"),P.Wb(),P.Xb(5,"th",15),P.Lc(6,"Total"),P.Wb(),P.Jc(7,Ze,2,1,"ng-container",9),P.Wb(),P.Wb(),P.Xb(8,"tbody"),P.Jc(9,ot,2,1,"ng-container",9),P.Wb(),P.Wb()),2&e){const e=P.jc(2);P.Db(7),P.pc("ngForOf",e.data),P.Db(2),P.pc("ngForOf",e.headerType)}}function rt(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"div",3),P.Xb(2,"h2"),P.Xb(3,"span",4),P.Lc(4),P.Wb(),P.Wb(),P.Xb(5,"div",5),P.Jc(6,nt,10,2,"table",12),P.Wb(),P.Wb(),P.Ub()),2&e){const e=P.jc();P.Db(4),P.Mc(e.label),P.Db(2),P.pc("ngIf",e.data.length>0)}}function at(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"th",17),P.Lc(2),P.Wb(),P.Ub()),2&e){const e=t.$implicit;P.Db(1),P.pc("matTooltip",e.place_name),P.Db(1),P.Mc(e.place_short_name)}}function ct(e,t){if(1&e){const e=P.Yb();P.Vb(0),P.Xb(1,"td"),P.Xb(2,"a",11),P.fc("click",(function(i){P.Bc(e);const o=t.$implicit,n=P.jc(2).$implicit;return P.jc(3).openModal(o[n])})),P.Lc(3),P.Wb(),P.Wb(),P.Ub()}if(2&e){const e=t.$implicit,i=P.jc(2).$implicit;P.Db(3),P.Mc(null==e[i]?null:e[i].length)}}function st(e,t){if(1&e&&(P.Xb(0,"tr"),P.Xb(1,"td",18),P.Lc(2),P.Wb(),P.Xb(3,"td",19),P.Lc(4),P.Wb(),P.Jc(5,ct,4,1,"ng-container",9),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(3);P.Db(2),P.Mc(e),P.Db(2),P.Mc(t.total[e]),P.Db(1),P.pc("ngForOf",t.data)}}function bt(e,t){if(1&e&&(P.Vb(0),P.Jc(1,st,6,3,"tr",8),P.Ub()),2&e){const e=t.$implicit,i=P.jc(3);P.Db(1),P.pc("ngIf",i.total[e])}}function lt(e,t){if(1&e&&(P.Xb(0,"table",13),P.Xb(1,"thead"),P.Xb(2,"tr"),P.Xb(3,"th",14),P.Lc(4,"Type"),P.Wb(),P.Xb(5,"th",15),P.Lc(6,"Total"),P.Wb(),P.Jc(7,at,3,2,"ng-container",9),P.Wb(),P.Wb(),P.Xb(8,"tbody"),P.Jc(9,bt,2,1,"ng-container",9),P.Wb(),P.Wb()),2&e){const e=P.jc(2);P.Db(7),P.pc("ngForOf",e.data),P.Db(2),P.pc("ngForOf",e.headerType)}}function pt(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"div",3),P.Xb(2,"h2"),P.Xb(3,"span",4),P.Lc(4),P.Wb(),P.Wb(),P.Xb(5,"div",5),P.Jc(6,lt,10,2,"table",12),P.Wb(),P.Wb(),P.Ub()),2&e){const e=P.jc();P.Db(4),P.Mc(e.label),P.Db(2),P.pc("ngIf",e.data.length>0)}}let ht=(()=>{class e{constructor(e){this._matDialog=e,this.dataFulim={},this.arrRoute=[]}ngOnInit(){this.getData()}ngOnChanges(e){e.data&&(e.data.currentValue||null==e.data.currentValue)&&this.getData()}getData(){this.total={},this.data?(this.dataFulim={},this.arrRoute=[],this.data.map(e=>{this.headerType.map(t=>{if(this.total[t]||(this.total[t]=0),this.total[t+"VN"]||(this.total[t+"VN"]=0),e[t]&&(this.total[t]+=e[t].length),e[t]&&2==e.country&&(this.total[t+"VN"]+=e[t].length),"FULIM"==this.label){let i=e.pol_name+"-"+e.pod_name;this.arrRoute.includes(i)||this.arrRoute.push(i),this.dataFulim[t]||(this.dataFulim[t]={}),this.dataFulim[t][i]||(this.dataFulim[t][i]={cont:[]}),this.dataFulim[t][i].pol_name=e.pol_name,this.dataFulim[t][i].pod_name=e.pod_name,e[t]&&e[t].map(e=>{this.dataFulim[t][i].cont.push(e)})}})})):this.data=[]}openModal(e){this.dialogRef=this._matDialog.open(Ee,{panelClass:"overview-stock-modal-dialog",data:{data:e,label:this.label}})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(f.b))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-stock-movement"]],inputs:{label:"label",headerType:"headerType",data:"data",type:"type"},features:[P.Bb()],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"group","mb-12","mt-12"],[1,"text-bold"],[2,"overflow","auto"],[1,"simple","report-table"],[1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"matTooltip","matTooltipPosition"],[1,"cursor-pointer",3,"click"],["class","simple report-table mr-8",4,"ngIf"],[1,"simple","report-table","mr-8"],[1,"sticky-col1","w-40"],[1,"w-40"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[1,"sticky-col1"],[1,"sticky-col1","text-bold"]],template:function(e,t){1&e&&(P.Vb(0,0),P.Jc(1,Ke,20,2,"ng-container",1),P.Jc(2,rt,7,2,"ng-container",1),P.Jc(3,pt,7,2,"ng-container",2),P.Ub()),2&e&&(P.pc("ngSwitch",!0),P.Db(1),P.pc("ngSwitchCase","INBOUND ONBOARD"==t.label),P.Db(1),P.pc("ngSwitchCase",t.type))},directives:[I.x,I.y,I.z,I.t,I.s,p.a],styles:["overview-stock-movement .group{margin-left:0;margin-right:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000}overview-stock-movement .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:700;background:#fafafa}overview-stock-movement .group .report-table{font-size:12px}overview-stock-movement .group .report-table td,overview-stock-movement .group .report-table th{white-space:nowrap}@media screen and (max-width:599px){overview-stock-movement .group .report-table td,overview-stock-movement .group .report-table th{padding:8px 4px!important}}@media screen and (min-width:600px){overview-stock-movement .group .report-table td,overview-stock-movement .group .report-table th{padding:8px!important}}"],encapsulation:2}),e})();const dt=function(e){return{"text-bold":e}};function ut(e,t){if(1&e&&(P.Xb(0,"th",19),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("ngClass",P.rc(2,dt,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(e)}}function mt(e,t){if(1&e&&(P.Xb(0,"td",22),P.Lc(1),P.Wb()),2&e){const e=t.$implicit,i=P.jc().$implicit,o=P.jc(2);P.pc("ngClass",P.rc(2,dt,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(o.bookData[i][e])}}function ft(e,t){if(1&e){const e=P.Yb();P.Xb(0,"tr"),P.Xb(1,"td"),P.Xb(2,"span",20),P.fc("click",(function(i){P.Bc(e);const o=t.$implicit,n=P.jc(2);return n.openModal.emit(n.bookData[o].data)})),P.Lc(3),P.Wb(),P.Wb(),P.Xb(4,"td",15),P.Lc(5),P.Wb(),P.Jc(6,mt,2,4,"td",21),P.Xb(7,"td",16),P.Lc(8),P.Wb(),P.Xb(9,"td",17),P.Lc(10),P.kc(11,"number"),P.Wb(),P.Xb(12,"td",17),P.Lc(13),P.kc(14,"number"),P.Wb(),P.Xb(15,"td",18),P.Lc(16),P.kc(17,"number"),P.Wb(),P.Wb()}if(2&e){const e=t.$implicit,i=P.jc(2);P.Db(3),P.Mc(e),P.Db(2),P.Mc(i.bookData[e].count_book),P.Db(1),P.pc("ngForOf",i.bookType),P.Db(2),P.Mc(i.bookData[e].teu),P.Db(2),P.Mc(P.mc(11,7,i.bookData[e].revenue,"1.0-0")),P.Db(3),P.Mc(P.mc(14,10,i.bookData[e].cost,"1.0-0")),P.Db(3),P.Mc(P.mc(17,13,i.bookData[e].revenue-i.bookData[e].cost,"1.0-0"))}}function vt(e,t){if(1&e&&(P.Xb(0,"td",22),P.Lc(1),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(2);P.pc("ngClass",P.rc(2,dt,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(t.bookTotal[e])}}function gt(e,t){if(1&e&&(P.Xb(0,"mat-icon",25),P.Lc(1,"error"),P.Wb()),2&e){const e=P.jc(2).$implicit;P.pc("matTooltip",e+" r\xf4\u0303ng kh\xf4ng \u0111u\u0309 d\xea\u0309 c\xe2\u0301p")}}const wt=function(e,t){return{"text-bold":e,"red-700-fg text-bold":t}};function xt(e,t){if(1&e&&(P.Xb(0,"td",22),P.Jc(1,gt,2,1,"mat-icon",24),P.Lc(2),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc(2);P.pc("ngClass",P.sc(3,wt,"20DC"==e||"40HC"==e,t.bookTotal[e]>t.total[e])),P.Db(1),P.pc("ngIf",t.bookTotal[e]>t.total[e]),P.Db(1),P.Nc(" ",t.bookTotal[e]," ")}}function yt(e,t){if(1&e&&(P.Vb(0),P.Jc(1,vt,2,4,"td",23),P.Jc(2,xt,3,6,"td",23),P.Ub()),2&e){const e=P.jc(2);P.Db(1),P.pc("ngIf","workflow"==e.modul),P.Db(1),P.pc("ngIf","workflow"!=e.modul)}}function kt(e,t){if(1&e&&(P.Xb(0,"table",3),P.Xb(1,"thead"),P.Xb(2,"tr"),P.Xb(3,"th",4),P.Lc(4,"Week"),P.Wb(),P.Xb(5,"th",5),P.Lc(6,"Book"),P.Wb(),P.Xb(7,"th",6),P.Lc(8,"Container"),P.Wb(),P.Xb(9,"th",5),P.Lc(10,"Teu"),P.Wb(),P.Xb(11,"th",7),P.Lc(12,"Revenue"),P.Wb(),P.Xb(13,"th",7),P.Lc(14,"Cost"),P.Wb(),P.Xb(15,"th",8),P.Lc(16,"Net Revenue"),P.Wb(),P.Wb(),P.Xb(17,"tr"),P.Sb(18,"th",9),P.Sb(19,"th",9),P.Jc(20,ut,2,4,"th",10),P.Sb(21,"th",11),P.Sb(22,"th",12),P.Sb(23,"th",12),P.Sb(24,"th",13),P.Wb(),P.Wb(),P.Xb(25,"tbody"),P.Jc(26,ft,18,16,"tr",14),P.Wb(),P.Xb(27,"tfoot"),P.Xb(28,"tr"),P.Xb(29,"td"),P.Lc(30,"Total"),P.Wb(),P.Xb(31,"td",15),P.Lc(32),P.Wb(),P.Jc(33,yt,3,2,"ng-container",14),P.Xb(34,"td",16),P.Lc(35),P.Wb(),P.Xb(36,"td",17),P.Lc(37),P.kc(38,"number"),P.Wb(),P.Xb(39,"td",17),P.Lc(40),P.kc(41,"number"),P.Wb(),P.Xb(42,"td",18),P.Lc(43),P.kc(44,"number"),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e){const e=P.jc();P.Db(7),P.Eb("colspan",e.bookType.length),P.Db(13),P.pc("ngForOf",e.bookType),P.Db(6),P.pc("ngForOf",e.bookWeek),P.Db(6),P.Mc(e.bookTotal.book),P.Db(1),P.pc("ngForOf",e.bookType),P.Db(2),P.Mc(e.bookTotal.teu),P.Db(2),P.Mc(P.mc(38,9,e.bookTotal.revenue,"1.0-0")),P.Db(3),P.Mc(P.mc(41,12,e.bookTotal.cost,"1.0-0")),P.Db(3),P.Mc(P.mc(44,15,e.bookTotal.revenue-e.bookTotal.cost,"1.0-0"))}}let Dt=(()=>{class e{constructor(){this.openModal=new P.o,this.total={}}ngOnInit(){}ngOnChanges(e){e.bookWeek&&e.bookWeek.currentValue&&(this.bookWeek=e.bookWeek.currentValue,this.bookWeek&&(this.total={},this.empty&&this.empty.map(e=>{this.bookType.map(t=>{this.total[t]||(this.total[t]=0),e[t]&&(this.total[t]+=e[t].length)})})))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-view-book"]],inputs:{bookWeek:"bookWeek",bookType:"bookType",bookData:"bookData",bookTotal:"bookTotal",empty:"empty",modul:"modul"},outputs:{openModal:"openModal"},features:[P.Bb()],decls:6,vars:1,consts:[[1,"group","mb-12","mt-12"],[1,"viewer-content"],["class","simple total-table mr-8",4,"ngIf"],[1,"simple","total-table","mr-8"],[1,"sticky-header-1"],[1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-right"],[1,"sticky-header-1","text-right"],[1,"sticky-header-2"],["class","sticky-header-2 text-right","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"sticky-header-2","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right"],[1,"sticky-header-2","text-right"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center","text-bold"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],[1,"text-right","mr-8"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right",3,"ngClass"],[1,"accent","p-4","cursor-pointer",3,"click"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8",3,"ngClass"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngIf"],["class","cursor-pointer","color","warn",3,"matTooltip",4,"ngIf"],["color","warn",1,"cursor-pointer",3,"matTooltip"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"h2"),P.Xb(2,"span"),P.Lc(3,"Booking"),P.Wb(),P.Wb(),P.Xb(4,"div",1),P.Jc(5,kt,45,18,"table",2),P.Wb(),P.Wb()),2&e&&(P.Db(5),P.pc("ngIf",t.bookWeek))},directives:[I.t,Re.b,I.s,I.q,Re.a,l.a,p.a],pipes:[I.g],styles:["overview-view-book .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}overview-view-book .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}overview-view-book .group .viewer-content{overflow:auto;width:100%}overview-view-book .group .viewer-content .total-table{font-size:12px}overview-view-book .group .viewer-content .total-table .border-right{border-right:1px solid rgba(0,0,0,.12)}overview-view-book .group .viewer-content .total-table td,overview-view-book .group .viewer-content .total-table th{padding:8px!important;white-space:nowrap}overview-view-book .group .viewer-content .total-table thead th.sticky-header-1{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}overview-view-book .group .viewer-content .total-table thead th.sticky-header-2{position:sticky;position:-webkit-sticky;top:32px;background:#fff;z-index:10}overview-view-book .group .viewer-content .total-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}overview-view-book .group .viewer-content .total-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}overview-view-book .group .viewer-content .total-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}overview-view-book .group .viewer-content .total-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}overview-view-book .group .viewer-content .total-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2}),e})();function Wt(e,t){1&e&&(P.Xb(0,"mat-icon",27),P.Lc(1,"add"),P.Wb())}function Xt(e,t){1&e&&(P.Xb(0,"mat-icon",28),P.Lc(1,"removed"),P.Wb())}function St(e,t){1&e&&(P.Xb(0,"th",29),P.Lc(1,"SPT complete"),P.Wb())}function _t(e,t){1&e&&(P.Xb(0,"th",30),P.Lc(1,"Complete %"),P.Wb())}function Ot(e,t){1&e&&(P.Xb(0,"th",29),P.Lc(1,"Pay Date"),P.Wb())}function Lt(e,t){1&e&&(P.Xb(0,"th",30),P.Lc(1,"Pay Date %"),P.Wb())}function Mt(e,t){1&e&&(P.Xb(0,"mat-icon",27),P.Lc(1,"add"),P.Wb())}function Ct(e,t){1&e&&(P.Xb(0,"mat-icon",28),P.Lc(1,"removed"),P.Wb())}function Tt(e,t){1&e&&(P.Xb(0,"th",29),P.Lc(1,"SPT complete"),P.Wb())}function jt(e,t){1&e&&(P.Xb(0,"th",30),P.Lc(1,"Complete %"),P.Wb())}function Pt(e,t){1&e&&(P.Xb(0,"th",29),P.Lc(1,"Pay Date"),P.Wb())}function It(e,t){1&e&&(P.Xb(0,"th",30),P.Lc(1,"Pay Date %"),P.Wb())}const Ft=function(e){return{"text-bold":e}};function Vt(e,t){if(1&e&&(P.Xb(0,"th",31),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("ngClass",P.rc(2,Ft,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(e)}}function Jt(e,t){if(1&e&&(P.Xb(0,"th",31),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("ngClass",P.rc(2,Ft,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(e)}}function Bt(e,t){if(1&e&&(P.Xb(0,"td",35),P.Lc(1),P.Wb()),2&e){const e=t.$implicit,i=P.jc().$implicit,o=P.jc();P.pc("ngClass",P.rc(2,Ft,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(o.totalMonth[i.name][e])}}function Rt(e,t){if(1&e&&(P.Xb(0,"td",36),P.Lc(1),P.Wb()),2&e){const e=t.$implicit,i=P.jc().$implicit,o=P.jc();P.Db(1),P.Mc(o.totalMonth[i.name]["load_"+e])}}function At(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].revenueComplete,"1.0-0"))}}function $t(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].revenueComplete/t.totalMonth[e.name].count_shipment,"1.0-2"))}}function Nt(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].revenuePaydate,"1.2-2"))}}function zt(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].revenuePaydate/t.totalMonth[e.name].revenue,"1.0-2"))}}function Ht(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].costComplete,"1.0-0"))}}function Et(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].costComplete/t.totalMonth[e.name].count_shipment,"1.0-2"))}}function Ut(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].costPaydate,"1.2-2"))}}function Yt(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Db(1),P.Mc(P.mc(2,1,t.totalMonth[e.name].costPaydate/t.totalMonth[e.name].cost,"1.0-2"))}}const qt=function(e,t){return{accent:e,"red-400-bg fuse-white-fg":t}};function Gt(e,t){if(1&e){const e=P.Yb();P.Xb(0,"tr"),P.Xb(1,"td",32),P.fc("click",(function(i){P.Bc(e);const o=t.$implicit,n=P.jc();return i.stopPropagation(),n.filterMonth.emit(o)})),P.Xb(2,"span",33),P.Lc(3),P.Wb(),P.Wb(),P.Xb(4,"td",18),P.Lc(5),P.Wb(),P.Jc(6,Bt,2,4,"td",19),P.Xb(7,"td",20),P.Lc(8),P.Wb(),P.Xb(9,"td",21),P.Lc(10),P.Wb(),P.Jc(11,Rt,2,1,"td",22),P.Xb(12,"td",34),P.Lc(13),P.Wb(),P.Xb(14,"td",23),P.Lc(15),P.kc(16,"number"),P.Wb(),P.Jc(17,At,3,4,"td",24),P.Jc(18,$t,3,4,"td",25),P.Jc(19,Nt,3,4,"td",24),P.Jc(20,zt,3,4,"td",25),P.Xb(21,"td",23),P.Lc(22),P.kc(23,"number"),P.Wb(),P.Jc(24,Ht,3,4,"td",24),P.Jc(25,Et,3,4,"td",25),P.Jc(26,Ut,3,4,"td",24),P.Jc(27,Yt,3,4,"td",25),P.Xb(28,"td",26),P.Lc(29),P.kc(30,"number"),P.Wb(),P.Wb()}if(2&e){const e=t.$implicit,i=P.jc();P.Db(2),P.pc("ngClass",P.sc(29,qt,i.totalMonth[e.name].teu==i.totalMonth[e.name].load_teu,i.totalMonth[e.name].teu!=i.totalMonth[e.name].load_teu)),P.Db(1),P.Oc("",i.totalMonth[e.name].month,"/",i.totalMonth[e.name].year,""),P.Db(2),P.Mc(i.totalMonth[e.name].count_shipment),P.Db(1),P.pc("ngForOf",i.arrType),P.Db(2),P.Mc(i.totalMonth[e.name].teu),P.Db(2),P.Mc(i.totalMonth[e.name].count_load_shipment),P.Db(1),P.pc("ngForOf",i.arrType),P.Db(2),P.Mc(i.totalMonth[e.name].load_teu),P.Db(2),P.Mc(P.mc(16,20,i.totalMonth[e.name].revenue,"1.0-0")),P.Db(2),P.pc("ngIf",i.revenueOpen),P.Db(1),P.pc("ngIf",i.revenueOpen),P.Db(1),P.pc("ngIf",i.revenueOpen),P.Db(1),P.pc("ngIf",i.revenueOpen),P.Db(2),P.Mc(P.mc(23,23,i.totalMonth[e.name].cost,"1.0-0")),P.Db(2),P.pc("ngIf",i.costOpen),P.Db(1),P.pc("ngIf",i.costOpen),P.Db(1),P.pc("ngIf",i.costOpen),P.Db(1),P.pc("ngIf",i.costOpen),P.Db(2),P.Mc(P.mc(30,26,i.totalMonth[e.name].revenue-i.totalMonth[e.name].cost,"1.0-0"))}}function Kt(e,t){if(1&e&&(P.Xb(0,"td",35),P.Lc(1),P.Wb()),2&e){const e=t.$implicit,i=P.jc();P.pc("ngClass",P.rc(2,Ft,"20DC"==e||"40HC"==e)),P.Db(1),P.Mc(i.shipmentTotal[e])}}function Qt(e,t){if(1&e&&(P.Xb(0,"td",36),P.Lc(1),P.Wb()),2&e){const e=t.$implicit,i=P.jc();P.Db(1),P.Mc(i.shipmentTotal["load_"+e])}}function Zt(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.revenueComplete,"1.0-0"))}}function ei(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.revenueComplete/e.shipmentTotal.shipment,"0.3-5"))}}function ti(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.revenuePaydate,"1.2-2"))}}function ii(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.revenuePaydate/e.shipmentTotal.revenue,"0.3-5"))}}function oi(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.costComplete,"1.0-0"))}}function ni(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.costComplete/e.shipmentTotal.shipment,"0.3-5"))}}function ri(e,t){if(1&e&&(P.Xb(0,"td",37),P.Lc(1),P.kc(2,"number"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.costPaydate,"1.2-2"))}}function ai(e,t){if(1&e&&(P.Xb(0,"td",38),P.Lc(1),P.kc(2,"percent"),P.Wb()),2&e){const e=P.jc();P.Db(1),P.Mc(P.mc(2,1,e.shipmentTotal.costPaydate/e.shipmentTotal.cost,"0.3-5"))}}function ci(e,t){1&e&&P.Sb(0,"td",37)}let si=(()=>{class e{constructor(e){this.authService=e,this.filterMonth=new P.o,this.revenueOpen=!1,this.costOpen=!1}ngOnInit(){this.viewProfit=[1,15].includes(this.authService.user)}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(R.a))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-view-shipment"]],inputs:{arrType:"arrType",arrMonth:"arrMonth",totalMonth:"totalMonth",shipmentTotal:"shipmentTotal"},outputs:{filterMonth:"filterMonth"},decls:85,vars:44,consts:[[1,"group","mb-12","mt-12"],[1,"viewer-content"],[1,"simple","total-table","mr-8"],[1,"sticky-header-1"],[1,"sticky-header-1","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-1","text-right","cursor-pointer",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",4,"ngIf"],["class","cursor-pointer","color","warn",4,"ngIf"],["class","sticky-header-1 text-right accent-200-bg",4,"ngIf"],["class","sticky-header-1 text-center accent-200-bg",4,"ngIf"],[1,"sticky-header-1","text-right"],[1,"sticky-header-2"],["class","sticky-header-2 text-right","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"sticky-header-2","text-center"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right"],[1,"sticky-header-2","text-right"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","text-right mr-8","fxHide","","fxShow.gt-sm","",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center","text-bold"],[1,"text-center","accent-400-fg","text-bold"],["class","text-right mr-8 accent-400-fg text-bold","fxHide","","fxShow.gt-sm","",4,"ngFor","ngForOf"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8"],["class","text-right accent-200-bg",4,"ngIf"],["class","text-center accent-200-bg",4,"ngIf"],[1,"text-right","mr-8"],["color","accent",1,"cursor-pointer"],["color","warn",1,"cursor-pointer"],[1,"sticky-header-1","text-right","accent-200-bg"],[1,"sticky-header-1","text-center","accent-200-bg"],["fxHide","","fxShow.gt-sm","",1,"sticky-header-2","text-right",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"p-4",3,"ngClass"],[1,"text-center","text-bold","accent-400-fg"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8",3,"ngClass"],["fxHide","","fxShow.gt-sm","",1,"text-right","mr-8","accent-400-fg","text-bold"],[1,"text-right","accent-200-bg"],[1,"text-center","accent-200-bg"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"h2"),P.Xb(2,"span"),P.Lc(3,"Shipment"),P.Wb(),P.Wb(),P.Xb(4,"div",1),P.Xb(5,"table",2),P.Xb(6,"thead"),P.Xb(7,"tr"),P.Xb(8,"th",3),P.Lc(9,"Time"),P.Wb(),P.Xb(10,"th",4),P.Lc(11,"Booking Shipment"),P.Wb(),P.Xb(12,"th",4),P.Lc(13,"Shipment Load Container"),P.Wb(),P.Xb(14,"th",5),P.fc("click",(function(e){return e.stopPropagation(),t.revenueOpen=!t.revenueOpen})),P.Xb(15,"div",6),P.Xb(16,"span"),P.Lc(17,"Revenue"),P.Wb(),P.Jc(18,Wt,2,0,"mat-icon",7),P.Jc(19,Xt,2,0,"mat-icon",8),P.Wb(),P.Wb(),P.Jc(20,St,2,0,"th",9),P.Jc(21,_t,2,0,"th",10),P.Jc(22,Ot,2,0,"th",9),P.Jc(23,Lt,2,0,"th",10),P.Xb(24,"th",5),P.fc("click",(function(e){return e.stopPropagation(),t.costOpen=!t.costOpen})),P.Xb(25,"div",6),P.Xb(26,"span"),P.Lc(27,"Cost"),P.Wb(),P.Jc(28,Mt,2,0,"mat-icon",7),P.Jc(29,Ct,2,0,"mat-icon",8),P.Wb(),P.Wb(),P.Jc(30,Tt,2,0,"th",9),P.Jc(31,jt,2,0,"th",10),P.Jc(32,Pt,2,0,"th",9),P.Jc(33,It,2,0,"th",10),P.Xb(34,"th",11),P.Lc(35,"Net revenue"),P.Wb(),P.Wb(),P.Xb(36,"tr"),P.Sb(37,"th",12),P.Xb(38,"th",12),P.Lc(39,"Total"),P.Wb(),P.Jc(40,Vt,2,4,"th",13),P.Xb(41,"th",14),P.Lc(42,"Teu"),P.Wb(),P.Xb(43,"th",14),P.Lc(44,"Total"),P.Wb(),P.Jc(45,Jt,2,4,"th",13),P.Xb(46,"th",4),P.Lc(47,"Teu"),P.Wb(),P.Sb(48,"th",15),P.Sb(49,"th",15),P.Sb(50,"th",16),P.Wb(),P.Wb(),P.Xb(51,"tbody"),P.Jc(52,Gt,31,32,"tr",17),P.Wb(),P.Xb(53,"tfoot"),P.Xb(54,"tr"),P.Xb(55,"td"),P.Lc(56,"Total"),P.Wb(),P.Xb(57,"td",18),P.Lc(58),P.Wb(),P.Jc(59,Kt,2,4,"td",19),P.Xb(60,"td",20),P.Lc(61),P.Wb(),P.Xb(62,"td",21),P.Lc(63),P.Wb(),P.Jc(64,Qt,2,1,"td",22),P.Xb(65,"td",21),P.Lc(66),P.Wb(),P.Xb(67,"td",23),P.Lc(68),P.kc(69,"number"),P.Wb(),P.Jc(70,Zt,3,4,"td",24),P.Jc(71,ei,3,4,"td",25),P.Jc(72,ti,3,4,"td",24),P.Jc(73,ii,3,4,"td",25),P.Xb(74,"td",23),P.Lc(75),P.kc(76,"number"),P.Wb(),P.Jc(77,oi,3,4,"td",24),P.Jc(78,ni,3,4,"td",25),P.Jc(79,ri,3,4,"td",24),P.Jc(80,ai,3,4,"td",25),P.Jc(81,ci,1,0,"td",24),P.Xb(82,"td",26),P.Lc(83),P.kc(84,"number"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(10),P.Eb("colspan",2+t.arrType.length),P.Db(2),P.Eb("colspan",2+t.arrType.length),P.Db(6),P.pc("ngIf",!t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(5),P.pc("ngIf",!t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(7),P.pc("ngForOf",t.arrType),P.Db(5),P.pc("ngForOf",t.arrType),P.Db(7),P.pc("ngForOf",t.arrMonth),P.Db(6),P.Mc(t.shipmentTotal.shipment),P.Db(1),P.pc("ngForOf",t.arrType),P.Db(2),P.Mc(t.shipmentTotal.teu),P.Db(2),P.Mc(t.shipmentTotal.load_shipment),P.Db(1),P.pc("ngForOf",t.arrType),P.Db(2),P.Mc(t.shipmentTotal.load_teu),P.Db(2),P.Mc(P.mc(69,35,t.shipmentTotal.revenue,"1.0-0")),P.Db(2),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(1),P.pc("ngIf",t.revenueOpen),P.Db(2),P.Mc(P.mc(76,38,t.shipmentTotal.cost,"1.0-0")),P.Db(2),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(1),P.pc("ngIf",t.costOpen),P.Db(2),P.Mc(P.mc(84,41,t.shipmentTotal.revenue-t.shipmentTotal.cost,"1.0-0")))},directives:[Re.b,$.d,$.c,I.t,I.s,l.a,I.q,Re.a],pipes:[I.g,I.C],styles:["overview-view-shipment .group{margin-left:0;margin-right:4px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:16px 0 8px;border:1px solid #000;z-index:100}overview-view-shipment .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa}overview-view-shipment .group .viewer-content{overflow:auto;width:100%}overview-view-shipment .group .viewer-content .total-table{font-size:12px}overview-view-shipment .group .viewer-content .total-table .border-right{border-right:1px solid rgba(0,0,0,.12)}overview-view-shipment .group .viewer-content .total-table td,overview-view-shipment .group .viewer-content .total-table th{padding:8px!important;white-space:nowrap}overview-view-shipment .group .viewer-content .total-table thead th.sticky-header-1{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}overview-view-shipment .group .viewer-content .total-table thead th.sticky-header-2{position:sticky;position:-webkit-sticky;top:32px;background:#fff;z-index:10}overview-view-shipment .group .viewer-content .total-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}overview-view-shipment .group .viewer-content .total-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}overview-view-shipment .group .viewer-content .total-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}overview-view-shipment .group .viewer-content .total-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}overview-view-shipment .group .viewer-content .total-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}"],encapsulation:2}),e})();var bi=i("fE3o"),li=i("JX91");const pi=["formDirective"];function hi(e,t){if(1&e&&(P.Xb(0,"mat-option",42),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id)("matTooltip",e.full_name),P.Db(1),P.Nc(" ",e.short_name," ")}}function di(e,t){if(1&e&&(P.Xb(0,"mat-option",42),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id)("matTooltip",e.full_name),P.Db(1),P.Nc(" ",e.short_name," ")}}function ui(e,t){if(1&e&&(P.Xb(0,"mat-option",42),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id)("matTooltip",e.full_name),P.Db(1),P.Nc(" ",e.short_name," ")}}function mi(e,t){if(1&e&&(P.Xb(0,"mat-option",37),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id),P.Db(1),P.Mc(e.name)}}function fi(e,t){if(1&e&&(P.Xb(0,"mat-option",37),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id),P.Db(1),P.Nc(" ",e.name," ")}}function vi(e,t){if(1&e){const e=P.Yb();P.Xb(0,"button",43),P.fc("click",(function(i){P.Bc(e);const o=t.$implicit;return P.jc().getPort(o)})),P.Lc(1),P.Wb()}if(2&e){const e=t.$implicit;P.Db(1),P.Nc(" ",e.name," ")}}function gi(e,t){if(1&e&&(P.Xb(0,"mat-option",37),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e.id),P.Db(1),P.Nc(" ",e.name," ")}}function wi(e,t){if(1&e&&(P.Xb(0,"mat-option",37),P.Lc(1),P.Wb()),2&e){const e=t.$implicit;P.pc("value",e),P.Db(1),P.Mc(e)}}const xi=function(){return[null,1,2,3,4,5,6,7,8,9,10,11,12]};let yi=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.commonService=t,this.datePipe=i,this.fitlerShipment=new P.o,this.year=(new Date).getFullYear(),this.monthList=[],this.monthView={},this.form=this.formBuilder.group({customer:[null],principal:[null],agent:[null],owner:[null],pol:[null],pod:[null],month:[null],year:[null],date_from:[null],date_to:[null],button:[null]}),this.searchChange=!0}ngOnInit(){if(this.filterBy){if(this.filterBy.date_from){let e=this.filterBy.date_from.split("-");this.filterBy.date_from=new Date(e[0],e[1]-1,e[2])}if(this.filterBy.date_to){let e=this.filterBy.date_to.split("-");this.filterBy.date_to=new Date(e[0],e[1]-1,e[2])}this.form.patchValue(this.filterBy)}this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(li.a)(""),Object(Pe.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Pe.a)(e=>e?this.commonService.filterData(e,"partner_name",this.partner):[])),this.filteredPrincipal=this.form.controls.principal.valueChanges.pipe(Object(li.a)(""),Object(Pe.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Pe.a)(e=>e?this.commonService.filterData(e,"partner_name",this.partner):[])),this.filteredAgent=this.form.controls.agent.valueChanges.pipe(Object(li.a)(""),Object(Pe.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(Pe.a)(e=>e?this.commonService.filterData(e,"partner_name",this.partner):[])),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object(li.a)(""),Object(Pe.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Pe.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object(li.a)(""),Object(Pe.a)(e=>e?"string"==typeof e?e:e.name:null),Object(Pe.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.form.controls.button.valueChanges.subscribe(e=>{e&&this.getMonthTime(e)})}getMonthTime(e){let t,i,o=this.form.controls.year.value,n=this.form.controls.month.value,r=new Date,a=r.getMonth(),c=r.getFullYear();e&&"M"!=e?"Y"==e?(t=new Date(o,n?n-1:0,1),i=new Date(o,n||12,0)):"TM"==e?(this.form.controls.month.setValue(null),t=new Date(c,a,1),i=new Date(c,a+1,0)):"TY"==e&&(this.form.controls.month.setValue(null),t=new Date(c,0,1),i=new Date(c,12,0)):o&&(t=new Date(o,n?n-1:0,1),i=new Date(o,n||12,0)),this.form.controls.date_from.setValue(t),this.form.controls.date_to.setValue(i)}clearForm(){this.searchNgForm.resetForm();let e=new Date;e.setFullYear(e.getFullYear()-1,e.getMonth(),1),this.form.controls.date_from.setValue(e)}onSearchFormSubmit(e){let t=JSON.parse(JSON.stringify(e.value));"string"==typeof e.customer&&(this.form.controls.customer.setValue(null),t.customer=null),"string"==typeof e.supplier&&(this.form.controls.supplier.setValue(null),t.supplier=null),"string"==typeof e.owner&&(this.form.controls.owner.setValue(null),t.owner=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),t.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),t.pod=null),t.date_from=t.date_from?this.datePipe.transform(t.date_from,"yyyy-MM-dd"):null,t.date_to=t.date_to?this.datePipe.transform(t.date_to,"yyyy-MM-dd"):null,console.log(t),this.fitlerShipment.emit(t)}getPort(e){this.form.controls.pol.setValue(e.pol),this.form.controls.pod.setValue(e.pod)}setData(e){this.form.patchValue(e)}setMonth(e){this.form.controls.month.setValue(parseInt(e.month)+1),this.form.controls.year.setValue(e.year),this.getMonthTime("M"),setTimeout(()=>{this.onSearchFormSubmit(this.form)},100)}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(N.d),P.Rb(A.a),P.Rb(I.f))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-sidebar"]],viewQuery:function(e,t){var i;1&e&&P.Sc(pi,!0),2&e&&P.wc(i=P.gc())&&(t.searchNgForm=i.first)},inputs:{height:"height",partner:"partner",seaport:"seaport",users:"users",portPair:"portPair",filterBy:"filterBy"},outputs:{fitlerShipment:"fitlerShipment"},decls:115,vars:49,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2","pb-4"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","principal","matInput","","formControlName","principal",3,"matAutocomplete"],["autoPrincipal","matAutocomplete"],["inputCheck","","aria-label","agent","matInput","","formControlName","agent",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["formControlName","owner"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete"],["matSuffix","",1,"cursor-pointer",3,"matMenuTriggerFor"],["autoSeaport1","matAutocomplete"],["moreMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete"],["autoSeaport2","matAutocomplete"],["inputCheck","","matInput","","name","date_from","formControlName","date_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["inputCheck","","matInput","","name","date_to","formControlName","date_to",3,"matDatepicker","change"],["dateTo",""],["formControlName","month",3,"selectionChange"],["formControlName","year",3,"selectionChange"],[3,"value"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","button"],["value","TM",1,"mb-12"],["value","TY",1,"mb-12"],[3,"value","matTooltip"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(P.Xb(0,"form",0,1),P.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form)})),P.Xb(2,"div",2),P.Xb(3,"div",3),P.Xb(4,"button",4),P.Lc(5," Submit "),P.Wb(),P.Xb(6,"button",5),P.fc("click",(function(e){return t.clearForm()})),P.Lc(7," Clear "),P.Wb(),P.Wb(),P.Wb(),P.Xb(8,"div",6),P.Xb(9,"div",7),P.Xb(10,"div",8),P.Xb(11,"div",9),P.Xb(12,"div",10),P.Xb(13,"mat-form-field",11),P.Xb(14,"mat-label"),P.Lc(15,"Customer"),P.Wb(),P.Sb(16,"input",12),P.Xb(17,"mat-autocomplete",13,14),P.Jc(19,hi,2,3,"mat-option",15),P.kc(20,"async"),P.Wb(),P.Wb(),P.Wb(),P.Xb(21,"div",16),P.Xb(22,"mat-form-field",11),P.Xb(23,"mat-label"),P.Lc(24,"Principal"),P.Wb(),P.Sb(25,"input",17),P.Xb(26,"mat-autocomplete",13,18),P.Jc(28,di,2,3,"mat-option",15),P.kc(29,"async"),P.Wb(),P.Wb(),P.Wb(),P.Xb(30,"div",16),P.Xb(31,"mat-form-field",11),P.Xb(32,"mat-label"),P.Lc(33,"Agent"),P.Wb(),P.Sb(34,"input",19),P.Xb(35,"mat-autocomplete",13,20),P.Jc(37,ui,2,3,"mat-option",15),P.kc(38,"async"),P.Wb(),P.Wb(),P.Wb(),P.Xb(39,"div",16),P.Xb(40,"mat-form-field",11),P.Xb(41,"mat-label"),P.Lc(42,"Owner"),P.Wb(),P.Xb(43,"mat-select",21),P.Jc(44,mi,2,2,"mat-option",22),P.Wb(),P.Wb(),P.Wb(),P.Xb(45,"div",16),P.Xb(46,"mat-form-field",11),P.Xb(47,"mat-label"),P.Lc(48,"POL"),P.Wb(),P.Sb(49,"input",23),P.Xb(50,"mat-icon",24),P.Lc(51,"import_export"),P.Wb(),P.Xb(52,"mat-autocomplete",13,25),P.Jc(54,fi,2,2,"mat-option",22),P.kc(55,"async"),P.Wb(),P.Wb(),P.Xb(56,"mat-menu",null,26),P.Jc(58,vi,2,1,"button",27),P.Wb(),P.Wb(),P.Xb(59,"div",16),P.Xb(60,"mat-form-field",11),P.Xb(61,"mat-label"),P.Lc(62,"POD"),P.Wb(),P.Sb(63,"input",28),P.Xb(64,"mat-autocomplete",13,29),P.Jc(66,gi,2,2,"mat-option",22),P.kc(67,"async"),P.Wb(),P.Wb(),P.Wb(),P.Xb(68,"div",16),P.Xb(69,"mat-form-field",11),P.Xb(70,"mat-label"),P.Lc(71,"ETD from"),P.Wb(),P.Xb(72,"input",30),P.fc("change",(function(e){return t.commonService.setDateStr(e)})),P.Wb(),P.Sb(73,"mat-datepicker-toggle",31),P.Sb(74,"mat-datepicker",null,32),P.Wb(),P.Wb(),P.Xb(76,"div",16),P.Xb(77,"mat-form-field",11),P.Xb(78,"mat-label"),P.Lc(79,"ETD to"),P.Wb(),P.Xb(80,"input",33),P.fc("change",(function(e){return t.commonService.setDateStr(e)})),P.Wb(),P.Sb(81,"mat-datepicker-toggle",31),P.Sb(82,"mat-datepicker",null,34),P.Wb(),P.Wb(),P.Xb(84,"div",16),P.Xb(85,"mat-form-field",11),P.Xb(86,"mat-label"),P.Lc(87,"Month"),P.Wb(),P.Xb(88,"mat-select",35),P.fc("selectionChange",(function(e){return t.getMonthTime("M")})),P.Jc(89,wi,2,2,"mat-option",22),P.Wb(),P.Wb(),P.Wb(),P.Xb(90,"div",16),P.Xb(91,"mat-form-field",11),P.Xb(92,"mat-label"),P.Lc(93,"Year"),P.Wb(),P.Xb(94,"mat-select",36),P.fc("selectionChange",(function(e){return t.getMonthTime("Y")})),P.Xb(95,"mat-option",37),P.Lc(96),P.Wb(),P.Xb(97,"mat-option",37),P.Lc(98),P.Wb(),P.Xb(99,"mat-option",37),P.Lc(100),P.Wb(),P.Xb(101,"mat-option",37),P.Lc(102),P.Wb(),P.Xb(103,"mat-option",37),P.Lc(104),P.Wb(),P.Xb(105,"mat-option",37),P.Lc(106),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(107,"div",38),P.Xb(108,"h2"),P.Lc(109,"Time option"),P.Wb(),P.Xb(110,"mat-radio-group",39),P.Xb(111,"mat-radio-button",40),P.Lc(112,"This month"),P.Wb(),P.Xb(113,"mat-radio-button",41),P.Lc(114,"This year"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e){const e=P.xc(18),i=P.xc(27),o=P.xc(36),n=P.xc(53),r=P.xc(57),a=P.xc(65),c=P.xc(75),s=P.xc(83);P.pc("formGroup",t.form),P.Db(8),P.Ic("height",t.height,"px"),P.Db(8),P.pc("matAutocomplete",e),P.Db(1),P.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.partner)),P.Db(2),P.pc("ngForOf",P.lc(20,38,t.filteredCustomer)),P.Db(6),P.pc("matAutocomplete",i),P.Db(1),P.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.partner)),P.Db(2),P.pc("ngForOf",P.lc(29,40,t.filteredPrincipal)),P.Db(6),P.pc("matAutocomplete",o),P.Db(1),P.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.partner)),P.Db(2),P.pc("ngForOf",P.lc(38,42,t.filteredAgent)),P.Db(7),P.pc("ngForOf",t.users),P.Db(5),P.pc("matAutocomplete",n),P.Db(1),P.pc("matMenuTriggerFor",r),P.Db(2),P.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),P.Db(2),P.pc("ngForOf",P.lc(55,44,t.filteredSeaport1)),P.Db(4),P.pc("ngForOf",t.portPair),P.Db(5),P.pc("matAutocomplete",a),P.Db(1),P.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),P.Db(2),P.pc("ngForOf",P.lc(67,46,t.filteredSeaport2)),P.Db(6),P.pc("matDatepicker",c),P.Db(1),P.pc("for",c),P.Db(7),P.pc("matDatepicker",s),P.Db(1),P.pc("for",s),P.Db(8),P.pc("ngForOf",P.qc(48,xi)),P.Db(6),P.pc("value",t.year-4),P.Db(1),P.Mc(t.year-4),P.Db(1),P.pc("value",t.year-3),P.Db(1),P.Mc(t.year-3),P.Db(1),P.pc("value",t.year-2),P.Db(1),P.Mc(t.year-2),P.Db(1),P.pc("value",t.year-1),P.Db(1),P.Mc(t.year-1),P.Db(1),P.pc("value",t.year),P.Db(1),P.Mc(t.year),P.Db(1),P.pc("value",t.year+1),P.Db(1),P.Mc(t.year+1)}},directives:[N.A,N.q,N.h,$.d,$.c,c.b,$.b,Je.a,b.c,b.f,h.b,N.b,r.c,N.p,N.g,r.a,I.s,u.a,l.a,b.h,n.c,n.d,a.b,a.d,a.a,W.n,m.b,m.a,p.a,n.a],pipes:[I.b],styles:["overview-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}overview-sidebar .navbar-scroll-container{background:#fff!important}overview-sidebar .navbar-scroll-container .navbar-content{padding-top:0}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .padding-item .mat-form-field-wrapper{padding-bottom:8px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-form-field-prefix{top:-5px;margin-right:8px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:8px 16px 8px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-11px;left:8px;margin:0;padding:0 8px;font-size:16px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-partner .search-partner-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})();function ki(e,t){if(1&e){const e=P.Yb();P.Xb(0,"fuse-sidebar",8),P.Xb(1,"div",9),P.Xb(2,"overview-sidebar",10),P.fc("fitlerShipment",(function(t){return P.Bc(e),P.jc().getFilterShipment(t)})),P.Wb(),P.Wb(),P.Wb()}if(2&e){const e=P.jc();P.Db(2),P.pc("height",e.height)("filterBy",e.filterBy)("partner",e.partner)("seaport",e.seaport)("users",e.users)("portPair",e.portPair)}}let Di=(()=>{class e{constructor(e,t,i,o,n,r,a){this._fuseSidebarService=e,this.authService=t,this.overviewService=i,this.commonService=o,this.bookFirebaseService=n,this._matDialog=r,this.router=a,this.sidebarPanel=!0,this.invoice=[],this.height=560,this.fullScreen=!1,this.portPair=[],this._unsubscribeAll=new J.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2]),this.permission&&!this.permission.data?this.overviewService.getPermissionById(this.permission.id).then(e=>{this.permission=e,this.bookFirebaseService.readDatabaseBooking().subscribe(e=>{e.map(e=>{e.voyage.depart_time=new Date(e.voyage.depart_time).getTime()}),e.sort((e,t)=>e.voyage.depart_time<t.voyage.depart_time?1:t.voyage.depart_time<e.voyage.depart_time?-1:0),this.overviewService.book=e.filter(e=>this.permission.owner.includes(e.user)||(e.book.create_by?this.permission.owner.includes(e.book.create_by.id):null)||!!e.share&&e.share.map(e=>e.id).includes(this.authService.user)),this.overviewService.buildBookOverview()})}):this.bookFirebaseService.readDatabaseBooking().subscribe(e=>{e.map(e=>{e.voyage.depart_time=new Date(e.voyage.depart_time).getTime()}),e.sort((e,t)=>e.voyage.depart_time<t.voyage.depart_time?1:t.voyage.depart_time<e.voyage.depart_time?-1:0),this.overviewService.book=e,this.overviewService.buildBookOverview()})}ngOnInit(){this.searchText=this.overviewService.searchText?this.overviewService.searchText:null,this.filterBy=this.overviewService.currenSearch.formSearch,this.authService.windowSizeChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-12-12-56}),this.authService.changeScreen.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-12-12-56:this.authService.screenHeight-64-12-12-56}),this.overviewService.onOverviewChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.totalMonth=this.overviewService.totalMonth,this.arrMonth=this.overviewService.arrMonth,this.arrType=this.overviewService.arrType,this.shipmentTotal=this.overviewService.total,this.filterData=this.overviewService.currenSearch.formSearch,this.portPair=this.overviewService.portPair}),this.overviewService.onDataChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.partner=this.overviewService.partner,this.seaport=this.overviewService.seaport,this.users=this.overviewService.users,this.country=this.overviewService.country,this.seaTerminal=this.overviewService.seaTerminal}),this.overviewService.onBookOverviewChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{e.length>0&&(this.bookData=e[0],this.bookWeek=e[1],this.bookType=e[2],this.bookTotal=e[3],this.priceHeader=this.overviewService.priceHeader,this.priceObj=this.overviewService.priceObj),this.arrYear=this.overviewService.arrYear}),this.overviewService.onContainersMovementChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.headerType=this.overviewService.headerType,this.containerMovement=this.overviewService.containerMovement})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.overviewService)}searchFilter(e){this.overviewService.onSearchTextChanged.next(e)}getFilterShipment(e){this.filterBy=e,this.authService.onRequestChanged.next(!0),this.overviewService.getShipment(e).then(t=>{this.overviewService.currenSearch.formSearch=e,this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Submit fail")})}filterMonth(e){}openModal(e){this.dialogRef=this._matDialog.open(Oe,{panelClass:"overview-view-modal-dialog",data:{label:"Book list",data:e,contType:this.bookType,priceHeader:this.priceHeader,priceObj:this.priceObj,height:this.height,modul:"pacific-logistics-network",bookFirebaseService:this.bookFirebaseService}}),this.dialogRef.afterClosed().subscribe(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(Le.a),P.Rb(R.a),P.Rb(je),P.Rb(A.a),P.Rb(Fe),P.Rb(f.b),P.Rb(o.g))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-view"]],decls:8,vars:15,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"searchText","sidebarName","showHideBar","refreshPage","toggleSidebar","searchFilter"],[1,"content","p-8"],[3,"label","headerType","data","type"],[3,"bookWeek","bookType","bookData","bookTotal","openModal"],[3,"arrType","arrMonth","totalMonth","shipmentTotal","filterMonth"],["name","overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"height","filterBy","partner","seaport","users","portPair","fitlerShipment"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Jc(1,ki,3,6,"fuse-sidebar",1),P.Xb(2,"div",2),P.Xb(3,"overview-header",3),P.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),P.Wb(),P.Xb(4,"div",4),P.Sb(5,"overview-stock-movement",5),P.Xb(6,"overview-view-book",6),P.fc("openModal",(function(e){return t.openModal(e)})),P.Wb(),P.Xb(7,"overview-view-shipment",7),P.fc("filterMonth",(function(e){return t.filterMonth(e)})),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(1),P.pc("ngIf",t.sidebarPanel),P.Db(2),P.pc("searchText",t.searchText)("sidebarName","overview-sidebar"),P.Db(2),P.pc("label","EMPTY")("headerType",t.headerType)("data",t.containerMovement.EMPTY)("type",!0),P.Db(1),P.pc("bookWeek",t.bookWeek)("bookType",t.bookType)("bookData",t.bookData)("bookTotal",t.bookTotal),P.Db(1),P.pc("arrType",t.arrType)("arrMonth",t.arrMonth)("totalMonth",t.totalMonth)("shipmentTotal",t.shipmentTotal))},directives:[Ve.a,I.t,Je.a,ze,ht,Dt,si,bi.a,yi],styles:["overview-view{width:100%}"],encapsulation:2}),e})();var Wi=i("PVWW");function Xi(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",11),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.vesselOpen=!i.vesselOpen})),P.Lc(1,"add"),P.Wb()}}function Si(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",12),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.vesselOpen=!i.vesselOpen})),P.Lc(1,"removed"),P.Wb()}}function _i(e,t){if(1&e&&(P.Xb(0,"th"),P.Lc(1,"POL"),P.Wb()),2&e){const e=P.jc();P.Ic("top",e.inverseOfTranslation)}}function Oi(e,t){if(1&e&&(P.Xb(0,"th"),P.Lc(1,"POD"),P.Wb()),2&e){const e=P.jc();P.Ic("top",e.inverseOfTranslation)}}function Li(e,t){if(1&e&&(P.Xb(0,"th"),P.Lc(1,"ETD"),P.Wb()),2&e){const e=P.jc();P.Ic("top",e.inverseOfTranslation)}}function Mi(e,t){if(1&e&&(P.Xb(0,"th"),P.Lc(1,"ETA"),P.Wb()),2&e){const e=P.jc();P.Ic("top",e.inverseOfTranslation)}}function Ci(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",11),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.shipmentOpen=!i.shipmentOpen})),P.Lc(1,"add"),P.Wb()}}function Ti(e,t){if(1&e){const e=P.Yb();P.Xb(0,"mat-icon",12),P.fc("click",(function(t){P.Bc(e);const i=P.jc();return t.stopPropagation(),i.shipmentOpen=!i.shipmentOpen})),P.Lc(1,"removed"),P.Wb()}}function ji(e,t){if(1&e&&(P.Xb(0,"th"),P.Lc(1,"BL"),P.Wb()),2&e){const e=P.jc();P.Ic("top",e.inverseOfTranslation)}}function Pi(e,t){if(1&e&&(P.Xb(0,"td"),P.Lc(1),P.Wb()),2&e){const e=P.jc(4).$implicit,t=P.jc();P.Eb("rowspan",t.objVessel[e].row),P.Db(1),P.Mc(t.objVessel[e].pol_name)}}function Ii(e,t){if(1&e&&(P.Xb(0,"td"),P.Lc(1),P.Wb()),2&e){const e=P.jc(4).$implicit,t=P.jc();P.Eb("rowspan",t.objVessel[e].row),P.Db(1),P.Mc(t.objVessel[e].pod_name)}}function Fi(e,t){if(1&e&&(P.Xb(0,"td"),P.Lc(1),P.kc(2,"date"),P.Wb()),2&e){const e=P.jc(4).$implicit,t=P.jc();P.Eb("rowspan",t.objVessel[e].row),P.Db(1),P.Mc(P.mc(2,2,t.objVessel[e].depart_time,"MM/dd/yyyy HH:mm"))}}function Vi(e,t){if(1&e&&(P.Xb(0,"td"),P.Lc(1),P.kc(2,"date"),P.Wb()),2&e){const e=P.jc(4).$implicit,t=P.jc();P.Eb("rowspan",t.objVessel[e].row),P.Db(1),P.Mc(P.mc(2,2,t.objVessel[e].arrive_time,"MM/dd/yyyy HH:mm"))}}function Ji(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td"),P.Lc(4),P.Wb(),P.Jc(5,Pi,2,2,"td",16),P.Jc(6,Ii,2,2,"td",16),P.Jc(7,Fi,3,5,"td",16),P.Jc(8,Vi,3,5,"td",16),P.Ub()),2&e){const e=P.jc(3),t=e.$implicit,i=e.index,o=P.jc();P.Db(1),P.Eb("rowspan",o.objVessel[t].row),P.Db(1),P.Mc(i+1),P.Db(1),P.Eb("rowspan",o.objVessel[t].row),P.Db(1),P.Mc(o.objVessel[t].vessel_full_name),P.Db(1),P.pc("ngIf",o.vesselOpen),P.Db(1),P.pc("ngIf",o.vesselOpen),P.Db(1),P.pc("ngIf",o.vesselOpen),P.Db(1),P.pc("ngIf",o.vesselOpen)}}function Bi(e,t){if(1&e&&(P.Xb(0,"td"),P.Lc(1),P.Wb()),2&e){const e=P.jc(3).$implicit,t=P.jc().$implicit,i=P.jc();P.Eb("rowspan",i.objVessel[t].objShipment[e].container.length),P.Db(1),P.Mc(i.objVessel[t].objShipment[e].bill)}}function Ri(e,t){if(1&e&&(P.Vb(0),P.Xb(1,"td",20),P.Xb(2,"a",18),P.Lc(3),P.Wb(),P.Wb(),P.Jc(4,Bi,2,2,"td",16),P.Ub()),2&e){const e=P.jc(2).$implicit,t=P.jc().$implicit,i=P.jc();P.Db(1),P.Eb("rowspan",i.objVessel[t].objShipment[e].container.length),P.Db(1),P.pc("routerLink","/apps/pacific-logistics-network/shipment/detail/"+i.objVessel[t].objShipment[e].id+"/overview"),P.Db(1),P.Mc(i.objVessel[t].objShipment[e].code),P.Db(1),P.pc("ngIf",i.shipmentOpen)}}const Ai=function(e){return{"grey-100-bg":e}};function $i(e,t){if(1&e&&(P.Xb(0,"tr",15),P.Jc(1,Ji,9,8,"ng-container",16),P.Jc(2,Ri,5,4,"ng-container",16),P.Xb(3,"td",17),P.Xb(4,"a",18),P.Lc(5),P.Wb(),P.Wb(),P.Xb(6,"td",19),P.Lc(7),P.Wb(),P.Wb()),2&e){const e=t.$implicit,i=t.index,o=P.jc(),n=o.index,r=o.$implicit,a=P.jc(),c=a.index,s=a.$implicit,b=P.jc();P.pc("ngClass",P.rc(6,Ai,c%2==0)),P.Db(1),P.pc("ngIf",0==n&&0==i),P.Db(1),P.pc("ngIf",0==i),P.Db(2),P.pc("routerLink","/apps/pacific-logistics-network/container-details/"+e),P.Db(1),P.Mc(b.objVessel[s].objShipment[r].objContainer[e].cont_number),P.Db(2),P.Mc(b.objVessel[s].objShipment[r].objContainer[e].cont_type_code)}}function Ni(e,t){if(1&e&&(P.Vb(0),P.Jc(1,$i,8,8,"tr",14),P.Ub()),2&e){const e=t.$implicit,i=P.jc().$implicit,o=P.jc();P.Db(1),P.pc("ngForOf",o.objVessel[i].objShipment[e].container)}}function zi(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Ni,2,1,"ng-container",13),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(1),P.pc("ngForOf",i.objVessel[e].shipment)}}let Hi=(()=>{class e{constructor(e,t,i,o,n){this.router=e,this.route=t,this._activatedRoute=i,this.authService=o,this.datePipe=n,this.exportExcel=new P.o,this.vesselOpen=!1,this.shipmentOpen=!1}ngOnInit(){}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(o.g),P.Rb(o.a),P.Rb(o.a),P.Rb(R.a),P.Rb(I.f))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-vessel-table"]],viewQuery:function(e,t){var i;1&e&&P.Sc(T.e,!0),2&e&&P.wc(i=P.gc())&&(t.viewPort=i.first)},inputs:{arrVoyage:"arrVoyage",objVessel:"objVessel",arrType:"arrType",total:"total",height:"height"},outputs:{exportExcel:"exportExcel"},decls:30,vars:24,consts:[[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-table"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[1,"sticky-col",2,"z-index","30"],[1,"sticky-right-col2",2,"z-index","30"],[1,"sticky-right-col1",2,"z-index","30"],[4,"cdkVirtualFor","cdkVirtualForOf"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"sticky-right-col2"],[1,"cursor-pointer",3,"routerLink"],[1,"sticky-right-col1"],[1,"sticky-col"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"cdk-virtual-scroll-viewport",1),P.Xb(2,"table",2),P.Xb(3,"thead"),P.Xb(4,"tr"),P.Xb(5,"th"),P.Lc(6,"No"),P.Wb(),P.Xb(7,"th"),P.Xb(8,"div",3),P.Xb(9,"span"),P.Lc(10,"Vessel Voyage"),P.Wb(),P.Jc(11,Xi,2,0,"mat-icon",4),P.Jc(12,Si,2,0,"mat-icon",5),P.Wb(),P.Wb(),P.Jc(13,_i,2,2,"th",6),P.Jc(14,Oi,2,2,"th",6),P.Jc(15,Li,2,2,"th",6),P.Jc(16,Mi,2,2,"th",6),P.Xb(17,"th",7),P.Xb(18,"div",3),P.Xb(19,"span"),P.Lc(20,"Shipment"),P.Wb(),P.Jc(21,Ci,2,0,"mat-icon",4),P.Jc(22,Ti,2,0,"mat-icon",5),P.Wb(),P.Wb(),P.Jc(23,ji,2,2,"th",6),P.Xb(24,"th",8),P.Lc(25,"Container"),P.Wb(),P.Xb(26,"th",9),P.Lc(27,"Type"),P.Wb(),P.Wb(),P.Wb(),P.Xb(28,"tbody"),P.Jc(29,zi,2,1,"ng-container",10),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Ic("height",t.height,"px"),P.Db(1),P.Ic("height",t.height,"px"),P.Db(4),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(4),P.pc("ngIf",!t.vesselOpen),P.Db(1),P.pc("ngIf",t.vesselOpen),P.Db(1),P.pc("ngIf",t.vesselOpen),P.Db(1),P.pc("ngIf",t.vesselOpen),P.Db(1),P.pc("ngIf",t.vesselOpen),P.Db(1),P.pc("ngIf",t.vesselOpen),P.Db(1),P.Ic("top",t.inverseOfTranslation),P.Db(4),P.pc("ngIf",!t.shipmentOpen),P.Db(1),P.pc("ngIf",t.shipmentOpen),P.Db(1),P.pc("ngIf",t.shipmentOpen),P.Db(1),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(3),P.pc("cdkVirtualForOf",t.arrVoyage))},directives:[T.e,j.a,$.d,$.c,I.t,T.d,l.a,I.s,I.q,Re.a,o.j],pipes:[I.f],styles:["overview-vessel-table .no-shipments-text{font-size:24px;font-weight:300}overview-vessel-table cdk-virtual-scroll-viewport{width:100%}overview-vessel-table .overview-vessel{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}overview-vessel-table .overview-vessel td,overview-vessel-table .overview-vessel th{padding:8px!important;white-space:nowrap}overview-vessel-table .mat-expansion-panel-body{padding:0!important}overview-vessel-table .shipment-table{font-size:12px!important;border:1px solid #e0e0e0;margin-bottom:4px;border-collapse:collapse}overview-vessel-table .shipment-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff!important;z-index:10;border-bottom:1px solid #000!important}overview-vessel-table .shipment-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff!important;z-index:25}overview-vessel-table .shipment-table td,overview-vessel-table .shipment-table th{padding:8px!important;white-space:nowrap;border:1px solid #e0e0e0}overview-vessel-table .shipment-table td .mat-standard-chip,overview-vessel-table .shipment-table th .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}overview-vessel-table .shipment-table .paid{background:#fff;color:#000}overview-vessel-table .shipment-table .cost-paid{background:#ffe1c2;color:#000}overview-vessel-table .shipment-table .sticky-col{width:100px;position:sticky;position:-webkit-sticky;background:#fff;left:0;z-index:20}overview-vessel-table .shipment-table .sticky-col2{width:50px;position:sticky;position:-webkit-sticky;background:#fff;left:98px;z-index:20}overview-vessel-table .shipment-table .sticky-right-col{position:sticky;position:-webkit-sticky;background:#fff;right:40px;z-index:20}overview-vessel-table .shipment-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background:#fff;right:0;z-index:20}overview-vessel-table .shipment-table .border-vessel td{border-bottom:1px solid #000!important}overview-vessel-table .shipment-table .row-even{background-color:#e0e0e0!important}"],encapsulation:2,data:{animation:Wi.a}}),e})();function Ei(e,t){if(1&e){const e=P.Yb();P.Xb(0,"fuse-sidebar",6),P.Xb(1,"div",7),P.Xb(2,"overview-sidebar",8),P.fc("fitlerShipment",(function(t){return P.Bc(e),P.jc().getFilterShipment(t)})),P.Wb(),P.Wb(),P.Wb()}if(2&e){const e=P.jc();P.Db(2),P.pc("height",e.height)("partner",e.partner)("seaport",e.seaport)("users",e.users)("portPair",e.portPair)}}let Ui=(()=>{class e{constructor(e,t,i,o){this._fuseSidebarService=e,this.authService=t,this.overviewService=i,this.commonService=o,this.sidebarPanel=!0,this.invoice=[],this.height=560,this.fullScreen=!1,this.portPair=[],this._unsubscribeAll=new J.a}ngOnInit(){this.searchText=this.overviewService.searchText?this.overviewService.searchText:null,this.authService.windowSizeChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-12-12-56}),this.authService.changeScreen.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-12-12-56:this.authService.screenHeight-64-12-12-56}),this.overviewService.onOverviewChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.arrVoyage=e[0],this.objVessel=e[1]}),this.overviewService.onDataChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.partner=this.overviewService.partner,this.seaport=this.overviewService.seaport,this.users=this.overviewService.users,this.country=this.overviewService.country,this.seaTerminal=this.overviewService.seaTerminal})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.overviewService)}searchFilter(e){this.overviewService.onSearchTextChanged.next(e)}getFilterShipment(e){this.authService.onRequestChanged.next(!0),this.overviewService.getShipment(e).then(t=>{this.overviewService.currenSearch.formSearch=e,this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Submit fail")})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(Le.a),P.Rb(R.a),P.Rb(je),P.Rb(A.a))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-vessel"]],decls:6,vars:6,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"searchText","sidebarName","showHideBar","refreshPage","toggleSidebar","searchFilter"],[1,"content","p-8"],[3,"arrVoyage","objVessel","height"],["name","overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"height","partner","seaport","users","portPair","fitlerShipment"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Jc(1,Ei,3,5,"fuse-sidebar",1),P.Xb(2,"div",2),P.Xb(3,"overview-header",3),P.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),P.Wb(),P.Xb(4,"div",4),P.Sb(5,"overview-vessel-table",5),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(1),P.pc("ngIf",t.sidebarPanel),P.Db(2),P.pc("searchText",t.searchText)("sidebarName","overview-sidebar"),P.Db(2),P.pc("arrVoyage",t.arrVoyage)("objVessel",t.objVessel)("height",t.height))},directives:[Ve.a,I.t,Je.a,ze,Hi,bi.a,yi],styles:["overview-vessel{width:100%}"],encapsulation:2}),e})();function Yi(e,t){if(1&e&&(P.Xb(0,"th",10),P.Lc(1),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Ic("top",t.inverseOfTranslation),P.Db(1),P.Mc(e)}}function qi(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Yi,2,3,"th",9),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(1),P.pc("ngIf",i.total[e]>0)}}const Gi=function(e){return{"red-400-bg":e}};function Ki(e,t){if(1&e&&(P.Xb(0,"td",14),P.Lc(1),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc().$implicit;P.pc("ngClass",P.rc(2,Gi,t.process>0&&t[e]!=t["move"+e])),P.Db(1),P.Mc(t[e])}}function Qi(e,t){if(1&e&&(P.Vb(0),P.Jc(1,Ki,2,4,"td",13),P.Ub()),2&e){const e=t.$implicit,i=P.jc(2);P.Db(1),P.pc("ngIf",i.total[e]>0)}}function Zi(e,t){if(1&e&&(P.Xb(0,"tr"),P.Xb(1,"td"),P.Lc(2),P.Wb(),P.Xb(3,"td"),P.Xb(4,"a",11),P.Lc(5),P.Wb(),P.Wb(),P.Xb(6,"td"),P.Lc(7),P.Wb(),P.Xb(8,"td"),P.Lc(9),P.Wb(),P.Jc(10,Qi,2,1,"ng-container",3),P.Xb(11,"td",12),P.Lc(12),P.Wb(),P.Xb(13,"td",12),P.Lc(14),P.Wb(),P.Xb(15,"td",12),P.Lc(16),P.Wb(),P.Xb(17,"td"),P.Lc(18),P.Wb(),P.Xb(19,"td"),P.Lc(20),P.Wb(),P.Xb(21,"td"),P.Lc(22),P.kc(23,"date"),P.Wb(),P.Xb(24,"td",4),P.Lc(25),P.kc(26,"number"),P.Wb(),P.Xb(27,"td",4),P.Lc(28),P.kc(29,"number"),P.Wb(),P.Xb(30,"td"),P.Lc(31),P.Wb(),P.Xb(32,"td"),P.Lc(33),P.Wb(),P.Wb()),2&e){const e=t.$implicit,i=t.index,o=P.jc();P.Db(2),P.Mc(i+1),P.Db(2),P.pc("routerLink","/apps/pacific-logistics-network/shipment/detail/"+e.id+"/soa"),P.Db(1),P.Mc(e.code),P.Db(2),P.Mc(e.bill),P.Db(2),P.Mc(e.vessel_full_name),P.Db(1),P.pc("ngForOf",o.package),P.Db(1),P.pc("matTooltip",e.customer_name),P.Db(1),P.Mc(e.customer_short_name),P.Db(1),P.pc("matTooltip",e.principal_name),P.Db(1),P.Mc(e.principal_short_name),P.Db(1),P.pc("matTooltip",e.agent_name),P.Db(1),P.Mc(e.agent_short_name),P.Db(2),P.Mc(e.pol_name),P.Db(2),P.Mc(e.pod_name),P.Db(2),P.Mc(P.mc(23,19,e.depart_time,"MM/dd/yyyy HH:mm")),P.Db(3),P.Mc(P.mc(26,22,e.revenueTotal,"1.0-0")),P.Db(3),P.Mc(P.mc(29,25,e.costTotal,"1.0-0")),P.Db(3),P.Mc(e.owner_name),P.Db(2),P.Mc(e.create_by_name)}}function eo(e,t){if(1&e&&(P.Xb(0,"td",16),P.Lc(1),P.Wb()),2&e){const e=P.jc().$implicit,t=P.jc();P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Mc(t.total[e])}}function to(e,t){if(1&e&&(P.Vb(0),P.Jc(1,eo,2,3,"td",15),P.Ub()),2&e){const e=t.$implicit,i=P.jc();P.Db(1),P.pc("ngIf",i.total[e]>0)}}let io=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){}ngOnChanges(e){e.shipment&&(e.shipment.currentValue||null==e.shipment.currentValue)&&(this.shipment=e.shipment.currentValue)}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(R.a))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-shipment-list"]],viewQuery:function(e,t){var i;1&e&&P.Sc(T.e,!0),2&e&&P.wc(i=P.gc())&&(t.viewPort=i.first)},inputs:{shipment:"shipment",total:"total",package:"package",permission:"permission",height:"height"},features:[P.Bb()],decls:59,vars:72,consts:[["fxLayout","column"],["itemSize","43",1,"h-100-p"],[1,"simple","overview-table"],[4,"ngFor","ngForOf"],[1,"text-right"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"text-bold"],["colspan","2",1,"text-bold"],[1,"text-right","text-bold"],["class","text-center",3,"top",4,"ngIf"],[1,"text-center"],[1,"cursor-pointer",3,"routerLink"],[3,"matTooltip"],["class","text-center",3,"ngClass",4,"ngIf"],[1,"text-center",3,"ngClass"],["class","text-bold text-center",3,"bottom",4,"ngIf"],[1,"text-bold","text-center"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"cdk-virtual-scroll-viewport",1),P.Xb(2,"table",2),P.Xb(3,"thead"),P.Xb(4,"tr"),P.Xb(5,"th"),P.Lc(6,"No"),P.Wb(),P.Xb(7,"th"),P.Lc(8,"Code"),P.Wb(),P.Xb(9,"th"),P.Lc(10,"Bill"),P.Wb(),P.Xb(11,"th"),P.Lc(12,"Voyage"),P.Wb(),P.Jc(13,qi,2,1,"ng-container",3),P.Xb(14,"th"),P.Lc(15,"Customer"),P.Wb(),P.Xb(16,"th"),P.Lc(17,"Principal"),P.Wb(),P.Xb(18,"th"),P.Lc(19,"Agent"),P.Wb(),P.Xb(20,"th"),P.Lc(21,"POL"),P.Wb(),P.Xb(22,"th"),P.Lc(23,"POD"),P.Wb(),P.Xb(24,"th"),P.Lc(25,"ETD"),P.Wb(),P.Xb(26,"th",4),P.Lc(27,"Revenue"),P.Wb(),P.Xb(28,"th",4),P.Lc(29,"Cost"),P.Wb(),P.Xb(30,"th"),P.Lc(31,"Owner"),P.Wb(),P.Xb(32,"th"),P.Lc(33,"Create by"),P.Wb(),P.Wb(),P.Wb(),P.Xb(34,"tbody"),P.Jc(35,Zi,34,28,"tr",5),P.Wb(),P.Xb(36,"tfoot"),P.Xb(37,"tr"),P.Xb(38,"td",6),P.Lc(39,"Total"),P.Wb(),P.Xb(40,"td",7),P.Lc(41),P.Wb(),P.Sb(42,"td"),P.Jc(43,to,2,1,"ng-container",3),P.Sb(44,"td"),P.Sb(45,"td"),P.Sb(46,"td"),P.Sb(47,"td"),P.Sb(48,"td"),P.Sb(49,"td"),P.Xb(50,"td",8),P.Lc(51),P.kc(52,"number"),P.Wb(),P.Xb(53,"td",8),P.Lc(54),P.kc(55,"number"),P.Wb(),P.Sb(56,"td"),P.Sb(57,"td"),P.Sb(58,"td"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Ic("height",t.height,"px"),P.Db(5),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.pc("ngForOf",t.package),P.Db(1),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(2),P.Ic("top",t.inverseOfTranslation),P.Db(3),P.pc("cdkVirtualForOf",t.shipment),P.Db(3),P.Ic("bottom",t.inverseOfTranslation2),P.Db(2),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Pc("",t.total.teu," Teus of ",t.shipment.length," Shipment",t.shipment.length>0?"s":"",""),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.pc("ngForOf",t.package),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Mc(P.mc(52,66,t.total.revenue,"1.0-0")),P.Db(2),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Mc(P.mc(55,69,t.total.cost,"1.0-0")),P.Db(2),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2),P.Db(1),P.Ic("bottom",t.inverseOfTranslation2))},directives:[$.d,T.e,T.a,I.s,T.d,I.t,o.j,p.a,I.q,Re.a],pipes:[I.g,I.f],styles:["overview-shipment-list .overview-table{font-size:12px}overview-shipment-list .overview-table td,overview-shipment-list .overview-table th{padding:8px!important;white-space:nowrap}overview-shipment-list .overview-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}overview-shipment-list .overview-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff;z-index:10}overview-shipment-list .overview-table .sticky-col1{position:sticky;position:-webkit-sticky;left:0;background-color:#fff;z-index:20}overview-shipment-list .overview-table .sticky-col2{position:sticky;position:-webkit-sticky;left:96px;background-color:#fff;z-index:20}overview-shipment-list .overview-table .sticky-right-col{min-width:40px;position:sticky;position:-webkit-sticky;right:0;background-color:#fff}overview-shipment-list .overview-table .mat-standard-chip{font-size:12px;padding:4px;border-radius:10px;min-height:24px}"],encapsulation:2,data:{animation:Wi.a}}),e})();function oo(e,t){if(1&e){const e=P.Yb();P.Xb(0,"fuse-sidebar",6),P.Xb(1,"div",7),P.Xb(2,"overview-sidebar",8),P.fc("fitlerShipment",(function(t){return P.Bc(e),P.jc().getFilterShipment(t)})),P.Wb(),P.Wb(),P.Wb()}if(2&e){const e=P.jc();P.Db(2),P.pc("height",e.height)("partner",e.partner)("seaport",e.seaport)("users",e.users)("portPair",e.portPair)}}let no=(()=>{class e{constructor(e,t,i,o,n){this._fuseSidebarService=e,this.authService=t,this.overviewService=i,this.commonService=o,this.router=n,this.sidebarPanel=!0,this.invoice=[],this.height=560,this.fullScreen=!1,this.portPair=[],this._unsubscribeAll=new J.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.searchText=this.overviewService.searchText?this.overviewService.searchText:null,this.authService.windowSizeChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-12-12-56}),this.authService.changeScreen.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-12-12-56:this.authService.screenHeight-64-12-12-56}),this.overviewService.onOverviewChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.totalMonth=this.overviewService.totalMonth,this.arrMonth=this.overviewService.arrMonth,this.arrType=this.overviewService.arrType,this.shipmentTotal=this.overviewService.total,this.filterData=this.overviewService.currenSearch.formSearch,this.portPair=this.overviewService.portPair}),this.overviewService.onDataChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.partner=this.overviewService.partner,this.seaport=this.overviewService.seaport,this.users=this.overviewService.users,this.country=this.overviewService.country,this.seaTerminal=this.overviewService.seaTerminal}),this.overviewService.onShipmentChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.shipment=e.shipment,this.total=e.total,this.package=this.shipment.length>0?this.shipment[0].package:[]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.overviewService)}searchFilter(e){this.overviewService.onSearchTextChanged.next(e)}getFilterShipment(e){console.log(e),this.authService.onRequestChanged.next(!0),this.overviewService.getShipment(e).then(t=>{this.overviewService.currenSearch.formSearch=e,this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Submit fail")})}filterMonth(e){}openModal(e){}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(Le.a),P.Rb(R.a),P.Rb(je),P.Rb(A.a),P.Rb(o.g))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-shipment"]],decls:6,vars:8,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"searchText","sidebarName","showHideBar","refreshPage","toggleSidebar","searchFilter"],[1,"content","p-8"],[3,"shipment","total","package","permission","height"],["name","overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"height","partner","seaport","users","portPair","fitlerShipment"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Jc(1,oo,3,5,"fuse-sidebar",1),P.Xb(2,"div",2),P.Xb(3,"overview-header",3),P.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),P.Wb(),P.Xb(4,"div",4),P.Sb(5,"overview-shipment-list",5),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(1),P.pc("ngIf",t.sidebarPanel),P.Db(2),P.pc("searchText",t.searchText)("sidebarName","overview-sidebar"),P.Db(2),P.pc("shipment",t.shipment)("total",t.total)("package",t.package)("permission",t.permission)("height",t.height))},directives:[Ve.a,I.t,Je.a,ze,io,bi.a,yi],styles:["overview-shipment{width:100%}"],encapsulation:2}),e})();function ro(e,t){if(1&e){const e=P.Yb();P.Xb(0,"fuse-sidebar",8),P.Xb(1,"div",9),P.Xb(2,"overview-sidebar",10),P.fc("fitlerShipment",(function(t){return P.Bc(e),P.jc().getFilterShipment(t)})),P.Wb(),P.Wb(),P.Wb()}if(2&e){const e=P.jc();P.Db(2),P.pc("height",e.height)("partner",e.partner)("seaport",e.seaport)("users",e.users)("portPair",e.portPair)}}let ao=(()=>{class e{constructor(e,t,i,o,n){this._fuseSidebarService=e,this.authService=t,this.overviewService=i,this.commonService=o,this.router=n,this.sidebarPanel=!0,this.invoice=[],this.height=560,this.fullScreen=!1,this._unsubscribeAll=new J.a,this.permission=this.authService.getAction(this.router.routerState.snapshot.url.split("/")[2])}ngOnInit(){this.searchText=this.overviewService.searchText?this.overviewService.searchText:null,this.authService.windowSizeChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-12-12-56}),this.authService.changeScreen.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-12-12-56:this.authService.screenHeight-64-12-12-56}),this.overviewService.onContainersMovementChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.headerType=this.overviewService.headerType,this.containerMovement=this.overviewService.containerMovement}),this.overviewService.onDataChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.partner=this.overviewService.partner,this.seaport=this.overviewService.seaport,this.users=this.overviewService.users}),this.overviewService.onOverviewChanged.pipe(Object(B.a)(this._unsubscribeAll)).subscribe(e=>{this.portPair=this.overviewService.portPair})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.overviewService)}searchFilter(e){this.overviewService.onSearchTextChanged.next(e)}getFilterShipment(e){this.authService.onRequestChanged.next(!0),this.overviewService.getShipment(e).then(t=>{this.overviewService.currenSearch.formSearch=e,this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Submit fail")})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(Le.a),P.Rb(R.a),P.Rb(je),P.Rb(A.a),P.Rb(o.g))},e.\u0275cmp=P.Lb({type:e,selectors:[["overview-stock"]],decls:13,vars:23,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"searchText","sidebarName","showHideBar","refreshPage","toggleSidebar","searchFilter"],[1,"content","p-8"],["fxLayout","column",1,"w-100-p"],["fusePerfectScrollbar","",2,"overflow","auto"],[3,"label","headerType","data"],["name","overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"height","partner","seaport","users","portPair","fitlerShipment"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Jc(1,ro,3,5,"fuse-sidebar",1),P.Xb(2,"div",2),P.Xb(3,"overview-header",3),P.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("searchFilter",(function(e){return t.searchFilter(e)})),P.Wb(),P.Xb(4,"div",4),P.Xb(5,"div",5),P.Xb(6,"div",6),P.Sb(7,"overview-stock-movement",7),P.Sb(8,"overview-stock-movement",7),P.Sb(9,"overview-stock-movement",7),P.Sb(10,"overview-stock-movement",7),P.Sb(11,"overview-stock-movement",7),P.Sb(12,"overview-stock-movement",7),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Db(1),P.pc("ngIf",t.sidebarPanel),P.Db(2),P.pc("searchText",t.searchText)("sidebarName","overview-sidebar"),P.Db(3),P.Ic("height",t.height,"px"),P.Db(1),P.pc("label","INBOUND ONBOARD")("headerType",t.headerType)("data",t.containerMovement.LOAD),P.Db(1),P.pc("label","FULIM")("headerType",t.headerType)("data",t.containerMovement.FULIM),P.Db(1),P.pc("label","TRIM")("headerType",t.headerType)("data",t.containerMovement.TRIMP),P.Db(1),P.pc("label","EMPTY")("headerType",t.headerType)("data",t.containerMovement.EMPTY),P.Db(1),P.pc("label","TREXP")("headerType",t.headerType)("data",t.containerMovement.TREXP),P.Db(1),P.pc("label","FULEX")("headerType",t.headerType)("data",t.containerMovement.FULEX))},directives:[Ve.a,I.t,Je.a,ze,$.d,ht,bi.a,yi],styles:["overview-stock{width:100%}"],encapsulation:2}),e})();i.d(t,"OverviewModule",(function(){return so}));const co=[{path:"",component:V,resolve:{data:je},children:[{path:"overview",component:Di},{path:"shipment",component:no},{path:"vessel",component:Ui},{path:"stock",component:ao}]}];let so=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},providers:[je,Fe],imports:[[o.k.forChild(co),n.b,r.b,a.c,c.c,s.b,b.e,l.b,p.b,h.c,d.c,u.b,m.c,f.e,v.b,g.b,w.b,x.d,y.e,k.b,D.b,X.b,S.k,_.c,W.t,O.a,L.a,M.a,C.f,T.g,j.b]]}),e})()},IOBc:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var o=i("5HBU"),n=i("bTqV"),r=i("kmnG"),a=i("NFeN"),c=i("qFsG"),s=i("wZkO"),b=i("/t3+"),l=i("bSwM"),p=i("+0xr"),h=i("FKr1"),d=i("MutI"),u=i("fXoL");let m=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[o.a,n.c,r.e,a.b,c.c,s.c,b.b,l.b,h.t,d.c,p.k]]}),e})()},cfqv:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return p}));var o=i("8LU1"),n=i("vxfF"),r=i("fXoL"),a=i("HDdC");class c{constructor(e=50){this._totalWeight=0,this._defaultItemSize=e,this._averageItemSize=e}getAverageItemSize(){return this._averageItemSize}addSample(e,t){const i=this._totalWeight+e.end-e.start;if(i){const e=(t+this._averageItemSize*this._totalWeight)/i;e&&(this._averageItemSize=e,this._totalWeight=i)}}reset(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}class s{constructor(e,t,i=new c){this.scrolledIndexChange=new a.a(()=>{throw Error("cdk-virtual-scroll: scrolledIndexChange is currently not supported for the autosize scroll strategy")}),this._viewport=null,this._removalFailures=0,this._minBufferPx=e,this._maxBufferPx=t,this._averager=i}attach(e){this._averager.reset(),this._viewport=e,this._renderContentForCurrentOffset()}detach(){this._viewport=null}onContentScrolled(){this._viewport&&this._updateRenderedContentAfterScroll()}onDataLengthChanged(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}onContentRendered(){this._viewport&&this._checkRenderedContentSize()}onRenderedOffsetChanged(){this._viewport&&this._checkRenderedContentOffset()}scrollToIndex(){throw Error("cdk-virtual-scroll: scrollToIndex is currently not supported for the autosize scroll strategy")}updateBufferSize(e,t){if(t<e)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=e,this._maxBufferPx=t}_updateRenderedContentAfterScroll(){const e=this._viewport,t=e.measureScrollOffset();let i=t-this._lastScrollOffset,o=Math.abs(i);const n=e.getRenderedRange();let r=0;if(i<0){const e=n.start*this._averager.getAverageItemSize();r=Math.round((e-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,o/(t+o)))),i-=r,o=Math.abs(i)}const a=this._lastScrollOffset-this._lastRenderedContentOffset,c=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+e.getViewportSize()),s=o+this._minBufferPx-(i<0?a:c);if(s>0)if(o>=e.getViewportSize())this._renderContentForCurrentOffset();else{const t=Math.max(0,Math.ceil((s-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),b=(i<0?c:a)-this._minBufferPx+o,l=Math.floor(b/this._averager.getAverageItemSize()/(this._removalFailures+1)),p=Math.min(n.end-n.start,Math.max(0,l)),h=this._expandRange(n,i<0?t:0,i>0?t:0);let d,u;if(i<0?h.end=Math.max(h.start+1,h.end-p):h.start=Math.min(h.end-1,h.start+p),i<0){let t=e.measureRangeSize({start:h.end,end:n.end});t<=b?(d=this._lastRenderedContentOffset+this._lastRenderedContentSize-t,this._removalFailures=0):(h.end=n.end,d=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),u="to-end"}else{const t=e.measureRangeSize({start:n.start,end:h.start});t<=b?(d=this._lastRenderedContentOffset+t,this._removalFailures=0):(h.start=n.start,d=this._lastRenderedContentOffset,this._removalFailures++),u="to-start"}e.setRenderedRange(h),e.setRenderedContentOffset(d+r,u)}else r&&e.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=t}_checkRenderedContentSize(){const e=this._viewport;this._lastRenderedContentSize=e.measureRenderedContentSize(),this._averager.addSample(e.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}_checkRenderedContentOffset(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}_renderContentForCurrentOffset(){const e=this._viewport,t=e.measureScrollOffset();this._lastScrollOffset=t,this._removalFailures=0;const i=this._averager.getAverageItemSize(),o=Math.min(e.getDataLength()-1,Math.floor(t/i)),n=Math.ceil(this._maxBufferPx/i),r=this._expandRange(this._getVisibleRangeForIndex(o),n,n);e.setRenderedRange(r),e.setRenderedContentOffset(i*r.start)}_getVisibleRangeForIndex(e){const t=this._viewport,i={start:e,end:e+Math.ceil(t.getViewportSize()/this._averager.getAverageItemSize())},o=i.end-t.getDataLength();return o>0&&(i.start=Math.max(0,i.start-o)),i}_expandRange(e,t,i){const o=this._viewport;return{start:Math.max(0,e.start-t),end:Math.min(o.getDataLength(),e.end+i)}}_updateTotalContentSize(e){const t=this._viewport,i=t.getRenderedRange(),o=e+(t.getDataLength()-(i.end-i.start))*this._averager.getAverageItemSize();t.setTotalContentSize(o)}}function b(e){return e._scrollStrategy}let l=(()=>{class e{constructor(){this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new s(this.minBufferPx,this.maxBufferPx)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Object(o.f)(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Object(o.f)(e)}ngOnChanges(){this._scrollStrategy.updateBufferSize(this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Mb({type:e,selectors:[["cdk-virtual-scroll-viewport","autosize",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:n.h,useFactory:b,deps:[Object(r.V)(()=>e)]}]),r.Bb()]}),e})(),p=(()=>{class e{}return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)}}),e})()},jD4G:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));class o{static filterArrayByString(e,t){return""===t?e:(t=t.toLowerCase(),e.filter(e=>this.searchInObj(e,t)))}static searchInObj(e,t){for(const i in e){if(!e.hasOwnProperty(i))continue;const o=e[i];if("string"==typeof o){if(this.searchInString(o,t))return!0}else if(Array.isArray(o)&&this.searchInArray(o,t))return!0;if("object"==typeof o&&this.searchInObj(o,t))return!0}}static searchInArray(e,t){for(const i of e){if("string"==typeof i&&this.searchInString(i,t))return!0;if("object"==typeof i&&this.searchInObj(i,t))return!0}}static searchInString(e,t){return e.toLowerCase().includes(t)}static generateGUID(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()}static toggleInArray(e,t){-1===t.indexOf(e)?t.push(e):t.splice(t.indexOf(e),1)}static handleize(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}},rPBI:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var o=i("fXoL"),n=i("XNiG"),r=i("1G5W"),a=i("3Pt+"),c=i("Kj3r"),s=i("/uUt"),b=i("0JVi"),l=i("ofXK"),p=i("znSr"),h=i("XiUz"),d=i("bTqV"),u=i("NFeN");function m(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",7),o.fc("click",(function(t){return o.Bc(e),o.jc().expand()})),o.Xb(1,"mat-icon",8),o.Lc(2,"search"),o.Wb(),o.Wb()}if(2&e){const e=o.jc();o.Db(1),o.pc("color",e.searchText&&""!==e.searchText?"accent":"")}}const f=function(e){return{expanded:e}};let v=(()=>{class e{constructor(e){this._fuseConfigService=e,this.inputValue=new o.o,this.collapsed=!0,this.searchInput=new a.e(""),this._unsubscribeAll=new n.a}ngOnInit(){this._fuseConfigService.config.pipe(Object(r.a)(this._unsubscribeAll)).subscribe(e=>{this.fuseConfig=e}),this.searchInput.valueChanges.pipe(Object(r.a)(this._unsubscribeAll),Object(c.a)(300),Object(s.a)()).subscribe(e=>{this.searchText=e,this.inputValue.emit(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnChanges(e){e.searchText&&(e.searchText.currentValue||null==e.searchText.currentValue)&&(this.searchText=e.searchText.currentValue,this.searchInput.setValue(this.searchText))}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(b.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["filter-search-bar"]],inputs:{searchText:"searchText"},outputs:{inputValue:"inputValue"},features:[o.Bb()],decls:8,vars:5,consts:[[1,"filter-search-bar",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"filter-search-bar-content"],["for","filter-search-bar-input"],["mat-icon-button","","class","filter-search-bar-expander","aria-label","Expand Search Bar",3,"click",4,"ngIf"],["id","filter-search-bar-input","type","text","placeholder","Search","fxFlex","",1,"ml-24",3,"formControl"],["mat-icon-button","","aria-label","Collapse Search Bar",1,"filter-search-bar-collapser",3,"click"],[1,"s-24","secondary-text"],["mat-icon-button","","aria-label","Expand Search Bar",1,"filter-search-bar-expander",3,"click"],[1,"s-24","secondary-text",3,"color"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"label",2),o.Jc(3,m,3,1,"button",3),o.Wb(),o.Sb(4,"input",4),o.Xb(5,"button",5),o.fc("click",(function(e){return t.collapse()})),o.Xb(6,"mat-icon",6),o.Lc(7,"close"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.pc("ngClass",o.rc(3,f,!t.collapsed)),o.Db(3),o.pc("ngIf",t.collapsed),o.Db(1),o.pc("formControl",t.searchInput))},directives:[l.q,p.a,h.d,h.c,l.t,a.b,h.b,a.p,a.f,d.b,u.a],styles:["[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;min-width:64px;height:64px;font-size:13px}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]{height:56px}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-expander[_ngcontent-%COMP%]{cursor:pointer;padding:0 20px;margin:0;width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%], [_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-expander[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-loader[_ngcontent-%COMP%]{width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-loader[_ngcontent-%COMP%]{height:56px!important;line-height:56px!important}}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .filter-search-bar[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   #filter-search-bar-input[_ngcontent-%COMP%]{display:none;-webkit-box-flex:1;flex:1 0 auto;min-height:64px;font-size:16px;background-color:transparent;color:currentColor}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;background:#f5f5f5}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   #filter-search-bar-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex}[_nghost-%COMP%]   .filter-search-bar.expanded[_ngcontent-%COMP%]   .filter-search-bar-content[_ngcontent-%COMP%]   .filter-search-bar-collapser[_ngcontent-%COMP%]{display:block}"]}),e})()}}]);