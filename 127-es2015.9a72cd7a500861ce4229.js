(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{MBGP:function(e,t,n){"use strict";n.r(t);var i=n("tyNb"),c=n("STbY"),o=n("/1cH"),r=n("iadO"),s=n("bTqV"),a=n("7EHt"),l=n("kmnG"),b=n("NFeN"),p=n("Qu3c"),h=n("qFsG"),u=n("wZkO"),m=n("d3UM"),d=n("QibW"),f=n("0IaG"),g=n("/t3+"),v=n("bSwM"),y=n("M9IT"),D=n("xHqg"),_=n("A5z7"),w=n("vxfF"),X=n("cfqv"),O=n("LPQX"),W=n("FKr1"),k=n("MutI"),L=n("bv9b"),T=n("XhcP"),x=n("5HBU"),S=n("0Zc1"),C=n("2Vo4"),I=n("XNiG"),M=n("jD4G"),j=n("tk/3"),P=n("6K47"),N=n("Iab2"),F=n("fXoL"),E=n("qXBG"),J=n("0JVi"),R=n("ofXK");let V=(()=>{class e{constructor(e,t,n,i,c){this.router=e,this._httpClient=t,this.authService=n,this._fuseConfigService=i,this.datePipe=c,this.fullScreen=!1,this.arrType=[],this.portPair=[],this.defaultSearch={formFilter:{code:null,customer:null,owner:null,pay_customer:null},formSearch:{customer:null,supplier:null,owner:null,pol:null,pod:null,date_from:((new Date).getFullYear()-1).toString()+"-"+((new Date).getMonth()+1<10?"0":"")+((new Date).getMonth()+1).toString()+"-01",date_to:null,date_movement:null}},this.total2={revenueVN:{ALL:0},revenueNN:{ALL:0},costVN:{ALL:0},costNN:{ALL:0},revenueBalance:{},costBalance:{},currency:[]},this.dataContainer=[],this.onOverviewChanged=new C.a([]),this.onDataChanged=new C.a({}),this.onDataItemChanged=new C.a({}),this.onVoyageChanged=new C.a({}),this.onVesselChanged=new C.a([]),this.onSearchTextChanged=new I.a,this.onFilterChanged=new I.a,this.onMonthChanged=new I.a,this.onFilterColumnChanged=new I.a,this.onFilterColumnReset=new I.a}resolve(e){if(this.module=e.params.modul,this.authService.routerData=e,this.authService.back&&(this.authService.back=!1),!this.currenSearch||this.currenSearch&&!this.currenSearch.formSearch){this.currenSearch=JSON.parse(JSON.stringify(this.defaultSearch));let e=new Date,t=e.getFullYear(),n=e.getMonth();e=new Date(e.setMonth(n-1)),e=new Date(e.setFullYear(t-1)),this.currenSearch.formSearch.date_movement=this.datePipe.transform(e,"yyyy-MM-dd"),this.currenSearch.formSearch.pol=this.checkModule(this.module).pol,this.currenSearch.formSearch.pod=this.checkModule(this.module).pod}return new Promise((e,t)=>{Promise.all([this.getFilterShipment(this.currenSearch.formSearch),this.getData(),this.getItemData(),this.getVoyage()]).then(()=>{this.onSearchTextChanged.subscribe(e=>{this.searchText=e;let t=JSON.parse(JSON.stringify(this.shipment));this.searchText&&""!==this.searchText&&(t=M.a.filterArrayByString(t,this.searchText)),this.buildVesselOverview(t)}),this.onFilterColumnChanged.subscribe(e=>{this.filterColumn=e,this.getFilterContainer()}),e()},t)})}checkModule(e){let t=e.split("-"),n={haiphong:3,hochiminh:4,singapore:12},i={pol:null,pod:null};return"import"==t[0]&&(i.pod=n[t[1]]),"export"==t[0]&&(i.pol=n[t[1]]),i}getFilterShipment(e){this.currenSearch.formSearch=e;let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel/shipment/overview",e,t).subscribe(e=>{this.shipment=e;let t=JSON.parse(JSON.stringify(this.shipment));this.searchText&&""!==this.searchText&&(t=M.a.filterArrayByString(t,this.searchText)),this.buildVesselOverview(t),n(e)},i)})}getData(){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,n)=>{this._httpClient.get(this.authService.apiUrl+"/sel/shipment/data",e).subscribe(e=>{this.customer=e[0],this.supplier=e[1],this.seaport=e[2],this.user=e[3],this.onDataChanged.next(e),t(e)},n)})}getItemData(){let e={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((t,n)=>{this._httpClient.get(this.authService.apiUrl+"/sel/book/book",e).subscribe(e=>{this.agent=e.agent,this.commodity=e.commodity,this.packageType=e.packageType,this.priceArr=e.price,this.currency=e.currency,this.country=e.country,this.depot=e.depot,this.onDataItemChanged.next(e),t(e)},n)})}getVoyage(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})},n="/sel/book/voyage/"+(e?1:0);return new Promise((e,i)=>{this._httpClient.get(this.authService.apiUrl+n,t).subscribe(t=>{this.voyageArr=t,this.onVoyageChanged.next(t),e(t)},i)})}createSelShipment(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel-shipment/new",e,t).subscribe(e=>{n(e)},i)})}changeScreen(e){this.fullScreen=e,this._fuseConfigService.config=e?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}getCurrenSearchServe(){let e=this.currenSearch?this.currenSearch.formSearch:{},t={customer:null,supplier:null,owner:null,pol:null,pod:null,date_from:null,date_to:null};if(e.customer&&(t.customer=e.customer),e.supplier&&(t.supplier=e.supplier),e.owner&&(t.owner=e.owner),e.pol&&(t.pol=e.pol),e.pod&&(t.pod=e.pod),e.date_from){let n=e.date_from.split("-");t.date_from=new Date(n[0],n[1]-1,n[2])}if(e.date_to){let n=e.date_to.split("-");t.date_to=new Date(n[0],n[1]-1,n[2])}return t}buildVesselOverview(e){function t(e,t,n,i){e.currency.includes(n)||e.currency.push(n),e[t][n]||(e[t][n]=0),e[t][n]+=i}this.total2={revenueVN:{ALL:0},revenueNN:{ALL:0},costVN:{ALL:0},costNN:{ALL:0},revenueBalance:{},costBalance:{},currency:[]},this.arrType=[],this.voyage=[],this.dataContainer=[],this.shipmentVessel={},this.shipmentError=[],this.shipmentPrice=[],e.map(e=>{let n=[],i=e.depart_time+"-"+e.vessel_name+"-"+e.voyage;this.shipmentVessel[i]||(this.shipmentVessel[i]={voyage_name:e.voyage_name,vessel_full_name:e.vessel_full_name,pol_name:e.pol_name,pol_code:e.pol_code,pod_name:e.pod_name,pod_code:e.pod_code,load_country:e.load_country,discharge_country:e.discharge_country,depart_time:e.depart_time,arrive_time:e.arrive_time,closing_time:e.closing_time,shipment:[],container:0},this.voyage.push({key:i,vessel:e.vessel_name,voyage_id:e.voyage,voyage_name:e.voyage_name,depart_time:e.depart_time})),e.volume.map(e=>{this.shipmentVessel[i][e.cont_type_code]?this.shipmentVessel[i][e.cont_type_code]+=e.volume:this.shipmentVessel[i][e.cont_type_code]=e.volume,this.arrType.includes(e.cont_type_code)||this.arrType.push(e.cont_type_code),this.total2[e.cont_type_code]||(this.total2[e.cont_type_code]=0),this.total2[e.cont_type_code]+=e.volume});let c=!1;e.dataRevenue.map(i=>{let o=i.volume*(i.amount+i.tax_amount);if("VIETNAM"==i.country_name?(t(this.total2,"revenueVN",i.currency_code,o),this.total2.revenueVN.ALL+=i.volume*(i.amount+i.tax_amount)*i.ex_rate):(t(this.total2,"revenueNN",i.currency_code,o),this.total2.revenueNN.ALL+=i.volume*(i.amount+i.tax_amount)*i.ex_rate),t(this.total2,"revenueBalance",i.currency_code,o),i.price_code.includes("DTHC")){c=!0,i.volume!=e[i.unit_code]&&n.push("DTHC"+i.unit_code+" volume <> shipment volume");let t=new Date(2020,0,1).getTime();325!=i.amount&&i.unit_code.includes("40")&&e.arrive_time<t&&n.push("DTHC"+i.unit_code+" amount <> 325"),215!=i.amount&&i.unit_code.includes("20")&&e.arrive_time<t&&n.push("DTHC"+i.unit_code+" amount <> 215"),335!=i.amount&&i.unit_code.includes("40")&&e.arrive_time>=t&&n.push("DTHC"+i.unit_code+" amount <> 335"),225!=i.amount&&i.unit_code.includes("20")&&e.arrive_time>=t&&n.push("DTHC"+i.unit_code+" amount <> 225")}}),c||n.push("No DTHC price");let o=!1;e.dataCost.map(i=>{let c=i.volume*(i.amount+i.tax_amount);if("VIETNAM"==i.country_name?(t(this.total2,"costVN",i.currency_code,c),this.total2.costVN.ALL+=i.volume*(i.amount+i.tax_amount)*i.ex_rate):(t(this.total2,"costNN",i.currency_code,c),this.total2.costNN.ALL+=i.volume*(i.amount+i.tax_amount)*i.ex_rate),t(this.total2,"costBalance",i.currency_code,c),i.price_code.includes("ADF"))if(o=!0,i.volume!=e[i.unit_code]&&n.push("ADF"+i.unit_code+" volume <> shipment volume"),i.unit_code.includes("40")){let t=e.dataRevenue.find(e=>"OF40"==e.price_code),c=t?.025*t.amount:7.5;c=c>7.5?c:7.5,c=parseFloat((Math.round(100*c)/100).toFixed(2)),t?i.amount!=c&&n.push("ADF"+i.unit_code+" amount "+i.amount+" <> "+c+"(2.5%*"+t.amount+")"):n.push("Chua co price OF40")}else if(i.unit_code.includes("20")){let t=e.dataRevenue.find(e=>"OF20"==e.price_code),c=t?.025*t.amount:5;c=c>5?c:5,c=parseFloat((Math.round(100*c)/100).toFixed(2)),t?i.amount!=c&&n.push("ADF"+i.unit_code+" amount "+i.amount+" <> "+c+"(2.5%*"+t.amount+")"):n.push("Chua co price OF20")}}),o||n.push("No ADF price"),n.length>0&&(e.price_error=n.join(", ")),e.container.map(t=>{let n={cont:t,shipment:{id:e.id,code:e.code,bill:e.bill,customer_short_name:e.customer_short_name,process:e.process,voyage_name:e.voyage_name,vessel_full_name:e.vessel_full_name,pol_name:e.pol_name,pol_code:e.pol_code,pod_name:e.pod_name,pod_code:e.pod_code,load_country:e.load_country,discharge_country:e.discharge_country,depart_time:e.depart_time,arrive_time:e.arrive_time,closing_time:e.closing_time,volume_obj:e.volume_obj,volume_check:e.volume_check},key:i,currency:0};n.currency=this.getChargeDet(n),this.dataContainer.push(n)}),this.shipmentVessel[i].shipment.push(e),this.shipmentVessel[i].container+=e.container.length}),this.voyage.sort((e,t)=>e.key<t.key?1:t.key<e.key?-1:0),this.arrType.sort(),this.dataContainer.sort((e,t)=>{var n=e.shipment.depart_time,i=t.shipment.depart_time,c=e.shipment.vessel_full_name,o=t.shipment.vessel_full_name,r=e.shipment.bill,s=t.shipment.bill,a=e.cont.cont_type,l=t.cont.cont_type;return n>i?-1:n<i?1:c>o?1:c<o?-1:r>s?1:r<s?-1:a>l?1:a<l?-1:0}),this.shipmentError=e.filter(e=>e.error),this.shipmentPrice=e.filter(e=>e.price_error),this.onVesselChanged.next([this.shipmentVessel,this.voyage,this.arrType,this.dataContainer,this.shipmentError,this.shipmentPrice])}getChargeDet(e){let t=0;if(e.cont.EMPTY&&e.cont.FULIM){let n=e.cont.cont_type.substring(0,2),i=(e.cont.EMPTY.time-e.cont.FULIM.time)/864e5,c=e.cont.container_info&&e.cont.container_info.free_day?e.cont.container_info.free_day:7,o=1,r={20:{muc1:20,muc2:40},40:{muc1:40,muc2:80}};for(;o<=i;){if(o>c){let e="muc1";o>11&&(e="muc2"),t+=r[n][e]}o++}}return t}getFilterContainer(){let e=this.voyage.slice(),t=JSON.parse(JSON.stringify(this.shipmentVessel));for(var n in this.filterColumn){if("Vessel"==n&&this.filterColumn[n]&&(e=e.filter(e=>(e.vessel+" "+e.voyage_name).toLowerCase().includes(this.filterColumn[n].toLowerCase()))),"Shipment"==n&&this.filterColumn[n])for(var i=e.length-1;i>=0;i--){let c=e[i];t[c.key].shipment=t[c.key].shipment.filter(e=>e.code.toLowerCase().includes(this.filterColumn[n].toLowerCase())),0==t[c.key].shipment.length&&e.splice(i,1)}if("Bill"==n&&this.filterColumn[n])for(i=e.length-1;i>=0;i--){let c=e[i];t[c.key].shipment=t[c.key].shipment.filter(e=>e.bill&&e.bill.toLowerCase().includes(this.filterColumn[n].toLowerCase())),0==t[c.key].shipment.length&&e.splice(i,1)}if("Container"==n&&this.filterColumn[n])for(i=e.length-1;i>=0;i--){let o=e[i];for(var c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>e.cont_number&&e.cont_number.includes(this.filterColumn[n].toLowerCase())),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}if("Type"==n&&this.filterColumn[n])for(i=e.length-1;i>=0;i--){let o=e[i];for(c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>e.cont_type&&e.cont_type==this.filterColumn[n]),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}if("MT return"==n&&this.filterColumn[n])for(i=e.length-1;i>=0;i--){let o=e[i];for(c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>e.container_info&&e.container_info.mt_return&&e.container_info.mt_return.toLowerCase().includes(this.filterColumn[n].toLowerCase())),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}if("MT depot"==n&&this.filterColumn[n])switch(this.filterColumn[n]){case"all":break;case"yes":for(i=e.length-1;i>=0;i--){let n=e[i];for(c=t[n.key].shipment.length-1;c>=0;c--)t[n.key].shipment[c].container=t[n.key].shipment[c].container.filter(e=>e.EMPTY&&e.EMPTY.place_short_name),0==t[n.key].shipment[c].container.length&&t[n.key].shipment.splice(c,1);0==t[n.key].shipment.length&&e.splice(i,1)}break;case"no":for(i=e.length-1;i>=0;i--){let n=e[i];for(c=t[n.key].shipment.length-1;c>=0;c--)t[n.key].shipment[c].container=t[n.key].shipment[c].container.filter(e=>!e.EMPTY||e.EMPTY&&!e.EMPTY.place_short_name),0==t[n.key].shipment[c].container.length&&t[n.key].shipment.splice(c,1);0==t[n.key].shipment.length&&e.splice(i,1)}}if(["TREXP","FULEX","LOAD","FULIM","TRIMP","EMPTY","TREXP_EXP","FULEX_EXP","LOAD_EXP","FULIM_EXP","TRIMP_EXP","EMPTY_EXP"].includes(n)&&this.filterColumn[n])switch(this.filterColumn[n]){case"all":break;case"yes":for(i=e.length-1;i>=0;i--){let o=e[i];for(c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>e[n]&&e[n].date),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}break;case"no":for(i=e.length-1;i>=0;i--){let o=e[i];for(c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>!e[n]||e[n]&&!e[n].date),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}break;default:for(i=e.length-1;i>=0;i--){let o=e[i];for(c=t[o.key].shipment.length-1;c>=0;c--)t[o.key].shipment[c].container=t[o.key].shipment[c].container.filter(e=>e[n]&&e[n].date>=new Date(this.filterColumn[n]).getTime()),0==t[o.key].shipment[c].container.length&&t[o.key].shipment.splice(c,1);0==t[o.key].shipment.length&&e.splice(i,1)}}}let o=[];for(i=e.length-1;i>=0;i--){let n=e[i];t[n.key].container=0,t[n.key].shipment.map(e=>{e.container.map(t=>{o.push({cont:t,shipment:{id:e.id,code:e.code,bill:e.bill,customer_short_name:e.customer_short_name,process:e.process,voyage_name:e.voyage_name,vessel_full_name:e.vessel_full_name,pol_name:e.pol_name,pol_code:e.pol_code,pod_name:e.pod_name,pod_code:e.pod_code,load_country:e.load_country,discharge_country:e.discharge_country,depart_time:e.depart_time,arrive_time:e.arrive_time,closing_time:e.closing_time,volume_obj:e.volume_obj,volume_check:e.volume_check}})}),t[n.key].container+=e.container.length})}o.sort((e,t)=>{var n=e.shipment.depart_time,i=t.shipment.depart_time,c=e.shipment.vessel_full_name,o=t.shipment.vessel_full_name,r=e.shipment.bill,s=t.shipment.bill,a=e.cont.cont_type,l=t.cont.cont_type;return n>i?-1:n<i?1:c>o?1:c<o?-1:r>s?1:r<s?-1:a>l?1:a<l?-1:0}),this.onVesselChanged.next([t,e,this.arrType,o])}exportExcel(e,t){let n=new P.Workbook,i=n.addWorksheet("vessel");i.addRow([" "]),i.getRow(1).font={name:"Arial",size:10,bold:!1,italic:!1},i.addRow(["EXPORT CONTAINER "+this.datePipe.transform(new Date,"MMM-yyyy")+" Update: "+this.datePipe.transform(new Date,"dd/MM/yyyy")]),i.getRow(2).font={size:18,bold:!0,italic:!1},i.addRow([]);let c=["NO","CONTAINER","TYPE","VESSEL & VOYAGE","BILL","CUSTOMER"];this.arrType.map(e=>{c.push(e)}),c.push("FULLIM"),c.push("COD"),c.push("TRIMP"),c.push("EMPTY"),c.push("DET"),c.push("F DAY"),c.push("C DET"),c.push("SGD"),i.addRow(c).eachCell((e,t)=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},e.font={size:10,bold:!0},e.alignment={vertical:"middle",horizontal:"center",wrapText:!0}}),e.map(e=>{let t=i.addRow(e),n=e.length;for(let i=1;i<=n;i++)t.getCell(i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},t.getCell(i).font={size:8,bold:!1},t.getCell(i).alignment={vertical:"middle",horizontal:"center",wrapText:!0}});let o=[];c.map(e=>{o.push(null)}),o[1]="TOTAL",o[o.length-1]=t;let r=i.addRow(o);c.map((e,t)=>{r.getCell(t+1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},r.getCell(t+1).font={size:10,bold:!0}}),i.getColumn(1).width=4.25,i.getColumn(2).width=14,i.getColumn(3).width=8,i.getColumn(4).width=20,i.getColumn(5).width=16,i.getColumn(6).width=20,this.arrType.map((e,t)=>{i.getColumn(7+t).width=6}),i.getColumn(7+this.arrType.length).width=12,i.getColumn(7+this.arrType.length+1).width=12,i.getColumn(7+this.arrType.length+2).width=12,i.getColumn(7+this.arrType.length+3).width=12,i.getColumn(7+this.arrType.length+4).width=8,i.getColumn(7+this.arrType.length+5).width=8,i.getColumn(7+this.arrType.length+6).width=8,i.getColumn(7+this.arrType.length+7).width=12,n.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Object(N.saveAs)(t,"container_"+this.module+this.datePipe.transform(new Date,"dd-MM-yy")+".xlsx")})}createSelParty(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel/sel-party",e,t).subscribe(e=>{n(e)},i)})}updateSelShipment(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.put(this.authService.apiUrl+"/sel/shipment",e,t).subscribe(e=>{n(e)},i)})}createSelBill(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel/bill",e,t).subscribe(e=>{n(e)},i)})}createBillContainer(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel/bill-container",e,t).subscribe(e=>{n(e)},i)})}getMovementByContNumber(e,t){let n={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((i,c)=>{this._httpClient.get(this.authService.apiUrl+"/sel-move/cont-num/"+e+"/"+t,n).subscribe(e=>{i(e)},c)})}createSelMove(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel-move/",e,t).subscribe(e=>{n(e)},i)})}createSelVolume(e){let t={headers:new j.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((n,i)=>{this._httpClient.post(this.authService.apiUrl+"/sel-volume",e,t).subscribe(e=>{n(e)},i)})}}return e.\u0275fac=function(t){return new(t||e)(F.bc(i.g),F.bc(j.a),F.bc(E.a),F.bc(J.b),F.bc(R.f))},e.\u0275prov=F.Nb({token:e,factory:e.\u0275fac}),e})();var A=n("yrbL"),$=n("/N0t"),z=n("HX77"),B=n("B9zo"),U=n("EwFO"),Y=n("XiUz"),q=n("znSr"),H=n("rPBI");function G(e,t){if(1&e&&(F.Xb(0,"button",6),F.Xb(1,"span",7),F.Lc(2,"Price"),F.Wb(),F.Xb(3,"mat-icon",8),F.Lc(4,"equalizer"),F.Wb(),F.Wb()),2&e){const e=F.jc();F.pc("routerLink","/apps/"+e.module+"/overview/board/price")}}function Q(e,t){if(1&e){const e=F.Yb();F.Xb(0,"button",16),F.fc("click",(function(t){return F.Bc(e),F.jc().newShipment.emit()})),F.Xb(1,"mat-icon",17),F.Lc(2,"add"),F.Wb(),F.Xb(3,"span",18),F.Lc(4,"Shipment"),F.Wb(),F.Wb()}}function K(e,t){if(1&e){const e=F.Yb();F.Xb(0,"button",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.changeScreen.emit(!0)})),F.Xb(1,"mat-icon"),F.Lc(2,"flip_to_front"),F.Wb(),F.Wb()}}function Z(e,t){if(1&e){const e=F.Yb();F.Xb(0,"button",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.changeScreen.emit(!1)})),F.Xb(1,"mat-icon"),F.Lc(2,"flip_to_back"),F.Wb(),F.Wb()}}let ee=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.route=n,this.toggleSidebar=new F.o,this.showHideBar=new F.o,this.refreshPage=new F.o,this.searchFilter=new F.o,this.changeScreen=new F.o,this.newShipment=new F.o,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(E.a),F.Rb(i.g),F.Rb(i.a))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-header"]],inputs:{module:"module",searchText:"searchText",sidebarName:"sidebarName",fullScreen:"fullScreen",permission:"permission"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",searchFilter:"searchFilter",changeScreen:"changeScreen",newShipment:"newShipment"},decls:46,vars:10,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","ml-8",3,"click"],["mat-icon-button","","routerLinkActive","accent-600-fg",1,"quick-panel-toggle-button",3,"routerLink"],["fxHide","","fxShow.gt-sm",""],["fxShow","","fxHide.gt-sm",""],["mat-icon-button","","class","quick-panel-toggle-button","routerLinkActive","accent-600-fg",3,"routerLink",4,"ngIf"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],[3,"searchText","inputValue"],["mat-icon-button","","class","quick-panel-toggle-button","aria-label","Toggle quick panel",3,"click",4,"ngIf"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],["mat-icon-button","","aria-label","Toggle quick panel",1,"quick-panel-toggle-button",3,"click"],[1,"secondary-text","accent-600-fg"],["fxHide","","fxShow.gt-sm","",1,"accent-600-fg"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(F.Xb(0,"mat-toolbar",0),F.Xb(1,"div",1),F.Xb(2,"div",2),F.Xb(3,"div",3),F.Xb(4,"button",4),F.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),F.Xb(5,"mat-icon"),F.Lc(6,"menu"),F.Wb(),F.Wb(),F.Xb(7,"button",5),F.fc("click",(function(e){return t.showHideBar.emit()})),F.Xb(8,"mat-icon"),F.Lc(9,"menu"),F.Wb(),F.Wb(),F.Wb(),F.Xb(10,"button",6),F.Xb(11,"span",7),F.Lc(12,"Container"),F.Wb(),F.Xb(13,"mat-icon",8),F.Lc(14,"equalizer"),F.Wb(),F.Wb(),F.Xb(15,"button",6),F.Xb(16,"span",7),F.Lc(17,"Vessel"),F.Wb(),F.Xb(18,"mat-icon",8),F.Lc(19,"view_carousel"),F.Wb(),F.Wb(),F.Xb(20,"button",6),F.Xb(21,"span",7),F.Lc(22,"EQC"),F.Wb(),F.Xb(23,"mat-icon",8),F.Lc(24,"equalizer"),F.Wb(),F.Wb(),F.Xb(25,"button",6),F.Xb(26,"span",7),F.Lc(27,"DEM/DET"),F.Wb(),F.Xb(28,"mat-icon",8),F.Lc(29,"view_carousel"),F.Wb(),F.Wb(),F.Xb(30,"button",6),F.Xb(31,"span",7),F.Lc(32,"Checking"),F.Wb(),F.Xb(33,"mat-icon",8),F.Lc(34,"equalizer"),F.Wb(),F.Wb(),F.Jc(35,G,5,1,"button",9),F.Wb(),F.Xb(36,"div",10),F.Sb(37,"div",11),F.Xb(38,"filter-search-bar",12),F.fc("inputValue",(function(e){return t.searchFilter.emit(e)})),F.Wb(),F.Sb(39,"div",11),F.Jc(40,Q,5,0,"button",13),F.Sb(41,"div",11),F.Jc(42,K,3,0,"button",14),F.Jc(43,Z,3,0,"button",14),F.Sb(44,"div",15),F.Sb(45,"div",15),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Db(10),F.pc("routerLink","/apps/"+t.module+"/overview/board/container"),F.Db(5),F.pc("routerLink","/apps/"+t.module+"/overview/board/vessel"),F.Db(5),F.pc("routerLink","/apps/"+t.module+"/overview/board/eqc"),F.Db(5),F.pc("routerLink","/apps/"+t.module+"/overview/board/dem"),F.Db(5),F.pc("routerLink","/apps/"+t.module+"/overview/board/check"),F.Db(5),F.pc("ngIf",t.module.includes("singapore")),F.Db(3),F.pc("searchText",t.searchText),F.Db(2),F.pc("ngIf",t.permission.create),F.Db(2),F.pc("ngIf",!t.fullScreen),F.Db(1),F.pc("ngIf",t.fullScreen))},directives:[g.a,Y.b,Y.e,Y.d,Y.c,s.b,q.b,b.a,i.i,i.h,R.t,H.a],styles:["overview-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}overview-header.below{z-index:2}overview-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}overview-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}overview-header .logo .logo-icon{width:38px}overview-header .chat-panel-toggle-button,overview-header .language-button,overview-header .quick-panel-toggle-button,overview-header .user-button,overview-header fuse-search-bar{min-width:100px;height:64px}@media screen and (max-width:599px){overview-header .chat-panel-toggle-button,overview-header .language-button,overview-header .quick-panel-toggle-button,overview-header .user-button,overview-header fuse-search-bar{min-width:56px;height:56px}}overview-header .navbar-toggle-button{min-width:56px;height:56px}overview-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){overview-header .toolbar-separator{height:56px}}"],encapsulation:2}),e})();var te=n("fE3o"),ne=n("JX91"),ie=n("lJxs"),ce=n("3Pt+");const oe=["formDirective"];function re(e,t){if(1&e&&(F.Xb(0,"mat-option",39),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e.id)("matTooltip",e.full_name),F.Db(1),F.Nc(" ",e.short_name," ")}}function se(e,t){if(1&e&&(F.Xb(0,"mat-option",39),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e.id)("matTooltip",e.full_name),F.Db(1),F.Nc(" ",e.short_name," ")}}function ae(e,t){if(1&e&&(F.Xb(0,"mat-option",20),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e.id),F.Db(1),F.Mc(e.name)}}function le(e,t){if(1&e&&(F.Xb(0,"mat-option",20),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e.id),F.Db(1),F.Nc(" ",e.name," ")}}function be(e,t){if(1&e&&(F.Xb(0,"mat-option",20),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e.id),F.Db(1),F.Nc(" ",e.name," ")}}function pe(e,t){if(1&e&&(F.Xb(0,"mat-option",20),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e),F.Db(1),F.Mc(e)}}const he=function(){return[null,1,2,3,4,5,6,7,8,9,10,11,12]};let ue=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.authService=t,this.commonService=n,this.datePipe=i,this.fitlerShipment=new F.o,this.year=(new Date).getFullYear(),this.monthList=[],this.monthView={},this.form=this.formBuilder.group({customer:[null],supplier:[null],process:[[0,1,2,3,4,5,6]],owner:[null],pol:[null],pod:[null],month:[null],year:[null],date_from:[null],date_to:[null],button:[null]}),this.searchChange=!0,this._unsubscribeAll=new I.a}ngOnInit(){switch(this.module){case"import-singapore":this.form.controls.pod.setValue(12);break;case"import-haiphong":this.form.controls.pod.setValue(3);break;case"import-hochiminh":this.form.controls.pod.setValue(4);break;default:this.form.controls.pod.setValue(null)}if(this.formSearch&&this.formSearch.date_from){let e=this.formSearch.date_from.split("-");this.form.controls.date_from.setValue(new Date(e[0],parseInt(e[1])-1,e[2]))}this.filteredCustomer=this.form.controls.customer.valueChanges.pipe(Object(ne.a)(""),Object(ie.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(ie.a)(e=>e?this.commonService.filterData(e,"partner_name",this.customer):[])),this.filteredSupplier=this.form.controls.supplier.valueChanges.pipe(Object(ne.a)(""),Object(ie.a)(e=>e?"string"==typeof e?e:e.partner_name:null),Object(ie.a)(e=>e?this.commonService.filterData(e,"partner_name",this.supplier):[])),this.filteredSeaport1=this.form.controls.pol.valueChanges.pipe(Object(ne.a)(""),Object(ie.a)(e=>e?"string"==typeof e?e:e.name:null),Object(ie.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.filteredSeaport2=this.form.controls.pod.valueChanges.pipe(Object(ne.a)(""),Object(ie.a)(e=>e?"string"==typeof e?e:e.name:null),Object(ie.a)(e=>e?this.commonService.filterData(e,"name",this.seaport):[])),this.form.controls.button.valueChanges.subscribe(e=>{e&&this.getMonthTime(e)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getMonthTime(e){let t,n,i=this.form.controls.year.value,c=this.form.controls.month.value,o=new Date,r=o.getMonth(),s=o.getFullYear();e&&"M"!=e?"Y"==e?(t=new Date(i,c?c-1:0,1),n=new Date(i,c||12,0)):"TM"==e?(this.form.controls.month.setValue(null),t=new Date(s,r,1),n=new Date(s,r+1,0)):"TY"==e&&(this.form.controls.month.setValue(null),t=new Date(s,0,1),n=new Date(s,12,0)):i&&(t=new Date(i,c?c-1:0,1),n=new Date(i,c||12,0)),this.form.controls.date_from.setValue(t),this.form.controls.date_to.setValue(n)}clearForm(){this.searchNgForm.resetForm(),this.form.controls.process.setValue([0,1,2,3,4,5,6]);let e=new Date,t=e.getFullYear();switch(e=new Date(new Date(e.setFullYear(t-1)).setDate(1)),this.form.controls.date_from.setValue(e),this.module){case"import-singapore":this.form.controls.pod.setValue(12);break;case"import-haiphong":this.form.controls.pod.setValue(3);break;case"import-hochiminh":this.form.controls.pod.setValue(4);break;default:this.form.controls.pod.setValue(null)}}onSearchFormSubmit(e){let t=JSON.parse(JSON.stringify(e.value));if("string"==typeof e.customer&&(this.form.controls.customer.setValue(null),t.customer=null),"string"==typeof e.supplier&&(this.form.controls.supplier.setValue(null),t.supplier=null),"string"==typeof e.owner&&(this.form.controls.owner.setValue(null),t.owner=null),"string"==typeof e.pol&&(this.form.controls.pol.setValue(null),t.pol=null),"string"==typeof e.pod&&(this.form.controls.pod.setValue(null),t.pod=null),t.date_movement=null,t.date_from){let e=new Date(t.date_from),n=e.getMonth();e=new Date(e.setMonth(n-1)),t.date_movement=this.datePipe.transform(e,"yyyy-MM-dd")}t.date_from=t.date_from?this.datePipe.transform(t.date_from,"yyyy-MM-dd"):null,t.date_to=t.date_to?this.datePipe.transform(t.date_to,"yyyy-MM-dd"):null,this.fitlerShipment.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(ce.d),F.Rb(E.a),F.Rb(S.a),F.Rb(R.f))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-sidebar"]],viewQuery:function(e,t){var n;1&e&&F.Sc(oe,!0),2&e&&F.wc(n=F.gc())&&(t.searchNgForm=n.first)},inputs:{customer:"customer",supplier:"supplier",seaport:"seaport",user:"user",portPair:"portPair",module:"module",formSearch:"formSearch",height:"height"},outputs:{fitlerShipment:"fitlerShipment"},decls:120,vars:50,consts:[["name","form",3,"formGroup","keydown.enter","ngSubmit"],["formDirective","ngForm"],[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","type","submit","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #039BE5","border-radius","8px","color","#696969"],["mat-raised-button","","type","button","fxFlex","45",1,"ml-8","mr-8",2,"border","1px solid #F44336","border-radius","8px","color","#696969",3,"click"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2","pb-4"],["fxLayout","row wrap"],["fxFlex","100",1,"info-line","mt-24"],["appearance","outline",1,"w-100-p","pr-sm-8"],["inputCheck","","aria-label","customer","matInput","","formControlName","customer",3,"matAutocomplete"],[3,"displayWith"],["autoCus","matAutocomplete"],[3,"value","matTooltip",4,"ngFor","ngForOf"],["fxFlex","100",1,"info-line"],["inputCheck","","aria-label","agent","matInput","","formControlName","supplier",3,"matAutocomplete"],["autoAgent","matAutocomplete"],["formControlName","process","multiple",""],[3,"value"],["formControlName","owner"],[3,"value",4,"ngFor","ngForOf"],["inputCheck","","aria-label","pol","matInput","","formControlName","pol",3,"matAutocomplete"],["autoSeaport1","matAutocomplete"],["fxFlex","100",1,"info-line","hide"],["inputCheck","","aria-label","pod","matInput","","formControlName","pod",3,"matAutocomplete","readonly"],["autoSeaport2","matAutocomplete"],["inputCheck","","matInput","","name","date_from","formControlName","date_from",3,"matDatepicker","change"],["matSuffix","",3,"for"],["dateFrom",""],["inputCheck","","matInput","","name","date_to","formControlName","date_to",3,"matDatepicker","change"],["dateTo",""],["formControlName","month",3,"selectionChange"],["formControlName","year",3,"selectionChange"],[1,"group"],["fxLayout","column","fxLayoutAlign","start start","formControlName","button"],["value","TM",1,"mb-12"],["value","TY",1,"mb-12"],[3,"value","matTooltip"]],template:function(e,t){if(1&e&&(F.Xb(0,"form",0,1),F.fc("keydown.enter",(function(e){return"TEXTAREA"==e.target.tagName}))("ngSubmit",(function(e){return t.onSearchFormSubmit(t.form)})),F.Xb(2,"div",2),F.Xb(3,"div",3),F.Xb(4,"button",4),F.Lc(5," Submit "),F.Wb(),F.Xb(6,"button",5),F.fc("click",(function(e){return t.clearForm()})),F.Lc(7," Clear "),F.Wb(),F.Wb(),F.Wb(),F.Xb(8,"div",6),F.Xb(9,"div",7),F.Xb(10,"div",8),F.Xb(11,"div",9),F.Xb(12,"div",10),F.Xb(13,"mat-form-field",11),F.Xb(14,"mat-label"),F.Lc(15,"Customer"),F.Wb(),F.Sb(16,"input",12),F.Xb(17,"mat-autocomplete",13,14),F.Jc(19,re,2,3,"mat-option",15),F.kc(20,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(21,"div",16),F.Xb(22,"mat-form-field",11),F.Xb(23,"mat-label"),F.Lc(24,"Dest Agent"),F.Wb(),F.Sb(25,"input",17),F.Xb(26,"mat-autocomplete",13,18),F.Jc(28,se,2,3,"mat-option",15),F.kc(29,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(30,"div",16),F.Xb(31,"mat-form-field",11),F.Xb(32,"mat-label"),F.Lc(33,"Process"),F.Wb(),F.Xb(34,"mat-select",19),F.Xb(35,"mat-option",20),F.Lc(36,"Booking"),F.Wb(),F.Xb(37,"mat-option",20),F.Lc(38,"Stuffing"),F.Wb(),F.Xb(39,"mat-option",20),F.Lc(40,"Ready to load"),F.Wb(),F.Xb(41,"mat-option",20),F.Lc(42,"Loaded"),F.Wb(),F.Xb(43,"mat-option",20),F.Lc(44,"Discharge"),F.Wb(),F.Xb(45,"mat-option",20),F.Lc(46,"Pick up"),F.Wb(),F.Xb(47,"mat-option",20),F.Lc(48,"Complete"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(49,"div",16),F.Xb(50,"mat-form-field",11),F.Xb(51,"mat-label"),F.Lc(52,"Owner"),F.Wb(),F.Xb(53,"mat-select",21),F.Jc(54,ae,2,2,"mat-option",22),F.Wb(),F.Wb(),F.Wb(),F.Xb(55,"div",16),F.Xb(56,"mat-form-field",11),F.Xb(57,"mat-label"),F.Lc(58,"POL"),F.Wb(),F.Sb(59,"input",23),F.Xb(60,"mat-autocomplete",13,24),F.Jc(62,le,2,2,"mat-option",22),F.kc(63,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(64,"div",25),F.Xb(65,"mat-form-field",11),F.Xb(66,"mat-label"),F.Lc(67,"POD"),F.Wb(),F.Sb(68,"input",26),F.Xb(69,"mat-autocomplete",13,27),F.Jc(71,be,2,2,"mat-option",22),F.kc(72,"async"),F.Wb(),F.Wb(),F.Wb(),F.Xb(73,"div",16),F.Xb(74,"mat-form-field",11),F.Xb(75,"mat-label"),F.Lc(76,"ETA from"),F.Wb(),F.Xb(77,"input",28),F.fc("change",(function(e){return t.commonService.setDateStr(e)})),F.Wb(),F.Sb(78,"mat-datepicker-toggle",29),F.Sb(79,"mat-datepicker",null,30),F.Wb(),F.Wb(),F.Xb(81,"div",16),F.Xb(82,"mat-form-field",11),F.Xb(83,"mat-label"),F.Lc(84,"ETA to"),F.Wb(),F.Xb(85,"input",31),F.fc("change",(function(e){return t.commonService.setDateStr(e)})),F.Wb(),F.Sb(86,"mat-datepicker-toggle",29),F.Sb(87,"mat-datepicker",null,32),F.Wb(),F.Wb(),F.Xb(89,"div",16),F.Xb(90,"mat-form-field",11),F.Xb(91,"mat-label"),F.Lc(92,"Month"),F.Wb(),F.Xb(93,"mat-select",33),F.fc("selectionChange",(function(e){return t.getMonthTime("M")})),F.Jc(94,pe,2,2,"mat-option",22),F.Wb(),F.Wb(),F.Wb(),F.Xb(95,"div",16),F.Xb(96,"mat-form-field",11),F.Xb(97,"mat-label"),F.Lc(98,"Year"),F.Wb(),F.Xb(99,"mat-select",34),F.fc("selectionChange",(function(e){return t.getMonthTime("Y")})),F.Xb(100,"mat-option",20),F.Lc(101),F.Wb(),F.Xb(102,"mat-option",20),F.Lc(103),F.Wb(),F.Xb(104,"mat-option",20),F.Lc(105),F.Wb(),F.Xb(106,"mat-option",20),F.Lc(107),F.Wb(),F.Xb(108,"mat-option",20),F.Lc(109),F.Wb(),F.Xb(110,"mat-option",20),F.Lc(111),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(112,"div",35),F.Xb(113,"h2"),F.Lc(114,"Time option"),F.Wb(),F.Xb(115,"mat-radio-group",36),F.Xb(116,"mat-radio-button",37),F.Lc(117,"This month"),F.Wb(),F.Xb(118,"mat-radio-button",38),F.Lc(119,"This year"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&e){const e=F.xc(18),n=F.xc(27),i=F.xc(61),c=F.xc(70),o=F.xc(80),r=F.xc(88);F.pc("formGroup",t.form),F.Db(8),F.Ic("height",t.height,"px"),F.Db(8),F.pc("matAutocomplete",e),F.Db(1),F.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.customer)),F.Db(2),F.pc("ngForOf",F.lc(20,41,t.filteredCustomer)),F.Db(6),F.pc("matAutocomplete",n),F.Db(1),F.pc("displayWith",t.commonService.displayFn.bind(t,"short_name",t.supplier)),F.Db(2),F.pc("ngForOf",F.lc(29,43,t.filteredSupplier)),F.Db(7),F.pc("value",0),F.Db(2),F.pc("value",1),F.Db(2),F.pc("value",2),F.Db(2),F.pc("value",3),F.Db(2),F.pc("value",4),F.Db(2),F.pc("value",5),F.Db(2),F.pc("value",6),F.Db(7),F.pc("ngForOf",t.user),F.Db(5),F.pc("matAutocomplete",i),F.Db(1),F.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),F.Db(2),F.pc("ngForOf",F.lc(63,45,t.filteredSeaport1)),F.Db(6),F.pc("matAutocomplete",c)("readonly",!0),F.Db(1),F.pc("displayWith",t.commonService.displayFn.bind(t,"name",t.seaport)),F.Db(2),F.pc("ngForOf",F.lc(72,47,t.filteredSeaport2)),F.Db(6),F.pc("matDatepicker",o),F.Db(1),F.pc("for",o),F.Db(7),F.pc("matDatepicker",r),F.Db(1),F.pc("for",r),F.Db(8),F.pc("ngForOf",F.qc(49,he)),F.Db(6),F.pc("value",t.year-4),F.Db(1),F.Mc(t.year-4),F.Db(1),F.pc("value",t.year-3),F.Db(1),F.Mc(t.year-3),F.Db(1),F.pc("value",t.year-2),F.Db(1),F.Mc(t.year-2),F.Db(1),F.pc("value",t.year-1),F.Db(1),F.Mc(t.year-1),F.Db(1),F.pc("value",t.year),F.Db(1),F.Mc(t.year),F.Db(1),F.pc("value",t.year+1),F.Db(1),F.Mc(t.year+1)}},directives:[ce.A,ce.q,ce.h,Y.d,Y.c,s.b,Y.b,U.a,l.c,l.f,h.b,ce.b,o.c,ce.p,ce.g,o.a,R.s,m.a,W.n,r.b,r.d,l.h,r.a,d.b,d.a,p.a],pipes:[R.b],styles:["overview-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}overview-sidebar .navbar-scroll-container{background:#fff!important}overview-sidebar .navbar-scroll-container .navbar-content{padding-top:0}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mySelectedPanel .mat-option{font-size:12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-container{-webkit-transform:scale(.6);transform:scale(.6)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .mat-radio-label-content{font-size:12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .nav-link{border-radius:20px;margin:0 12px;padding:0 12px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer{height:54px;min-height:54px;padding:0 8px!important;border-bottom:1px solid #e9e9e9}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer .search-customer-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;padding:4px}overview-sidebar .navbar-scroll-container .navbar-content .nav.material2 .nav-item .search-customer .search-customer-name .search-item{border:1px solid #e0e0e0;padding:8px;border-radius:20px;background:#fff}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .user{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;width:100%;height:136px;min-height:136px;max-height:136px;padding:24px 0 64px}navbar .navbar-scroll-container .user .avatar-container{position:absolute;top:92px;border-radius:50%;padding:8px;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}navbar .navbar-scroll-container .user .avatar-container .avatar{width:72px;height:72px;margin:0}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),e})();function me(e,t){if(1&e){const e=F.Yb();F.Xb(0,"fuse-sidebar",6),F.Xb(1,"div",7),F.Xb(2,"overview-sidebar",8),F.fc("fitlerShipment",(function(t){return F.Bc(e),F.jc().getFilterShipment(t)})),F.Wb(),F.Wb(),F.Wb()}if(2&e){const e=F.jc();F.Db(2),F.pc("customer",e.customer)("supplier",e.supplier)("seaport",e.seaport)("user",e.user)("portPair",e.portPair)("module",e.module)("height",e.height)("formSearch",e.formSearch)}}function de(e,t){1&e&&F.Sb(0,"router-outlet")}let fe=(()=>{class e{constructor(e,t,n,i,c){if(this._fuseSidebarService=e,this.overviewService=t,this.authService=n,this.router=i,this._matDialog=c,this.sidebarPanel=!0,this.fullScreen=!1,this.height=560,this.module=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}this._unsubscribeAll=new I.a}ngOnInit(){this.authService.urlChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{if(this.module=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.formSearch=this.overviewService.currenSearch.formSearch,this.searchText=this.overviewService.searchText?this.overviewService.searchText:null,this.authService.windowSizeChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-20}),this.authService.changeScreen.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-20:this.authService.screenHeight-64-64-20}),this.overviewService.onOverviewChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.portPair=this.overviewService.portPair}),this.overviewService.onDataChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.customer=this.overviewService.customer,this.supplier=this.overviewService.supplier,this.seaport=this.overviewService.seaport,this.user=this.overviewService.user}),this.overviewService.onDataItemChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.agent=this.overviewService.agent,this.commodity=this.overviewService.commodity,this.packageType=this.overviewService.packageType,this.price=this.overviewService.priceArr,this.currency=this.overviewService.currency,this.country=this.overviewService.country}),this.overviewService.onVoyageChanged.pipe(Object(A.takeUntil)(this._unsubscribeAll)).subscribe(e=>{this.voyage=this.overviewService.voyageArr})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeScreen(e){this.fullScreen=e,this.authService.changeScreen.next(e),this.overviewService.changeScreen(e)}toggleSidebar(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}showHideBar(e){this.sidebarPanel=!this.sidebarPanel}refreshPage(e){this.authService.refreshData(this.overviewService)}getFilterShipment(e){this.authService.onRequestChanged.next(!0),this.overviewService.getFilterShipment(e).then(t=>{this.overviewService.currenSearch.formSearch=e,this.overviewService.filterColumn={},this.overviewService.onFilterColumnReset.next({}),this.authService.onRequestChanged.next(!1)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Submit fail")})}searchFilter(e){this.overviewService.onSearchTextChanged.next(e)}newShipment(e){this.dialogRef=this._matDialog.open($.a,{panelClass:"shipment-list2-modal-dialog",data:{label:"Add shipment",customer:this.customer,agent:this.agent,seaport:this.seaport,user:this.user,voyage:this.voyage,permission:this.permission}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.createSelShipment(e).then(e=>{this.authService.onRequestChanged.next(!1),e.createShipment.insertId>0&&(this.getFilterShipment(this.overviewService.currenSearch.formSearch),alert("success"))}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e)}))})}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(z.a),F.Rb(V),F.Rb(E.a),F.Rb(i.g),F.Rb(f.b))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview"]],decls:6,vars:7,consts:[[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","overview-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"module","permission","searchText","fullScreen","sidebarName","showHideBar","refreshPage","toggleSidebar","changeScreen","searchFilter","newShipment"],[1,"content","p-8"],[4,"ngIf"],["name","overview-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"],[3,"customer","supplier","seaport","user","portPair","module","height","formSearch","fitlerShipment"]],template:function(e,t){1&e&&(F.Xb(0,"div",0),F.Jc(1,me,3,8,"fuse-sidebar",1),F.Xb(2,"div",2),F.Xb(3,"overview-header",3),F.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("changeScreen",(function(e){return t.changeScreen(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("searchFilter",(function(e){return t.searchFilter(e)}))("newShipment",(function(e){return t.newShipment(e)})),F.Wb(),F.Xb(4,"div",4),F.Jc(5,de,1,0,"router-outlet",5),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Db(1),F.pc("ngIf",t.sidebarPanel),F.Db(2),F.pc("module",t.module)("permission",t.permission)("searchText",t.searchText)("fullScreen",t.fullScreen)("sidebarName","overview-sidebar"),F.Db(2),F.pc("ngIf",!0))},directives:[B.a,R.t,U.a,ee,te.a,ue,i.l],styles:[""]}),e})();var ge=n("PVWW"),ve=n("1G5W");function ye(e,t){if(1&e&&(F.Xb(0,"th",18),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function De(e,t){if(1&e&&(F.Xb(0,"th",18),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function _e(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueVNOpen=!n.revenueVNOpen})),F.Lc(1,"add"),F.Wb()}}function we(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueVNOpen=!n.revenueVNOpen})),F.Lc(1,"removed"),F.Wb()}}function Xe(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Oe(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueNNOpen=!n.revenueNNOpen})),F.Lc(1,"add"),F.Wb()}}function We(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueNNOpen=!n.revenueNNOpen})),F.Lc(1,"removed"),F.Wb()}}function ke(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Le(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costVNOpen=!n.costVNOpen})),F.Lc(1,"add"),F.Wb()}}function Te(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costVNOpen=!n.costVNOpen})),F.Lc(1,"removed"),F.Wb()}}function xe(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Se(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",19),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costNNOpen=!n.costNNOpen})),F.Lc(1,"add"),F.Wb()}}function Ce(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costNNOpen=!n.costNNOpen})),F.Lc(1,"removed"),F.Wb()}}function Ie(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Me(e,t){if(1&e&&(F.Xb(0,"td",18),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc(3).$implicit,i=F.jc();F.Eb("rowspan",i.shipments[n.key].shipment.length),F.Db(1),F.Mc(i.shipments[n.key][e])}}function je(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",36),F.Xb(4,"a"),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td",3),F.Lc(7),F.Wb(),F.Xb(8,"td",3),F.Lc(9),F.Wb(),F.Jc(10,Me,2,2,"td",37),F.Xb(11,"td",5),F.Lc(12),F.kc(13,"date"),F.Wb(),F.Xb(14,"td",5),F.Lc(15),F.kc(16,"date"),F.Wb(),F.Ub()),2&e){const e=F.jc(2),t=e.$implicit,n=e.index,i=F.jc();F.Db(1),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(1),F.Mc(n+1),F.Db(1),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(2),F.Mc(i.shipments[t.key].vessel_full_name),F.Db(1),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(1),F.Mc(i.shipments[t.key].pol_name),F.Db(1),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(1),F.Mc(i.shipments[t.key].pod_name),F.Db(1),F.pc("ngForOf",i.arrType),F.Db(1),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(1),F.Mc(F.mc(13,13,i.shipments[t.key].depart_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.Eb("rowspan",i.shipments[t.key].shipment.length),F.Db(1),F.Mc(F.mc(16,16,i.shipments[t.key].arrive_time,"MM/dd/yyyy HH:mm"))}}function Pe(e,t){if(1&e&&(F.Xb(0,"td",38),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc().$implicit;F.Db(1),F.Mc(n[e])}}function Ne(e,t){1&e&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function Fe(e,t){1&e&&(F.Xb(0,"mat-chip",39),F.Lc(1,"Stuffing"),F.Wb())}function Ee(e,t){1&e&&(F.Xb(0,"mat-chip",40),F.Lc(1,"Ready to load"),F.Wb())}function Je(e,t){1&e&&(F.Xb(0,"mat-chip",41),F.Lc(1,"Loaded"),F.Wb())}function Re(e,t){1&e&&(F.Xb(0,"mat-chip",39),F.Lc(1,"Discharge"),F.Wb())}function Ve(e,t){1&e&&(F.Xb(0,"mat-chip",40),F.Lc(1,"Pick up"),F.Wb())}function Ae(e,t){1&e&&(F.Xb(0,"mat-chip",41),F.Lc(1,"Complete"),F.Wb())}const $e=function(e,t){return{paid:e,"accent-100-bg":t}};function ze(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",43),F.Xb(2,"div",44),F.Xb(3,"span",45),F.Lc(4),F.Wb(),F.Xb(5,"span",46),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,$e,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function Be(e,t){if(1&e&&(F.Xb(0,"td",42),F.Jc(1,ze,8,11,"ng-container",21),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.revenueVN)}}function Ue(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",43),F.Xb(2,"div",44),F.Xb(3,"span",45),F.Lc(4),F.Wb(),F.Xb(5,"span",46),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,$e,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function Ye(e,t){if(1&e&&(F.Xb(0,"td",42),F.Jc(1,Ue,8,11,"ng-container",21),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.revenueNN)}}function qe(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",43),F.Xb(2,"div",44),F.Xb(3,"span",45),F.Lc(4),F.Wb(),F.Xb(5,"span",46),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,$e,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function He(e,t){if(1&e&&(F.Xb(0,"td",42),F.Jc(1,qe,8,11,"ng-container",21),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.costVN)}}function Ge(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",43),F.Xb(2,"div",44),F.Xb(3,"span",45),F.Lc(4),F.Wb(),F.Xb(5,"span",46),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,$e,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function Qe(e,t){if(1&e&&(F.Xb(0,"td",42),F.Jc(1,Ge,8,11,"ng-container",21),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.costNN)}}const Ke=function(e,t){return{"grey-A200-bg":e,"grey-A100-bg":t}},Ze=function(e,t){return{"red-600-fg":e,"teal-200-bg":t}};function et(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"tr",22),F.Jc(2,je,17,19,"ng-container",23),F.Xb(3,"td",24),F.Xb(4,"a",25),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td"),F.Lc(7),F.Wb(),F.Jc(8,Pe,2,1,"td",26),F.Xb(9,"td",27),F.Lc(10),F.Wb(),F.Xb(11,"td",27),F.Lc(12),F.Wb(),F.Xb(13,"td"),F.Xb(14,"mat-chip-list",28),F.Jc(15,Ne,2,0,"mat-chip",29),F.Jc(16,Fe,2,0,"mat-chip",30),F.Jc(17,Ee,2,0,"mat-chip",31),F.Jc(18,Je,2,0,"mat-chip",32),F.Jc(19,Re,2,0,"mat-chip",30),F.Jc(20,Ve,2,0,"mat-chip",31),F.Jc(21,Ae,2,0,"mat-chip",32),F.Wb(),F.Wb(),F.Xb(22,"td",33),F.Lc(23),F.kc(24,"number"),F.Wb(),F.Jc(25,Be,2,1,"td",34),F.Xb(26,"td",33),F.Lc(27),F.kc(28,"number"),F.Wb(),F.Jc(29,Ye,2,1,"td",34),F.Xb(30,"td",33),F.Lc(31),F.kc(32,"number"),F.Wb(),F.Jc(33,He,2,1,"td",34),F.Xb(34,"td",33),F.Lc(35),F.kc(36,"number"),F.Wb(),F.Jc(37,Qe,2,1,"td",34),F.Xb(38,"td",35),F.Lc(39),F.kc(40,"number"),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=t.index,i=F.jc().index,c=F.jc();F.Db(1),F.pc("ngClass",F.sc(47,Ke,i%2==1,i%2==0)),F.Db(1),F.pc("ngIf",0==n),F.Db(2),F.pc("routerLink","/apps/"+c.modul+"/shipment/detail/"+e.id+"/soa"),F.Db(1),F.Mc(e.code),F.Db(2),F.Mc(e.bill),F.Db(1),F.pc("ngForOf",c.arrType),F.Db(1),F.pc("matTooltip",e.customer_name),F.Db(1),F.Mc(e.customer_short_name),F.Db(1),F.pc("matTooltip",e.agent_name),F.Db(1),F.Mc(e.agent_short_name),F.Db(2),F.pc("ngSwitch",e.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6),F.Db(1),F.pc("ngClass",F.sc(50,Ze,e.profit.revenueVN<0,e.profit.revenueVN>=0)),F.Db(1),F.Mc(F.mc(24,32,e.profit.revenueVN,"1.0-0")),F.Db(2),F.pc("ngIf",c.revenueVNOpen),F.Db(1),F.pc("ngClass",F.sc(53,Ze,e.profit.revenueNN<0,e.profit.revenueNN>=0)),F.Db(1),F.Mc(F.mc(28,35,e.profit.revenueNN,"1.0-0")),F.Db(2),F.pc("ngIf",c.revenueNNOpen),F.Db(1),F.pc("ngClass",F.sc(56,Ze,e.profit.costVN<0,e.profit.costVN>=0)),F.Db(1),F.Mc(F.mc(32,38,e.profit.costVN,"1.0-0")),F.Db(2),F.pc("ngIf",c.costVNOpen),F.Db(1),F.pc("ngClass",F.sc(59,Ze,e.profit.costNN<0,e.profit.costNN>=0)),F.Db(1),F.Mc(F.mc(36,41,e.profit.costNN,"1.0-0")),F.Db(2),F.pc("ngIf",c.costNNOpen),F.Db(1),F.pc("ngClass",F.sc(62,Ze,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN<0,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN>=0)),F.Db(1),F.Mc(F.mc(40,44,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN,"1.0-0"))}}function tt(e,t){if(1&e&&(F.Vb(0),F.Jc(1,et,41,65,"ng-container",21),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.pc("ngForOf",n.shipments[e.key].shipment)}}function nt(e,t){if(1&e&&(F.Xb(0,"td",47),F.Lc(1),F.kc(2,"number"),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("bottom",n.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(2,3,n.total[e],"1.0-0"))}}function it(e,t){if(1&e&&(F.Xb(0,"td",47),F.Lc(1),F.kc(2,"number"),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("bottom",n.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(2,3,n.total[e],"1.0-0"))}}function ct(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function ot(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function rt(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function st(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}let at=(()=>{class e{constructor(e,t){this.commonService=e,this.changeDetector=t,this.createItem=new F.o,this.addPrice=new F.o,this.revenueVNOpen=!0,this.revenueNNOpen=!0,this.costVNOpen=!0,this.costNNOpen=!0,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngAfterViewChecked(){this.changeDetector.detectChanges()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(S.a),F.Rb(F.h))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-vessel-price"]],viewQuery:function(e,t){var n;1&e&&F.Sc(w.e,!0),2&e&&F.wc(n=F.gc())&&(t.viewPort=n.first)},inputs:{modul:"modul",shipments:"shipments",voyage:"voyage",arrType:"arrType",price:"price",permission:"permission",total:"total",formSearch:"formSearch"},outputs:{createItem:"createItem",addPrice:"addPrice"},decls:95,vars:105,consts:[["autosize","",1,"h-100-p"],[1,"report-table"],[1,"w-152","sticky-col",2,"z-index","30"],[1,"w-112"],["class","w-52 text-center",3,"top",4,"ngFor","ngForOf"],[1,"w-120"],[1,"sticky-col2",2,"z-index","30"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[1,"sticky-right-col1",2,"z-index","30"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"w-152","sticky-col","text-bold",2,"z-index","30"],["class","text-center text-bold",3,"bottom",4,"ngFor","ngForOf"],[1,"text-bold"],[3,"bottom",4,"ngIf"],[1,"text-bold","sticky-right-col1",2,"z-index","30"],[1,"w-52","text-center"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"w-152","sticky-col2"],[1,"cursor-pointer",3,"routerLink"],["class","text-center",4,"ngFor","ngForOf"],[3,"matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],[1,"text-right","text-bold",3,"ngClass"],["style","padding: 0",4,"ngIf"],[1,"sticky-right-col1","text-right","text-bold",3,"ngClass"],[1,"w-152","sticky-col"],["class","w-52 text-center",4,"ngFor","ngForOf"],[1,"text-center"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""],[2,"padding","0"],[1,"text-right","border-right","w-80",3,"ngClass"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-right","text-bold"],[1,"text-center","text-bold"]],template:function(e,t){1&e&&(F.Xb(0,"cdk-virtual-scroll-viewport",0),F.Xb(1,"table",1),F.Xb(2,"thead"),F.Xb(3,"tr"),F.Xb(4,"th"),F.Lc(5,"No"),F.Wb(),F.Xb(6,"th",2),F.Lc(7,"Voyage"),F.Wb(),F.Xb(8,"th",3),F.Lc(9,"POL"),F.Wb(),F.Xb(10,"th",3),F.Lc(11,"POD"),F.Wb(),F.Jc(12,ye,2,3,"th",4),F.Xb(13,"th",5),F.Lc(14,"ETD"),F.Wb(),F.Xb(15,"th",5),F.Lc(16,"ETA"),F.Wb(),F.Xb(17,"th",6),F.Lc(18,"Shipment"),F.Wb(),F.Xb(19,"th"),F.Lc(20,"Bill"),F.Wb(),F.Jc(21,De,2,3,"th",4),F.Xb(22,"th"),F.Lc(23,"Customer"),F.Wb(),F.Xb(24,"th"),F.Lc(25,"Agent"),F.Wb(),F.Xb(26,"th"),F.Lc(27,"Process"),F.Wb(),F.Xb(28,"th"),F.Xb(29,"div",7),F.Xb(30,"span"),F.Lc(31,"REVENUE VN"),F.Wb(),F.Jc(32,_e,2,0,"mat-icon",8),F.Jc(33,we,2,0,"mat-icon",9),F.Wb(),F.Wb(),F.Jc(34,Xe,2,2,"th",10),F.Xb(35,"th"),F.Xb(36,"div",7),F.Xb(37,"span"),F.Lc(38,"REVENUE NN"),F.Wb(),F.Jc(39,Oe,2,0,"mat-icon",8),F.Jc(40,We,2,0,"mat-icon",9),F.Wb(),F.Wb(),F.Jc(41,ke,2,2,"th",10),F.Xb(42,"th"),F.Xb(43,"div",7),F.Xb(44,"span"),F.Lc(45,"COST VN"),F.Wb(),F.Jc(46,Le,2,0,"mat-icon",8),F.Jc(47,Te,2,0,"mat-icon",9),F.Wb(),F.Wb(),F.Jc(48,xe,2,2,"th",10),F.Xb(49,"th"),F.Xb(50,"div",7),F.Xb(51,"span"),F.Lc(52,"COST NN"),F.Wb(),F.Jc(53,Se,2,0,"mat-icon",8),F.Jc(54,Ce,2,0,"mat-icon",9),F.Wb(),F.Wb(),F.Jc(55,Ie,2,2,"th",10),F.Xb(56,"th",11),F.Lc(57,"PROFIT"),F.Wb(),F.Wb(),F.Wb(),F.Xb(58,"tbody"),F.Jc(59,tt,2,1,"ng-container",12),F.Wb(),F.Xb(60,"tfoot"),F.Xb(61,"tr"),F.Sb(62,"td"),F.Xb(63,"td",13),F.Lc(64,"Total"),F.Wb(),F.Sb(65,"td"),F.Sb(66,"td"),F.Jc(67,nt,3,6,"td",14),F.Sb(68,"td"),F.Sb(69,"td"),F.Sb(70,"td"),F.Sb(71,"td"),F.Jc(72,it,3,6,"td",14),F.Sb(73,"td"),F.Sb(74,"td"),F.Sb(75,"td"),F.Xb(76,"td",15),F.Lc(77),F.kc(78,"number"),F.Wb(),F.Jc(79,ct,1,2,"td",16),F.Xb(80,"td",15),F.Lc(81),F.kc(82,"number"),F.Wb(),F.Jc(83,ot,1,2,"td",16),F.Xb(84,"td",15),F.Lc(85),F.kc(86,"number"),F.Wb(),F.Jc(87,rt,1,2,"td",16),F.Xb(88,"td",15),F.Lc(89),F.kc(90,"number"),F.Wb(),F.Jc(91,st,1,2,"td",16),F.Xb(92,"td",17),F.Lc(93),F.kc(94,"number"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Db(4),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.revenueVNOpen),F.Db(1),F.pc("ngIf",t.revenueVNOpen),F.Db(1),F.pc("ngIf",t.revenueVNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.revenueNNOpen),F.Db(1),F.pc("ngIf",t.revenueNNOpen),F.Db(1),F.pc("ngIf",t.revenueNNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.costVNOpen),F.Db(1),F.pc("ngIf",t.costVNOpen),F.Db(1),F.pc("ngIf",t.costVNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.costNNOpen),F.Db(1),F.pc("ngIf",t.costNNOpen),F.Db(1),F.pc("ngIf",t.costNNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(3),F.pc("cdkVirtualForOf",t.voyage),F.Db(3),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(2),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(78,90,t.total.revenueVN.ALL,"1.0-0")),F.Db(2),F.pc("ngIf",t.revenueVNOpen),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(82,93,t.total.revenueNN.ALL,"1.0-0")),F.Db(2),F.pc("ngIf",t.revenueNNOpen),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(86,96,t.total.costVN.ALL,"1.0-0")),F.Db(2),F.pc("ngIf",t.costVNOpen),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(90,99,t.total.costNN.ALL,"1.0-0")),F.Db(2),F.pc("ngIf",t.costNNOpen),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(F.mc(94,102,t.total.revenueVN.ALL+t.total.revenueNN.ALL-t.total.costVN.ALL-t.total.costNN.ALL,"1.0-0")))},directives:[w.e,X.a,R.s,Y.d,Y.c,R.t,w.d,b.a,R.q,q.a,i.j,p.a,_.c,R.x,R.y,_.a],pipes:[R.g,R.f],styles:["overview-vessel-price .report-table{font-size:12px!important;border:1px solid #e0e0e0;margin-bottom:4px;border-collapse:collapse}overview-vessel-price .report-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff!important;z-index:10}overview-vessel-price .report-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff!important;z-index:25}overview-vessel-price .report-table td,overview-vessel-price .report-table th{padding:8px;white-space:nowrap;border:1px solid #e0e0e0}overview-vessel-price .report-table td .mat-standard-chip,overview-vessel-price .report-table th .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}overview-vessel-price .report-table .paid{background:#fff;color:#000}overview-vessel-price .report-table .cost-paid{background:#ffe1c2;color:#000}overview-vessel-price .report-table .sticky-col{width:152px;position:-webkit-sticky;position:sticky;background:inherit;left:0;z-index:20}overview-vessel-price .report-table .sticky-col2{width:152px;position:-webkit-sticky;position:sticky;background:inherit;left:152px;z-index:20}overview-vessel-price .report-table .sticky-right-col{position:-webkit-sticky;position:sticky;background:inherit;right:40px;z-index:20}overview-vessel-price .report-table .sticky-right-col1{position:-webkit-sticky;position:sticky;background:inherit;right:0;z-index:20}"],encapsulation:2,data:{animation:ge.a}}),e})(),lt=(()=>{class e{constructor(e,t,n,i,c){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this.voyage=[],this.arrType=[],this.height=560,this.price=[],this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e[0],this.voyage=e[1],this.arrType=e[2],this.price=this.overviewService.price,this.total=this.overviewService.total2,this.modul=this.overviewService.module})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-vessel"]],decls:1,vars:7,consts:[[3,"modul","shipments","voyage","arrType","price","permission","total"]],template:function(e,t){1&e&&F.Sb(0,"overview-vessel-price",0),2&e&&F.pc("modul",t.modul)("shipments",t.shipments)("voyage",t.voyage)("arrType",t.arrType)("price",t.price)("permission",t.permission)("total",t.total)},directives:[at],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();var bt=n("dNgK");let pt=(()=>{class e{constructor(e,t){this.data=e,this.snackBar=t}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(bt.a),F.Rb(bt.b))},e.\u0275cmp=F.Lb({type:e,selectors:[["action-snack-bar"]],decls:4,vars:1,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"cursor-pointer","white-fg",3,"click"],[3,"innerHTML"]],template:function(e,t){1&e&&(F.Xb(0,"div",0),F.Xb(1,"mat-icon",1),F.fc("click",(function(e){return t.snackBar.dismiss()})),F.Lc(2,"close"),F.Wb(),F.Wb(),F.Sb(3,"div",2)),2&e&&(F.Db(3),F.pc("innerHTML",t.data.html,F.Cc))},directives:[Y.d,Y.c,b.a],styles:[".snackbar{max-width:100%!important;margin-left:auto!important;margin-right:auto!important}.snackbar .note td,.snackbar .note th{padding:8px;font-size:12px}"],encapsulation:2}),e})();function ht(e,t){if(1&e){const e=F.Yb();F.Xb(0,"span",11),F.fc("click",(function(t){return F.Bc(e),F.jc(2).type=1})),F.Lc(1),F.Wb()}if(2&e){const e=F.jc(2);F.Db(1),F.Mc(e.name)}}function ut(e,t){if(1&e&&(F.Xb(0,"span",12),F.Lc(1),F.Wb()),2&e){F.jc();const e=F.xc(4),t=F.jc();F.pc("matMenuTriggerFor",e),F.Db(1),F.Mc(t.name.replace("_EXP",""))}}function mt(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function dt(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function ft(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function gt(e,t){1&e&&(F.Xb(0,"span"),F.Lc(1,"Date"),F.Wb())}function vt(e,t){if(1&e&&(F.Xb(0,"span"),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc(3);F.Db(1),F.Nc(">",F.mc(2,1,e.value,"MM/dd/yyyy"),"")}}function yt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc(2).type=1})),F.Jc(1,gt,2,0,"span",14),F.Jc(2,vt,3,4,"span",14),F.Wb()}if(2&e){const e=F.jc(2);F.Db(1),F.pc("ngIf",!e.value),F.Db(1),F.pc("ngIf",e.value)}}function Dt(e,t){if(1&e&&(F.Xb(0,"span",12),F.Lc(1),F.Wb()),2&e){F.jc();const e=F.xc(20),t=F.jc();F.pc("matMenuTriggerFor",e),F.Db(1),F.Mc(t.name)}}function _t(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function wt(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function Xt(e,t){1&e&&(F.Xb(0,"mat-icon",13),F.Lc(1,"check"),F.Wb())}function Ot(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",15),F.fc("click",(function(t){return F.Bc(e),F.jc(2).columnChanged(null)})),F.Lc(1,"delete"),F.Wb()}}function Wt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"div",2),F.Jc(1,ht,2,1,"span",3),F.Jc(2,ut,2,2,"span",4),F.Xb(3,"mat-menu",null,5),F.Xb(5,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("all")})),F.Xb(6,"span"),F.Lc(7,"All"),F.Wb(),F.Jc(8,mt,2,0,"mat-icon",7),F.Wb(),F.Xb(9,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("yes")})),F.Xb(10,"span"),F.Lc(11,"Yes"),F.Wb(),F.Jc(12,dt,2,0,"mat-icon",7),F.Wb(),F.Xb(13,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("no")})),F.Xb(14,"span"),F.Lc(15,"No"),F.Wb(),F.Jc(16,ft,2,0,"mat-icon",7),F.Wb(),F.Jc(17,yt,3,2,"button",8),F.Wb(),F.Jc(18,Dt,2,2,"span",4),F.Xb(19,"mat-menu",null,9),F.Xb(21,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("all")})),F.Xb(22,"span"),F.Lc(23,"All"),F.Wb(),F.Jc(24,_t,2,0,"mat-icon",7),F.Wb(),F.Xb(25,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("yes")})),F.Xb(26,"span"),F.Lc(27,"Yes"),F.Wb(),F.Jc(28,wt,2,0,"mat-icon",7),F.Wb(),F.Xb(29,"button",6),F.fc("click",(function(t){return F.Bc(e),F.jc().columnChanged("no")})),F.Xb(30,"span"),F.Lc(31,"No"),F.Wb(),F.Jc(32,Xt,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(33,Ot,2,0,"mat-icon",10),F.Wb()}if(2&e){const e=F.jc();F.Db(1),F.pc("ngIf","date"!=e.inputType&&"select"!=e.inputType),F.Db(1),F.pc("ngIf","date"==e.inputType),F.Db(6),F.pc("ngIf",!e.value||""==e.value||"all"==e.value),F.Db(4),F.pc("ngIf",e.value&&"yes"==e.value),F.Db(4),F.pc("ngIf",e.value&&"no"==e.value),F.Db(1),F.pc("ngIf","date"==e.inputType),F.Db(1),F.pc("ngIf","select"==e.inputType),F.Db(6),F.pc("ngIf",!e.value||""==e.value||"all"==e.value),F.Db(4),F.pc("ngIf",e.value&&"yes"==e.value),F.Db(4),F.pc("ngIf",e.value&&"no"==e.value),F.Db(1),F.pc("ngIf",e.value&&""!=e.value)}}function kt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"input",20),F.fc("ngModelChange",(function(t){return F.Bc(e),F.jc(2).columnChanged(t)})),F.Wb()}if(2&e){const e=F.jc(2);F.pc("type",e.inputType)("placeholder",e.name)("ngModel",e.value)}}function Lt(e,t){if(1&e&&(F.Xb(0,"option",24),F.Lc(1),F.Wb()),2&e){const e=t.$implicit;F.pc("value",e),F.Db(1),F.Mc(e)}}function Tt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"select",21),F.fc("ngModelChange",(function(t){return F.Bc(e),F.jc(2).columnFilter.emit(t)})),F.Sb(1,"option",22),F.Jc(2,Lt,2,2,"option",23),F.Wb()}if(2&e){const e=F.jc(2);F.pc("ngModel",e.value),F.Db(2),F.pc("ngForOf",e.arr)}}function xt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"div",16),F.Jc(1,kt,1,3,"input",17),F.Jc(2,Tt,3,2,"select",18),F.Xb(3,"mat-icon",19),F.fc("click",(function(t){return F.Bc(e),F.jc().type=0})),F.Lc(4,"close"),F.Wb(),F.Wb()}if(2&e){const e=F.jc();F.Db(1),F.pc("ngIf",!e.code),F.Db(1),F.pc("ngIf",e.code)}}let St=(()=>{class e{constructor(){this.columnFilter=new F.o,this.type=0}ngOnInit(){}columnChanged(e){this.column=e,this.columnFilter.emit([this.name,this.column])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-filter"]],inputs:{name:"name",value:"value",arr:"arr",code:"code",inputType:"inputType"},outputs:{columnFilter:"columnFilter"},decls:2,vars:2,consts:[["fxLayout","row","fxLayoutAlign","space-between center","class","w-100-p",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","class","w-100-p","style","min-width: 50px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100-p"],["class","cursor-pointer accent-400-fg text-bold",3,"click",4,"ngIf"],["class","cursor-pointer accent-400-fg text-bold",3,"matMenuTriggerFor",4,"ngIf"],["moreMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["moreMenu2","matMenu"],["style","font-size: 16px; height: 16px; width: 16px; min-width: 16px; min-height: 16px","class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[1,"cursor-pointer","accent-400-fg","text-bold",3,"click"],[1,"cursor-pointer","accent-400-fg","text-bold",3,"matMenuTriggerFor"],["color","accent"],[4,"ngIf"],["color","warn",1,"cursor-pointer",2,"font-size","16px","height","16px","width","16px","min-width","16px","min-height","16px",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100-p",2,"min-width","50px"],["class","w-100-p p-0",3,"type","placeholder","ngModel","ngModelChange",4,"ngIf"],["style","border: none",3,"ngModel","ngModelChange",4,"ngIf"],["color","accent",1,"cursor-pointer",2,"font-size","16px","height","16px","width","16px","min-width","16px","min-height","16px",3,"click"],[1,"w-100-p","p-0",3,"type","placeholder","ngModel","ngModelChange"],[2,"border","none",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(F.Jc(0,Wt,34,11,"div",0),F.Jc(1,xt,5,2,"div",1)),2&e&&(F.pc("ngIf",!t.type),F.Db(1),F.pc("ngIf",t.type))},directives:[R.t,Y.d,Y.c,c.d,c.a,c.c,b.a,ce.b,ce.p,ce.s,ce.x,ce.t,ce.z,R.s],pipes:[R.f],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();function Ct(e,t){1&e&&(F.Xb(0,"div",17),F.Xb(1,"span",18),F.Lc(2),F.Wb(),F.Wb()),2&e&&(F.Db(2),F.Mc("No Shipment"))}function It(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"th",19),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function Mt(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"th",19),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function jt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.releaseOpen=!n.releaseOpen})),F.Lc(1,"add"),F.Wb()}}function Pt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",21),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.releaseOpen=!n.releaseOpen})),F.Lc(1,"removed"),F.Wb()}}function Nt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Cont code"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Ft(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Secure code"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Et(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Free day"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Jt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Free port storage"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Rt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"DEM"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Vt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"DET"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function At(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTC"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function $t(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTN"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function zt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTV"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Bt(e,t){if(1&e){const e=F.Yb();F.Vb(0),F.Xb(1,"th"),F.Xb(2,"overview-filter",13),F.fc("columnFilter",(function(t){return F.Bc(e),F.jc().columnFilter(t)})),F.Wb(),F.Wb(),F.Ub()}if(2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.pc("name",e)("value",n.column[e])("inputType","date")}}function Ut(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",20),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.shipmentOpen=!n.shipmentOpen})),F.Lc(1,"add"),F.Wb()}}function Yt(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",21),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.shipmentOpen=!n.shipmentOpen})),F.Lc(1,"removed"),F.Wb()}}function qt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"BL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Ht(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Vessel"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Gt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Qt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Kt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Zt(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETA"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function en(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"th"),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}const tn=function(e){return{"row-even":e}};function nn(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",34),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc(4),i=n.index,c=n.$implicit,o=F.jc();F.Db(1),F.pc("ngClass",F.rc(3,tn,i%2==1)),F.Eb("rowspan",o.shipments[c.key].container),F.Db(1),F.Mc(o.shipments[c.key][e])}}function cn(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.Wb(),F.Xb(3,"td",33),F.Xb(4,"a"),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td",23),F.Lc(7),F.Wb(),F.Xb(8,"td",23),F.Lc(9),F.Wb(),F.Xb(10,"td",25),F.Lc(11),F.kc(12,"date"),F.Wb(),F.Xb(13,"td",25),F.Lc(14),F.kc(15,"date"),F.Wb(),F.Jc(16,nn,3,5,"ng-container",4),F.Ub()),2&e){const e=F.jc(3),t=e.index,n=e.$implicit,i=F.jc();F.Db(1),F.pc("ngClass",F.rc(27,tn,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(t+1),F.Db(1),F.pc("ngClass",F.rc(29,tn,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(2),F.Mc(i.shipments[n.key].vessel_full_name),F.Db(1),F.pc("ngClass",F.rc(31,tn,t%2==1))("matTooltip",i.shipments[n.key].pol_name),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(i.shipments[n.key].pol_code),F.Db(1),F.pc("ngClass",F.rc(33,tn,t%2==1))("matTooltip",i.shipments[n.key].pod_name),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(i.shipments[n.key].pod_code),F.Db(1),F.pc("ngClass",F.rc(35,tn,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(F.mc(12,21,i.shipments[n.key].depart_time,"MM/dd/yyyy")),F.Db(2),F.pc("ngClass",F.rc(37,tn,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(F.mc(15,24,i.shipments[n.key].arrive_time,"MM/dd/yyyy HH:mm")),F.Db(2),F.pc("ngForOf",i.arrType)}}function on(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc(3).$implicit,i=F.jc().index;F.Db(1),F.pc("ngClass",F.rc(3,tn,i%2==1)),F.Eb("rowspan",n.container.length),F.Db(1),F.Mc(n[e])}}function rn(e,t){1&e&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function sn(e,t){1&e&&(F.Xb(0,"mat-chip",41),F.Lc(1,"Stuffing"),F.Wb())}function an(e,t){1&e&&(F.Xb(0,"mat-chip",42),F.Lc(1,"Ready to load"),F.Wb())}function ln(e,t){1&e&&(F.Xb(0,"mat-chip",43),F.Lc(1,"Loaded"),F.Wb())}function bn(e,t){1&e&&(F.Xb(0,"mat-chip",41),F.Lc(1,"Discharge"),F.Wb())}function pn(e,t){1&e&&(F.Xb(0,"mat-chip",42),F.Lc(1,"Pick up"),F.Wb())}function hn(e,t){1&e&&(F.Xb(0,"mat-chip",43),F.Lc(1,"Complete"),F.Wb())}const un=function(e,t){return{"row-even":e,"error-cell":t}};function mn(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",35),F.Xb(2,"a",29),F.Lc(3),F.Wb(),F.Wb(),F.Xb(4,"td",25),F.Lc(5),F.Wb(),F.Jc(6,on,3,5,"ng-container",4),F.Xb(7,"td",23),F.Lc(8),F.Wb(),F.Xb(9,"td",23),F.Lc(10),F.Wb(),F.Xb(11,"td",25),F.Xb(12,"mat-chip-list",36),F.Jc(13,rn,2,0,"mat-chip",37),F.Jc(14,sn,2,0,"mat-chip",38),F.Jc(15,an,2,0,"mat-chip",39),F.Jc(16,ln,2,0,"mat-chip",40),F.Jc(17,bn,2,0,"mat-chip",38),F.Jc(18,pn,2,0,"mat-chip",39),F.Jc(19,hn,2,0,"mat-chip",40),F.Wb(),F.Wb(),F.Ub()),2&e){const e=F.jc(2).$implicit,t=F.jc().index,n=F.jc();F.Db(1),F.pc("ngClass",F.sc(27,un,t%2==1,!e.volume_check))("matTooltip",e.volume_check?"":"Thi\u1ebfu container so v\u1edbi volume"),F.Eb("rowspan",e.container.length),F.Db(1),F.pc("routerLink","/apps/"+n.modul+"/shipment/detail/"+e.id+"/soa"),F.Db(1),F.Mc(e.code),F.Db(1),F.pc("ngClass",F.rc(30,tn,t%2==1)),F.Eb("rowspan",e.container.length),F.Db(1),F.Mc(e.bill),F.Db(1),F.pc("ngForOf",n.arrType),F.Db(1),F.pc("ngClass",F.rc(32,tn,t%2==1))("matTooltip",e.customer_name),F.Eb("rowspan",e.container.length),F.Db(1),F.Mc(e.customer_short_name),F.Db(1),F.pc("ngClass",F.rc(34,tn,t%2==1))("matTooltip",e.agent_name),F.Eb("rowspan",e.container.length),F.Db(1),F.Mc(e.agent_short_name),F.Db(1),F.pc("ngClass",F.rc(36,tn,t%2==1)),F.Eb("rowspan",e.container.length),F.Db(1),F.pc("ngSwitch",e.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6)}}function dn(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",21),F.fc("click",(function(t){F.Bc(e);const n=F.jc(2).$implicit;return F.jc(2).openNote(n.action)})),F.Lc(1,"error"),F.Wb()}}function fn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.cont_code)}}function gn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.secure_code)}}function vn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.free_day)}}function yn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.free_port_storage)}}function Dn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.dem)}}function _n(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.det)}}function wn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtc)}}function Xn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtn)}}function On(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtv)}}function Wn(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.kc(3,"date"),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc().$implicit,i=F.jc(2).index;F.Db(1),F.pc("ngClass",F.rc(5,tn,i%2==1)),F.Db(1),F.Mc(F.mc(3,2,null==n[e]?null:n[e].date,"MM/dd/yy"))}}function kn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.bill)}}function Ln(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,tn,t%2==1)),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.vessel_full_name)}}function Tn(e,t){if(1&e&&(F.Xb(0,"td",23),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(3,tn,t%2==1))("matTooltip",null==e.TREXP_EXP?null:e.TREXP_EXP.pol_name),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.pol_code)}}function xn(e,t){if(1&e&&(F.Xb(0,"td",23),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(3,tn,t%2==1))("matTooltip",null==e.TREXP_EXP?null:e.TREXP_EXP.pod_name),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.pod_code)}}function Sn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(5,tn,t%2==1)),F.Db(1),F.Mc(F.mc(2,2,null==e.TREXP_EXP?null:e.TREXP_EXP.depart_time,"MM/dd/yy"))}}function Cn(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(5,tn,t%2==1)),F.Db(1),F.Mc(F.mc(2,2,null==e.TREXP_EXP?null:e.TREXP_EXP.arrive_time,"MM/dd/yy"))}}function In(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.kc(3,"date"),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc().$implicit,i=F.jc(2).index;F.Db(1),F.pc("ngClass",F.rc(5,tn,i%2==1)),F.Db(1),F.Mc(F.mc(3,2,null==n[e+"_EXP"]?null:n[e+"_EXP"].date,"MM/dd/yy"))}}const Mn=function(e,t){return{"row-even":e,"teal-200-bg":t}},jn=function(){return["TREXP","FULEX","LOAD","FULIM","TRIMP","EMPTY"]};function Pn(e,t){if(1&e&&(F.Xb(0,"tr"),F.Jc(1,cn,17,39,"ng-container",22),F.Jc(2,mn,20,38,"ng-container",22),F.Xb(3,"td",23),F.Lc(4),F.Wb(),F.Xb(5,"td",24),F.Lc(6),F.Wb(),F.Xb(7,"td",23),F.Lc(8),F.Wb(),F.Xb(9,"td",23),F.Lc(10),F.Wb(),F.Xb(11,"td",23),F.Lc(12),F.Wb(),F.Xb(13,"td",25),F.Lc(14),F.Wb(),F.Xb(15,"td",23),F.Lc(16),F.Wb(),F.Xb(17,"td",25),F.Lc(18),F.Wb(),F.Xb(19,"td",25),F.Lc(20),F.Wb(),F.Xb(21,"td",25),F.Lc(22),F.Wb(),F.Sb(23,"td",25),F.Xb(24,"td",25),F.Lc(25),F.Wb(),F.Xb(26,"td",25),F.Lc(27),F.Wb(),F.Xb(28,"td",25),F.Lc(29),F.Wb(),F.Sb(30,"td",25),F.Xb(31,"td",25),F.Jc(32,dn,2,0,"mat-icon",11),F.Wb(),F.Sb(33,"td",25),F.Xb(34,"td",25),F.Lc(35),F.Wb(),F.Xb(36,"td",25),F.Lc(37),F.kc(38,"number"),F.Wb(),F.Xb(39,"td",25),F.Lc(40),F.Wb(),F.Xb(41,"td",25),F.Lc(42),F.Wb(),F.Xb(43,"td",26),F.Lc(44),F.Wb(),F.Xb(45,"td",27),F.Lc(46),F.Wb(),F.Jc(47,fn,2,4,"td",28),F.Jc(48,gn,2,4,"td",28),F.Jc(49,vn,2,4,"td",28),F.Jc(50,yn,2,4,"td",28),F.Jc(51,Dn,2,4,"td",28),F.Jc(52,_n,2,4,"td",28),F.Jc(53,wn,2,4,"td",28),F.Jc(54,Xn,2,4,"td",28),F.Jc(55,On,2,4,"td",28),F.Jc(56,Wn,4,7,"ng-container",4),F.Xb(57,"td",23),F.Lc(58),F.Wb(),F.Xb(59,"td",25),F.Xb(60,"a",29),F.Lc(61),F.Wb(),F.Wb(),F.Jc(62,kn,2,4,"td",28),F.Jc(63,Ln,2,4,"td",28),F.Jc(64,Tn,2,5,"td",30),F.Jc(65,xn,2,5,"td",30),F.Jc(66,Sn,3,7,"td",28),F.Jc(67,Cn,3,7,"td",28),F.Jc(68,In,4,7,"ng-container",4),F.Xb(69,"td",25),F.Lc(70),F.kc(71,"date"),F.Wb(),F.Xb(72,"td",31),F.Xb(73,"a"),F.Lc(74),F.Wb(),F.Wb(),F.Xb(75,"td",32),F.Lc(76),F.Wb(),F.Wb()),2&e){const e=t.$implicit,n=t.index,i=F.jc(),c=i.index,o=i.$implicit,r=F.jc().index,s=F.jc();F.Db(1),F.pc("ngIf",0==c&&0==n),F.Db(1),F.pc("ngIf",0==n),F.Db(1),F.pc("ngClass",F.rc(88,tn,r%2==1))("matTooltip",null==e.EMPTY?null:e.EMPTY.place_name),F.Db(1),F.Mc(null==e.EMPTY?null:e.EMPTY.place_short_name),F.Db(1),F.pc("ngClass",F.rc(90,tn,r%2==1))("matTooltip",null==e.container_info?null:e.container_info.release_info),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.release_info),F.Db(1),F.pc("ngClass",F.rc(92,tn,r%2==1))("matTooltip",null==o.party.S?null:o.party.S.partner_name),F.Db(1),F.Mc(null==o.party.S?null:o.party.S.partner_short_name),F.Db(1),F.pc("ngClass",F.rc(94,tn,r%2==1))("matTooltip",null==o.party.C?null:o.party.C.partner_name),F.Db(1),F.Mc(null==o.party.C?null:o.party.C.partner_short_name),F.Db(1),F.pc("ngClass",F.rc(96,tn,r%2==1))("matTooltip",null==o.party.N?null:o.party.N.partner_name),F.Db(1),F.Mc(null==o.party.N?null:o.party.N.partner_short_name),F.Db(1),F.pc("ngClass",F.rc(98,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.seal),F.Db(1),F.pc("ngClass",F.rc(100,tn,r%2==1))("matTooltip",null==e.container_info?null:e.container_info.content),F.Db(1),F.Mc(e.container_info&&e.container_info.container?"AS PER B/L":""),F.Db(1),F.pc("ngClass",F.rc(102,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.net_weight),F.Db(1),F.pc("ngClass",F.rc(104,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.gross_weight),F.Db(1),F.pc("ngClass",F.rc(106,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.measurement),F.Db(1),F.pc("ngClass",F.rc(108,tn,r%2==1)),F.Db(1),F.pc("ngClass",F.rc(110,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.package),F.Db(1),F.pc("ngClass",F.rc(112,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.commodity),F.Db(1),F.pc("ngClass",F.rc(114,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.hs_code),F.Db(1),F.pc("ngClass",F.rc(116,tn,r%2==1)),F.Db(1),F.pc("ngClass",F.rc(118,tn,r%2==1)),F.Db(1),F.pc("ngIf",o.action&&o.action.length>0),F.Db(1),F.pc("ngClass",F.rc(120,tn,r%2==1)),F.Db(1),F.pc("ngClass",F.rc(122,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.deposit_number),F.Db(1),F.pc("ngClass",F.rc(124,tn,r%2==1)),F.Db(1),F.Mc(F.mc(38,82,null==e.container_info?null:e.container_info.deposit,"1.0-0")),F.Db(2),F.pc("ngClass",F.rc(126,tn,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.depositor),F.Db(1),F.pc("ngClass",F.sc(128,Mn,r%2==1,!e.container_info||e.container_info&&!e.container_info.release_no)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.release_no),F.Db(1),F.pc("ngClass",F.sc(131,Mn,r%2==1,!e.container_info||e.container_info&&!e.container_info.mt_return))("matTooltip",null==e.container_info?null:e.container_info.mt_return),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mt_return),F.Db(1),F.pc("ngClass",F.sc(134,Mn,r%2==1,!e.container_info||e.container_info&&!e.container_info.release_info))("matTooltip",null==e.container_info?null:e.container_info.release_info),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.release_info),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngForOf",F.qc(137,jn)),F.Db(1),F.pc("ngClass",F.rc(138,tn,r%2==1))("matTooltip",null==e.EMPTY?null:e.EMPTY.place_name),F.Db(1),F.Mc(null==e.EMPTY?null:e.EMPTY.place_short_name),F.Db(1),F.pc("ngClass",F.rc(140,tn,r%2==1)),F.Db(1),F.pc("routerLink","/apps/"+s.modul+"/shipment/detail/"+(null==e.TREXP_EXP?null:e.TREXP_EXP.shipment_id)+"/soa"),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.shipment_code),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngForOf",F.qc(142,jn)),F.Db(1),F.pc("ngClass",F.rc(143,tn,r%2==1)),F.Db(1),F.Mc(F.mc(71,85,e.off_hire,"MM/dd/yy")),F.Db(2),F.pc("ngClass",F.rc(145,tn,r%2==1)),F.Db(2),F.Mc(e.cont_number),F.Db(1),F.pc("ngClass",F.rc(147,tn,r%2==1)),F.Db(1),F.Mc(e.cont_type)}}function Nn(e,t){if(1&e&&(F.Vb(0),F.Jc(1,Pn,77,149,"tr",4),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngForOf",e.container)}}function Fn(e,t){if(1&e&&(F.Vb(0),F.Jc(1,Nn,2,1,"ng-container",4),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.pc("ngForOf",n.shipments[e.key].shipment)}}let En=(()=>{class e{constructor(e,t,n,i,c,o,r){this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.snackBar=c,this.datePipe=o,this._location=r,this.columnFilterChanged=new F.o,this.shipmentOpen=!1,this.releaseOpen=!1,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}openNote(e){let t="<span>Shipment Action</span>";t+='<table class="note" style="width: 1020px!important">',t+="<thead>",t+="<tr>",t+="<th>Shipment</th>",t+="<th>Action</th>",t+="<th>Content</th>",t+="<th>Update by</th>",t+="<th>Update at</th>",t+="</tr>",t+="</thead>",t+="<tbody>",e.map((e,n)=>{t+="<tr>",t+="<td>"+e.shipment_code+"</td>",t+="<td>"+e.action+"</td>",t+="<td>"+e.content+"</td>",t+="<td>"+e.update_by_name+"</td>",t+="<td>"+this.datePipe.transform(new Date(e.update_at),"MM/dd/yyyy")+"</td>",t+="</tr>"}),t+="</tbody>",t+="</table>",this.snackBar.openFromComponent(pt,{panelClass:"snackbar",data:{html:t},horizontalPosition:"center",verticalPosition:"top"})}columnFilter(e){this.column[e[0]]=e[1],this.columnFilterChanged.emit(this.column)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(bt.b),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-container-table"]],viewQuery:function(e,t){var n;1&e&&F.Sc(w.e,!0),2&e&&F.wc(n=F.gc())&&(t.viewPort=n.first)},inputs:{modul:"modul",shipments:"shipments",voyage:"voyage",arrType:"arrType",height:"height",column:"column"},outputs:{columnFilterChanged:"columnFilterChanged"},decls:113,vars:112,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-table"],[4,"ngFor","ngForOf"],[1,"sticky-col",2,"z-index","30"],[1,"w-180"],[1,"w-88"],[1,"w-160"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[3,"name","value","inputType","columnFilter"],[1,"sticky-right-col2",2,"z-index","30"],[1,"sticky-right-col1",2,"z-index","30"],[4,"cdkVirtualFor","cdkVirtualForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[1,"text-center","text-bold"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[4,"ngIf"],[3,"ngClass","matTooltip"],[1,"w-180",3,"ngClass","matTooltip"],[3,"ngClass"],[1,"w-88",2,"overflow","hidden",3,"ngClass","matTooltip"],[1,"w-160",2,"overflow","hidden",3,"ngClass","matTooltip"],[3,"ngClass",4,"ngIf"],[1,"cursor-pointer",3,"routerLink"],[3,"ngClass","matTooltip",4,"ngIf"],[1,"sticky-right-col2",3,"ngClass"],[1,"sticky-right-col1",3,"ngClass"],[1,"w-152",3,"ngClass"],[1,"text-center","text-bold",3,"ngClass"],[1,"w-152","sticky-col",3,"ngClass","matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""]],template:function(e,t){1&e&&(F.Jc(0,Ct,3,1,"div",0),F.Xb(1,"div",1),F.Xb(2,"cdk-virtual-scroll-viewport",2),F.Xb(3,"table",3),F.Xb(4,"thead"),F.Xb(5,"tr"),F.Xb(6,"th"),F.Lc(7,"No"),F.Wb(),F.Xb(8,"th"),F.Lc(9,"Vessel voy"),F.Wb(),F.Xb(10,"th"),F.Lc(11,"POL"),F.Wb(),F.Xb(12,"th"),F.Lc(13,"POD"),F.Wb(),F.Xb(14,"th"),F.Lc(15,"ETD"),F.Wb(),F.Xb(16,"th"),F.Lc(17,"ETA"),F.Wb(),F.Jc(18,It,3,3,"ng-container",4),F.Xb(19,"th",5),F.Lc(20,"Shipment"),F.Wb(),F.Xb(21,"th"),F.Lc(22,"BL"),F.Wb(),F.Jc(23,Mt,3,3,"ng-container",4),F.Xb(24,"th"),F.Lc(25,"Customer"),F.Wb(),F.Xb(26,"th"),F.Lc(27,"Dest Agent"),F.Wb(),F.Xb(28,"th"),F.Lc(29,"Process"),F.Wb(),F.Xb(30,"th"),F.Lc(31,"MT depot"),F.Wb(),F.Xb(32,"th",6),F.Lc(33,"CR Info"),F.Wb(),F.Xb(34,"th"),F.Lc(35,"Shipper"),F.Wb(),F.Xb(36,"th"),F.Lc(37,"Consignee"),F.Wb(),F.Xb(38,"th"),F.Lc(39,"Notify party"),F.Wb(),F.Xb(40,"th"),F.Lc(41,"Seal"),F.Wb(),F.Xb(42,"th"),F.Lc(43,"Description goods"),F.Wb(),F.Xb(44,"th"),F.Lc(45,"Net weight"),F.Wb(),F.Xb(46,"th"),F.Lc(47,"Gross weight"),F.Wb(),F.Xb(48,"th"),F.Lc(49,"CBM"),F.Wb(),F.Xb(50,"th"),F.Lc(51,"PKGS (volume)"),F.Wb(),F.Xb(52,"th"),F.Lc(53,"PKGS (Type)"),F.Wb(),F.Xb(54,"th"),F.Lc(55,"Commodity"),F.Wb(),F.Xb(56,"th"),F.Lc(57,"Hs code"),F.Wb(),F.Xb(58,"th"),F.Lc(59,"Send AN"),F.Wb(),F.Xb(60,"th"),F.Lc(61,"AN"),F.Wb(),F.Xb(62,"th"),F.Lc(63,"DO"),F.Wb(),F.Xb(64,"th"),F.Lc(65,"Deposit no"),F.Wb(),F.Xb(66,"th"),F.Lc(67,"Deposit"),F.Wb(),F.Xb(68,"th"),F.Lc(69,"Depositor"),F.Wb(),F.Xb(70,"th"),F.Lc(71,"Release no"),F.Wb(),F.Xb(72,"th",7),F.Lc(73,"MT return"),F.Wb(),F.Xb(74,"th",8),F.Xb(75,"div",9),F.Xb(76,"span"),F.Lc(77,"CR Info"),F.Wb(),F.Jc(78,jt,2,0,"mat-icon",10),F.Jc(79,Pt,2,0,"mat-icon",11),F.Wb(),F.Wb(),F.Jc(80,Nt,2,2,"th",12),F.Jc(81,Ft,2,2,"th",12),F.Jc(82,Et,2,2,"th",12),F.Jc(83,Jt,2,2,"th",12),F.Jc(84,Rt,2,2,"th",12),F.Jc(85,Vt,2,2,"th",12),F.Jc(86,At,2,2,"th",12),F.Jc(87,$t,2,2,"th",12),F.Jc(88,zt,2,2,"th",12),F.Jc(89,Bt,3,5,"ng-container",4),F.Xb(90,"th"),F.Xb(91,"overview-filter",13),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Wb(),F.Xb(92,"th"),F.Xb(93,"div",9),F.Xb(94,"span"),F.Lc(95,"Shipment Export"),F.Wb(),F.Jc(96,Ut,2,0,"mat-icon",10),F.Jc(97,Yt,2,0,"mat-icon",11),F.Wb(),F.Wb(),F.Jc(98,qt,2,2,"th",12),F.Jc(99,Ht,2,2,"th",12),F.Jc(100,Gt,2,2,"th",12),F.Jc(101,Qt,2,2,"th",12),F.Jc(102,Kt,2,2,"th",12),F.Jc(103,Zt,2,2,"th",12),F.Jc(104,en,3,3,"ng-container",4),F.Xb(105,"th"),F.Lc(106,"Off hire"),F.Wb(),F.Xb(107,"th",14),F.Lc(108,"Container"),F.Wb(),F.Xb(109,"th",15),F.Lc(110,"Type"),F.Wb(),F.Wb(),F.Wb(),F.Xb(111,"tbody"),F.Jc(112,Fn,2,1,"ng-container",16),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.pc("ngIf",0===t.voyage.length),F.Db(1),F.Ic("height",t.height,"px"),F.Db(1),F.Ic("height",t.height,"px"),F.Db(4),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngForOf",F.qc(110,jn)),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("name","MT depot")("value",t.column["MT depot"])("inputType","select"),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngForOf",F.qc(111,jn)),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(3),F.pc("cdkVirtualForOf",t.voyage))},directives:[R.t,w.e,X.a,Y.d,R.s,Y.c,St,w.d,Y.e,b.a,R.q,q.a,p.a,i.j,_.c,R.x,R.y,_.a],pipes:[R.g,R.f],styles:["overview-container-table .no-shipments-text{font-size:24px;font-weight:300}overview-container-table cdk-virtual-scroll-viewport{width:100%}overview-container-table .overview-table{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}overview-container-table .overview-table td,overview-container-table .overview-table th{padding:8px!important;white-space:nowrap}overview-container-table .mat-expansion-panel-body{padding:0!important}overview-container-table .shipment-table{font-size:12px!important}overview-container-table .shipment-table td,overview-container-table .shipment-table th{padding:8px!important;white-space:nowrap}overview-container-table .shipment-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}overview-container-table .shipment-table .sticky-col{width:152px;position:sticky;position:-webkit-sticky;background-color:#fff;left:0;z-index:20}overview-container-table .shipment-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background-color:#fff;right:0;z-index:20}overview-container-table .shipment-table .sticky-right-col2{position:sticky;position:-webkit-sticky;background-color:#fff;right:47px;z-index:20}overview-container-table .shipment-table .row-even{background-color:#e0e0e0}overview-container-table .shipment-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:ge.a}}),e})(),Jn=(()=>{class e{constructor(e,t,n,i,c,o,r){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this.datePipe=o,this._location=r,this.voyage=[],this.arrType=[],this.height=560,this.column={},this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e[0],this.voyage=e[1],this.arrType=e[2]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}columnFilterChanged(e){this.column=e,this.overviewService.onFilterColumnChanged.next(e)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-container"]],decls:1,vars:6,consts:[[3,"modul","shipments","voyage","arrType","height","column","columnFilterChanged"]],template:function(e,t){1&e&&(F.Xb(0,"overview-container-table",0),F.fc("columnFilterChanged",(function(e){return t.columnFilterChanged(e)})),F.Wb()),2&e&&F.pc("modul",t.modul)("shipments",t.shipments)("voyage",t.voyage)("arrType",t.arrType)("height",t.height)("column",t.column)},directives:[En],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();function Rn(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",16),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.vesselOpen=!n.vesselOpen})),F.Lc(1,"add"),F.Wb()}}function Vn(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",17),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.vesselOpen=!n.vesselOpen})),F.Lc(1,"removed"),F.Wb()}}function An(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function $n(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function zn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Bn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETA"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Un(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"th",18),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function Yn(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"th",18),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function qn(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",16),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.billOpen=!n.billOpen})),F.Lc(1,"add"),F.Wb()}}function Hn(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",17),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.billOpen=!n.billOpen})),F.Lc(1,"removed"),F.Wb()}}function Gn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Seal"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Qn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Description goods"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Kn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Net weight"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Zn(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Gross weight"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ei(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"CBM"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ti(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"PKGS (volume)"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ni(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"PKGS (Type)"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ii(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Hs code"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ci(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",16),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.releaseOpen=!n.releaseOpen})),F.Lc(1,"add"),F.Wb()}}function oi(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",17),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.releaseOpen=!n.releaseOpen})),F.Lc(1,"removed"),F.Wb()}}function ri(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Cont code"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function si(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Secure code"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ai(e,t){if(1&e&&(F.Xb(0,"th",19),F.Lc(1,"FD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation),F.pc("matTooltip","Free day")}}function li(e,t){if(1&e&&(F.Xb(0,"th",19),F.Lc(1,"FPS"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation),F.pc("matTooltip","Free port storage")}}function bi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"DEM"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function pi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"DET"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function hi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTC"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function ui(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTN"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function mi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"MTV"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function di(e,t){if(1&e){const e=F.Yb();F.Vb(0),F.Xb(1,"th"),F.Xb(2,"overview-filter",5),F.fc("columnFilter",(function(t){return F.Bc(e),F.jc().columnFilter(t)})),F.Wb(),F.Wb(),F.Ub()}if(2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.pc("name",e)("value",n.column[e])("inputType","date")}}function fi(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",16),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.shipmentOpen=!n.shipmentOpen})),F.Lc(1,"add"),F.Wb()}}function gi(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",17),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.shipmentOpen=!n.shipmentOpen})),F.Lc(1,"removed"),F.Wb()}}function vi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"BL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function yi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Vessel"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Di(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function _i(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function wi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Xi(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETA"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Oi(e,t){if(1&e){const e=F.Yb();F.Vb(0),F.Xb(1,"th"),F.Xb(2,"overview-filter",5),F.fc("columnFilter",(function(t){return F.Bc(e),F.jc().columnFilter(t)})),F.Wb(),F.Wb(),F.Ub()}if(2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.Ic("top",n.inverseOfTranslation),F.Db(1),F.pc("name",e+"_EXP")("value",n.column[e+"_EXP"])("inputType","date")}}const Wi=function(e){return{"row-even":e}};function ki(e,t){if(1&e&&(F.Xb(0,"td",21),F.Lc(1),F.Wb()),2&e){const e=F.jc(4),t=e.index,n=e.$implicit,i=F.jc();F.pc("ngClass",F.rc(4,Wi,t%2==1))("matTooltip",i.shipments[n.key].pol_name),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(i.shipments[n.key].pol_code)}}function Li(e,t){if(1&e&&(F.Xb(0,"td",21),F.Lc(1),F.Wb()),2&e){const e=F.jc(4),t=e.index,n=e.$implicit,i=F.jc();F.pc("ngClass",F.rc(4,Wi,t%2==1))("matTooltip",i.shipments[n.key].pod_name),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(i.shipments[n.key].pod_code)}}function Ti(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc(4),t=e.index,n=e.$implicit,i=F.jc();F.pc("ngClass",F.rc(6,Wi,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(F.mc(2,3,i.shipments[n.key].depart_time,"MM/dd/yyyy"))}}function xi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc(4),t=e.index,n=e.$implicit,i=F.jc();F.pc("ngClass",F.rc(6,Wi,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(F.mc(2,3,i.shipments[n.key].arrive_time,"MM/dd/yyyy HH:mm"))}}function Si(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",32),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc(4),i=n.index,c=n.$implicit,o=F.jc();F.Db(1),F.pc("ngClass",F.rc(3,Wi,i%2==1)),F.Eb("rowspan",o.shipments[c.key].container),F.Db(1),F.Mc(o.shipments[c.key][e])}}function Ci(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.Wb(),F.Xb(3,"td",31),F.Lc(4),F.Wb(),F.Jc(5,ki,2,6,"td",24),F.Jc(6,Li,2,6,"td",24),F.Jc(7,Ti,3,8,"td",23),F.Jc(8,xi,3,8,"td",23),F.Jc(9,Si,3,5,"ng-container",9),F.Ub()),2&e){const e=F.jc(3),t=e.index,n=e.$implicit,i=F.jc();F.Db(1),F.pc("ngClass",F.rc(11,Wi,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(t+1),F.Db(1),F.pc("ngClass",F.rc(13,Wi,t%2==1)),F.Eb("rowspan",i.shipments[n.key].container),F.Db(1),F.Mc(i.shipments[n.key].vessel_full_name),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngForOf",i.arrType)}}function Ii(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc(3).$implicit,i=F.jc().index;F.Db(1),F.pc("ngClass",F.rc(3,Wi,i%2==1)),F.Eb("rowspan",n.container.length),F.Db(1),F.Mc(n[e])}}const Mi=function(e,t){return{"row-even":e,"error-cell":t}};function ji(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",33),F.Xb(2,"a",28),F.Lc(3),F.Wb(),F.Wb(),F.Xb(4,"td",25),F.Lc(5),F.Wb(),F.Jc(6,Ii,3,5,"ng-container",9),F.Xb(7,"td",21),F.Lc(8),F.Wb(),F.Ub()),2&e){const e=F.jc(2).$implicit,t=F.jc().index,n=F.jc();F.Db(1),F.pc("ngClass",F.sc(13,Mi,t%2==1,!e.volume_check))("matTooltip",e.volume_check?"":"Thi\u1ebfu container so v\u1edbi volume"),F.Eb("rowspan",e.container.length),F.Db(1),F.pc("routerLink","/apps/"+n.modul+"/shipment/detail/"+e.id+"/soa"),F.Db(1),F.Mc(e.code),F.Db(1),F.pc("ngClass",F.rc(16,Wi,t%2==1)),F.Eb("rowspan",e.container.length),F.Db(1),F.Mc(e.bill),F.Db(1),F.pc("ngForOf",n.arrType),F.Db(1),F.pc("ngClass",F.rc(18,Wi,t%2==1))("matTooltip",e.customer_name),F.Eb("rowspan",e.container.length),F.Db(1),F.Mc(e.customer_short_name)}}function Pi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.seal)}}function Ni(e,t){if(1&e&&(F.Xb(0,"td",21),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(3,Wi,t%2==1))("matTooltip",null==e.container_info?null:e.container_info.content),F.Db(1),F.Mc(e.container_info&&e.container_info.container?"AS PER B/L":"")}}function Fi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.net_weight)}}function Ei(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.gross_weight)}}function Ji(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.measurement)}}function Ri(e,t){if(1&e&&F.Sb(0,"td",25),2&e){const e=F.jc(3).index;F.pc("ngClass",F.rc(1,Wi,e%2==1))}}function Vi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.package)}}function Ai(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.hs_code)}}function $i(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.cont_code)}}function zi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.secure_code)}}function Bi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.free_day)}}function Ui(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.free_port_storage)}}function Yi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.dem)}}function qi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.det)}}function Hi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtc)}}function Gi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtn)}}function Qi(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mtv)}}const Ki=function(e,t){return{"row-even":e,"teal-200-bg":t}};function Zi(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.kc(3,"date"),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc().$implicit,i=F.jc(2).index;F.Db(1),F.pc("ngClass",F.sc(5,Ki,i%2==1,("TREXP"==e||"FULEX"==e)&&!n[e])),F.Db(1),F.Mc(F.mc(3,2,null==n[e]?null:n[e].date,"MM/dd/yy"))}}function ec(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.bill)}}function tc(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(2,Wi,t%2==1)),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.vessel_full_name)}}function nc(e,t){if(1&e&&(F.Xb(0,"td",21),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(3,Wi,t%2==1))("matTooltip",null==e.TREXP_EXP?null:e.TREXP_EXP.pol_name),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.pol_code)}}function ic(e,t){if(1&e&&(F.Xb(0,"td",21),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(3,Wi,t%2==1))("matTooltip",null==e.TREXP_EXP?null:e.TREXP_EXP.pod_name),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.pod_code)}}function cc(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(5,Wi,t%2==1)),F.Db(1),F.Mc(F.mc(2,2,null==e.TREXP_EXP?null:e.TREXP_EXP.depart_time,"MM/dd/yy"))}}function oc(e,t){if(1&e&&(F.Xb(0,"td",25),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit,t=F.jc(2).index;F.pc("ngClass",F.rc(5,Wi,t%2==1)),F.Db(1),F.Mc(F.mc(2,2,null==e.TREXP_EXP?null:e.TREXP_EXP.arrive_time,"MM/dd/yy"))}}function rc(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",25),F.Lc(2),F.kc(3,"date"),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=F.jc().$implicit,i=F.jc(2).index;F.Db(1),F.pc("ngClass",F.sc(5,Ki,i%2==1,("TREXP"==e||"FULEX"==e)&&!n[e+"_EXP"])),F.Db(1),F.Mc(F.mc(3,2,null==n[e+"_EXP"]?null:n[e+"_EXP"].date,"MM/dd/yy"))}}const sc=function(){return["TREXP","FULEX","LOAD","FULIM","TRIMP","EMPTY"]};function ac(e,t){if(1&e&&(F.Xb(0,"tr"),F.Jc(1,Ci,10,15,"ng-container",20),F.Jc(2,ji,9,20,"ng-container",20),F.Xb(3,"td",21),F.Lc(4),F.Wb(),F.Xb(5,"td",21),F.Lc(6),F.Wb(),F.Xb(7,"td",22),F.Lc(8),F.Wb(),F.Jc(9,Pi,2,4,"td",23),F.Jc(10,Ni,2,5,"td",24),F.Jc(11,Fi,2,4,"td",23),F.Jc(12,Ei,2,4,"td",23),F.Jc(13,Ji,2,4,"td",23),F.Jc(14,Ri,1,3,"td",23),F.Jc(15,Vi,2,4,"td",23),F.Jc(16,Ai,2,4,"td",23),F.Xb(17,"td",25),F.Lc(18),F.Wb(),F.Xb(19,"td",25),F.Lc(20),F.kc(21,"number"),F.Wb(),F.Xb(22,"td",25),F.Lc(23),F.Wb(),F.Xb(24,"td",25),F.Lc(25),F.Wb(),F.Xb(26,"td",26),F.Lc(27),F.Wb(),F.Xb(28,"td",27),F.Lc(29),F.Wb(),F.Jc(30,$i,2,4,"td",23),F.Jc(31,zi,2,4,"td",23),F.Jc(32,Bi,2,4,"td",23),F.Jc(33,Ui,2,4,"td",23),F.Jc(34,Yi,2,4,"td",23),F.Jc(35,qi,2,4,"td",23),F.Jc(36,Hi,2,4,"td",23),F.Jc(37,Gi,2,4,"td",23),F.Jc(38,Qi,2,4,"td",23),F.Jc(39,Zi,4,8,"ng-container",9),F.Xb(40,"td",21),F.Lc(41),F.Wb(),F.Xb(42,"td",22),F.Xb(43,"span",28),F.Lc(44),F.Wb(),F.Wb(),F.Jc(45,ec,2,4,"td",23),F.Jc(46,tc,2,4,"td",23),F.Jc(47,nc,2,5,"td",24),F.Jc(48,ic,2,5,"td",24),F.Jc(49,cc,3,7,"td",23),F.Jc(50,oc,3,7,"td",23),F.Jc(51,rc,4,8,"ng-container",9),F.Xb(52,"td",29),F.Xb(53,"a"),F.Lc(54),F.Wb(),F.Wb(),F.Xb(55,"td",30),F.Lc(56),F.Wb(),F.Wb()),2&e){const e=t.$implicit,n=t.index,i=F.jc(),c=i.index,o=i.$implicit,r=F.jc().index,s=F.jc();F.Db(1),F.pc("ngIf",0==c&&0==n),F.Db(1),F.pc("ngIf",0==n),F.Db(1),F.pc("ngClass",F.rc(62,Wi,r%2==1))("matTooltip",null==o.party.S?null:o.party.S.partner_name),F.Db(1),F.Mc(null==o.party.S?null:o.party.S.partner_short_name),F.Db(1),F.pc("ngClass",F.rc(64,Wi,r%2==1))("matTooltip",null==o.party.C?null:o.party.C.partner_name),F.Db(1),F.Mc(null==o.party.C?null:o.party.C.partner_short_name),F.Db(1),F.pc("ngClass",F.rc(66,Wi,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.commodity),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngIf",s.billOpen),F.Db(1),F.pc("ngClass",F.rc(68,Wi,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.deposit_number),F.Db(1),F.pc("ngClass",F.rc(70,Wi,r%2==1)),F.Db(1),F.Mc(F.mc(21,59,null==e.container_info?null:e.container_info.deposit,"1.0-0")),F.Db(2),F.pc("ngClass",F.rc(72,Wi,r%2==1)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.depositor),F.Db(1),F.pc("ngClass",F.sc(74,Ki,r%2==1,!e.container_info||e.container_info&&!e.container_info.release_no)),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.release_no),F.Db(1),F.pc("ngClass",F.sc(77,Ki,r%2==1,!e.container_info||e.container_info&&!e.container_info.mt_return))("matTooltip",null==e.container_info?null:e.container_info.mt_return),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.mt_return),F.Db(1),F.pc("ngClass",F.sc(80,Ki,r%2==1,!e.container_info||e.container_info&&!e.container_info.release_info))("matTooltip",null==e.container_info?null:e.container_info.release_info),F.Db(1),F.Mc(null==e.container_info?null:e.container_info.release_info),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngIf",s.releaseOpen),F.Db(1),F.pc("ngForOf",F.qc(83,sc)),F.Db(1),F.pc("ngClass",F.rc(84,Wi,r%2==1))("matTooltip",null==e.EMPTY?null:e.EMPTY.place_name),F.Db(1),F.Mc(null==e.EMPTY?null:e.EMPTY.place_short_name),F.Db(1),F.pc("ngClass",F.rc(86,Wi,r%2==1)),F.Db(1),F.pc("routerLink","/apps/"+s.modul+"/shipment/detail/"+(null==e.TREXP_EXP?null:e.TREXP_EXP.shipment_id)+"/soa"),F.Db(1),F.Mc(null==e.TREXP_EXP?null:e.TREXP_EXP.shipment_code),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngIf",s.shipmentOpen),F.Db(1),F.pc("ngForOf",F.qc(88,sc)),F.Db(1),F.pc("ngClass",F.rc(89,Wi,r%2==1)),F.Db(2),F.Mc(e.cont_number),F.Db(1),F.pc("ngClass",F.rc(91,Wi,r%2==1)),F.Db(1),F.Mc(e.cont_type)}}function lc(e,t){if(1&e&&(F.Vb(0),F.Jc(1,ac,57,93,"tr",9),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngForOf",e.container)}}function bc(e,t){if(1&e&&(F.Vb(0),F.Jc(1,lc,2,1,"ng-container",9),F.Ub()),2&e){const e=t.$implicit,n=F.jc();F.Db(1),F.pc("ngForOf",n.shipments[e.key].shipment)}}let pc=(()=>{class e{constructor(e,t,n,i,c,o,r){this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.snackBar=c,this.datePipe=o,this._location=r,this.columnFilterChanged=new F.o,this.shipmentOpen=!1,this.releaseOpen=!1,this.billOpen=!1,this.vesselOpen=!0,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}openNote(e){let t="<span>Shipment Action</span>";t+='<table class="note" style="width: 1020px!important">',t+="<thead>",t+="<tr>",t+="<th>Shipment</th>",t+="<th>Action</th>",t+="<th>Content</th>",t+="<th>Update by</th>",t+="<th>Update at</th>",t+="</tr>",t+="</thead>",t+="<tbody>",e.map((e,n)=>{t+="<tr>",t+="<td>"+e.shipment_code+"</td>",t+="<td>"+e.action+"</td>",t+="<td>"+e.content+"</td>",t+="<td>"+e.update_by_name+"</td>",t+="<td>"+this.datePipe.transform(new Date(e.update_at),"MM/dd/yyyy")+"</td>",t+="</tr>"}),t+="</tbody>",t+="</table>",this.snackBar.openFromComponent(pt,{panelClass:"snackbar",data:{html:t},horizontalPosition:"center",verticalPosition:"top"})}columnFilter(e){this.column[e[0]]=e[1],this.columnFilterChanged.emit(this.column)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(bt.b),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-eqc-table"]],viewQuery:function(e,t){var n;1&e&&F.Sc(w.e,!0),2&e&&F.wc(n=F.gc())&&(t.viewPort=n.first)},inputs:{modul:"modul",shipments:"shipments",voyage:"voyage",arrType:"arrType",height:"height",column:"column"},outputs:{columnFilterChanged:"columnFilterChanged"},decls:89,vars:97,consts:[[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-table"],[1,"sticky-col",2,"z-index","30"],["fxLayout","row","fxLayoutAlign","space-between center"],[3,"name","value","inputType","columnFilter"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w-88"],[1,"w-160"],[3,"top","matTooltip",4,"ngIf"],[1,"sticky-right-col2",2,"z-index","30"],[1,"sticky-right-col1",2,"z-index","30"],[4,"cdkVirtualFor","cdkVirtualForOf"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[1,"text-center","text-bold"],[3,"matTooltip"],[4,"ngIf"],[3,"ngClass","matTooltip"],[1,"teal-200-bg",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngClass","matTooltip",4,"ngIf"],[3,"ngClass"],[1,"w-88",2,"overflow","hidden",3,"ngClass","matTooltip"],[1,"w-160","teal-200-bg",2,"overflow","hidden",3,"ngClass","matTooltip"],[1,"cursor-pointer",3,"routerLink"],[1,"sticky-right-col2",3,"ngClass"],[1,"sticky-right-col1",3,"ngClass"],[1,"w-152","sticky-col","teal-200-bg",3,"ngClass"],[1,"text-center","text-bold",3,"ngClass"],[1,"w-152",3,"ngClass","matTooltip"]],template:function(e,t){1&e&&(F.Xb(0,"div",0),F.Xb(1,"cdk-virtual-scroll-viewport",1),F.Xb(2,"table",2),F.Xb(3,"thead"),F.Xb(4,"tr"),F.Xb(5,"th"),F.Lc(6,"No"),F.Wb(),F.Xb(7,"th",3),F.Xb(8,"div",4),F.Xb(9,"overview-filter",5),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Jc(10,Rn,2,0,"mat-icon",6),F.Jc(11,Vn,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(12,An,2,2,"th",8),F.Jc(13,$n,2,2,"th",8),F.Jc(14,zn,2,2,"th",8),F.Jc(15,Bn,2,2,"th",8),F.Jc(16,Un,3,3,"ng-container",9),F.Xb(17,"th"),F.Xb(18,"overview-filter",5),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Wb(),F.Xb(19,"th"),F.Xb(20,"overview-filter",5),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Wb(),F.Jc(21,Yn,3,3,"ng-container",9),F.Xb(22,"th"),F.Lc(23,"Customer"),F.Wb(),F.Xb(24,"th"),F.Lc(25,"Shipper"),F.Wb(),F.Xb(26,"th"),F.Lc(27,"Consignee"),F.Wb(),F.Xb(28,"th"),F.Xb(29,"div",4),F.Xb(30,"span"),F.Lc(31,"Commodity"),F.Wb(),F.Jc(32,qn,2,0,"mat-icon",6),F.Jc(33,Hn,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(34,Gn,2,2,"th",8),F.Jc(35,Qn,2,2,"th",8),F.Jc(36,Kn,2,2,"th",8),F.Jc(37,Zn,2,2,"th",8),F.Jc(38,ei,2,2,"th",8),F.Jc(39,ti,2,2,"th",8),F.Jc(40,ni,2,2,"th",8),F.Jc(41,ii,2,2,"th",8),F.Xb(42,"th"),F.Lc(43,"Deposit no"),F.Wb(),F.Xb(44,"th"),F.Lc(45,"Deposit"),F.Wb(),F.Xb(46,"th"),F.Lc(47,"Depositor"),F.Wb(),F.Xb(48,"th"),F.Lc(49,"Release no"),F.Wb(),F.Xb(50,"th",10),F.Xb(51,"overview-filter",5),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Wb(),F.Xb(52,"th",11),F.Xb(53,"div",4),F.Xb(54,"span"),F.Lc(55,"CR Info"),F.Wb(),F.Jc(56,ci,2,0,"mat-icon",6),F.Jc(57,oi,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(58,ri,2,2,"th",8),F.Jc(59,si,2,2,"th",8),F.Jc(60,ai,2,3,"th",12),F.Jc(61,li,2,3,"th",12),F.Jc(62,bi,2,2,"th",8),F.Jc(63,pi,2,2,"th",8),F.Jc(64,hi,2,2,"th",8),F.Jc(65,ui,2,2,"th",8),F.Jc(66,mi,2,2,"th",8),F.Jc(67,di,3,5,"ng-container",9),F.Xb(68,"th"),F.Lc(69,"MT depot"),F.Wb(),F.Xb(70,"th"),F.Xb(71,"div",4),F.Xb(72,"span"),F.Lc(73,"Shipment Export"),F.Wb(),F.Jc(74,fi,2,0,"mat-icon",6),F.Jc(75,gi,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(76,vi,2,2,"th",8),F.Jc(77,yi,2,2,"th",8),F.Jc(78,Di,2,2,"th",8),F.Jc(79,_i,2,2,"th",8),F.Jc(80,wi,2,2,"th",8),F.Jc(81,Xi,2,2,"th",8),F.Jc(82,Oi,3,5,"ng-container",9),F.Xb(83,"th",13),F.Xb(84,"overview-filter",5),F.fc("columnFilter",(function(e){return t.columnFilter(e)})),F.Wb(),F.Wb(),F.Xb(85,"th",14),F.Lc(86,"Type"),F.Wb(),F.Wb(),F.Wb(),F.Xb(87,"tbody"),F.Jc(88,bc,2,1,"ng-container",15),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Ic("height",t.height,"px"),F.Db(1),F.Ic("height",t.height,"px"),F.Db(4),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("name","Vessel")("value",t.column.Vessel)("inputType","text"),F.Db(1),F.pc("ngIf",!t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("name","Shipment")("value",t.column.Shipment)("inputType","text"),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("name","Bill")("value",t.column.Bill)("inputType","text"),F.Db(1),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.pc("ngIf",t.billOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("name","MT return")("value",t.column.mt_return)("inputType","text"),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngIf",t.releaseOpen),F.Db(1),F.pc("ngForOf",F.qc(95,sc)),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngIf",t.shipmentOpen),F.Db(1),F.pc("ngForOf",F.qc(96,sc)),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("name","Container")("value",t.column.Container)("inputType","text"),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(3),F.pc("cdkVirtualForOf",t.voyage))},directives:[w.e,X.a,Y.d,Y.c,St,R.t,R.s,w.d,b.a,p.a,R.q,q.a,i.h,i.j],pipes:[R.g,R.f],styles:["overview-eqc-table .no-shipments-text{font-size:24px;font-weight:300}overview-eqc-table cdk-virtual-scroll-viewport{width:100%}overview-eqc-table .overview-table{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}overview-eqc-table .overview-table td,overview-eqc-table .overview-table th{padding:8px!important;white-space:nowrap}overview-eqc-table .mat-expansion-panel-body{padding:0!important}overview-eqc-table .shipment-table{font-size:12px!important}overview-eqc-table .shipment-table td,overview-eqc-table .shipment-table th{padding:8px!important;white-space:nowrap}overview-eqc-table .shipment-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff;z-index:10}overview-eqc-table .shipment-table .sticky-col{width:152px;position:sticky;position:-webkit-sticky;background-color:#fff;left:0;z-index:20}overview-eqc-table .shipment-table .sticky-right-col1{position:sticky;position:-webkit-sticky;background-color:#fff;right:0;z-index:20}overview-eqc-table .shipment-table .sticky-right-col2{position:sticky;position:-webkit-sticky;background-color:#fff;right:47px;z-index:20}overview-eqc-table .shipment-table .row-even{background-color:#e0e0e0}overview-eqc-table .shipment-table .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}"],encapsulation:2,data:{animation:ge.a}}),e})(),hc=(()=>{class e{constructor(e,t,n,i,c,o,r){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this.datePipe=o,this._location=r,this.voyage=[],this.arrType=[],this.height=560,this.column={},this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e[0],this.voyage=e[1],this.arrType=e[2]}),this.overviewService.onFilterColumnReset.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.column=e})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}columnFilterChanged(e){this.column=e,this.overviewService.onFilterColumnChanged.next(e)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-eqc"]],decls:1,vars:6,consts:[[3,"modul","shipments","voyage","arrType","column","height","columnFilterChanged"]],template:function(e,t){1&e&&(F.Xb(0,"overview-eqc-table",0),F.fc("columnFilterChanged",(function(e){return t.columnFilterChanged(e)})),F.Wb()),2&e&&F.pc("modul",t.modul)("shipments",t.shipments)("voyage",t.voyage)("arrType",t.arrType)("column",t.column)("height",t.height)},directives:[pc],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();function uc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",24),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.vesselOpen=!n.vesselOpen})),F.Lc(1,"add"),F.Wb()}}function mc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",25),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.vesselOpen=!n.vesselOpen})),F.Lc(1,"removed"),F.Wb()}}function dc(e,t){if(1&e&&(F.Xb(0,"th",26),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc(2);F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Nc("Vessel ",e,"")}}function fc(e,t){if(1&e&&(F.Vb(0),F.Jc(1,dc,2,3,"th",10),F.Ub()),2&e){const e=F.jc();F.Db(1),F.pc("ngForOf",e.arrType)}}function gc(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POL"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function vc(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"POD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function yc(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETD"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Dc(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"ETA"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function _c(e,t){if(1&e&&(F.Xb(0,"th",26),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Nc("Spt ",e,"")}}function wc(e,t){if(1&e&&(F.Xb(0,"td",26),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc(2).$implicit,i=F.jc();F.Db(1),F.Mc(i.shipments[n.key][e])}}function Xc(e,t){if(1&e&&(F.Vb(0),F.Jc(1,wc,2,1,"td",31),F.Ub()),2&e){const e=F.jc(2);F.Db(1),F.pc("ngForOf",e.arrType)}}function Oc(e,t){if(1&e&&(F.Xb(0,"td"),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.Mc(e.shipment.pol_name)}}function Wc(e,t){if(1&e&&(F.Xb(0,"td"),F.Lc(1),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.Mc(e.shipment.pod_name)}}function kc(e,t){if(1&e&&(F.Xb(0,"td"),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.Mc(F.mc(2,1,e.shipment.depart_time,"MM/dd/yyyy HH:mm"))}}function Lc(e,t){if(1&e&&(F.Xb(0,"td"),F.Lc(1),F.kc(2,"date"),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.Mc(F.mc(2,1,e.shipment.arrive_time,"MM/dd/yyyy HH:mm"))}}function Tc(e,t){if(1&e&&(F.Xb(0,"td",26),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc().$implicit;F.Db(1),F.Mc(n.shipment.volume_obj[e])}}const xc=function(e,t){return{"border-vessel":e,"grey-100-bg":t}},Sc=function(e){return{"error-cell":e}};function Cc(e,t){if(1&e&&(F.Xb(0,"tr",27),F.Xb(1,"td"),F.Lc(2),F.Wb(),F.Xb(3,"td",18),F.Xb(4,"a"),F.Lc(5),F.Wb(),F.Wb(),F.Xb(6,"td",28),F.Lc(7),F.Wb(),F.Xb(8,"td",20),F.Lc(9),F.Wb(),F.Jc(10,Xc,2,1,"ng-container",8),F.Jc(11,Oc,2,1,"td",8),F.Jc(12,Wc,2,1,"td",8),F.Jc(13,kc,3,4,"td",8),F.Jc(14,Lc,3,4,"td",8),F.Xb(15,"td",29),F.Xb(16,"a",30),F.Lc(17),F.Wb(),F.Wb(),F.Xb(18,"td"),F.Lc(19),F.Wb(),F.Jc(20,Tc,2,1,"td",31),F.Xb(21,"td",13),F.Lc(22),F.Wb(),F.Xb(23,"td",32),F.Lc(24),F.Wb(),F.Xb(25,"td",33),F.Lc(26),F.Wb(),F.Xb(27,"td",11),F.Lc(28),F.kc(29,"date"),F.Wb(),F.Xb(30,"td",11),F.Lc(31),F.kc(32,"date"),F.Wb(),F.Xb(33,"td",11),F.Lc(34),F.kc(35,"date"),F.Wb(),F.Xb(36,"td",11),F.Lc(37),F.kc(38,"date"),F.Wb(),F.Xb(39,"td",11),F.Lc(40),F.kc(41,"date"),F.Wb(),F.Xb(42,"td",12),F.Lc(43),F.Wb(),F.Xb(44,"td"),F.Lc(45),F.Wb(),F.Xb(46,"td",12),F.Lc(47),F.Wb(),F.Xb(48,"td",12),F.Lc(49),F.Wb(),F.Sb(50,"td",23),F.Wb()),2&e){const e=t.$implicit,n=t.index,i=F.jc();F.pc("ngClass",F.sc(46,xc,n<i.data.length-2&&e.shipment.voyage!=i.data[n+1].shipment.voyage,n%2==0)),F.Db(2),F.Mc(n+1),F.Db(3),F.Mc(e.cont.cont_number),F.Db(2),F.Mc(e.cont.cont_type),F.Db(2),F.Mc(e.shipment.vessel_full_name),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("ngIf",i.vesselOpen),F.Db(1),F.pc("matTooltip",e.shipment.volume_check?"":"Thi\u1ebfu container so v\u1edbi volume")("ngClass",F.rc(49,Sc,!e.shipment.volume_check)),F.Db(1),F.pc("routerLink","/apps/"+i.modul+"/shipment/detail/"+e.shipment.id+"/soa"),F.Db(1),F.Mc(e.shipment.code),F.Db(2),F.Mc(e.shipment.bill),F.Db(1),F.pc("ngForOf",i.arrType),F.Db(1),F.pc("matTooltip",e.customer_name),F.Db(1),F.Mc(e.shipment.customer_short_name),F.Db(1),F.pc("matTooltip",null==e.cont.container_info?null:e.cont.container_info.mt_return),F.Db(1),F.Mc(null==e.cont.container_info?null:e.cont.container_info.mt_return),F.Db(1),F.pc("matTooltip",null==e.cont.container_info?null:e.cont.container_info.release_info),F.Db(1),F.Mc(null==e.cont.container_info?null:e.cont.container_info.release_info),F.Db(2),F.Mc(F.mc(29,31,null==e.cont.FULIM?null:e.cont.FULIM.date,"MM/dd/yy")),F.Db(3),F.Mc(e.cont.FULIM?F.mc(32,34,e.cont.FULIM.date+864e5,"MM/dd/yy"):""),F.Db(3),F.Mc(F.mc(35,37,null==e.cont.TRIMP?null:e.cont.TRIMP.date,"MM/dd/yy")),F.Db(3),F.Mc(F.mc(38,40,null==e.cont.EMPTY?null:e.cont.EMPTY.date,"MM/dd/yy")),F.Db(3),F.Mc(e.cont.off_hire?F.mc(41,43,e.cont.off_hire,"MM/dd/yy"):""),F.Db(3),F.Mc(e.cont.FULIM&&e.cont.EMPTY?(e.cont.EMPTY.time-e.cont.FULIM.time)/864e5:""),F.Db(2),F.Mc(e.cont.container_info&&e.cont.container_info.free_day?e.cont.container_info.free_day:7),F.Db(2),F.Mc(e.cont.FULIM&&e.cont.EMPTY&&e.cont.container_info&&(e.cont.EMPTY.time-e.cont.FULIM.time)/864e5>(e.cont.container_info.free_day?e.cont.container_info.free_day:7)?(e.cont.EMPTY.time-e.cont.FULIM.time)/864e5-(e.cont.container_info.free_day?e.cont.container_info.free_day:7):""),F.Db(2),F.Mc(e.cont.FULIM&&e.cont.EMPTY&&e.cont.container_info&&(e.cont.EMPTY.time-e.cont.FULIM.time)/864e5>(e.cont.container_info.free_day?e.cont.container_info.free_day:7)?e.currency:"")}}function Ic(e,t){if(1&e&&F.Sb(0,"td",26),2&e){const e=F.jc(2);F.Ic("bottom",e.inverseOfTranslation2)}}function Mc(e,t){if(1&e&&(F.Vb(0),F.Jc(1,Ic,1,2,"td",22),F.Ub()),2&e){const e=F.jc();F.Db(1),F.pc("ngForOf",e.arrType)}}function jc(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function Pc(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function Nc(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function Fc(e,t){if(1&e&&F.Sb(0,"td"),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}function Ec(e,t){if(1&e&&F.Sb(0,"td",26),2&e){const e=F.jc();F.Ic("bottom",e.inverseOfTranslation2)}}let Jc=(()=>{class e{constructor(e,t,n,i,c,o,r){this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.snackBar=c,this.datePipe=o,this._location=r,this.columnFilterChanged=new F.o,this.exportExcel=new F.o,this.vesselOpen=!1,this.shipmentOpen=!1,this.releaseOpen=!1,this.billOpen=!1,this.total=0}ngOnInit(){}ngOnChanges(e){e.data&&(e.data.currentValue||null==e.data.currentValue)&&(this.data=e.data.currentValue,this.total=0,this.data.map(e=>{this.total+=e.currency}))}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}openNote(e){let t="<span>Shipment Action</span>";t+='<table class="note" style="width: 1020px!important">',t+="<thead>",t+="<tr>",t+="<th>Shipment</th>",t+="<th>Action</th>",t+="<th>Content</th>",t+="<th>Update by</th>",t+="<th>Update at</th>",t+="</tr>",t+="</thead>",t+="<tbody>",e.map((e,n)=>{t+="<tr>",t+="<td>"+e.shipment_code+"</td>",t+="<td>"+e.action+"</td>",t+="<td>"+e.content+"</td>",t+="<td>"+e.update_by_name+"</td>",t+="<td>"+this.datePipe.transform(new Date(e.update_at),"MM/dd/yyyy")+"</td>",t+="</tr>"}),t+="</tbody>",t+="</table>",this.snackBar.openFromComponent(pt,{panelClass:"snackbar",data:{html:t},horizontalPosition:"center",verticalPosition:"top"})}columnFilter(e){this.column[e[0]]=e[1],this.columnFilterChanged.emit(this.column)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(bt.b),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-dem-singapore"]],viewQuery:function(e,t){var n;1&e&&F.Sc(w.e,!0),2&e&&F.wc(n=F.gc())&&(t.viewPort=n.first)},inputs:{data:"data",modul:"modul",shipments:"shipments",voyage:"voyage",arrType:"arrType",height:"height",column:"column"},outputs:{columnFilterChanged:"columnFilterChanged",exportExcel:"exportExcel"},features:[F.Bb()],decls:86,vars:101,consts:[[2,"overflow","auto"],["autosize","","fxLayout","column",1,"content"],[1,"simple","shipment-singapore"],[1,"sticky-col",2,"z-index","30"],[1,"sticky-col2",2,"z-index","30"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[4,"ngIf"],[3,"top",4,"ngIf"],["class","text-center",3,"top",4,"ngFor","ngForOf"],[1,"grey-300-bg"],[1,"text-bold"],[3,"matTooltip"],[1,"text-bold",3,"matTooltip"],[1,"sticky-right-col1",2,"z-index","30"],["color","accent",1,"cursor-pointer",3,"matTooltip","click"],[3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"sticky-col"],[1,"sticky-col2","text-bold",2,"z-index","30"],[1,""],[3,"bottom",4,"ngIf"],["class","text-center",3,"bottom",4,"ngFor","ngForOf"],[1,"sticky-right-col1"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[1,"text-center"],[3,"ngClass"],[1,"sticky-col2"],[3,"matTooltip","ngClass"],[1,"cursor-pointer",3,"routerLink"],["class","text-center",4,"ngFor","ngForOf"],[1,"w-88",2,"overflow","hidden",3,"matTooltip"],[1,"w-160",2,"overflow","hidden",3,"matTooltip"]],template:function(e,t){1&e&&(F.Xb(0,"div",0),F.Xb(1,"cdk-virtual-scroll-viewport",1),F.Xb(2,"table",2),F.Xb(3,"thead"),F.Xb(4,"tr"),F.Xb(5,"th"),F.Lc(6,"No"),F.Wb(),F.Xb(7,"th",3),F.Lc(8,"Container"),F.Wb(),F.Xb(9,"th",4),F.Lc(10,"Type"),F.Wb(),F.Xb(11,"th"),F.Xb(12,"div",5),F.Xb(13,"span"),F.Lc(14,"Vessel Voyage"),F.Wb(),F.Jc(15,uc,2,0,"mat-icon",6),F.Jc(16,mc,2,0,"mat-icon",7),F.Wb(),F.Wb(),F.Jc(17,fc,2,1,"ng-container",8),F.Jc(18,gc,2,2,"th",9),F.Jc(19,vc,2,2,"th",9),F.Jc(20,yc,2,2,"th",9),F.Jc(21,Dc,2,2,"th",9),F.Xb(22,"th"),F.Lc(23,"Shipment"),F.Wb(),F.Xb(24,"th"),F.Lc(25,"Bill"),F.Wb(),F.Jc(26,_c,2,3,"th",10),F.Xb(27,"th"),F.Lc(28,"Customer"),F.Wb(),F.Xb(29,"th"),F.Lc(30,"MT return"),F.Wb(),F.Xb(31,"th"),F.Lc(32,"CR Info"),F.Wb(),F.Xb(33,"th",11),F.Lc(34,"FULIM"),F.Wb(),F.Xb(35,"th",11),F.Lc(36,"COD"),F.Wb(),F.Xb(37,"th",11),F.Lc(38,"TRIM"),F.Wb(),F.Xb(39,"th",11),F.Lc(40,"EMPTY"),F.Wb(),F.Xb(41,"th",11),F.Lc(42,"OFFHIRE"),F.Wb(),F.Xb(43,"th",12),F.Lc(44,"DET"),F.Wb(),F.Xb(45,"th",13),F.Lc(46,"F DAY"),F.Wb(),F.Xb(47,"th",14),F.Lc(48,"C DET"),F.Wb(),F.Xb(49,"th",12),F.Lc(50,"SGD"),F.Wb(),F.Xb(51,"th",15),F.Xb(52,"mat-icon",16),F.fc("click",(function(e){return e.stopPropagation(),t.exportExcel.emit([t.data,t.total])})),F.Lc(53,"print"),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Xb(54,"tbody"),F.Jc(55,Cc,51,51,"tr",17),F.Wb(),F.Xb(56,"tfoot"),F.Xb(57,"tr"),F.Sb(58,"td"),F.Sb(59,"td",18),F.Xb(60,"td",19),F.Lc(61,"TOTAL"),F.Wb(),F.Sb(62,"td",20),F.Jc(63,Mc,2,1,"ng-container",8),F.Jc(64,jc,1,2,"td",21),F.Jc(65,Pc,1,2,"td",21),F.Jc(66,Nc,1,2,"td",21),F.Jc(67,Fc,1,2,"td",21),F.Sb(68,"td"),F.Sb(69,"td"),F.Jc(70,Ec,1,2,"td",22),F.Sb(71,"td"),F.Sb(72,"td"),F.Sb(73,"td"),F.Sb(74,"td",11),F.Sb(75,"td",11),F.Sb(76,"td",11),F.Sb(77,"td",11),F.Sb(78,"td",11),F.Sb(79,"td",12),F.Sb(80,"td"),F.Sb(81,"td",12),F.Xb(82,"td",12),F.Lc(83),F.Wb(),F.Sb(84,"td"),F.Sb(85,"td",23),F.Wb(),F.Wb(),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Ic("height",t.height,"px"),F.Db(1),F.Ic("height",t.height,"px"),F.Db(4),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.pc("matTooltip","Free day"),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.pc("matTooltip","Charge det"),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(1),F.pc("matTooltip","Export container"),F.Db(3),F.pc("cdkVirtualForOf",t.data),F.Db(3),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(2),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.pc("ngIf",t.vesselOpen),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Mc(t.total),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2),F.Db(1),F.Ic("bottom",t.inverseOfTranslation2))},directives:[w.e,X.a,Y.d,Y.c,R.t,R.s,p.a,b.a,w.d,R.q,q.a,i.j],pipes:[R.f],styles:["overview-dem-singapore .no-shipments-text{font-size:24px;font-weight:300}overview-dem-singapore cdk-virtual-scroll-viewport{width:100%}overview-dem-singapore .overview-singapore{font-size:12px!important;border:1px solid #b3e5fc;margin-bottom:4px;background:#b3e5fc}overview-dem-singapore .overview-singapore td,overview-dem-singapore .overview-singapore th{padding:8px!important;white-space:nowrap}overview-dem-singapore .mat-expansion-panel-body{padding:0!important}overview-dem-singapore .shipment-singapore{font-size:12px!important;border:1px solid #e0e0e0;margin-bottom:4px;border-collapse:collapse}overview-dem-singapore .shipment-singapore thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff!important;z-index:10;border-bottom:1px solid #000!important}overview-dem-singapore .shipment-singapore tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff!important;z-index:25}overview-dem-singapore .shipment-singapore td,overview-dem-singapore .shipment-singapore th{padding:8px;white-space:nowrap;border:1px solid #e0e0e0}overview-dem-singapore .shipment-singapore td .mat-standard-chip,overview-dem-singapore .shipment-singapore th .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}overview-dem-singapore .shipment-singapore .paid{background:#fff;color:#000}overview-dem-singapore .shipment-singapore .cost-paid{background:#ffe1c2;color:#000}overview-dem-singapore .shipment-singapore .sticky-col{width:100px;position:sticky;position:-webkit-sticky;background:#fff;left:0;z-index:20}overview-dem-singapore .shipment-singapore .sticky-col2{width:50px;position:sticky;position:-webkit-sticky;background:#fff;left:98px;z-index:20}overview-dem-singapore .shipment-singapore .sticky-right-col{position:sticky;position:-webkit-sticky;background:#fff;right:40px;z-index:20}overview-dem-singapore .shipment-singapore .sticky-right-col1{position:sticky;position:-webkit-sticky;background:#fff;right:0;z-index:20}overview-dem-singapore .shipment-singapore .border-vessel td{border-bottom:1px solid #000!important}overview-dem-singapore .shipment-singapore .row-even{background-color:#e0e0e0!important}"],encapsulation:2,data:{animation:ge.a}}),e})(),Rc=(()=>{class e{constructor(e,t,n,i,c,o,r){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this.datePipe=o,this._location=r,this.voyage=[],this.arrType=[],this.height=560,this.column={},this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.shipments=e[0],this.voyage=e[1],this.arrType=e[2],this.dataContainer=e[3]}),this.overviewService.onFilterColumnReset.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.column=e})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}columnFilterChanged(e){this.column=e,this.overviewService.onFilterColumnChanged.next(e)}exportExcel(e){let[t,n]=e,i=[];for(var c=0;c<t.length;c++){let e=t[c].cont,n=t[c].shipment;function o(e){let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}let r=e.FULIM?o(e.FULIM.date):0,s=(e.TRIMP&&o(e.TRIMP.date),e.EMPTY?o(e.EMPTY.date):0),a=[c+1,e.cont_number,e.cont_type,n?n.vessel_full_name:null,n?n.code:null,n?n.customer_short_name:null];this.arrType.map(e=>{a.push(n.volume_obj[e]?n.volume_obj[e]:0)}),a.push(e.FULIM?this.datePipe.transform(e.FULIM.date,"MM/dd/yyyy"):null),a.push(e.FULIM?this.datePipe.transform(e.FULIM.date+864e5,"MM/dd/yyyy"):null),a.push(e.TRIMP?this.datePipe.transform(e.TRIMP.date,"MM/dd/yyyy"):null),a.push(e.EMPTY?this.datePipe.transform(e.EMPTY.date,"MM/dd/yyyy"):null),a.push(r&&s?(s-r)/864e5:null),a.push(e.container_info&&e.container_info.free_day?e.container_info.free_day:7),a.push(e.FULIM&&e.EMPTY&&e.container_info&&(e.EMPTY.time-e.FULIM.time)/864e5>(e.container_info.free_day?e.container_info.free_day:7)?(e.EMPTY.time-e.FULIM.time)/864e5-(e.container_info.free_day?e.container_info.free_day:7):""),a.push(t[c].currency?t[c].currency:""),i.push(a)}this.overviewService.exportExcel(i,n)}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V),F.Rb(R.f),F.Rb(R.n))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-dem"]],decls:1,vars:7,consts:[[3,"modul","data","shipments","voyage","arrType","column","height","columnFilterChanged","exportExcel"]],template:function(e,t){1&e&&(F.Xb(0,"overview-dem-singapore",0),F.fc("columnFilterChanged",(function(e){return t.columnFilterChanged(e)}))("exportExcel",(function(e){return t.exportExcel(e)})),F.Wb()),2&e&&F.pc("modul",t.modul)("data",t.dataContainer)("shipments",t.shipments)("voyage",t.voyage)("arrType",t.arrType)("column",t.column)("height",t.height)},directives:[Jc],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();var Vc=n("FSWq"),Ac=n("XL1V"),$c=n("g4yx"),zc=n("3DVi"),Bc=n("hrka"),Uc=n("Uhud");let Yc=(()=>{class e{constructor(e,t,n,i,c,o){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this._matDialog=o,this.height=560,this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.data=this.overviewService.shipmentError}),this.overviewService.onDataChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.customer=this.overviewService.customer,this.supplier=this.overviewService.supplier,this.seaport=this.overviewService.seaport,this.user=this.overviewService.user}),this.overviewService.onDataItemChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.package=this.overviewService.packageType,this.commodity=this.overviewService.commodity})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getShipment(e){this.authService.onRequestChanged.next(!0),this.overviewService.getFilterShipment(this.overviewService.currenSearch.formSearch).then(t=>{if(this.authService.onRequestChanged.next(!1),e){let t=this.overviewService.shipment.find(e=>e.id==this.oldError.id);t.error?this.authService.action[e]&&this.authService.action[e].code&&(t.error[this.authService.action[e].code]||this.authService.addAction(t.id,e)):this.authService.addAction(t.id,"E99")}}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("add error")})}openModal([e,t]){switch(this.oldError=JSON.parse(JSON.stringify(e)),t){case"E01":this.addAgent(e,t,"load");break;case"E02":this.addParty(e,t,"S");break;case"E03":this.addParty(e,t,"C");break;case"E04":this.addParty(e,t,"N");break;case"E05":this.addSellBill(e,t);break;case"E06":this.addBillContainer(e,t);break;case"E07":this.addAgent(e,t,"discharge");break;case"E08":this.searchMovement(e,t);break;case"E09":this.openVolumeModal(e,t);break;default:alert("error")}}addParty(e,t,n){this.dialogRef=this._matDialog.open(Vc.a,{panelClass:"shipment-details-party-modal-dialog",data:{label:"Add party",shipmentId:e.id,customer:this.customer,party:[],data:null,type:n}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.createSelParty(e).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0?this.getShipment(t):(console.error(e),alert("add error"))}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("add error")}))})}addAgent(e,t,n){this.dialogRef=this._matDialog.open(Ac.a,{panelClass:"load-agent-modal-dialog",data:{agent:this.supplier,shipment:e,type:n}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.updateSelShipment(e).then(e=>{this.authService.onRequestChanged.next(!1),1==e.affectedRows?this.getShipment(t):(console.error(e),alert("Error add "+n+" agent"))}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("Error add "+n+" agent")}))})}addSellBill(e,t){this.dialogRef=this._matDialog.open($c.a,{panelClass:"shipment-details-bill-modal-dialog",data:{label:"Add bill information",shipment:e,selVolume:e.volume?e.volume:[],customer:null,data:null}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.createSelBill(e).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0&&this.getShipment(t)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("ERROR")}))})}addBillContainer(e,t){let n=[];e.container.map(t=>{e.bill_particular.container[t.cont_number]||n.push(t)}),this.dialogRef=this._matDialog.open($c.a,{panelClass:"shipment-details-bill-modal-dialog",data:{label:"Add bill container information",shipment:e,bill:e.bill_particular,package:this.package,selMove:null,customer:null,container:n,data:null}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.createBillContainer(e).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0&&this.getShipment(t)}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("ERROR")}))})}searchMovement(e,t){if(e.process<6){let n=!1;this.dialogRef=this._matDialog.open(zc.a,{panelClass:"shipment-details-container-modal-dialog",data:{label:"Container move",shipmentId:e.id,selMove:[],data:null}}),this.dialogRef.componentInstance.getMovement.subscribe(e=>{this.authService.onRequestChanged.next(!0),this.overviewService.getMovementByContNumber(e[0],e[1]).then(e=>{this.dialogRef.componentInstance.movement2=e,this.dialogRef.componentInstance.movementFilter2[5]=e.filter(e=>"TREXP"==e.move_type),this.dialogRef.componentInstance.movementFilter2[6]=e.filter(e=>"FULEX"==e.move_type),this.dialogRef.componentInstance.movementFilter2[9]=e.filter(e=>"LOAD"==e.move_type),this.dialogRef.componentInstance.movementFilter2[3]=e.filter(e=>"FULIM"==e.move_type),this.dialogRef.componentInstance.movementFilter2[4]=e.filter(e=>"TRIMP"==e.move_type),this.dialogRef.componentInstance.movementFilter2[2]=e.filter(e=>"EMPTY"==e.move_type),this.authService.onRequestChanged.next(!1)}).catch(e=>{console.error(e),alert("ERROR load movement"),this.authService.onRequestChanged.next(!1)})}),this.dialogRef.componentInstance.createSelMoveParent.subscribe(t=>{let i=null;t.move_type&&(i=t.move_type,delete t.move_type),this.overviewService.createSelMove(t).then(t=>{this.authService.onRequestChanged.next(!1),t.insertId>0?(this.dialogRef.componentInstance.onMovementFormSubmit(this.dialogRef.componentInstance.formMovement),i&&this.authService.addAction(e.id,this.authService.actionCode[i]),n=!0):(alert("ERROR"),console.error(t))}).catch(e=>{this.authService.onRequestChanged.next(!1),alert("ERROR"),console.error(e)})}),this.dialogRef.afterClosed().subscribe(e=>{n&&this.getShipment(t)})}}openVolumeModal(e,t){this.dialogRef=this._matDialog.open(Bc.a,{panelClass:"shipment-details-volume-modal-dialog",data:{label:"Add volume",shipmentId:e.id,commodity:this.commodity,packageType:this.package,data:null}}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.authService.onRequestChanged.next(!0),this.overviewService.createSelVolume(e).then(e=>{this.authService.onRequestChanged.next(!1),e.insertId>0?this.getShipment(t):(console.error(e),alert("add volume error"))}).catch(e=>{this.authService.onRequestChanged.next(!1),console.error(e),alert("add volume error")}))})}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V),F.Rb(f.b))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-check"]],decls:1,vars:4,consts:[[3,"modul","data","permission","height","openModal"]],template:function(e,t){1&e&&(F.Xb(0,"dashboard-check-list",0),F.fc("openModal",(function(e){return t.openModal(e)})),F.Wb()),2&e&&F.pc("modul",t.modul)("data",t.data)("permission",t.permission)("height",t.height)},directives:[Uc.a],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();function qc(e,t){if(1&e&&(F.Xb(0,"th",10),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc();F.Ic("top",n.inverseOfTranslation),F.Db(1),F.Mc(e)}}function Hc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueVNOpen=!n.revenueVNOpen})),F.Lc(1,"add"),F.Wb()}}function Gc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",12),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueVNOpen=!n.revenueVNOpen})),F.Lc(1,"removed"),F.Wb()}}function Qc(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function Kc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueNNOpen=!n.revenueNNOpen})),F.Lc(1,"add"),F.Wb()}}function Zc(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",12),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.revenueNNOpen=!n.revenueNNOpen})),F.Lc(1,"removed"),F.Wb()}}function eo(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function to(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costVNOpen=!n.costVNOpen})),F.Lc(1,"add"),F.Wb()}}function no(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",12),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costVNOpen=!n.costVNOpen})),F.Lc(1,"removed"),F.Wb()}}function io(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function co(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",11),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costNNOpen=!n.costNNOpen})),F.Lc(1,"add"),F.Wb()}}function oo(e,t){if(1&e){const e=F.Yb();F.Xb(0,"mat-icon",12),F.fc("click",(function(t){F.Bc(e);const n=F.jc();return t.stopPropagation(),n.costNNOpen=!n.costNNOpen})),F.Lc(1,"removed"),F.Wb()}}function ro(e,t){if(1&e&&(F.Xb(0,"th"),F.Lc(1,"Price"),F.Wb()),2&e){const e=F.jc();F.Ic("top",e.inverseOfTranslation)}}function so(e,t){if(1&e&&(F.Xb(0,"td",26),F.Lc(1),F.Wb()),2&e){const e=t.$implicit,n=F.jc().$implicit;F.Db(1),F.Mc(n[e])}}function ao(e,t){1&e&&(F.Xb(0,"mat-chip"),F.Lc(1,"Booking"),F.Wb())}function lo(e,t){1&e&&(F.Xb(0,"mat-chip",27),F.Lc(1,"Stuffing"),F.Wb())}function bo(e,t){1&e&&(F.Xb(0,"mat-chip",28),F.Lc(1,"Ready to load"),F.Wb())}function po(e,t){1&e&&(F.Xb(0,"mat-chip",29),F.Lc(1,"Loaded"),F.Wb())}function ho(e,t){1&e&&(F.Xb(0,"mat-chip",27),F.Lc(1,"Discharge"),F.Wb())}function uo(e,t){1&e&&(F.Xb(0,"mat-chip",28),F.Lc(1,"Pick up"),F.Wb())}function mo(e,t){1&e&&(F.Xb(0,"mat-chip",29),F.Lc(1,"Complete"),F.Wb())}const fo=function(e,t){return{paid:e,"accent-100-bg":t}};function go(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",31),F.Xb(2,"div",32),F.Xb(3,"span",33),F.Lc(4),F.Wb(),F.Xb(5,"span",34),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,fo,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function vo(e,t){if(1&e&&(F.Xb(0,"td",30),F.Jc(1,go,8,11,"ng-container",9),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.revenueVN)}}function yo(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",31),F.Xb(2,"div",32),F.Xb(3,"span",33),F.Lc(4),F.Wb(),F.Xb(5,"span",34),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,fo,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function Do(e,t){if(1&e&&(F.Xb(0,"td",30),F.Jc(1,yo,8,11,"ng-container",9),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.revenueNN)}}function _o(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",31),F.Xb(2,"div",32),F.Xb(3,"span",33),F.Lc(4),F.Wb(),F.Xb(5,"span",34),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,fo,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function wo(e,t){if(1&e&&(F.Xb(0,"td",30),F.Jc(1,_o,8,11,"ng-container",9),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.costVN)}}function Xo(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"td",31),F.Xb(2,"div",32),F.Xb(3,"span",33),F.Lc(4),F.Wb(),F.Xb(5,"span",34),F.Lc(6),F.kc(7,"number"),F.Wb(),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit;F.Db(1),F.pc("ngClass",F.sc(8,fo,!!e.pay_date,!e.pay_date)),F.Db(1),F.pc("matTooltip",e.country_code),F.Db(2),F.Oc("",e.price_code," ",e.currency_code,""),F.Db(2),F.Mc(F.mc(7,5,e.amount,"VND"==e.currency_code?"1.0-0":"1.2-2"))}}function Oo(e,t){if(1&e&&(F.Xb(0,"td",30),F.Jc(1,Xo,8,11,"ng-container",9),F.Wb()),2&e){const e=F.jc().$implicit;F.Db(1),F.pc("ngForOf",e.costNN)}}const Wo=function(e){return{"grey-A200-bg":e}},ko=function(e,t){return{"red-600-fg":e,"teal-200-bg":t}};function Lo(e,t){if(1&e&&(F.Vb(0),F.Xb(1,"tr",13),F.Xb(2,"td"),F.Lc(3),F.Wb(),F.Xb(4,"td",14),F.Xb(5,"a",15),F.Lc(6),F.Wb(),F.Wb(),F.Xb(7,"td"),F.Lc(8),F.Wb(),F.Jc(9,so,2,1,"td",16),F.Xb(10,"td",17),F.Lc(11),F.Wb(),F.Xb(12,"td",17),F.Lc(13),F.Wb(),F.Xb(14,"td"),F.Xb(15,"mat-chip-list",18),F.Jc(16,ao,2,0,"mat-chip",19),F.Jc(17,lo,2,0,"mat-chip",20),F.Jc(18,bo,2,0,"mat-chip",21),F.Jc(19,po,2,0,"mat-chip",22),F.Jc(20,ho,2,0,"mat-chip",20),F.Jc(21,uo,2,0,"mat-chip",21),F.Jc(22,mo,2,0,"mat-chip",22),F.Wb(),F.Wb(),F.Xb(23,"td",23),F.Lc(24),F.kc(25,"number"),F.Wb(),F.Jc(26,vo,2,1,"td",24),F.Xb(27,"td",23),F.Lc(28),F.kc(29,"number"),F.Wb(),F.Jc(30,Do,2,1,"td",24),F.Xb(31,"td",23),F.Lc(32),F.kc(33,"number"),F.Wb(),F.Jc(34,wo,2,1,"td",24),F.Xb(35,"td",23),F.Lc(36),F.kc(37,"number"),F.Wb(),F.Jc(38,Oo,2,1,"td",24),F.Xb(39,"td",23),F.Lc(40),F.kc(41,"number"),F.Wb(),F.Xb(42,"td",25),F.Lc(43),F.Wb(),F.Wb(),F.Ub()),2&e){const e=t.$implicit,n=t.index,i=F.jc();F.Db(1),F.pc("ngClass",F.rc(48,Wo,n%2==1)),F.Db(2),F.Mc(n+1),F.Db(2),F.pc("routerLink","/apps/"+i.modul+"/shipment/detail/"+e.id+"/soa"),F.Db(1),F.Mc(e.code),F.Db(2),F.Mc(e.bill),F.Db(1),F.pc("ngForOf",i.arrType),F.Db(1),F.pc("matTooltip",e.customer_name),F.Db(1),F.Mc(e.customer_short_name),F.Db(1),F.pc("matTooltip",e.agent_name),F.Db(1),F.Mc(e.agent_short_name),F.Db(2),F.pc("ngSwitch",e.process),F.Db(1),F.pc("ngSwitchCase",0),F.Db(1),F.pc("ngSwitchCase",1),F.Db(1),F.pc("ngSwitchCase",2),F.Db(1),F.pc("ngSwitchCase",3),F.Db(1),F.pc("ngSwitchCase",4),F.Db(1),F.pc("ngSwitchCase",5),F.Db(1),F.pc("ngSwitchCase",6),F.Db(1),F.pc("ngClass",F.sc(50,ko,e.profit.revenueVN<0,e.profit.revenueVN>=0)),F.Db(1),F.Mc(F.mc(25,33,e.profit.revenueVN,"1.0-0")),F.Db(2),F.pc("ngIf",i.revenueVNOpen),F.Db(1),F.pc("ngClass",F.sc(53,ko,e.profit.revenueNN<0,e.profit.revenueNN>=0)),F.Db(1),F.Mc(F.mc(29,36,e.profit.revenueNN,"1.0-0")),F.Db(2),F.pc("ngIf",i.revenueNNOpen),F.Db(1),F.pc("ngClass",F.sc(56,ko,e.profit.costVN<0,e.profit.costVN>=0)),F.Db(1),F.Mc(F.mc(33,39,e.profit.costVN,"1.0-0")),F.Db(2),F.pc("ngIf",i.costVNOpen),F.Db(1),F.pc("ngClass",F.sc(59,ko,e.profit.costNN<0,e.profit.costNN>=0)),F.Db(1),F.Mc(F.mc(37,42,e.profit.costNN,"1.0-0")),F.Db(2),F.pc("ngIf",i.costNNOpen),F.Db(1),F.pc("ngClass",F.sc(62,ko,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN<0,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN>=0)),F.Db(1),F.Mc(F.mc(41,45,e.profit.revenueVN+e.profit.revenueNN-e.profit.costVN-e.profit.costNN,"1.0-0")),F.Db(3),F.Mc(e.price_error)}}let To=(()=>{class e{constructor(e,t){this.commonService=e,this.changeDetector=t,this.revenueVNOpen=!1,this.revenueNNOpen=!1,this.costVNOpen=!1,this.costNNOpen=!1,this._unsubscribeAll=new I.a}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngAfterViewChecked(){this.changeDetector.detectChanges()}get inverseOfTranslation(){return this.viewPort&&this.viewPort._renderedContentOffset?`-${this.viewPort._renderedContentOffset}px`:"-0px"}get inverseOfTranslation2(){return this.viewPort&&this.viewPort._renderedContentOffset?`${this.viewPort._renderedContentOffset}px`:"0px"}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(S.a),F.Rb(F.h))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-price-check"]],viewQuery:function(e,t){var n;1&e&&F.Sc(w.e,!0),2&e&&F.wc(n=F.gc())&&(t.viewPort=n.first)},inputs:{modul:"modul",shipments:"shipments",arrType:"arrType"},decls:51,vars:38,consts:[["autosize","",1,"h-100-p"],[1,"report-table"],[1,"sticky-col",2,"z-index","30"],["class","w-52 text-center",3,"top",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","cursor-pointer","color","accent",3,"click",4,"ngIf"],["class","cursor-pointer","color","warn",3,"click",4,"ngIf"],[3,"top",4,"ngIf"],[1,"sticky-right-col1",2,"z-index","30"],[4,"ngFor","ngForOf"],[1,"w-52","text-center"],["color","accent",1,"cursor-pointer",3,"click"],["color","warn",1,"cursor-pointer",3,"click"],[3,"ngClass"],[1,"w-152","sticky-col"],[1,"cursor-pointer",3,"routerLink"],["class","text-center",4,"ngFor","ngForOf"],[3,"matTooltip"],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","primary","selected","",4,"ngSwitchCase"],["color","warn","selected","",4,"ngSwitchCase"],["color","accent","selected","",4,"ngSwitchCase"],[1,"text-right","text-bold",3,"ngClass"],["style","padding: 0",4,"ngIf"],[1,"sticky-right-col1","red-600-fg"],[1,"text-center"],["color","primary","selected",""],["color","warn","selected",""],["color","accent","selected",""],[2,"padding","0"],[1,"text-right","border-right","w-80",3,"ngClass"],["fxLayout","column","fxLayoutAlign","center center",1,"notes",3,"matTooltip"],[1,"mb-4","font-size-10"],[1,"text-right","text-bold"]],template:function(e,t){1&e&&(F.Xb(0,"cdk-virtual-scroll-viewport",0),F.Xb(1,"table",1),F.Xb(2,"thead"),F.Xb(3,"tr"),F.Xb(4,"th"),F.Lc(5,"No"),F.Wb(),F.Xb(6,"th",2),F.Lc(7,"Shipment"),F.Wb(),F.Xb(8,"th"),F.Lc(9,"Bill"),F.Wb(),F.Jc(10,qc,2,3,"th",3),F.Xb(11,"th"),F.Lc(12,"Customer"),F.Wb(),F.Xb(13,"th"),F.Lc(14,"Agent"),F.Wb(),F.Xb(15,"th"),F.Lc(16,"Process"),F.Wb(),F.Xb(17,"th"),F.Xb(18,"div",4),F.Xb(19,"span"),F.Lc(20,"REVENUE VN"),F.Wb(),F.Jc(21,Hc,2,0,"mat-icon",5),F.Jc(22,Gc,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Jc(23,Qc,2,2,"th",7),F.Xb(24,"th"),F.Xb(25,"div",4),F.Xb(26,"span"),F.Lc(27,"REVENUE NN"),F.Wb(),F.Jc(28,Kc,2,0,"mat-icon",5),F.Jc(29,Zc,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Jc(30,eo,2,2,"th",7),F.Xb(31,"th"),F.Xb(32,"div",4),F.Xb(33,"span"),F.Lc(34,"COST VN"),F.Wb(),F.Jc(35,to,2,0,"mat-icon",5),F.Jc(36,no,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Jc(37,io,2,2,"th",7),F.Xb(38,"th"),F.Xb(39,"div",4),F.Xb(40,"span"),F.Lc(41,"COST NN"),F.Wb(),F.Jc(42,co,2,0,"mat-icon",5),F.Jc(43,oo,2,0,"mat-icon",6),F.Wb(),F.Wb(),F.Jc(44,ro,2,2,"th",7),F.Xb(45,"th"),F.Lc(46,"PROFIT"),F.Wb(),F.Xb(47,"th",8),F.Lc(48,"Error"),F.Wb(),F.Wb(),F.Wb(),F.Xb(49,"tbody"),F.Jc(50,Lo,44,65,"ng-container",9),F.Wb(),F.Wb(),F.Wb()),2&e&&(F.Db(4),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.pc("ngForOf",t.arrType),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.revenueVNOpen),F.Db(1),F.pc("ngIf",t.revenueVNOpen),F.Db(1),F.pc("ngIf",t.revenueVNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.revenueNNOpen),F.Db(1),F.pc("ngIf",t.revenueNNOpen),F.Db(1),F.pc("ngIf",t.revenueNNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.costVNOpen),F.Db(1),F.pc("ngIf",t.costVNOpen),F.Db(1),F.pc("ngIf",t.costVNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(4),F.pc("ngIf",!t.costNNOpen),F.Db(1),F.pc("ngIf",t.costNNOpen),F.Db(1),F.pc("ngIf",t.costNNOpen),F.Db(1),F.Ic("top",t.inverseOfTranslation),F.Db(2),F.Ic("top",t.inverseOfTranslation),F.Db(3),F.pc("ngForOf",t.shipments))},directives:[w.e,X.a,R.s,Y.d,Y.c,R.t,b.a,R.q,q.a,i.j,p.a,_.c,R.x,R.y,_.a],pipes:[R.g],styles:["overview-price-check .report-table{font-size:12px!important;border:1px solid #e0e0e0;margin-bottom:4px;border-collapse:collapse}overview-price-check .report-table thead th{position:sticky;position:-webkit-sticky;top:0;background:#fff!important;z-index:10}overview-price-check .report-table tfoot td{position:sticky;position:-webkit-sticky;bottom:0;background:#fff!important;z-index:25}overview-price-check .report-table td,overview-price-check .report-table th{padding:8px;white-space:nowrap;border:1px solid #e0e0e0}overview-price-check .report-table td .mat-standard-chip,overview-price-check .report-table th .mat-standard-chip{font-size:10px!important;padding:4px;border-radius:6px;min-height:20px}overview-price-check .report-table .paid{background:#fff;color:#000}overview-price-check .report-table .cost-paid{background:#ffe1c2;color:#000}overview-price-check .report-table .sticky-col{width:152px;position:-webkit-sticky;position:sticky;background:#fff;left:0;z-index:20}overview-price-check .report-table .sticky-col2{width:152px;position:-webkit-sticky;position:sticky;background:#fff;left:152px;z-index:20}overview-price-check .report-table .sticky-right-col{position:-webkit-sticky;position:sticky;background:#fff;right:40px;z-index:20}overview-price-check .report-table .sticky-right-col1{position:-webkit-sticky;position:sticky;background:#fff;right:0;z-index:20}"],encapsulation:2,data:{animation:ge.a}}),e})(),xo=(()=>{class e{constructor(e,t,n,i,c){if(this.router=e,this.route=t,this._activatedRoute=n,this.authService=i,this.overviewService=c,this.voyage=[],this.arrType=[],this.height=560,this.price=[],this._unsubscribeAll=new I.a,this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}ngOnInit(){this.authService.urlChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{if(this.modul=this.authService.modul,this.authService.permissionModul)this.permission=this.authService.permissionModul;else{let e=this.router.routerState.snapshot.url.split("/")[2];this.permission=this.authService.getAction(e)}}),this.authService.windowSizeChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e.height-64-64-16-4}),this.authService.changeScreen.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.height=e?this.authService.screenHeight-64-16-4:this.authService.screenHeight-64-64-16-4}),this.overviewService.onVesselChanged.pipe(Object(ve.a)(this._unsubscribeAll)).subscribe(e=>{this.arrType=e[2],this.shipments=e[5]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(F.Rb(i.g),F.Rb(i.a),F.Rb(i.a),F.Rb(E.a),F.Rb(V))},e.\u0275cmp=F.Lb({type:e,selectors:[["overview-price"]],decls:1,vars:3,consts:[[3,"shipments","arrType","modul"]],template:function(e,t){1&e&&F.Sb(0,"overview-price-check",0),2&e&&F.pc("shipments",t.shipments)("arrType",t.arrType)("modul",t.modul)},directives:[To],styles:[""],encapsulation:2,data:{animation:ge.a}}),e})();var So=n("u+kU"),Co=n("1jcm"),Io=n("+0xr"),Mo=n("f0Cb");let jo=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,W.t]]}),e})(),Po=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,W.t]]}),e})(),No=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,w.g,X.b,W.t,jo,Po]]}),e})(),Fo=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,w.g,X.b,W.t,jo,Po]]}),e})(),Eo=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,w.g,X.b,W.t,Po,jo]]}),e})(),Jo=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,w.g,X.b,W.t,Po]]}),e})(),Ro=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,w.g,X.b,W.t,Po]]}),e})();var Vo=n("IOBc");let Ao=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,W.t,Vo.a]]}),e})(),$o=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},imports:[[i.k,c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,L.b,T.b,Co.b,Io.k,k.c,Mo.b,W.t]]}),e})();var zo=n("QN6G"),Bo=n("sVAI"),Uo=n("TzrD"),Yo=n("jUCA"),qo=n("xcW2"),Ho=n("y1Uv");n.d(t,"OverviewModule",(function(){return Qo}));const Go=[{path:"board",component:fe,resolve:{data:V},children:[{path:"vessel",component:lt},{path:"container",component:Jn},{path:"eqc",component:hc},{path:"dem",component:Rc},{path:"check",component:Yc},{path:"price",component:xo}]}];let Qo=(()=>{class e{}return e.\u0275mod=F.Pb({type:e}),e.\u0275inj=F.Ob({factory:function(t){return new(t||e)},providers:[S.a,V],imports:[[i.k.forChild(Go),c.b,x.a,o.b,r.c,s.c,a.b,l.e,b.b,p.b,h.c,u.c,m.b,d.c,f.e,g.b,v.b,y.b,D.d,_.e,w.g,X.b,W.t,k.c,L.b,T.b,O.f,So.a,No,Fo,Eo,Jo,Ao,$o,zo.a,Bo.a,Uo.a,Yo.a,qo.a,Ho.a,Ro]]}),e})()}}]);