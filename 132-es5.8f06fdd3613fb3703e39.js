function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{"47L0":function(e,t,i){"use strict";i.r(t);var n,a,r=i("tyNb"),s=i("nmyD"),o=i("STbY"),c=i("/1cH"),l=i("iadO"),h=i("bTqV"),p=i("7EHt"),b=i("kmnG"),u=i("NFeN"),d=i("Qu3c"),m=i("qFsG"),f=i("wZkO"),g=i("d3UM"),v=i("QibW"),x=i("0IaG"),k=i("/t3+"),w=i("bSwM"),y=i("M9IT"),S=i("xHqg"),_=i("A5z7"),C=i("bv9b"),P=i("XhcP"),X=i("1jcm"),M=i("+0xr"),W=i("LPQX"),D=i("5HBU"),L=i("yrbL"),F=i("XNiG"),I=i("fXoL"),A=i("1G5W"),O=i("3Pt+"),j=i("qXBG"),H=i("XiUz"),z=i("EwFO"),q=i("4hII"),V=((n=function(){function e(t,i,n,a,r){_classCallCheck(this,e),this._formBuilder=t,this.router=i,this.route=n,this.authService=a,this.changeDetector=r,this.height=560,this.createShipment=new I.o,this.clearMessage=new I.o,this.formValidate=!1,this.data={code:{appearance:"outline",floatLabel:null,label:"Code",formControlName:"code",maxLength:25,required:!0,type:"text"},name:{appearance:"outline",floatLabel:null,label:"Name",formControlName:"name",maxLength:255,required:!0,type:"text"}},this._unsubscribeAll=new F.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-12-12-54-62})),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-12-12-54-62:e.authService.screenHeight-64-12-12-54-62})),this.formShipment=this.initFormShipmentModel(),this.formShipment.valueChanges.subscribe((function(e){console.log(e)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"ngAfterViewChecked",value:function(){this.changeDetector.detectChanges()}},{key:"initFormShipmentModel",value:function(){var e={};for(var t in this.data)e[t]=[null],this.data[t].required&&e[t].push(O.y.required);return this._formBuilder.group(e)}},{key:"submitForm",value:function(){this.formValidate=!0,alert(this.formShipment.valid)}},{key:"checkValid",value:function(e){this.formValidate=!1}}]),e}()).\u0275fac=function(e){return new(e||n)(I.Rb(O.d),I.Rb(r.g),I.Rb(r.a),I.Rb(j.a),I.Rb(I.h))},n.\u0275cmp=I.Lb({type:n,selectors:[["shipment-form-content"]],inputs:{partner:"partner",truckPoint:"truckPoint",users:"users",shipmentDetailValue:"shipmentDetailValue"},outputs:{createShipment:"createShipment",clearMessage:"clearMessage"},decls:5,vars:8,consts:[["fxLayout","column",1,"w-100-p"],["fxLayout","column","fusePerfectScrollbar","",2,"overflow","auto"],["id","shipment","fxLayout","row wrap"],["fxFlex","50",3,"form","data","valid","isFormValid"]],template:function(e,t){1&e&&(I.Xb(0,"div",0),I.Xb(1,"div",1),I.Xb(2,"div",2),I.Xb(3,"stardard-input",3),I.fc("isFormValid",(function(e){return t.checkValid(e)})),I.Wb(),I.Xb(4,"stardard-input",3),I.fc("isFormValid",(function(e){return t.checkValid(e)})),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&e&&(I.Db(1),I.Ic("height",t.height,"px"),I.Db(2),I.pc("form",t.formShipment)("data",t.data.code)("valid",t.formValidate),I.Db(1),I.pc("form",t.formShipment)("data",t.data.name)("valid",t.formValidate))},directives:[H.d,z.a,q.a,H.b],styles:["shipment-form-content #shipment{max-width:1200px}"],encapsulation:2}),n),N=i("fcXU"),R=i("HX77"),T=i("2Vo4"),B=i("tk/3"),U=((a=function(){function e(t,i){_classCallCheck(this,e),this._httpClient=t,this.authService=i,this.onDataChanged=new T.a([]),this.onSelShipmentDetailsChanged=new T.a({})}return _createClass(e,[{key:"resolve",value:function(e){var t=this;return this.authService.routerData=e,this.shipmentId=e.params.id,0==this.shipmentId?this.getData():new Promise((function(e,i){Promise.all([t.getSelShipmentById(t.shipmentId),t.getData()]).then((function(){e()}),i)}))}},{key:"getSelShipmentById",value:function(e){var t=this,i={headers:new B.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,a){t._httpClient.get(t.authService.apiUrl+"/sel/shipment/id/"+e,i).subscribe((function(e){t.shipment=e[0][0],10==t.shipment.status&&(t.lock=!0),t.onSelShipmentDetailsChanged.next(e),n(e)}),a)}))}},{key:"getData",value:function(){var e=this,t={headers:new B.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(i,n){e._httpClient.get(e.authService.apiUrl+"/dnl/shipment/data",t).subscribe((function(t){e.partner=t[0],e.truckPoint=t[1],e.user=t[2],e.price=t[3],e.currency=t[4],e.country=t[5],e.unit=t[6],e.scope=t[7],e.ipoint=t[8],e.agent=e.partner.filter((function(e){return"A"==e.scope_type})),e.onDataChanged.next(t),i(t)}),n)}))}},{key:"createSelShipment",value:function(e){var t=this,i={headers:new B.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,a){t._httpClient.post(t.authService.apiUrl+"/sel-shipment/new",e,i).subscribe((function(e){n(e)}),a)}))}},{key:"updateSelShipment",value:function(e){var t=this,i={headers:new B.c({"Content-Type":"application/json",Authorization:this.authService.accessToken})};return new Promise((function(n,a){t._httpClient.put(t.authService.apiUrl+"/dnl/shipment",e,i).subscribe((function(e){n(e)}),a)}))}}]),e}()).\u0275fac=function(e){return new(e||a)(I.bc(B.a),I.bc(j.a))},a.\u0275prov=I.Nb({token:a,factory:a.\u0275fac}),a),J=i("ofXK"),E=i("B9zo"),G=i("Kj3r"),Q=i("/uUt"),Y=i("0JVi"),K=i("znSr");function Z(e,t){1&e&&(I.Xb(0,"span"),I.Lc(1,"Error:\xa0"),I.Wb())}function $(e,t){if(1&e&&(I.Xb(0,"span",15),I.Lc(1,"Error\xa0"),I.Wb()),2&e){var i=I.jc();I.pc("matTooltip",i.errorMessage.value)("matTooltipPosition","left")}}function ee(e,t){1&e&&(I.Xb(0,"span"),I.Lc(1,"Success\xa0"),I.Wb())}function te(e,t){if(1&e){var i=I.Yb();I.Xb(0,"button",16),I.fc("click",(function(e){I.Bc(i);var t=I.jc();return e.stopPropagation(),t.changeScreen(!0)})),I.Xb(1,"mat-icon"),I.Lc(2,"flip_to_front"),I.Wb(),I.Wb()}}function ie(e,t){if(1&e){var i=I.Yb();I.Xb(0,"button",16),I.fc("click",(function(e){I.Bc(i);var t=I.jc();return e.stopPropagation(),t.changeScreen(!1)})),I.Xb(1,"mat-icon"),I.Lc(2,"flip_to_back"),I.Wb(),I.Wb()}}var ne,ae,re=function(e,t){return{"red-600-fg":e,"green-600-fg":t}},se=((ne=function(){function e(t,i){_classCallCheck(this,e),this.authService=t,this._fuseConfigService=i,this.collapsed=!0,this.fullScreen=!1,this.toggleSidebar=new I.o,this.showHideBar=new I.o,this.refreshPage=new I.o,this.submitForm=new I.o,this.input=new I.o,this._unsubscribeAll=new F.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.searchInput=new O.e(""),this.searchInput.valueChanges.pipe(Object(A.a)(this._unsubscribeAll),Object(G.a)(300),Object(Q.a)()).subscribe((function(t){e.input.emit(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeScreen",value:function(e){this.fullScreen=e,this.authService.changeScreen.next(e),this._fuseConfigService.config=this.fullScreen?{layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}}:{layout:{navbar:{hidden:!1},toolbar:{hidden:!1},footer:{hidden:!0},sidepanel:{hidden:!0}}}}},{key:"collapse",value:function(){this.collapsed=!0}},{key:"expand",value:function(){this.collapsed=!1}}]),e}()).\u0275fac=function(e){return new(e||ne)(I.Rb(j.a),I.Rb(Y.b))},ne.\u0275cmp=I.Lb({type:ne,selectors:[["shipment-form-header"]],inputs:{sidebarName:"sidebarName",errorMessage:"errorMessage",validForm:"validForm"},outputs:{toggleSidebar:"toggleSidebar",showHideBar:"showHideBar",refreshPage:"refreshPage",submitForm:"submitForm",input:"input"},decls:25,vars:14,consts:[[1,"p-0","mat-elevation-z1"],["fxFlex","","fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center"],[1,"px-8","px-md-16"],["mat-icon-button","","fxHide.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["mat-icon-button","","fxHide","","fxShow.gt-sm","","fxFlex","10","fxFlex.gt-sm","0",1,"sidebar-toggle","mr-12",3,"click"],["fxHide","","fxShow.gt-sm","",1,"m-8","font-size-12",3,"ngClass"],[4,"ngIf"],["fxHide.gt-sm","",1,"m-8","font-size-12",3,"ngClass"],[3,"matTooltip","matTooltipPosition",4,"ngIf"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","start center",1,""],[1,"toolbar-separator"],["type","button","mat-raised-button","","color","accent",1,"m-8",3,"click"],["mat-icon-button","","class","ml-8",3,"click",4,"ngIf"],["fxHide","","fxShow.gt-xs","",1,"toolbar-separator"],[3,"matTooltip","matTooltipPosition"],["mat-icon-button","",1,"ml-8",3,"click"]],template:function(e,t){1&e&&(I.Xb(0,"mat-toolbar",0),I.Xb(1,"div",1),I.Xb(2,"div",2),I.Xb(3,"div",3),I.Xb(4,"button",4),I.fc("click",(function(e){return t.toggleSidebar.emit(t.sidebarName)})),I.Xb(5,"mat-icon"),I.Lc(6,"menu"),I.Wb(),I.Wb(),I.Xb(7,"button",5),I.fc("click",(function(e){return t.showHideBar.emit()})),I.Xb(8,"mat-icon"),I.Lc(9,"menu"),I.Wb(),I.Wb(),I.Wb(),I.Xb(10,"div",6),I.Jc(11,Z,2,0,"span",7),I.Xb(12,"span"),I.Lc(13),I.Wb(),I.Wb(),I.Xb(14,"div",8),I.Jc(15,$,2,2,"span",9),I.Jc(16,ee,2,0,"span",7),I.Wb(),I.Wb(),I.Xb(17,"div",10),I.Sb(18,"div",11),I.Xb(19,"button",12),I.fc("click",(function(e){return t.submitForm.emit()})),I.Lc(20,"Submit"),I.Wb(),I.Sb(21,"div",11),I.Jc(22,te,3,0,"button",13),I.Jc(23,ie,3,0,"button",13),I.Sb(24,"div",14),I.Wb(),I.Wb(),I.Wb()),2&e&&(I.Db(10),I.pc("ngClass",I.sc(8,re,t.errorMessage.status,!t.errorMessage.status)),I.Db(1),I.pc("ngIf",t.errorMessage.status),I.Db(2),I.Mc(t.errorMessage.value),I.Db(1),I.pc("ngClass",I.sc(11,re,t.errorMessage.status,!t.errorMessage.status)),I.Db(1),I.pc("ngIf",t.errorMessage.status),I.Db(1),I.pc("ngIf",!t.errorMessage.status&&t.errorMessage.value),I.Db(6),I.pc("ngIf",!t.fullScreen),I.Db(1),I.pc("ngIf",t.fullScreen))},directives:[k.a,H.b,H.e,H.d,H.c,h.b,K.b,u.a,J.q,K.a,J.t,d.a],styles:["shipment-form-header{position:relative;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;z-index:4}shipment-form-header.below{z-index:2}shipment-form-header .mat-toolbar{position:relative;background:#fff!important;color:inherit!important}shipment-form-header .logo{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}shipment-form-header .logo .logo-icon{width:38px}shipment-form-header .chat-panel-toggle-button,shipment-form-header .language-button,shipment-form-header .quick-panel-toggle-button,shipment-form-header .user-button,shipment-form-header fuse-search-bar{min-width:64px;height:64px}@media screen and (max-width:599px){shipment-form-header .chat-panel-toggle-button,shipment-form-header .language-button,shipment-form-header .quick-panel-toggle-button,shipment-form-header .user-button,shipment-form-header fuse-search-bar{height:56px}}shipment-form-header .navbar-toggle-button{min-width:56px;height:56px}shipment-form-header .toolbar-separator{height:64px;width:1px;background:#e6e6e6}@media screen and (max-width:599px){shipment-form-header .toolbar-separator{height:56px}}shipment-form-header #shipment-detail-search-bar{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;min-width:64px;height:64px;font-size:13px}@media screen and (max-width:599px){shipment-form-header #shipment-detail-search-bar{height:56px}}shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-collapser,shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-expander{cursor:pointer;padding:0 20px;margin:0;width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-collapser,shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-expander{height:56px!important;line-height:56px!important}}shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-loader{width:64px!important;height:64px!important;line-height:64px!important}@media screen and (max-width:599px){shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-loader{height:56px!important;line-height:56px!important}}shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content .shipment-detail-search-bar-collapser{display:none}shipment-form-header #shipment-detail-search-bar .shipment-detail-search-bar-content #shipment-detail-search-bar-input{display:none;-webkit-box-flex:1;flex:1 0 auto;min-height:64px;font-size:16px;background-color:transparent;color:currentColor}shipment-form-header #shipment-detail-search-bar.expanded{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;background:#f5f5f5}shipment-form-header #shipment-detail-search-bar.expanded .shipment-detail-search-bar-content #shipment-detail-search-bar-input{display:-webkit-box;display:flex}shipment-form-header #shipment-detail-search-bar.expanded .shipment-detail-search-bar-content .shipment-detail-search-bar-collapser{display:block}"],encapsulation:2}),ne),oe=i("fE3o"),ce=["formDirective"],le=((ae=function(){function e(t){_classCallCheck(this,e),this.authService=t,this.height=560,this._unsubscribeAll=new F.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.windowSizeChanged.pipe(Object(A.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-64-12})),this.authService.changeScreen.pipe(Object(A.a)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-64-12:e.authService.screenHeight-64-64-12}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||ae)(I.Rb(j.a))},ae.\u0275cmp=I.Lb({type:ae,selectors:[["shipment-form-sidebar"]],viewQuery:function(e,t){var i;1&e&&I.Sc(ce,!0),2&e&&I.wc(i=I.gc())&&(t.searchNgForm=i.first)},decls:5,vars:2,consts:[[1,"navbar-top"],["fxLayout","row","fxLayoutAlign","space-between center"],["fusePerfectScrollbar","",1,"navbar-scroll-container"],[1,"navbar-content"],[1,"nav","material2"]],template:function(e,t){1&e&&(I.Xb(0,"div",0),I.Sb(1,"div",1),I.Wb(),I.Xb(2,"div",2),I.Xb(3,"div",3),I.Sb(4,"div",4),I.Wb(),I.Wb()),2&e&&(I.Db(2),I.Ic("height",t.height,"px"))},directives:[H.d,H.c,z.a],styles:["shipment-form-sidebar .navbar-top{background:#fff!important;padding:13px 0;-webkit-box-pack:center;justify-content:center;height:65px;border-bottom:1px solid #a3a3a3}shipment-form-sidebar .navbar-scroll-container{background:#fff!important}shipment-form-sidebar .navbar-scroll-container .navbar-content{padding-top:0}shipment-form-sidebar .navbar-scroll-container .navbar-content .nav.material2{overflow:hidden}shipment-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line{padding-left:8px;padding-right:8px;margin-bottom:-4px}shipment-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .info-line .search-shortcut{font-size:12px;padding:4px;border:1px solid #039be5;border-radius:4px;margin-right:4px;margin-bottom:4px;cursor:pointer}shipment-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group{margin:16px 16px 16px 8px;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;border-radius:2px;padding:28px 16px 8px;border:1px solid rgba(0,0,0,.12)}shipment-form-sidebar .navbar-scroll-container .navbar-content .nav.material2 .group h2{position:absolute;top:-8px;left:8px;margin:0;padding:0 8px;font-size:12px;font-weight:600;background:#fafafa;color:rgba(0,0,0,.54)}navbar .navbar-top{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;min-height:64px;max-height:64px;height:64px;padding:12px 12px 12px 20px}@media screen and (max-width:599px){navbar .navbar-top{min-height:56px;max-height:56px;height:56px}}navbar .navbar-scroll-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,transparent),color-stop(30%,transparent)),-webkit-gradient(linear,left top,left bottom,color-stop(0,rgba(0,0,0,.25)),color-stop(40%,transparent));background:linear-gradient(transparent 30%,transparent 0),linear-gradient(rgba(0,0,0,.25),transparent 40%);background-repeat:no-repeat;background-size:100% 40px,100% 10px;background-attachment:local,scroll}navbar .navbar-scroll-container .navbar-content{-webkit-box-flex:1;flex:1 1 auto;padding-top:32px}"],encapsulation:2}),ae);function he(e,t){1&e&&(I.Xb(0,"div",7),I.Xb(1,"div",8),I.Xb(2,"div",9),I.Sb(3,"div",10),I.Xb(4,"div",11),I.Sb(5,"div",12),I.Wb(),I.Xb(6,"div",13),I.Sb(7,"div",12),I.Wb(),I.Wb(),I.Wb(),I.Wb())}function pe(e,t){1&e&&(I.Xb(0,"fuse-sidebar",14),I.Xb(1,"div",15),I.Sb(2,"shipment-form-sidebar"),I.Wb(),I.Wb())}var be,ue=((be=function(){function e(t,i,n,a,r,s,o){_classCallCheck(this,e),this._fuseSidebarService=t,this.authService=i,this.shipmentService=n,this.router=a,this.route=r,this.datePipe=s,this._matDialog=o,this.partner=[],this.users=[],this.truckPoint=[],this.price=[],this.currency=[],this.country=[],this.height=560,this.sidebarPanel=!0,this.requestProcessing=!1,this.errorMessage={status:!1,value:""},this.data=[{appearance:"outline",floatLabel:null,label:"Code",formControlName:"code",maxLength:25,required:!0,type:"text"},{appearance:"outline",floatLabel:null,label:"Name",formControlName:"name",maxLength:255,required:!0,type:"text"}],this._unsubscribeAll=new F.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=parseInt(this.route.snapshot.params.id),this.authService.windowSizeChanged.pipe(Object(L.takeUntil)(this._unsubscribeAll)).subscribe((function(t){e.height=t.height-64-12-12-54-62})),this.authService.changeScreen.pipe(Object(L.takeUntil)(this._unsubscribeAll)).subscribe((function(t){e.height=t?e.authService.screenHeight-12-12-54-62:e.authService.screenHeight-64-12-12-54-62})),this.shipmentService.onDataChanged.pipe(Object(L.takeUntil)(this._unsubscribeAll)).subscribe((function(t){e.partner=e.shipmentService.partner,e.truckPoint=e.shipmentService.truckPoint,e.users=e.shipmentService.user}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}},{key:"newShipment",value:function(e){this.router.navigate(["/apps/workflow/shipment/list"])}},{key:"showHideBar",value:function(e){this.sidebarPanel=!this.sidebarPanel}},{key:"refreshPage",value:function(e){this.authService.refreshData(this.shipmentService)}},{key:"submitForm",value:function(e){this.shipmentFormContentComponent.submitForm()}},{key:"createShipment",value:function(e){var t=this;e.pick_date&&(e.pick_date=this.datePipe.transform(e.pick_date,"yyyy-MM-dd")),e.deliver_date&&(e.deliver_date=this.datePipe.transform(e.deliver_date,"yyyy-MM-dd")),e.manage_date&&(e.manage_date=this.datePipe.transform(e.manage_date,"yyyy-MM-dd")),e.complete_date&&(e.complete_date=this.datePipe.transform(e.complete_date,"yyyy-MM-dd")),this.requestProcessing=!0,this.shipmentService.createSelShipment(e).then((function(e){t.requestProcessing=!1,e.insertId>0?t.router.navigate(["/apps/workflow/shipment/detail/"+e.insertId+"/soa"]):(console.error(e),t.errorMessage={status:!0,value:"No id"})})).catch((function(e){t.requestProcessing=!1,console.error(e),t.errorMessage={status:!0,value:e.error&&e.error.sqlMessage?e.error.sqlMessage:"check console"}}))}},{key:"clearMessage",value:function(e){this.errorMessage={status:!0,value:""}}},{key:"openModal",value:function(e){this.dialogRef=this._matDialog.open(N.a,{panelClass:"form-modal-dialog",data:{label:"Add shipment",data:this.data}}),this.dialogRef.componentInstance.createItem.subscribe((function(e){})),this.dialogRef.afterClosed().subscribe((function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||be)(I.Rb(R.a),I.Rb(j.a),I.Rb(U),I.Rb(r.g),I.Rb(r.a),I.Rb(J.f),I.Rb(x.b))},be.\u0275cmp=I.Lb({type:be,selectors:[["shipment-form"]],viewQuery:function(e,t){var i;1&e&&I.Sc(V,!0),2&e&&I.wc(i=I.gc())&&(t.shipmentFormContentComponent=i.first)},decls:7,vars:9,consts:[["class","spinner-wrapper",4,"ngIf"],[1,"page-layout","simple","left-sidebar","inner-scroll"],["class","sidebar","name","shipment-form-sidebar","position","left","lockedOpen","gt-md",4,"ngIf"],["fusePerfectScrollbar","",1,"center"],[3,"sidebarName","validForm","errorMessage","showHideBar","refreshPage","toggleSidebar","submitForm"],[1,"content","p-8"],[3,"truckPoint","partner","users","shipmentDetailValue","createShipment"],[1,"spinner-wrapper"],[1,"spinner"],[1,"inner"],[1,"gap"],[1,"left"],[1,"half-circle"],[1,"right"],["name","shipment-form-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"content"]],template:function(e,t){1&e&&(I.Jc(0,he,8,0,"div",0),I.Xb(1,"div",1),I.Jc(2,pe,3,0,"fuse-sidebar",2),I.Xb(3,"div",3),I.Xb(4,"shipment-form-header",4),I.fc("showHideBar",(function(e){return t.showHideBar(e)}))("refreshPage",(function(e){return t.refreshPage(e)}))("toggleSidebar",(function(e){return t.toggleSidebar(e)}))("submitForm",(function(e){return t.openModal(e)})),I.Wb(),I.Xb(5,"div",5),I.Xb(6,"shipment-form-content",6),I.fc("createShipment",(function(e){return t.createShipment(e)})),I.Wb(),I.Wb(),I.Wb(),I.Wb()),2&e&&(I.pc("ngIf",t.requestProcessing),I.Db(2),I.pc("ngIf",t.sidebarPanel),I.Db(2),I.pc("sidebarName","shipment-form-sidebar")("validForm",t.errorMessage)("errorMessage",t.errorMessage),I.Db(2),I.pc("truckPoint",t.truckPoint)("partner",t.partner)("users",t.users)("shipmentDetailValue",t.shipmentDetailValue))},directives:[J.t,E.a,z.a,se,V,oe.a,le],styles:[""]}),be),de=i("XXvL");i.d(t,"ShipmentFormModule",(function(){return ge}));var me,fe=[{path:":id",component:ue,resolve:{data:U}}],ge=((me=function e(){_classCallCheck(this,e)}).\u0275mod=I.Pb({type:me}),me.\u0275inj=I.Ob({factory:function(e){return new(e||me)},providers:[U],imports:[[r.k.forChild(fe),o.b,D.a,c.b,l.c,h.c,p.b,b.e,u.b,d.b,m.c,f.c,g.b,v.c,x.e,k.b,w.b,y.b,S.d,_.e,C.b,P.b,X.b,M.k,W.f,s.a,W.h,de.a]]}),me)}}]);